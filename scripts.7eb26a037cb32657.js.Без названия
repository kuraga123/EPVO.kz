function handlemenutype(v){$(".pcoded").attr("nav-type",v)}function initPcodedComp(){function v(Ke,rt,T){var j=new Date;j.setTime(j.getTime()+24*T*60*60*1e3);var M="expires="+j.toGMTString();document.cookie=Ke+"="+rt+";"+M+";path=/"}function ke(Ke){for(var rt=Ke+"=",j=decodeURIComponent(document.cookie).split(";"),M=0;M<j.length;M++){for(var R=j[M];" "==R.charAt(0);)R=R.substring(1);if(0==R.indexOf(rt))return R.substring(rt.length,R.length)}return""}handlemenutype("st2");var Ke,Le="themelight1",Fe="theme1",at="theme1",vt="theme1",Pt="theme1",At="theme1",Ct="light",Qt="false",ut="img1",Qe="wide",gt="shrink";""!=(Ke=ke("NavbarBackground"))&&(Le=Ke),""!=(Ke=ke("header-theme"))&&(Fe=Ke),""!=(Ke=ke("menu-title-theme"))&&(at=Ke),""!=(Ke=ke("themebg-pattern"))&&(vt=Ke),""!=(Ke=ke("active-item-theme"))&&(Pt=Ke),""!=(Ke=ke("fream-type"))&&(At=Ke),""!=(Ke=ke("layoutlayout"))&&(Ct=Ke),""!=(Ke=ke("sidebar-img"))&&(Qt=Ke),""!=(Ke=ke("sidebar-img-type"))&&(ut=Ke),""!=(Ke=ke("vertical-layout"))&&(Qe=Ke),""!=(Ke=ke("vertical-effect"))&&(gt=Ke),$("#pcoded").pcodedmenu({themelayout:"horizontal",verticalMenuplacement:"left",verticalMenulayout:Qe,MenuTrigger:"hover",SubMenuTrigger:"hover",activeMenuClass:"active",ThemeBackgroundPattern:vt,HeaderBackground:Fe,LHeaderBackground:at,NavbarBackground:Le,ActiveItemBackground:Pt,SubItemBackground:"theme2",ActiveItemStyle:"style1",ItemBorder:!0,ItemBorderStyle:"none",NavbarImage:Qt,ActiveNavbarImage:ut,freamtype:At,SubItemBorder:!0,DropDownIconStyle:"style1",menutype:"st2",layouttype:Ct,FixedNavbarPosition:!1,FixedHeaderPosition:!0,collapseVerticalLeftHeader:!0,VerticalSubMenuItemIconStyle:"style7",VerticalNavigationView:"view1",verticalMenueffect:{desktop:gt,tablet:"overlay",phone:"overlay"},defaultVerticalMenu:{desktop:"expanded",tablet:"offcanvas",phone:"offcanvas"},onToggleVerticalMenu:{desktop:"offcanvas",tablet:"expanded",phone:"expanded"}}),$(".pcoded-navbar .pcoded-hasmenu").attr("subitem-icon","style6"),$(".theme-color > a.navbg-pattern").on("click",function(){var Ke=$(this).attr("navbg-pattern");$(".pcoded").attr("sidebar-img-type",Ke),v("sidebar-img-type",Ke,1)}),$(".theme-color > a.Layout-type").on("click",function(){var Ke=$(this).attr("layout-type");$(".pcoded").attr("layout-type",Ke),v("layoutlayout",Ke,1),"dark"==Ke&&($(".pcoded-header").attr("header-theme","theme6"),$(".pcoded-navbar").attr("navbar-theme","theme1"),$(".pcoded").attr("sidebar-img","false"),$("body").addClass("dark"),$("body").attr("themebg-pattern","theme6"),$(".pcoded-navigation-label").attr("menu-title-theme","theme9"),v("header-theme","theme6",1),v("NavbarBackground","theme1",1),v("menu-title-theme","theme9",1),v("themebg-pattern","theme6",1),v("sidebar-img","false",1)),"light"==Ke&&($(".pcoded-header").attr("header-theme","theme1"),$(".pcoded-navbar").attr("navbar-theme","themelight1"),$(".pcoded").attr("sidebar-img","false"),$(".pcoded-navigation-label").attr("menu-title-theme","theme1"),$("body").removeClass("dark"),$("body").attr("themebg-pattern","theme1"),v("header-theme","theme1",1),v("NavbarBackground","themelight1",1),v("menu-title-theme","theme1",1),v("themebg-pattern","theme1",1),v("sidebar-img","false",1)),"img"==Ke&&($(".pcoded-header").attr("header-theme","theme1"),$(".pcoded-navbar").attr("navbar-theme","themelight1"),$(".pcoded-navbar").attr("navbar-theme","themelight1"),$(".pcoded").attr("sidebar-img","true"),$(".pcoded").attr("frame-type","theme1"),$(".pcoded-navigation-label").attr("menu-title-theme","theme1"),v("header-theme","theme1",1),v("NavbarBackground","themelight1",1),v("menu-title-theme","theme1",1),v("themebg-pattern","theme1",1),v("sidebar-img","true",1),v("fream-type","theme1",1)),"reset"==Ke&&(v("NavbarBackground",null,0),v("header-theme",null,0),v("menu-title-theme",null,0),v("themebg-pattern",null,0),v("active-item-theme",null,0),v("fream-type",null,0),v("layoutlayout",null,0),v("sidebar-img",null,0),v("sidebar-img-type",null,0),v("vertical-layout",null,0),v("vertical-effect",null,0),location.reload())}),$(".theme-color > a.leftheader-theme").on("click",function(){var Ke=$(this).attr("lheader-theme");$(".pcoded-navigation-label").attr("menu-title-theme",Ke),v("menu-title-theme",Ke,1)}),$(".theme-color > a.header-theme").on("click",function(){var Ke=$(this).attr("header-theme"),rt=$(this).attr("active-item-color");$(".pcoded-header").attr("header-theme",Ke),$(".pcoded-navbar").attr("active-item-theme",rt),$(".pcoded").attr("fream-type",Ke),$(".pcoded-navigation-label").attr("menu-title-theme",Ke),$("body").attr("themebg-pattern",Ke),v("header-theme",Ke,1),v("active-item-theme",rt,1),v("menu-title-theme",Ke,1),v("themebg-pattern",Ke,1),v("fream-type",Ke,1)}),$(".theme-color > a.navbar-theme").on("click",function(){var Ke=$(this).attr("navbar-theme");$(".pcoded-navbar").attr("navbar-theme",Ke),$(".pcoded").attr("sidebar-img","false"),v("NavbarBackground",Ke,1),v("sidebar-img","false",1),"themelight1"==Ke&&($(".pcoded-navigation-label").attr("menu-title-theme","theme1"),v("menu-title-theme","theme1",1)),"theme1"==Ke&&($(".pcoded-navigation-label").attr("menu-title-theme","theme9"),v("menu-title-theme","theme9",1))}),$(".theme-color > a.active-item-theme").on("click",function(){var Ke=$(this).attr("active-item-theme");$(".pcoded-navbar").attr("active-item-theme",Ke),v("active-item-theme",Ke,1)}),$(".theme-color > a.themebg-pattern").on("click",function(){var Ke=$(this).attr("themebg-pattern");$("body").attr("themebg-pattern",Ke),v("themebg-pattern",Ke,1)}),$("#theme-layout").change(function(){$(this).is(":checked")?($(".pcoded").attr("vertical-layout","box"),v("vertical-layout","box",1),$("#bg-pattern-visiblity").removeClass("d-none")):($(".pcoded").attr("vertical-layout","wide"),v("vertical-layout","wide",1),$("#bg-pattern-visiblity").addClass("d-none"))}),$("#vertical-menu-effect").val("shrink").on("change",function(Ke){Ke=$(this).val(),$(".pcoded").attr("vertical-effect",Ke),v("vertical-effect",Ke,1)}),$("#vertical-border-style").val("solid").on("change",function(Ke){Ke=$(this).val(),$(".pcoded-navbar .pcoded-item").attr("item-border-style",Ke)}),$("#vertical-dropdown-icon").val("style1").on("change",function(Ke){Ke=$(this).val(),$(".pcoded-navbar .pcoded-hasmenu").attr("dropdown-icon",Ke)}),$("#vertical-subitem-icon").val("style5").on("change",function(Ke){Ke=$(this).val(),$(".pcoded-navbar .pcoded-hasmenu").attr("subitem-icon",Ke)}),$("#sidebar-position").change(function(){$(this).is(":checked")?($(".pcoded-navbar").attr("pcoded-navbar-position","fixed"),$(".pcoded-header .pcoded-left-header").attr("pcoded-lheader-position","fixed")):($(".pcoded-navbar").attr("pcoded-navbar-position","absolute"),$(".pcoded-header .pcoded-left-header").attr("pcoded-lheader-position","relative"))}),$("#header-position").change(function(){$(this).is(":checked")?($(".pcoded-header").attr("pcoded-header-position","fixed"),$(".pcoded-navbar").attr("pcoded-header-position","fixed"),$(".pcoded-main-container").css("margin-top",$(".pcoded-header").outerHeight())):($(".pcoded-header").attr("pcoded-header-position","relative"),$(".pcoded-navbar").attr("pcoded-header-position","relative"),$(".pcoded-main-container").css("margin-top","0px"))}),$("#collapse-left-header").change(function(){$(this).is(":checked")?($(".pcoded-header, .pcoded ").removeClass("iscollapsed"),$(".pcoded-header, .pcoded").addClass("nocollapsed")):($(".pcoded-header, .pcoded").addClass("iscollapsed"),$(".pcoded-header, .pcoded").removeClass("nocollapsed"))})}function initPcodedSearchTopPnls(){$(".card-header-right .close-card").on("click",function(){var ke=$(this);ke.parents(".card").animate({opacity:"0","-webkit-transform":"scale3d(.3, .3, .3)",transform:"scale3d(.3, .3, .3)"}),setTimeout(function(){ke.parents(".card").remove()},800)}),$(".card-header-right .reload-card").on("click",function(){var ke=$(this);ke.parents(".card").addClass("card-load"),ke.parents(".card").append('<div class="card-loader"><i class="fa fa-circle-o-notch rotate-refresh"></div>'),setTimeout(function(){ke.parents(".card").children(".card-loader").remove(),ke.parents(".card").removeClass("card-load")},3e3)}),$(".card-header-right .card-option .open-card-option").on("click",function(){var ke=$(this);ke.hasClass("fa-times")?(ke.parents(".card-option").animate({width:"30px"}),$(this).removeClass("fa-times").fadeIn("slow"),$(this).addClass("fa-wrench").fadeIn("slow")):(ke.parents(".card-option").animate({width:"140px"}),$(this).addClass("fa-times").fadeIn("slow"),$(this).removeClass("fa-wrench").fadeIn("slow"))}),$(".card-header-right .minimize-card").on("click",function(){var ke=$(this),Le=$(ke.parents(".card"));$(Le).children(".card-block").slideToggle(),$(this).toggleClass("fa-minus").fadeIn("slow"),$(this).toggleClass("fa-plus").fadeIn("slow")}),$(".card-header-right .full-card").on("click",function(){var ke=$(this);$(ke.parents(".card")).toggleClass("full-card"),$(this).toggleClass("fa-window-restore")}),$("#more-details").on("click",function(){$(".more-details").slideToggle(500)}),$(".mobile-options").on("click",function(){$(".navbar-container .nav-right").slideToggle("slow")}),$(".search-btn").on("click",function(){$(".main-search").addClass("open"),$(".main-search .form-control").animate({width:"200px"})}),$(".search-close").on("click",function(){$(".main-search .form-control").animate({width:"0"}),setTimeout(function(){$(".main-search").removeClass("open")},300)}),$(document).ready(function(){$(".header-notification").click(function(){$(this).find(".show-notification").slideToggle(500),$(this).toggleClass("active")})}),$(document).on("click",function(ke){var Le=$(".header-notification");Le!==ke.target&&!Le.has(ke.target).length&&($(".show-notification").slideUp(300),$(".header-notification").removeClass("active"))}),$.mCustomScrollbar.defaults.axis="yx",$("#styleSelector .style-cont").slimScroll({setTop:"1px",height:"calc(100vh - 520px)"}),$(".main-menu").mCustomScrollbar({setTop:"1px",setHeight:"calc(100% - 56px)"});var v=$(window).height()-80;$(".main-friend-list").slimScroll({height:v,allowPageScroll:!1,wheelStep:5,color:"#1b8bf9"}),$("#search-friends").on("keyup",function(){var ke=$(this).val().toLowerCase();$(".userlist-box .media-body .chat-header").each(function(){var Le=$(this).text().toLowerCase();$(this).closest(".userlist-box")[-1!==Le.indexOf(ke)?"show":"hide"]()})}),$(".displayChatbox").on("click",function(){if("right"==$(".pcoded").attr("vertical-placement"))var Le={direction:"left"};else Le={direction:"right"};$(".showChat").toggle("slide",Le,500)}),$(".userlist-box").on("click",function(){if("right"==$(".pcoded").attr("vertical-placement"))var Le={direction:"left"};else Le={direction:"right"};$(".showChat_inner").toggle("slide",Le,500)}),$(".back_chatBox").on("click",function(){if("right"==$(".pcoded").attr("vertical-placement"))var Le={direction:"left"};else Le={direction:"right"};$(".showChat_inner").toggle("slide",Le,500),$(".showChat").css("display","block")}),$(".back_friendlist").on("click",function(){if("right"==$(".pcoded").attr("vertical-placement"))var Le={direction:"left"};else Le={direction:"right"};$(".p-chat-user").toggle("slide",Le,500),$(".showChat").css("display","block")}),$('[data-toggle="tooltip"]').tooltip(),Waves.init(),Waves.attach(".flat-buttons",["waves-button"]),Waves.attach(".float-buttons",["waves-button","waves-float"]),Waves.attach(".float-button-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-buttons",["waves-button","waves-float","waves-light","flat-buttons"])}function toggleFullScreen(){$(window).height(),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}(function(v,ke){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=v.document?ke(v,!0):function(Le){if(!Le.document)throw new Error("jQuery requires a window with a document");return ke(Le)}:ke(v)})("undefined"!=typeof window?window:this,function(v,ke){"use strict";var Le=[],Fe=Object.getPrototypeOf,at=Le.slice,vt=Le.flat?function(D){return Le.flat.call(D)}:function(D){return Le.concat.apply([],D)},Pt=Le.push,At=Le.indexOf,Ct={},Qt=Ct.toString,ut=Ct.hasOwnProperty,Qe=ut.toString,gt=Qe.call(Object),Ke={},rt=function(D){return"function"==typeof D&&"number"!=typeof D.nodeType&&"function"!=typeof D.item},T=function(D){return null!=D&&D===D.window},j=v.document,M={type:!0,src:!0,nonce:!0,noModule:!0};function R(D,B,W){var U,le,me=(W=W||j).createElement("script");if(me.text=D,B)for(U in M)(le=B[U]||B.getAttribute&&B.getAttribute(U))&&me.setAttribute(U,le);W.head.appendChild(me).parentNode.removeChild(me)}function u(D){return null==D?D+"":"object"==typeof D||"function"==typeof D?Ct[Qt.call(D)]||"object":typeof D}var g="3.6.4",f=function(D,B){return new f.fn.init(D,B)};function w(D){var B=!!D&&"length"in D&&D.length,W=u(D);return!rt(D)&&!T(D)&&("array"===W||0===B||"number"==typeof B&&0<B&&B-1 in D)}f.fn=f.prototype={jquery:g,constructor:f,length:0,toArray:function(){return at.call(this)},get:function(D){return null==D?at.call(this):D<0?this[D+this.length]:this[D]},pushStack:function(D){var B=f.merge(this.constructor(),D);return B.prevObject=this,B},each:function(D){return f.each(this,D)},map:function(D){return this.pushStack(f.map(this,function(B,W){return D.call(B,W,B)}))},slice:function(){return this.pushStack(at.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(D,B){return(B+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(D,B){return B%2}))},eq:function(D){var B=this.length,W=+D+(D<0?B:0);return this.pushStack(0<=W&&W<B?[this[W]]:[])},end:function(){return this.prevObject||this.constructor()},push:Pt,sort:Le.sort,splice:Le.splice},f.extend=f.fn.extend=function(){var D,B,W,U,le,me,be=arguments[0]||{},qe=1,Ye=arguments.length,et=!1;for("boolean"==typeof be&&(et=be,be=arguments[qe]||{},qe++),"object"==typeof be||rt(be)||(be={}),qe===Ye&&(be=this,qe--);qe<Ye;qe++)if(null!=(D=arguments[qe]))for(B in D)U=D[B],"__proto__"!==B&&be!==U&&(et&&U&&(f.isPlainObject(U)||(le=Array.isArray(U)))?(W=be[B],me=le&&!Array.isArray(W)?[]:le||f.isPlainObject(W)?W:{},le=!1,be[B]=f.extend(et,me,U)):void 0!==U&&(be[B]=U));return be},f.extend({expando:"jQuery"+(g+Math.random()).replace(/\D/g,""),isReady:!0,error:function(D){throw new Error(D)},noop:function(){},isPlainObject:function(D){var B,W;return!(!D||"[object Object]"!==Qt.call(D)||(B=Fe(D))&&("function"!=typeof(W=ut.call(B,"constructor")&&B.constructor)||Qe.call(W)!==gt))},isEmptyObject:function(D){var B;for(B in D)return!1;return!0},globalEval:function(D,B,W){R(D,{nonce:B&&B.nonce},W)},each:function(D,B){var W,U=0;if(w(D))for(W=D.length;U<W&&!1!==B.call(D[U],U,D[U]);U++);else for(U in D)if(!1===B.call(D[U],U,D[U]))break;return D},makeArray:function(D,B){var W=B||[];return null!=D&&(w(Object(D))?f.merge(W,"string"==typeof D?[D]:D):Pt.call(W,D)),W},inArray:function(D,B,W){return null==B?-1:At.call(B,D,W)},merge:function(D,B){for(var W=+B.length,U=0,le=D.length;U<W;U++)D[le++]=B[U];return D.length=le,D},grep:function(D,B,W){for(var U=[],le=0,me=D.length,be=!W;le<me;le++)!B(D[le],le)!==be&&U.push(D[le]);return U},map:function(D,B,W){var U,le,me=0,be=[];if(w(D))for(U=D.length;me<U;me++)null!=(le=B(D[me],me,W))&&be.push(le);else for(me in D)null!=(le=B(D[me],me,W))&&be.push(le);return vt(be)},guid:1,support:Ke}),"function"==typeof Symbol&&(f.fn[Symbol.iterator]=Le[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(D,B){Ct["[object "+B+"]"]=B.toLowerCase()});var k=function(D){var B,W,U,le,me,be,qe,Ye,et,lt,Lt,st,ct,Kt,Jt,Ut,Ui,tn,Jn,mi="sizzle"+1*new Date,vi=D.document,Nn=0,Ri=0,Fi=Il(),Ma=Il(),kl=Il(),Wi=Il(),ao=function(Ce,je){return Ce===je&&(Lt=!0),0},ea={}.hasOwnProperty,Pn=[],ta=Pn.pop,br=Pn.push,sn=Pn.push,Yn=Pn.slice,cr=function(Ce,je){for(var Je=0,Tt=Ce.length;Je<Tt;Je++)if(Ce[Je]===je)return Je;return-1},Or="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",xi="[\\x20\\t\\r\\n\\f]",Oi="(?:\\\\[\\da-fA-F]{1,6}"+xi+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",fn="\\["+xi+"*("+Oi+")(?:"+xi+"*([*^$|!~]?=)"+xi+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Oi+"))|)"+xi+"*\\]",ln=":("+Oi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fn+")*)|.*)\\)|)",on=new RegExp(xi+"+","g"),$n=new RegExp("^"+xi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+xi+"+$","g"),wr=new RegExp("^"+xi+"*,"+xi+"*"),Ia=new RegExp("^"+xi+"*([>+~]|"+xi+")"+xi+"*"),To=new RegExp(xi+"|>"),Sr=new RegExp(ln),Xh=new RegExp("^"+Oi+"$"),cs={ID:new RegExp("^#("+Oi+")"),CLASS:new RegExp("^\\.("+Oi+")"),TAG:new RegExp("^("+Oi+"|[*])"),ATTR:new RegExp("^"+fn),PSEUDO:new RegExp("^"+ln),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+xi+"*(even|odd|(([+-]|)(\\d*)n|)"+xi+"*(?:([+-]|)"+xi+"*(\\d+)|))"+xi+"*\\)|)","i"),bool:new RegExp("^(?:"+Or+")$","i"),needsContext:new RegExp("^"+xi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+xi+"*((?:-\\d)?\\d*)"+xi+"*\\)|)(?=[^-]|$)","i")},Tl=/HTML$/i,Da=/^(?:input|select|textarea|button)$/i,Un=/^h\d$/i,ia=/^[^{]+\{\s*\[native \w/,Ml=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,na=/[+~]/,so=new RegExp("\\\\[\\da-fA-F]{1,6}"+xi+"?|\\\\([^\\r\\n\\f])","g"),Er=function(Ce,je){var Je="0x"+Ce.slice(1)-65536;return je||(Je<0?String.fromCharCode(Je+65536):String.fromCharCode(Je>>10|55296,1023&Je|56320))},Vc=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ra=function(Ce,je){return je?"\0"===Ce?"\ufffd":Ce.slice(0,-1)+"\\"+Ce.charCodeAt(Ce.length-1).toString(16)+" ":"\\"+Ce},Aa=function(){st()},Nr=fs(function(Ce){return!0===Ce.disabled&&"fieldset"===Ce.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{sn.apply(Pn=Yn.call(vi.childNodes),vi.childNodes)}catch(Ce){sn={apply:Pn.length?function(je,Je){br.apply(je,Yn.call(Je))}:function(je,Je){for(var Tt=je.length,it=0;je[Tt++]=Je[it++];);je.length=Tt-1}}}function Vi(Ce,je,Je,Tt){var it,Nt,jt,Gt,qt,gi,hi,ui=je&&je.ownerDocument,Ei=je?je.nodeType:9;if(Je=Je||[],"string"!=typeof Ce||!Ce||1!==Ei&&9!==Ei&&11!==Ei)return Je;if(!Tt&&(st(je),je=je||ct,Jt)){if(11!==Ei&&(qt=Ml.exec(Ce)))if(it=qt[1]){if(9===Ei){if(!(jt=je.getElementById(it)))return Je;if(jt.id===it)return Je.push(jt),Je}else if(ui&&(jt=ui.getElementById(it))&&Jn(je,jt)&&jt.id===it)return Je.push(jt),Je}else{if(qt[2])return sn.apply(Je,je.getElementsByTagName(Ce)),Je;if((it=qt[3])&&W.getElementsByClassName&&je.getElementsByClassName)return sn.apply(Je,je.getElementsByClassName(it)),Je}if(W.qsa&&!Wi[Ce+" "]&&(!Ut||!Ut.test(Ce))&&(1!==Ei||"object"!==je.nodeName.toLowerCase())){if(hi=Ce,ui=je,1===Ei&&(To.test(Ce)||Ia.test(Ce))){for((ui=na.test(Ce)&&ds(je.parentNode)||je)===je&&W.scope||((Gt=je.getAttribute("id"))?Gt=Gt.replace(Vc,ra):je.setAttribute("id",Gt=mi)),Nt=(gi=be(Ce)).length;Nt--;)gi[Nt]=(Gt?"#"+Gt:":scope")+" "+ps(gi[Nt]);hi=gi.join(",")}try{return sn.apply(Je,ui.querySelectorAll(hi)),Je}catch(hn){Wi(Ce,!0)}finally{Gt===mi&&je.removeAttribute("id")}}}return Ye(Ce.replace($n,"$1"),je,Je,Tt)}function Il(){var Ce=[];return function je(Je,Tt){return Ce.push(Je+" ")>U.cacheLength&&delete je[Ce.shift()],je[Je+" "]=Tt}}function er(Ce){return Ce[mi]=!0,Ce}function Fn(Ce){var je=ct.createElement("fieldset");try{return!!Ce(je)}catch(Je){return!1}finally{je.parentNode&&je.parentNode.removeChild(je),je=null}}function Kh(Ce,je){for(var Je=Ce.split("|"),Tt=Je.length;Tt--;)U.attrHandle[Je[Tt]]=je}function lo(Ce,je){var Je=je&&Ce,Tt=Je&&1===Ce.nodeType&&1===je.nodeType&&Ce.sourceIndex-je.sourceIndex;if(Tt)return Tt;if(Je)for(;Je=Je.nextSibling;)if(Je===je)return-1;return Ce?1:-1}function Dl(Ce){return function(je){return"input"===je.nodeName.toLowerCase()&&je.type===Ce}}function Zh(Ce){return function(je){var Je=je.nodeName.toLowerCase();return("input"===Je||"button"===Je)&&je.type===Ce}}function Fc(Ce){return function(je){return"form"in je?je.parentNode&&!1===je.disabled?"label"in je?"label"in je.parentNode?je.parentNode.disabled===Ce:je.disabled===Ce:je.isDisabled===Ce||je.isDisabled!==!Ce&&Nr(je)===Ce:je.disabled===Ce:"label"in je&&je.disabled===Ce}}function Mo(Ce){return er(function(je){return je=+je,er(function(Je,Tt){for(var it,Nt=Ce([],Je.length,je),jt=Nt.length;jt--;)Je[it=Nt[jt]]&&(Je[it]=!(Tt[it]=Je[it]))})})}function ds(Ce){return Ce&&void 0!==Ce.getElementsByTagName&&Ce}for(B in W=Vi.support={},me=Vi.isXML=function(Ce){var Je=Ce&&(Ce.ownerDocument||Ce).documentElement;return!Tl.test(Ce&&Ce.namespaceURI||Je&&Je.nodeName||"HTML")},st=Vi.setDocument=function(Ce){var je,Je,Tt=Ce?Ce.ownerDocument||Ce:vi;return Tt!=ct&&9===Tt.nodeType&&Tt.documentElement&&(Kt=(ct=Tt).documentElement,Jt=!me(ct),vi!=ct&&(Je=ct.defaultView)&&Je.top!==Je&&(Je.addEventListener?Je.addEventListener("unload",Aa,!1):Je.attachEvent&&Je.attachEvent("onunload",Aa)),W.scope=Fn(function(it){return Kt.appendChild(it).appendChild(ct.createElement("div")),void 0!==it.querySelectorAll&&!it.querySelectorAll(":scope fieldset div").length}),W.cssHas=Fn(function(){try{return ct.querySelector(":has(*,:jqfake)"),!1}catch(it){return!0}}),W.attributes=Fn(function(it){return it.className="i",!it.getAttribute("className")}),W.getElementsByTagName=Fn(function(it){return it.appendChild(ct.createComment("")),!it.getElementsByTagName("*").length}),W.getElementsByClassName=ia.test(ct.getElementsByClassName),W.getById=Fn(function(it){return Kt.appendChild(it).id=mi,!ct.getElementsByName||!ct.getElementsByName(mi).length}),W.getById?(U.filter.ID=function(it){var Nt=it.replace(so,Er);return function(jt){return jt.getAttribute("id")===Nt}},U.find.ID=function(it,Nt){if(void 0!==Nt.getElementById&&Jt){var jt=Nt.getElementById(it);return jt?[jt]:[]}}):(U.filter.ID=function(it){var Nt=it.replace(so,Er);return function(jt){var Gt=void 0!==jt.getAttributeNode&&jt.getAttributeNode("id");return Gt&&Gt.value===Nt}},U.find.ID=function(it,Nt){if(void 0!==Nt.getElementById&&Jt){var jt,Gt,qt,gi=Nt.getElementById(it);if(gi){if((jt=gi.getAttributeNode("id"))&&jt.value===it)return[gi];for(qt=Nt.getElementsByName(it),Gt=0;gi=qt[Gt++];)if((jt=gi.getAttributeNode("id"))&&jt.value===it)return[gi]}return[]}}),U.find.TAG=W.getElementsByTagName?function(it,Nt){return void 0!==Nt.getElementsByTagName?Nt.getElementsByTagName(it):W.qsa?Nt.querySelectorAll(it):void 0}:function(it,Nt){var jt,Gt=[],qt=0,gi=Nt.getElementsByTagName(it);if("*"===it){for(;jt=gi[qt++];)1===jt.nodeType&&Gt.push(jt);return Gt}return gi},U.find.CLASS=W.getElementsByClassName&&function(it,Nt){if(void 0!==Nt.getElementsByClassName&&Jt)return Nt.getElementsByClassName(it)},Ui=[],Ut=[],(W.qsa=ia.test(ct.querySelectorAll))&&(Fn(function(it){var Nt;Kt.appendChild(it).innerHTML="<a id='"+mi+"'></a><select id='"+mi+"-\r\\' msallowcapture=''><option selected=''></option></select>",it.querySelectorAll("[msallowcapture^='']").length&&Ut.push("[*^$]="+xi+"*(?:''|\"\")"),it.querySelectorAll("[selected]").length||Ut.push("\\["+xi+"*(?:value|"+Or+")"),it.querySelectorAll("[id~="+mi+"-]").length||Ut.push("~="),(Nt=ct.createElement("input")).setAttribute("name",""),it.appendChild(Nt),it.querySelectorAll("[name='']").length||Ut.push("\\["+xi+"*name"+xi+"*="+xi+"*(?:''|\"\")"),it.querySelectorAll(":checked").length||Ut.push(":checked"),it.querySelectorAll("a#"+mi+"+*").length||Ut.push(".#.+[+~]"),it.querySelectorAll("\\\f"),Ut.push("[\\r\\n\\f]")}),Fn(function(it){it.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Nt=ct.createElement("input");Nt.setAttribute("type","hidden"),it.appendChild(Nt).setAttribute("name","D"),it.querySelectorAll("[name=d]").length&&Ut.push("name"+xi+"*[*^$|!~]?="),2!==it.querySelectorAll(":enabled").length&&Ut.push(":enabled",":disabled"),Kt.appendChild(it).disabled=!0,2!==it.querySelectorAll(":disabled").length&&Ut.push(":enabled",":disabled"),it.querySelectorAll("*,:x"),Ut.push(",.*:")})),(W.matchesSelector=ia.test(tn=Kt.matches||Kt.webkitMatchesSelector||Kt.mozMatchesSelector||Kt.oMatchesSelector||Kt.msMatchesSelector))&&Fn(function(it){W.disconnectedMatch=tn.call(it,"*"),tn.call(it,"[s!='']:x"),Ui.push("!=",ln)}),W.cssHas||Ut.push(":has"),Ut=Ut.length&&new RegExp(Ut.join("|")),Ui=Ui.length&&new RegExp(Ui.join("|")),je=ia.test(Kt.compareDocumentPosition),Jn=je||ia.test(Kt.contains)?function(it,Nt){var jt=9===it.nodeType&&it.documentElement||it,Gt=Nt&&Nt.parentNode;return it===Gt||!(!Gt||1!==Gt.nodeType||!(jt.contains?jt.contains(Gt):it.compareDocumentPosition&&16&it.compareDocumentPosition(Gt)))}:function(it,Nt){if(Nt)for(;Nt=Nt.parentNode;)if(Nt===it)return!0;return!1},ao=je?function(it,Nt){if(it===Nt)return Lt=!0,0;var jt=!it.compareDocumentPosition-!Nt.compareDocumentPosition;return jt||(1&(jt=(it.ownerDocument||it)==(Nt.ownerDocument||Nt)?it.compareDocumentPosition(Nt):1)||!W.sortDetached&&Nt.compareDocumentPosition(it)===jt?it==ct||it.ownerDocument==vi&&Jn(vi,it)?-1:Nt==ct||Nt.ownerDocument==vi&&Jn(vi,Nt)?1:lt?cr(lt,it)-cr(lt,Nt):0:4&jt?-1:1)}:function(it,Nt){if(it===Nt)return Lt=!0,0;var jt,Gt=0,qt=it.parentNode,gi=Nt.parentNode,hi=[it],ui=[Nt];if(!qt||!gi)return it==ct?-1:Nt==ct?1:qt?-1:gi?1:lt?cr(lt,it)-cr(lt,Nt):0;if(qt===gi)return lo(it,Nt);for(jt=it;jt=jt.parentNode;)hi.unshift(jt);for(jt=Nt;jt=jt.parentNode;)ui.unshift(jt);for(;hi[Gt]===ui[Gt];)Gt++;return Gt?lo(hi[Gt],ui[Gt]):hi[Gt]==vi?-1:ui[Gt]==vi?1:0}),ct},Vi.matches=function(Ce,je){return Vi(Ce,null,null,je)},Vi.matchesSelector=function(Ce,je){if(st(Ce),W.matchesSelector&&Jt&&!Wi[je+" "]&&(!Ui||!Ui.test(je))&&(!Ut||!Ut.test(je)))try{var Je=tn.call(Ce,je);if(Je||W.disconnectedMatch||Ce.document&&11!==Ce.document.nodeType)return Je}catch(Tt){Wi(je,!0)}return 0<Vi(je,ct,null,[Ce]).length},Vi.contains=function(Ce,je){return(Ce.ownerDocument||Ce)!=ct&&st(Ce),Jn(Ce,je)},Vi.attr=function(Ce,je){(Ce.ownerDocument||Ce)!=ct&&st(Ce);var Je=U.attrHandle[je.toLowerCase()],Tt=Je&&ea.call(U.attrHandle,je.toLowerCase())?Je(Ce,je,!Jt):void 0;return void 0!==Tt?Tt:W.attributes||!Jt?Ce.getAttribute(je):(Tt=Ce.getAttributeNode(je))&&Tt.specified?Tt.value:null},Vi.escape=function(Ce){return(Ce+"").replace(Vc,ra)},Vi.error=function(Ce){throw new Error("Syntax error, unrecognized expression: "+Ce)},Vi.uniqueSort=function(Ce){var je,Je=[],Tt=0,it=0;if(Lt=!W.detectDuplicates,lt=!W.sortStable&&Ce.slice(0),Ce.sort(ao),Lt){for(;je=Ce[it++];)je===Ce[it]&&(Tt=Je.push(it));for(;Tt--;)Ce.splice(Je[Tt],1)}return lt=null,Ce},le=Vi.getText=function(Ce){var je,Je="",Tt=0,it=Ce.nodeType;if(it){if(1===it||9===it||11===it){if("string"==typeof Ce.textContent)return Ce.textContent;for(Ce=Ce.firstChild;Ce;Ce=Ce.nextSibling)Je+=le(Ce)}else if(3===it||4===it)return Ce.nodeValue}else for(;je=Ce[Tt++];)Je+=le(je);return Je},(U=Vi.selectors={cacheLength:50,createPseudo:er,match:cs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ce){return Ce[1]=Ce[1].replace(so,Er),Ce[3]=(Ce[3]||Ce[4]||Ce[5]||"").replace(so,Er),"~="===Ce[2]&&(Ce[3]=" "+Ce[3]+" "),Ce.slice(0,4)},CHILD:function(Ce){return Ce[1]=Ce[1].toLowerCase(),"nth"===Ce[1].slice(0,3)?(Ce[3]||Vi.error(Ce[0]),Ce[4]=+(Ce[4]?Ce[5]+(Ce[6]||1):2*("even"===Ce[3]||"odd"===Ce[3])),Ce[5]=+(Ce[7]+Ce[8]||"odd"===Ce[3])):Ce[3]&&Vi.error(Ce[0]),Ce},PSEUDO:function(Ce){var je,Je=!Ce[6]&&Ce[2];return cs.CHILD.test(Ce[0])?null:(Ce[3]?Ce[2]=Ce[4]||Ce[5]||"":Je&&Sr.test(Je)&&(je=be(Je,!0))&&(je=Je.indexOf(")",Je.length-je)-Je.length)&&(Ce[0]=Ce[0].slice(0,je),Ce[2]=Je.slice(0,je)),Ce.slice(0,3))}},filter:{TAG:function(Ce){var je=Ce.replace(so,Er).toLowerCase();return"*"===Ce?function(){return!0}:function(Je){return Je.nodeName&&Je.nodeName.toLowerCase()===je}},CLASS:function(Ce){var je=Fi[Ce+" "];return je||(je=new RegExp("(^|"+xi+")"+Ce+"("+xi+"|$)"))&&Fi(Ce,function(Je){return je.test("string"==typeof Je.className&&Je.className||void 0!==Je.getAttribute&&Je.getAttribute("class")||"")})},ATTR:function(Ce,je,Je){return function(Tt){var it=Vi.attr(Tt,Ce);return null==it?"!="===je:!je||(it+="","="===je?it===Je:"!="===je?it!==Je:"^="===je?Je&&0===it.indexOf(Je):"*="===je?Je&&-1<it.indexOf(Je):"$="===je?Je&&it.slice(-Je.length)===Je:"~="===je?-1<(" "+it.replace(on," ")+" ").indexOf(Je):"|="===je&&(it===Je||it.slice(0,Je.length+1)===Je+"-"))}},CHILD:function(Ce,je,Je,Tt,it){var Nt="nth"!==Ce.slice(0,3),jt="last"!==Ce.slice(-4),Gt="of-type"===je;return 1===Tt&&0===it?function(qt){return!!qt.parentNode}:function(qt,gi,hi){var ui,Ei,hn,pi,gn,Cn,qn=Nt!==jt?"nextSibling":"previousSibling",$i=qt.parentNode,Cr=Gt&&qt.nodeName.toLowerCase(),Wn=!hi&&!Gt,mn=!1;if($i){if(Nt){for(;qn;){for(pi=qt;pi=pi[qn];)if(Gt?pi.nodeName.toLowerCase()===Cr:1===pi.nodeType)return!1;Cn=qn="only"===Ce&&!Cn&&"nextSibling"}return!0}if(Cn=[jt?$i.firstChild:$i.lastChild],jt&&Wn){for(mn=(gn=(ui=(Ei=(hn=(pi=$i)[mi]||(pi[mi]={}))[pi.uniqueID]||(hn[pi.uniqueID]={}))[Ce]||[])[0]===Nn&&ui[1])&&ui[2],pi=gn&&$i.childNodes[gn];pi=++gn&&pi&&pi[qn]||(mn=gn=0)||Cn.pop();)if(1===pi.nodeType&&++mn&&pi===qt){Ei[Ce]=[Nn,gn,mn];break}}else if(Wn&&(mn=gn=(ui=(Ei=(hn=(pi=qt)[mi]||(pi[mi]={}))[pi.uniqueID]||(hn[pi.uniqueID]={}))[Ce]||[])[0]===Nn&&ui[1]),!1===mn)for(;(pi=++gn&&pi&&pi[qn]||(mn=gn=0)||Cn.pop())&&((Gt?pi.nodeName.toLowerCase()!==Cr:1!==pi.nodeType)||!++mn||(Wn&&((Ei=(hn=pi[mi]||(pi[mi]={}))[pi.uniqueID]||(hn[pi.uniqueID]={}))[Ce]=[Nn,mn]),pi!==qt)););return(mn-=it)===Tt||mn%Tt==0&&0<=mn/Tt}}},PSEUDO:function(Ce,je){var Je,Tt=U.pseudos[Ce]||U.setFilters[Ce.toLowerCase()]||Vi.error("unsupported pseudo: "+Ce);return Tt[mi]?Tt(je):1<Tt.length?(Je=[Ce,Ce,"",je],U.setFilters.hasOwnProperty(Ce.toLowerCase())?er(function(it,Nt){for(var jt,Gt=Tt(it,je),qt=Gt.length;qt--;)it[jt=cr(it,Gt[qt])]=!(Nt[jt]=Gt[qt])}):function(it){return Tt(it,0,Je)}):Tt}},pseudos:{not:er(function(Ce){var je=[],Je=[],Tt=qe(Ce.replace($n,"$1"));return Tt[mi]?er(function(it,Nt,jt,Gt){for(var qt,gi=Tt(it,null,Gt,[]),hi=it.length;hi--;)(qt=gi[hi])&&(it[hi]=!(Nt[hi]=qt))}):function(it,Nt,jt){return je[0]=it,Tt(je,null,jt,Je),je[0]=null,!Je.pop()}}),has:er(function(Ce){return function(je){return 0<Vi(Ce,je).length}}),contains:er(function(Ce){return Ce=Ce.replace(so,Er),function(je){return-1<(je.textContent||le(je)).indexOf(Ce)}}),lang:er(function(Ce){return Xh.test(Ce||"")||Vi.error("unsupported lang: "+Ce),Ce=Ce.replace(so,Er).toLowerCase(),function(je){var Je;do{if(Je=Jt?je.lang:je.getAttribute("xml:lang")||je.getAttribute("lang"))return(Je=Je.toLowerCase())===Ce||0===Je.indexOf(Ce+"-")}while((je=je.parentNode)&&1===je.nodeType);return!1}}),target:function(Ce){var je=D.location&&D.location.hash;return je&&je.slice(1)===Ce.id},root:function(Ce){return Ce===Kt},focus:function(Ce){return Ce===ct.activeElement&&(!ct.hasFocus||ct.hasFocus())&&!!(Ce.type||Ce.href||~Ce.tabIndex)},enabled:Fc(!1),disabled:Fc(!0),checked:function(Ce){var je=Ce.nodeName.toLowerCase();return"input"===je&&!!Ce.checked||"option"===je&&!!Ce.selected},selected:function(Ce){return!0===Ce.selected},empty:function(Ce){for(Ce=Ce.firstChild;Ce;Ce=Ce.nextSibling)if(Ce.nodeType<6)return!1;return!0},parent:function(Ce){return!U.pseudos.empty(Ce)},header:function(Ce){return Un.test(Ce.nodeName)},input:function(Ce){return Da.test(Ce.nodeName)},button:function(Ce){var je=Ce.nodeName.toLowerCase();return"input"===je&&"button"===Ce.type||"button"===je},text:function(Ce){var je;return"input"===Ce.nodeName.toLowerCase()&&"text"===Ce.type&&(null==(je=Ce.getAttribute("type"))||"text"===je.toLowerCase())},first:Mo(function(){return[0]}),last:Mo(function(Ce,je){return[je-1]}),eq:Mo(function(Ce,je,Je){return[Je<0?Je+je:Je]}),even:Mo(function(Ce,je){for(var Je=0;Je<je;Je+=2)Ce.push(Je);return Ce}),odd:Mo(function(Ce,je){for(var Je=1;Je<je;Je+=2)Ce.push(Je);return Ce}),lt:Mo(function(Ce,je,Je){for(var Tt=Je<0?Je+je:je<Je?je:Je;0<=--Tt;)Ce.push(Tt);return Ce}),gt:Mo(function(Ce,je,Je){for(var Tt=Je<0?Je+je:Je;++Tt<je;)Ce.push(Tt);return Ce})}}).pseudos.nth=U.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[B]=Dl(B);for(B in{submit:!0,reset:!0})U.pseudos[B]=Zh(B);function Qh(){}function ps(Ce){for(var je=0,Je=Ce.length,Tt="";je<Je;je++)Tt+=Ce[je].value;return Tt}function fs(Ce,je,Je){var Tt=je.dir,it=je.next,Nt=it||Tt,jt=Je&&"parentNode"===Nt,Gt=Ri++;return je.first?function(qt,gi,hi){for(;qt=qt[Tt];)if(1===qt.nodeType||jt)return Ce(qt,gi,hi);return!1}:function(qt,gi,hi){var ui,Ei,hn,pi=[Nn,Gt];if(hi){for(;qt=qt[Tt];)if((1===qt.nodeType||jt)&&Ce(qt,gi,hi))return!0}else for(;qt=qt[Tt];)if(1===qt.nodeType||jt)if(Ei=(hn=qt[mi]||(qt[mi]={}))[qt.uniqueID]||(hn[qt.uniqueID]={}),it&&it===qt.nodeName.toLowerCase())qt=qt[Tt]||qt;else{if((ui=Ei[Nt])&&ui[0]===Nn&&ui[1]===Gt)return pi[2]=ui[2];if((Ei[Nt]=pi)[2]=Ce(qt,gi,hi))return!0}return!1}}function La(Ce){return 1<Ce.length?function(je,Je,Tt){for(var it=Ce.length;it--;)if(!Ce[it](je,Je,Tt))return!1;return!0}:Ce[0]}function gs(Ce,je,Je,Tt,it){for(var Nt,jt=[],Gt=0,qt=Ce.length,gi=null!=je;Gt<qt;Gt++)(Nt=Ce[Gt])&&(Je&&!Je(Nt,Tt,it)||(jt.push(Nt),gi&&je.push(Gt)));return jt}function Al(Ce,je,Je,Tt,it,Nt){return Tt&&!Tt[mi]&&(Tt=Al(Tt)),it&&!it[mi]&&(it=Al(it,Nt)),er(function(jt,Gt,qt,gi){var hi,ui,Ei,hn=[],pi=[],gn=Gt.length,Cn=jt||function(Cr,Wn,mn){for(var kr=0,Pa=Wn.length;kr<Pa;kr++)Vi(Cr,Wn[kr],mn);return mn}(je||"*",qt.nodeType?[qt]:qt,[]),qn=!Ce||!jt&&je?Cn:gs(Cn,hn,Ce,qt,gi),$i=Je?it||(jt?Ce:gn||Tt)?[]:Gt:qn;if(Je&&Je(qn,$i,qt,gi),Tt)for(hi=gs($i,pi),Tt(hi,[],qt,gi),ui=hi.length;ui--;)(Ei=hi[ui])&&($i[pi[ui]]=!(qn[pi[ui]]=Ei));if(jt){if(it||Ce){if(it){for(hi=[],ui=$i.length;ui--;)(Ei=$i[ui])&&hi.push(qn[ui]=Ei);it(null,$i=[],hi,gi)}for(ui=$i.length;ui--;)(Ei=$i[ui])&&-1<(hi=it?cr(jt,Ei):hn[ui])&&(jt[hi]=!(Gt[hi]=Ei))}}else $i=gs($i===Gt?$i.splice(gn,$i.length):$i),it?it(null,Gt,$i,gi):sn.apply(Gt,$i)})}function Jh(Ce){for(var je,Je,Tt,it=Ce.length,Nt=U.relative[Ce[0].type],jt=Nt||U.relative[" "],Gt=Nt?1:0,qt=fs(function(ui){return ui===je},jt,!0),gi=fs(function(ui){return-1<cr(je,ui)},jt,!0),hi=[function(ui,Ei,hn){var pi=!Nt&&(hn||Ei!==et)||((je=Ei).nodeType?qt(ui,Ei,hn):gi(ui,Ei,hn));return je=null,pi}];Gt<it;Gt++)if(Je=U.relative[Ce[Gt].type])hi=[fs(La(hi),Je)];else{if((Je=U.filter[Ce[Gt].type].apply(null,Ce[Gt].matches))[mi]){for(Tt=++Gt;Tt<it&&!U.relative[Ce[Tt].type];Tt++);return Al(1<Gt&&La(hi),1<Gt&&ps(Ce.slice(0,Gt-1).concat({value:" "===Ce[Gt-2].type?"*":""})).replace($n,"$1"),Je,Gt<Tt&&Jh(Ce.slice(Gt,Tt)),Tt<it&&Jh(Ce=Ce.slice(Tt)),Tt<it&&ps(Ce))}hi.push(Je)}return La(hi)}return Qh.prototype=U.filters=U.pseudos,U.setFilters=new Qh,be=Vi.tokenize=function(Ce,je){var Je,Tt,it,Nt,jt,Gt,qt,gi=Ma[Ce+" "];if(gi)return je?0:gi.slice(0);for(jt=Ce,Gt=[],qt=U.preFilter;jt;){for(Nt in Je&&!(Tt=wr.exec(jt))||(Tt&&(jt=jt.slice(Tt[0].length)||jt),Gt.push(it=[])),Je=!1,(Tt=Ia.exec(jt))&&(Je=Tt.shift(),it.push({value:Je,type:Tt[0].replace($n," ")}),jt=jt.slice(Je.length)),U.filter)!(Tt=cs[Nt].exec(jt))||qt[Nt]&&!(Tt=qt[Nt](Tt))||(Je=Tt.shift(),it.push({value:Je,type:Nt,matches:Tt}),jt=jt.slice(Je.length));if(!Je)break}return je?jt.length:jt?Vi.error(Ce):Ma(Ce,Gt).slice(0)},qe=Vi.compile=function(Ce,je){var Je,Tt,it,Nt,jt,Gt,qt=[],gi=[],hi=kl[Ce+" "];if(!hi){for(je||(je=be(Ce)),Je=je.length;Je--;)(hi=Jh(je[Je]))[mi]?qt.push(hi):gi.push(hi);(hi=kl(Ce,(Tt=gi,Nt=0<(it=qt).length,jt=0<Tt.length,Gt=function(ui,Ei,hn,pi,gn){var Cn,qn,$i,Cr=0,Wn="0",mn=ui&&[],kr=[],Pa=et,Ll=ui||jt&&U.find.TAG("*",gn),eu=Nn+=null==Pa?1:Math.random()||.1,Df=Ll.length;for(gn&&(et=Ei==ct||Ei||gn);Wn!==Df&&null!=(Cn=Ll[Wn]);Wn++){if(jt&&Cn){for(qn=0,Ei||Cn.ownerDocument==ct||(st(Cn),hn=!Jt);$i=Tt[qn++];)if($i(Cn,Ei||ct,hn)){pi.push(Cn);break}gn&&(Nn=eu)}Nt&&((Cn=!$i&&Cn)&&Cr--,ui&&mn.push(Cn))}if(Cr+=Wn,Nt&&Wn!==Cr){for(qn=0;$i=it[qn++];)$i(mn,kr,Ei,hn);if(ui){if(0<Cr)for(;Wn--;)mn[Wn]||kr[Wn]||(kr[Wn]=ta.call(pi));kr=gs(kr)}sn.apply(pi,kr),gn&&!ui&&0<kr.length&&1<Cr+it.length&&Vi.uniqueSort(pi)}return gn&&(Nn=eu,et=Pa),mn},Nt?er(Gt):Gt))).selector=Ce}return hi},Ye=Vi.select=function(Ce,je,Je,Tt){var it,Nt,jt,Gt,qt,gi="function"==typeof Ce&&Ce,hi=!Tt&&be(Ce=gi.selector||Ce);if(Je=Je||[],1===hi.length){if(2<(Nt=hi[0]=hi[0].slice(0)).length&&"ID"===(jt=Nt[0]).type&&9===je.nodeType&&Jt&&U.relative[Nt[1].type]){if(!(je=(U.find.ID(jt.matches[0].replace(so,Er),je)||[])[0]))return Je;gi&&(je=je.parentNode),Ce=Ce.slice(Nt.shift().value.length)}for(it=cs.needsContext.test(Ce)?0:Nt.length;it--&&!U.relative[Gt=(jt=Nt[it]).type];)if((qt=U.find[Gt])&&(Tt=qt(jt.matches[0].replace(so,Er),na.test(Nt[0].type)&&ds(je.parentNode)||je))){if(Nt.splice(it,1),!(Ce=Tt.length&&ps(Nt)))return sn.apply(Je,Tt),Je;break}}return(gi||qe(Ce,hi))(Tt,je,!Jt,Je,!je||na.test(Ce)&&ds(je.parentNode)||je),Je},W.sortStable=mi.split("").sort(ao).join("")===mi,W.detectDuplicates=!!Lt,st(),W.sortDetached=Fn(function(Ce){return 1&Ce.compareDocumentPosition(ct.createElement("fieldset"))}),Fn(function(Ce){return Ce.innerHTML="<a href='#'></a>","#"===Ce.firstChild.getAttribute("href")})||Kh("type|href|height|width",function(Ce,je,Je){if(!Je)return Ce.getAttribute(je,"type"===je.toLowerCase()?1:2)}),W.attributes&&Fn(function(Ce){return Ce.innerHTML="<input/>",Ce.firstChild.setAttribute("value",""),""===Ce.firstChild.getAttribute("value")})||Kh("value",function(Ce,je,Je){if(!Je&&"input"===Ce.nodeName.toLowerCase())return Ce.defaultValue}),Fn(function(Ce){return null==Ce.getAttribute("disabled")})||Kh(Or,function(Ce,je,Je){var Tt;if(!Je)return!0===Ce[je]?je.toLowerCase():(Tt=Ce.getAttributeNode(je))&&Tt.specified?Tt.value:null}),Vi}(v);f.find=k,f.expr=k.selectors,f.expr[":"]=f.expr.pseudos,f.uniqueSort=f.unique=k.uniqueSort,f.text=k.getText,f.isXMLDoc=k.isXML,f.contains=k.contains,f.escapeSelector=k.escape;var L=function(D,B,W){for(var U=[],le=void 0!==W;(D=D[B])&&9!==D.nodeType;)if(1===D.nodeType){if(le&&f(D).is(W))break;U.push(D)}return U},N=function(D,B){for(var W=[];D;D=D.nextSibling)1===D.nodeType&&D!==B&&W.push(D);return W},H=f.expr.match.needsContext;function q(D,B){return D.nodeName&&D.nodeName.toLowerCase()===B.toLowerCase()}var re=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Z(D,B,W){return rt(B)?f.grep(D,function(U,le){return!!B.call(U,le,U)!==W}):B.nodeType?f.grep(D,function(U){return U===B!==W}):"string"!=typeof B?f.grep(D,function(U){return-1<At.call(B,U)!==W}):f.filter(B,D,W)}f.filter=function(D,B,W){var U=B[0];return W&&(D=":not("+D+")"),1===B.length&&1===U.nodeType?f.find.matchesSelector(U,D)?[U]:[]:f.find.matches(D,f.grep(B,function(le){return 1===le.nodeType}))},f.fn.extend({find:function(D){var B,W,U=this.length,le=this;if("string"!=typeof D)return this.pushStack(f(D).filter(function(){for(B=0;B<U;B++)if(f.contains(le[B],this))return!0}));for(W=this.pushStack([]),B=0;B<U;B++)f.find(D,le[B],W);return 1<U?f.uniqueSort(W):W},filter:function(D){return this.pushStack(Z(this,D||[],!1))},not:function(D){return this.pushStack(Z(this,D||[],!0))},is:function(D){return!!Z(this,"string"==typeof D&&H.test(D)?f(D):D||[],!1).length}});var de,pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(f.fn.init=function(D,B,W){var U,le;if(!D)return this;if(W=W||de,"string"==typeof D){if(!(U="<"===D[0]&&">"===D[D.length-1]&&3<=D.length?[null,D,null]:pe.exec(D))||!U[1]&&B)return!B||B.jquery?(B||W).find(D):this.constructor(B).find(D);if(U[1]){if(f.merge(this,f.parseHTML(U[1],(B=B instanceof f?B[0]:B)&&B.nodeType?B.ownerDocument||B:j,!0)),re.test(U[1])&&f.isPlainObject(B))for(U in B)rt(this[U])?this[U](B[U]):this.attr(U,B[U]);return this}return(le=j.getElementById(U[2]))&&(this[0]=le,this.length=1),this}return D.nodeType?(this[0]=D,this.length=1,this):rt(D)?void 0!==W.ready?W.ready(D):D(f):f.makeArray(D,this)}).prototype=f.fn,de=f(j);var ve=/^(?:parents|prev(?:Until|All))/,We={children:!0,contents:!0,next:!0,prev:!0};function Ie(D,B){for(;(D=D[B])&&1!==D.nodeType;);return D}f.fn.extend({has:function(D){var B=f(D,this),W=B.length;return this.filter(function(){for(var U=0;U<W;U++)if(f.contains(this,B[U]))return!0})},closest:function(D,B){var W,U=0,le=this.length,me=[],be="string"!=typeof D&&f(D);if(!H.test(D))for(;U<le;U++)for(W=this[U];W&&W!==B;W=W.parentNode)if(W.nodeType<11&&(be?-1<be.index(W):1===W.nodeType&&f.find.matchesSelector(W,D))){me.push(W);break}return this.pushStack(1<me.length?f.uniqueSort(me):me)},index:function(D){return D?"string"==typeof D?At.call(f(D),this[0]):At.call(this,D.jquery?D[0]:D):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(D,B){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(D,B))))},addBack:function(D){return this.add(null==D?this.prevObject:this.prevObject.filter(D))}}),f.each({parent:function(D){var B=D.parentNode;return B&&11!==B.nodeType?B:null},parents:function(D){return L(D,"parentNode")},parentsUntil:function(D,B,W){return L(D,"parentNode",W)},next:function(D){return Ie(D,"nextSibling")},prev:function(D){return Ie(D,"previousSibling")},nextAll:function(D){return L(D,"nextSibling")},prevAll:function(D){return L(D,"previousSibling")},nextUntil:function(D,B,W){return L(D,"nextSibling",W)},prevUntil:function(D,B,W){return L(D,"previousSibling",W)},siblings:function(D){return N((D.parentNode||{}).firstChild,D)},children:function(D){return N(D.firstChild)},contents:function(D){return null!=D.contentDocument&&Fe(D.contentDocument)?D.contentDocument:(q(D,"template")&&(D=D.content||D),f.merge([],D.childNodes))}},function(D,B){f.fn[D]=function(W,U){var le=f.map(this,B,W);return"Until"!==D.slice(-5)&&(U=W),U&&"string"==typeof U&&(le=f.filter(U,le)),1<this.length&&(We[D]||f.uniqueSort(le),ve.test(D)&&le.reverse()),this.pushStack(le)}});var Ne=/[^\x20\t\r\n\f]+/g;function F(D){return D}function Te(D){throw D}function ht(D,B,W,U){var le;try{D&&rt(le=D.promise)?le.call(D).done(B).fail(W):D&&rt(le=D.then)?le.call(D,B,W):B.apply(void 0,[D].slice(U))}catch(me){W.apply(void 0,[me])}}f.Callbacks=function(D){var W;D="string"==typeof D?(W={},f.each(D.match(Ne)||[],function(st,ct){W[ct]=!0}),W):f.extend({},D);var U,le,me,be,qe=[],Ye=[],et=-1,lt=function(){for(be=be||D.once,me=U=!0;Ye.length;et=-1)for(le=Ye.shift();++et<qe.length;)!1===qe[et].apply(le[0],le[1])&&D.stopOnFalse&&(et=qe.length,le=!1);D.memory||(le=!1),U=!1,be&&(qe=le?[]:"")},Lt={add:function(){return qe&&(le&&!U&&(et=qe.length-1,Ye.push(le)),function st(ct){f.each(ct,function(Kt,Jt){rt(Jt)?D.unique&&Lt.has(Jt)||qe.push(Jt):Jt&&Jt.length&&"string"!==u(Jt)&&st(Jt)})}(arguments),le&&!U&&lt()),this},remove:function(){return f.each(arguments,function(st,ct){for(var Kt;-1<(Kt=f.inArray(ct,qe,Kt));)qe.splice(Kt,1),Kt<=et&&et--}),this},has:function(st){return st?-1<f.inArray(st,qe):0<qe.length},empty:function(){return qe&&(qe=[]),this},disable:function(){return be=Ye=[],qe=le="",this},disabled:function(){return!qe},lock:function(){return be=Ye=[],le||U||(qe=le=""),this},locked:function(){return!!be},fireWith:function(st,ct){return be||(ct=[st,(ct=ct||[]).slice?ct.slice():ct],Ye.push(ct),U||lt()),this},fire:function(){return Lt.fireWith(this,arguments),this},fired:function(){return!!me}};return Lt},f.extend({Deferred:function(D){var B=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],W="pending",U={state:function(){return W},always:function(){return le.done(arguments).fail(arguments),this},catch:function(me){return U.then(null,me)},pipe:function(){var me=arguments;return f.Deferred(function(be){f.each(B,function(qe,Ye){var et=rt(me[Ye[4]])&&me[Ye[4]];le[Ye[1]](function(){var lt=et&&et.apply(this,arguments);lt&&rt(lt.promise)?lt.promise().progress(be.notify).done(be.resolve).fail(be.reject):be[Ye[0]+"With"](this,et?[lt]:arguments)})}),me=null}).promise()},then:function(me,be,qe){var Ye=0;function et(lt,Lt,st,ct){return function(){var Kt=this,Jt=arguments,Ut=function(){var tn,Jn;if(!(lt<Ye)){if((tn=st.apply(Kt,Jt))===Lt.promise())throw new TypeError("Thenable self-resolution");rt(Jn=tn&&("object"==typeof tn||"function"==typeof tn)&&tn.then)?ct?Jn.call(tn,et(Ye,Lt,F,ct),et(Ye,Lt,Te,ct)):(Ye++,Jn.call(tn,et(Ye,Lt,F,ct),et(Ye,Lt,Te,ct),et(Ye,Lt,F,Lt.notifyWith))):(st!==F&&(Kt=void 0,Jt=[tn]),(ct||Lt.resolveWith)(Kt,Jt))}},Ui=ct?Ut:function(){try{Ut()}catch(tn){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(tn,Ui.stackTrace),Ye<=lt+1&&(st!==Te&&(Kt=void 0,Jt=[tn]),Lt.rejectWith(Kt,Jt))}};lt?Ui():(f.Deferred.getStackHook&&(Ui.stackTrace=f.Deferred.getStackHook()),v.setTimeout(Ui))}}return f.Deferred(function(lt){B[0][3].add(et(0,lt,rt(qe)?qe:F,lt.notifyWith)),B[1][3].add(et(0,lt,rt(me)?me:F)),B[2][3].add(et(0,lt,rt(be)?be:Te))}).promise()},promise:function(me){return null!=me?f.extend(me,U):U}},le={};return f.each(B,function(me,be){var qe=be[2],Ye=be[5];U[be[1]]=qe.add,Ye&&qe.add(function(){W=Ye},B[3-me][2].disable,B[3-me][3].disable,B[0][2].lock,B[0][3].lock),qe.add(be[3].fire),le[be[0]]=function(){return le[be[0]+"With"](this===le?void 0:this,arguments),this},le[be[0]+"With"]=qe.fireWith}),U.promise(le),D&&D.call(le,le),le},when:function(D){var B=arguments.length,W=B,U=Array(W),le=at.call(arguments),me=f.Deferred(),be=function(qe){return function(Ye){U[qe]=this,le[qe]=1<arguments.length?at.call(arguments):Ye,--B||me.resolveWith(U,le)}};if(B<=1&&(ht(D,me.done(be(W)).resolve,me.reject,!B),"pending"===me.state()||rt(le[W]&&le[W].then)))return me.then();for(;W--;)ht(le[W],be(W),me.reject);return me.promise()}});var tt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(D,B){v.console&&v.console.warn&&D&&tt.test(D.name)&&v.console.warn("jQuery.Deferred exception: "+D.message,D.stack,B)},f.readyException=function(D){v.setTimeout(function(){throw D})};var zt=f.Deferred();function ft(){j.removeEventListener("DOMContentLoaded",ft),v.removeEventListener("load",ft),f.ready()}f.fn.ready=function(D){return zt.then(D).catch(function(B){f.readyException(B)}),this},f.extend({isReady:!1,readyWait:1,ready:function(D){(!0===D?--f.readyWait:f.isReady)||(f.isReady=!0)!==D&&0<--f.readyWait||zt.resolveWith(j,[f])}}),f.ready.then=zt.then,"complete"===j.readyState||"loading"!==j.readyState&&!j.documentElement.doScroll?v.setTimeout(f.ready):(j.addEventListener("DOMContentLoaded",ft),v.addEventListener("load",ft));var De=function(D,B,W,U,le,me,be){var qe=0,Ye=D.length,et=null==W;if("object"===u(W))for(qe in le=!0,W)De(D,B,qe,W[qe],!0,me,be);else if(void 0!==U&&(le=!0,rt(U)||(be=!0),et&&(be?(B.call(D,U),B=null):(et=B,B=function(lt,Lt,st){return et.call(f(lt),st)})),B))for(;qe<Ye;qe++)B(D[qe],W,be?U:U.call(D[qe],qe,B(D[qe],W)));return le?D:et?B.call(D):Ye?B(D[0],W):me},Q=/^-ms-/,ne=/-([a-z])/g;function ee(D,B){return B.toUpperCase()}function J(D){return D.replace(Q,"ms-").replace(ne,ee)}var we=function(D){return 1===D.nodeType||9===D.nodeType||!+D.nodeType};function Ge(){this.expando=f.expando+Ge.uid++}Ge.uid=1,Ge.prototype={cache:function(D){var B=D[this.expando];return B||(B={},we(D)&&(D.nodeType?D[this.expando]=B:Object.defineProperty(D,this.expando,{value:B,configurable:!0}))),B},set:function(D,B,W){var U,le=this.cache(D);if("string"==typeof B)le[J(B)]=W;else for(U in B)le[J(U)]=B[U];return le},get:function(D,B){return void 0===B?this.cache(D):D[this.expando]&&D[this.expando][J(B)]},access:function(D,B,W){return void 0===B||B&&"string"==typeof B&&void 0===W?this.get(D,B):(this.set(D,B,W),void 0!==W?W:B)},remove:function(D,B){var W,U=D[this.expando];if(void 0!==U){if(void 0!==B)for((W=(B=Array.isArray(B)?B.map(J):(B=J(B))in U?[B]:B.match(Ne)||[]).length);W--;)delete U[B[W]];(void 0===B||f.isEmptyObject(U))&&(D.nodeType?D[this.expando]=void 0:delete D[this.expando])}},hasData:function(D){var B=D[this.expando];return void 0!==B&&!f.isEmptyObject(B)}};var Pe=new Ge,Ve=new Ge,kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/[A-Z]/g;function wt(D,B,W){var U,le;if(void 0===W&&1===D.nodeType)if(U="data-"+B.replace(Rt,"-$&").toLowerCase(),"string"==typeof(W=D.getAttribute(U))){try{W="true"===(le=W)||"false"!==le&&("null"===le?null:le===+le+""?+le:kt.test(le)?JSON.parse(le):le)}catch(me){}Ve.set(D,B,W)}else W=void 0;return W}f.extend({hasData:function(D){return Ve.hasData(D)||Pe.hasData(D)},data:function(D,B,W){return Ve.access(D,B,W)},removeData:function(D,B){Ve.remove(D,B)},_data:function(D,B,W){return Pe.access(D,B,W)},_removeData:function(D,B){Pe.remove(D,B)}}),f.fn.extend({data:function(D,B){var W,U,le,me=this[0],be=me&&me.attributes;if(void 0===D){if(this.length&&(le=Ve.get(me),1===me.nodeType&&!Pe.get(me,"hasDataAttrs"))){for(W=be.length;W--;)be[W]&&0===(U=be[W].name).indexOf("data-")&&(U=J(U.slice(5)),wt(me,U,le[U]));Pe.set(me,"hasDataAttrs",!0)}return le}return"object"==typeof D?this.each(function(){Ve.set(this,D)}):De(this,function(qe){var Ye;if(me&&void 0===qe)return void 0!==(Ye=Ve.get(me,D))||void 0!==(Ye=wt(me,D))?Ye:void 0;this.each(function(){Ve.set(this,D,qe)})},null,B,1<arguments.length,null,!0)},removeData:function(D){return this.each(function(){Ve.remove(this,D)})}}),f.extend({queue:function(D,B,W){var U;if(D)return U=Pe.get(D,B=(B||"fx")+"queue"),W&&(!U||Array.isArray(W)?U=Pe.access(D,B,f.makeArray(W)):U.push(W)),U||[]},dequeue:function(D,B){var W=f.queue(D,B=B||"fx"),U=W.length,le=W.shift(),me=f._queueHooks(D,B);"inprogress"===le&&(le=W.shift(),U--),le&&("fx"===B&&W.unshift("inprogress"),delete me.stop,le.call(D,function(){f.dequeue(D,B)},me)),!U&&me&&me.empty.fire()},_queueHooks:function(D,B){var W=B+"queueHooks";return Pe.get(D,W)||Pe.access(D,W,{empty:f.Callbacks("once memory").add(function(){Pe.remove(D,[B+"queue",W])})})}}),f.fn.extend({queue:function(D,B){var W=2;return"string"!=typeof D&&(B=D,D="fx",W--),arguments.length<W?f.queue(this[0],D):void 0===B?this:this.each(function(){var U=f.queue(this,D,B);f._queueHooks(this,D),"fx"===D&&"inprogress"!==U[0]&&f.dequeue(this,D)})},dequeue:function(D){return this.each(function(){f.dequeue(this,D)})},clearQueue:function(D){return this.queue(D||"fx",[])},promise:function(D,B){var W,U=1,le=f.Deferred(),me=this,be=this.length,qe=function(){--U||le.resolveWith(me,[me])};for("string"!=typeof D&&(B=D,D=void 0),D=D||"fx";be--;)(W=Pe.get(me[be],D+"queueHooks"))&&W.empty&&(U++,W.empty.add(qe));return qe(),le.promise(B)}});var Yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xt=new RegExp("^(?:([+-])=|)("+Yt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],Et=j.documentElement,nt=function(D){return f.contains(D.ownerDocument,D)},ie={composed:!0};Et.getRootNode&&(nt=function(D){return f.contains(D.ownerDocument,D)||D.getRootNode(ie)===D.ownerDocument});var oe=function(D,B){return"none"===(D=B||D).style.display||""===D.style.display&&nt(D)&&"none"===f.css(D,"display")};function ue(D,B,W,U){var le,me,be=20,qe=U?function(){return U.cur()}:function(){return f.css(D,B,"")},Ye=qe(),et=W&&W[3]||(f.cssNumber[B]?"":"px"),lt=D.nodeType&&(f.cssNumber[B]||"px"!==et&&+Ye)&&Xt.exec(f.css(D,B));if(lt&&lt[3]!==et){for(et=et||lt[3],lt=+(Ye/=2)||1;be--;)f.style(D,B,lt+et),(1-me)*(1-(me=qe()/Ye||.5))<=0&&(be=0),lt/=me;f.style(D,B,(lt*=2)+et),W=W||[]}return W&&(lt=+lt||+Ye||0,le=W[1]?lt+(W[1]+1)*W[2]:+W[2],U&&(U.unit=et,U.start=lt,U.end=le)),le}var ge={};function _e(D,B){for(var W,U,le,me,be,qe,Ye,et=[],lt=0,Lt=D.length;lt<Lt;lt++)(U=D[lt]).style&&(W=U.style.display,B?("none"===W&&(et[lt]=Pe.get(U,"display")||null,et[lt]||(U.style.display="")),""===U.style.display&&oe(U)&&(et[lt]=(Ye=be=me=void 0,be=(le=U).ownerDocument,(Ye=ge[qe=le.nodeName])||(me=be.body.appendChild(be.createElement(qe)),Ye=f.css(me,"display"),me.parentNode.removeChild(me),"none"===Ye&&(Ye="block"),ge[qe]=Ye)))):"none"!==W&&(et[lt]="none",Pe.set(U,"display",W)));for(lt=0;lt<Lt;lt++)null!=et[lt]&&(D[lt].style.display=et[lt]);return D}f.fn.extend({show:function(){return _e(this,!0)},hide:function(){return _e(this)},toggle:function(D){return"boolean"==typeof D?D?this.show():this.hide():this.each(function(){oe(this)?f(this).show():f(this).hide()})}});var Oe,Ae,ce=/^(?:checkbox|radio)$/i,K=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,se=/^$|^module$|\/(?:java|ecma)script/i;Oe=j.createDocumentFragment().appendChild(j.createElement("div")),(Ae=j.createElement("input")).setAttribute("type","radio"),Ae.setAttribute("checked","checked"),Ae.setAttribute("name","t"),Oe.appendChild(Ae),Ke.checkClone=Oe.cloneNode(!0).cloneNode(!0).lastChild.checked,Oe.innerHTML="<textarea>x</textarea>",Ke.noCloneChecked=!!Oe.cloneNode(!0).lastChild.defaultValue,Oe.innerHTML="<option></option>",Ke.option=!!Oe.lastChild;var Me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xe(D,B){var W;return W=void 0!==D.getElementsByTagName?D.getElementsByTagName(B||"*"):void 0!==D.querySelectorAll?D.querySelectorAll(B||"*"):[],void 0===B||B&&q(D,B)?f.merge([D],W):W}function He(D,B){for(var W=0,U=D.length;W<U;W++)Pe.set(D[W],"globalEval",!B||Pe.get(B[W],"globalEval"))}Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,Ke.option||(Me.optgroup=Me.option=[1,"<select multiple='multiple'>","</select>"]);var Xe=/<|&#?\w+;/;function $e(D,B,W,U,le){for(var me,be,qe,Ye,et,lt,Lt=B.createDocumentFragment(),st=[],ct=0,Kt=D.length;ct<Kt;ct++)if((me=D[ct])||0===me)if("object"===u(me))f.merge(st,me.nodeType?[me]:me);else if(Xe.test(me)){for(be=be||Lt.appendChild(B.createElement("div")),qe=(K.exec(me)||["",""])[1].toLowerCase(),be.innerHTML=(Ye=Me[qe]||Me._default)[1]+f.htmlPrefilter(me)+Ye[2],lt=Ye[0];lt--;)be=be.lastChild;f.merge(st,be.childNodes),(be=Lt.firstChild).textContent=""}else st.push(B.createTextNode(me));for(Lt.textContent="",ct=0;me=st[ct++];)if(U&&-1<f.inArray(me,U))le&&le.push(me);else if(et=nt(me),be=xe(Lt.appendChild(me),"script"),et&&He(be),W)for(lt=0;me=be[lt++];)se.test(me.type||"")&&W.push(me);return Lt}var Be=/^([^.]*)(?:\.(.+)|)/;function Ze(){return!0}function _t(){return!1}function It(D,B){return D===function(){try{return j.activeElement}catch(W){}}()==("focus"===B)}function Vt(D,B,W,U,le,me){var be,qe;if("object"==typeof B){for(qe in"string"!=typeof W&&(U=U||W,W=void 0),B)Vt(D,qe,W,U,B[qe],me);return D}if(null==U&&null==le?(le=W,U=W=void 0):null==le&&("string"==typeof W?(le=U,U=void 0):(le=U,U=W,W=void 0)),!1===le)le=_t;else if(!le)return D;return 1===me&&(be=le,(le=function(Ye){return f().off(Ye),be.apply(this,arguments)}).guid=be.guid||(be.guid=f.guid++)),D.each(function(){f.event.add(this,B,le,U,W)})}function Wt(D,B,W){W?(Pe.set(D,B,!1),f.event.add(D,B,{namespace:!1,handler:function(U){var le,me,be=Pe.get(this,B);if(1&U.isTrigger&&this[B]){if(be.length)(f.event.special[B]||{}).delegateType&&U.stopPropagation();else if(be=at.call(arguments),Pe.set(this,B,be),le=W(this,B),this[B](),be!==(me=Pe.get(this,B))||le?Pe.set(this,B,!1):me={},be!==me)return U.stopImmediatePropagation(),U.preventDefault(),me&&me.value}else be.length&&(Pe.set(this,B,{value:f.event.trigger(f.extend(be[0],f.Event.prototype),be.slice(1),this)}),U.stopImmediatePropagation())}})):void 0===Pe.get(D,B)&&f.event.add(D,B,Ze)}f.event={global:{},add:function(D,B,W,U,le){var me,be,qe,Ye,et,lt,Lt,st,ct,Kt,Jt,Ut=Pe.get(D);if(we(D))for(W.handler&&(W=(me=W).handler,le=me.selector),le&&f.find.matchesSelector(Et,le),W.guid||(W.guid=f.guid++),(Ye=Ut.events)||(Ye=Ut.events=Object.create(null)),(be=Ut.handle)||(be=Ut.handle=function(Ui){return void 0!==f&&f.event.triggered!==Ui.type?f.event.dispatch.apply(D,arguments):void 0}),et=(B=(B||"").match(Ne)||[""]).length;et--;)ct=Jt=(qe=Be.exec(B[et])||[])[1],Kt=(qe[2]||"").split(".").sort(),ct&&(Lt=f.event.special[ct]||{},Lt=f.event.special[ct=(le?Lt.delegateType:Lt.bindType)||ct]||{},lt=f.extend({type:ct,origType:Jt,data:U,handler:W,guid:W.guid,selector:le,needsContext:le&&f.expr.match.needsContext.test(le),namespace:Kt.join(".")},me),(st=Ye[ct])||((st=Ye[ct]=[]).delegateCount=0,Lt.setup&&!1!==Lt.setup.call(D,U,Kt,be)||D.addEventListener&&D.addEventListener(ct,be)),Lt.add&&(Lt.add.call(D,lt),lt.handler.guid||(lt.handler.guid=W.guid)),le?st.splice(st.delegateCount++,0,lt):st.push(lt),f.event.global[ct]=!0)},remove:function(D,B,W,U,le){var me,be,qe,Ye,et,lt,Lt,st,ct,Kt,Jt,Ut=Pe.hasData(D)&&Pe.get(D);if(Ut&&(Ye=Ut.events)){for(et=(B=(B||"").match(Ne)||[""]).length;et--;)if(ct=Jt=(qe=Be.exec(B[et])||[])[1],Kt=(qe[2]||"").split(".").sort(),ct){for(Lt=f.event.special[ct]||{},st=Ye[ct=(U?Lt.delegateType:Lt.bindType)||ct]||[],qe=qe[2]&&new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"),be=me=st.length;me--;)lt=st[me],!le&&Jt!==lt.origType||W&&W.guid!==lt.guid||qe&&!qe.test(lt.namespace)||U&&U!==lt.selector&&("**"!==U||!lt.selector)||(st.splice(me,1),lt.selector&&st.delegateCount--,Lt.remove&&Lt.remove.call(D,lt));be&&!st.length&&(Lt.teardown&&!1!==Lt.teardown.call(D,Kt,Ut.handle)||f.removeEvent(D,ct,Ut.handle),delete Ye[ct])}else for(ct in Ye)f.event.remove(D,ct+B[et],W,U,!0);f.isEmptyObject(Ye)&&Pe.remove(D,"handle events")}},dispatch:function(D){var B,W,U,le,me,be,qe=new Array(arguments.length),Ye=f.event.fix(D),et=(Pe.get(this,"events")||Object.create(null))[Ye.type]||[],lt=f.event.special[Ye.type]||{};for(qe[0]=Ye,B=1;B<arguments.length;B++)qe[B]=arguments[B];if(Ye.delegateTarget=this,!lt.preDispatch||!1!==lt.preDispatch.call(this,Ye)){for(be=f.event.handlers.call(this,Ye,et),B=0;(le=be[B++])&&!Ye.isPropagationStopped();)for(Ye.currentTarget=le.elem,W=0;(me=le.handlers[W++])&&!Ye.isImmediatePropagationStopped();)Ye.rnamespace&&!1!==me.namespace&&!Ye.rnamespace.test(me.namespace)||(Ye.handleObj=me,Ye.data=me.data,void 0!==(U=((f.event.special[me.origType]||{}).handle||me.handler).apply(le.elem,qe))&&!1===(Ye.result=U)&&(Ye.preventDefault(),Ye.stopPropagation()));return lt.postDispatch&&lt.postDispatch.call(this,Ye),Ye.result}},handlers:function(D,B){var W,U,le,me,be,qe=[],Ye=B.delegateCount,et=D.target;if(Ye&&et.nodeType&&!("click"===D.type&&1<=D.button))for(;et!==this;et=et.parentNode||this)if(1===et.nodeType&&("click"!==D.type||!0!==et.disabled)){for(me=[],be={},W=0;W<Ye;W++)void 0===be[le=(U=B[W]).selector+" "]&&(be[le]=U.needsContext?-1<f(le,this).index(et):f.find(le,this,null,[et]).length),be[le]&&me.push(U);me.length&&qe.push({elem:et,handlers:me})}return et=this,Ye<B.length&&qe.push({elem:et,handlers:B.slice(Ye)}),qe},addProp:function(D,B){Object.defineProperty(f.Event.prototype,D,{enumerable:!0,configurable:!0,get:rt(B)?function(){if(this.originalEvent)return B(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[D]},set:function(W){Object.defineProperty(this,D,{enumerable:!0,configurable:!0,writable:!0,value:W})}})},fix:function(D){return D[f.expando]?D:new f.Event(D)},special:{load:{noBubble:!0},click:{setup:function(D){var B=this||D;return ce.test(B.type)&&B.click&&q(B,"input")&&Wt(B,"click",Ze),!1},trigger:function(D){var B=this||D;return ce.test(B.type)&&B.click&&q(B,"input")&&Wt(B,"click"),!0},_default:function(D){var B=D.target;return ce.test(B.type)&&B.click&&q(B,"input")&&Pe.get(B,"click")||q(B,"a")}},beforeunload:{postDispatch:function(D){void 0!==D.result&&D.originalEvent&&(D.originalEvent.returnValue=D.result)}}}},f.removeEvent=function(D,B,W){D.removeEventListener&&D.removeEventListener(B,W)},f.Event=function(D,B){if(!(this instanceof f.Event))return new f.Event(D,B);D&&D.type?(this.originalEvent=D,this.type=D.type,this.isDefaultPrevented=D.defaultPrevented||void 0===D.defaultPrevented&&!1===D.returnValue?Ze:_t,this.target=D.target&&3===D.target.nodeType?D.target.parentNode:D.target,this.currentTarget=D.currentTarget,this.relatedTarget=D.relatedTarget):this.type=D,B&&f.extend(this,B),this.timeStamp=D&&D.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:_t,isPropagationStopped:_t,isImmediatePropagationStopped:_t,isSimulated:!1,preventDefault:function(){var D=this.originalEvent;this.isDefaultPrevented=Ze,D&&!this.isSimulated&&D.preventDefault()},stopPropagation:function(){var D=this.originalEvent;this.isPropagationStopped=Ze,D&&!this.isSimulated&&D.stopPropagation()},stopImmediatePropagation:function(){var D=this.originalEvent;this.isImmediatePropagationStopped=Ze,D&&!this.isSimulated&&D.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(D,B){f.event.special[D]={setup:function(){return Wt(this,D,It),!1},trigger:function(){return Wt(this,D),!0},_default:function(W){return Pe.get(W.target,D)},delegateType:B}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(D,B){f.event.special[D]={delegateType:B,bindType:B,handle:function(W){var U,le=W.relatedTarget,me=W.handleObj;return le&&(le===this||f.contains(this,le))||(W.type=me.origType,U=me.handler.apply(this,arguments),W.type=B),U}}}),f.fn.extend({on:function(D,B,W,U){return Vt(this,D,B,W,U)},one:function(D,B,W,U){return Vt(this,D,B,W,U,1)},off:function(D,B,W){var U,le;if(D&&D.preventDefault&&D.handleObj)return U=D.handleObj,f(D.delegateTarget).off(U.namespace?U.origType+"."+U.namespace:U.origType,U.selector,U.handler),this;if("object"==typeof D){for(le in D)this.off(le,B,D[le]);return this}return!1!==B&&"function"!=typeof B||(W=B,B=void 0),!1===W&&(W=_t),this.each(function(){f.event.remove(this,D,W,B)})}});var $t=/<script|<style|<link/i,Zt=/checked\s*(?:[^=]|=\s*.checked.)/i,ki=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ei(D,B){return q(D,"table")&&q(11!==B.nodeType?B:B.firstChild,"tr")&&f(D).children("tbody")[0]||D}function Pi(D){return D.type=(null!==D.getAttribute("type"))+"/"+D.type,D}function Ti(D){return"true/"===(D.type||"").slice(0,5)?D.type=D.type.slice(5):D.removeAttribute("type"),D}function rn(D,B){var W,U,le,me,be,qe;if(1===B.nodeType){if(Pe.hasData(D)&&(qe=Pe.get(D).events))for(le in Pe.remove(B,"handle events"),qe)for(W=0,U=qe[le].length;W<U;W++)f.event.add(B,le,qe[le][W]);Ve.hasData(D)&&(me=Ve.access(D),be=f.extend({},me),Ve.set(B,be))}}function Dn(D,B,W,U){B=vt(B);var le,me,be,qe,Ye,et,lt=0,Lt=D.length,st=Lt-1,ct=B[0],Kt=rt(ct);if(Kt||1<Lt&&"string"==typeof ct&&!Ke.checkClone&&Zt.test(ct))return D.each(function(Jt){var Ut=D.eq(Jt);Kt&&(B[0]=ct.call(this,Jt,Ut.html())),Dn(Ut,B,W,U)});if(Lt&&(me=(le=$e(B,D[0].ownerDocument,!1,D,U)).firstChild,1===le.childNodes.length&&(le=me),me||U)){for(qe=(be=f.map(xe(le,"script"),Pi)).length;lt<Lt;lt++)Ye=le,lt!==st&&(Ye=f.clone(Ye,!0,!0),qe&&f.merge(be,xe(Ye,"script"))),W.call(D[lt],Ye,lt);if(qe)for(et=be[be.length-1].ownerDocument,f.map(be,Ti),lt=0;lt<qe;lt++)se.test((Ye=be[lt]).type||"")&&!Pe.access(Ye,"globalEval")&&f.contains(et,Ye)&&(Ye.src&&"module"!==(Ye.type||"").toLowerCase()?f._evalUrl&&!Ye.noModule&&f._evalUrl(Ye.src,{nonce:Ye.nonce||Ye.getAttribute("nonce")},et):R(Ye.textContent.replace(ki,""),Ye,et))}return D}function Zn(D,B,W){for(var U,le=B?f.filter(B,D):D,me=0;null!=(U=le[me]);me++)W||1!==U.nodeType||f.cleanData(xe(U)),U.parentNode&&(W&&nt(U)&&He(xe(U,"script")),U.parentNode.removeChild(U));return D}f.extend({htmlPrefilter:function(D){return D},clone:function(D,B,W){var U,le,me,be,qe,Ye,et,lt=D.cloneNode(!0),Lt=nt(D);if(!(Ke.noCloneChecked||1!==D.nodeType&&11!==D.nodeType||f.isXMLDoc(D)))for(be=xe(lt),U=0,le=(me=xe(D)).length;U<le;U++)qe=me[U],"input"===(et=(Ye=be[U]).nodeName.toLowerCase())&&ce.test(qe.type)?Ye.checked=qe.checked:"input"!==et&&"textarea"!==et||(Ye.defaultValue=qe.defaultValue);if(B)if(W)for(me=me||xe(D),be=be||xe(lt),U=0,le=me.length;U<le;U++)rn(me[U],be[U]);else rn(D,lt);return 0<(be=xe(lt,"script")).length&&He(be,!Lt&&xe(D,"script")),lt},cleanData:function(D){for(var B,W,U,le=f.event.special,me=0;void 0!==(W=D[me]);me++)if(we(W)){if(B=W[Pe.expando]){if(B.events)for(U in B.events)le[U]?f.event.remove(W,U):f.removeEvent(W,U,B.handle);W[Pe.expando]=void 0}W[Ve.expando]&&(W[Ve.expando]=void 0)}}}),f.fn.extend({detach:function(D){return Zn(this,D,!0)},remove:function(D){return Zn(this,D)},text:function(D){return De(this,function(B){return void 0===B?f.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=B)})},null,D,arguments.length)},append:function(){return Dn(this,arguments,function(D){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ei(this,D).appendChild(D)})},prepend:function(){return Dn(this,arguments,function(D){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var B=ei(this,D);B.insertBefore(D,B.firstChild)}})},before:function(){return Dn(this,arguments,function(D){this.parentNode&&this.parentNode.insertBefore(D,this)})},after:function(){return Dn(this,arguments,function(D){this.parentNode&&this.parentNode.insertBefore(D,this.nextSibling)})},empty:function(){for(var D,B=0;null!=(D=this[B]);B++)1===D.nodeType&&(f.cleanData(xe(D,!1)),D.textContent="");return this},clone:function(D,B){return D=null!=D&&D,B=null==B?D:B,this.map(function(){return f.clone(this,D,B)})},html:function(D){return De(this,function(B){var W=this[0]||{},U=0,le=this.length;if(void 0===B&&1===W.nodeType)return W.innerHTML;if("string"==typeof B&&!$t.test(B)&&!Me[(K.exec(B)||["",""])[1].toLowerCase()]){B=f.htmlPrefilter(B);try{for(;U<le;U++)1===(W=this[U]||{}).nodeType&&(f.cleanData(xe(W,!1)),W.innerHTML=B);W=0}catch(me){}}W&&this.empty().append(B)},null,D,arguments.length)},replaceWith:function(){var D=[];return Dn(this,arguments,function(B){var W=this.parentNode;f.inArray(this,D)<0&&(f.cleanData(xe(this)),W&&W.replaceChild(B,this))},D)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(D,B){f.fn[D]=function(W){for(var U,le=[],me=f(W),be=me.length-1,qe=0;qe<=be;qe++)U=qe===be?this:this.clone(!0),f(me[qe])[B](U),Pt.apply(le,U.get());return this.pushStack(le)}});var Qn=new RegExp("^("+Yt+")(?!px)[a-z%]+$","i"),wn=/^--/,Vr=function(D){var B=D.ownerDocument.defaultView;return B&&B.opener||(B=v),B.getComputedStyle(D)},An=function(D,B,W){var U,le,me={};for(le in B)me[le]=D.style[le],D.style[le]=B[le];for(le in U=W.call(D),B)D.style[le]=me[le];return U},as=new RegExp(Ht.join("|"),"i"),ii="[\\x20\\t\\r\\n\\f]",ji=new RegExp("^"+ii+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ii+"+$","g");function bi(D,B,W){var U,le,me,be,qe=wn.test(B),Ye=D.style;return(W=W||Vr(D))&&(be=W.getPropertyValue(B)||W[B],qe&&be&&(be=be.replace(ji,"$1")||void 0),""!==be||nt(D)||(be=f.style(D,B)),!Ke.pixelBoxStyles()&&Qn.test(be)&&as.test(B)&&(U=Ye.width,le=Ye.minWidth,me=Ye.maxWidth,Ye.minWidth=Ye.maxWidth=Ye.width=be,be=W.width,Ye.width=U,Ye.minWidth=le,Ye.maxWidth=me)),void 0!==be?be+"":be}function pn(D,B){return{get:function(){if(!D())return(this.get=B).apply(this,arguments);delete this.get}}}!function(){function D(){if(et){Ye.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",et.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Et.appendChild(Ye).appendChild(et);var lt=v.getComputedStyle(et);W="1%"!==lt.top,qe=12===B(lt.marginLeft),et.style.right="60%",me=36===B(lt.right),U=36===B(lt.width),et.style.position="absolute",le=12===B(et.offsetWidth/3),Et.removeChild(Ye),et=null}}function B(lt){return Math.round(parseFloat(lt))}var W,U,le,me,be,qe,Ye=j.createElement("div"),et=j.createElement("div");et.style&&(et.style.backgroundClip="content-box",et.cloneNode(!0).style.backgroundClip="",Ke.clearCloneStyle="content-box"===et.style.backgroundClip,f.extend(Ke,{boxSizingReliable:function(){return D(),U},pixelBoxStyles:function(){return D(),me},pixelPosition:function(){return D(),W},reliableMarginLeft:function(){return D(),qe},scrollboxSize:function(){return D(),le},reliableTrDimensions:function(){var lt,Lt,st,ct;return null==be&&(lt=j.createElement("table"),Lt=j.createElement("tr"),st=j.createElement("div"),lt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Lt.style.cssText="border:1px solid",Lt.style.height="1px",st.style.height="9px",st.style.display="block",Et.appendChild(lt).appendChild(Lt).appendChild(st),ct=v.getComputedStyle(Lt),be=parseInt(ct.height,10)+parseInt(ct.borderTopWidth,10)+parseInt(ct.borderBottomWidth,10)===Lt.offsetHeight,Et.removeChild(lt)),be}}))}();var Ln=["Webkit","Moz","ms"],Fr=j.createElement("div").style,_r={};function xr(D){return f.cssProps[D]||_r[D]||(D in Fr?D:_r[D]=function(W){for(var U=W[0].toUpperCase()+W.slice(1),le=Ln.length;le--;)if((W=Ln[le]+U)in Fr)return W}(D)||D)}var Sn=/^(none|table(?!-c[ea]).+)/,gl={position:"absolute",visibility:"hidden",display:"block"},ml={letterSpacing:"0",fontWeight:"400"};function Bh(D,B,W){var U=Xt.exec(B);return U?Math.max(0,U[2]-(W||0))+(U[3]||"px"):B}function vl(D,B,W,U,le,me){var be="width"===B?1:0,qe=0,Ye=0;if(W===(U?"border":"content"))return 0;for(;be<4;be+=2)"margin"===W&&(Ye+=f.css(D,W+Ht[be],!0,le)),U?("content"===W&&(Ye-=f.css(D,"padding"+Ht[be],!0,le)),"margin"!==W&&(Ye-=f.css(D,"border"+Ht[be]+"Width",!0,le))):(Ye+=f.css(D,"padding"+Ht[be],!0,le),"padding"!==W?Ye+=f.css(D,"border"+Ht[be]+"Width",!0,le):qe+=f.css(D,"border"+Ht[be]+"Width",!0,le));return!U&&0<=me&&(Ye+=Math.max(0,Math.ceil(D["offset"+B[0].toUpperCase()+B.slice(1)]-me-Ye-qe-.5))||0),Ye}function yl(D,B,W){var U=Vr(D),le=(!Ke.boxSizingReliable()||W)&&"border-box"===f.css(D,"boxSizing",!1,U),me=le,be=bi(D,B,U),qe="offset"+B[0].toUpperCase()+B.slice(1);if(Qn.test(be)){if(!W)return be;be="auto"}return(!Ke.boxSizingReliable()&&le||!Ke.reliableTrDimensions()&&q(D,"tr")||"auto"===be||!parseFloat(be)&&"inline"===f.css(D,"display",!1,U))&&D.getClientRects().length&&(le="border-box"===f.css(D,"boxSizing",!1,U),(me=qe in D)&&(be=D[qe])),(be=parseFloat(be)||0)+vl(D,B,W||(le?"border":"content"),me,U,be)+"px"}function hr(D,B,W,U,le){return new hr.prototype.init(D,B,W,U,le)}f.extend({cssHooks:{opacity:{get:function(D,B){if(B){var W=bi(D,"opacity");return""===W?"1":W}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(D,B,W,U){if(D&&3!==D.nodeType&&8!==D.nodeType&&D.style){var le,me,be,qe=J(B),Ye=wn.test(B),et=D.style;if(Ye||(B=xr(qe)),be=f.cssHooks[B]||f.cssHooks[qe],void 0===W)return be&&"get"in be&&void 0!==(le=be.get(D,!1,U))?le:et[B];"string"==(me=typeof W)&&(le=Xt.exec(W))&&le[1]&&(W=ue(D,B,le),me="number"),null!=W&&W==W&&("number"!==me||Ye||(W+=le&&le[3]||(f.cssNumber[qe]?"":"px")),Ke.clearCloneStyle||""!==W||0!==B.indexOf("background")||(et[B]="inherit"),be&&"set"in be&&void 0===(W=be.set(D,W,U))||(Ye?et.setProperty(B,W):et[B]=W))}},css:function(D,B,W,U){var le,me,be,qe=J(B);return wn.test(B)||(B=xr(qe)),(be=f.cssHooks[B]||f.cssHooks[qe])&&"get"in be&&(le=be.get(D,!0,W)),void 0===le&&(le=bi(D,B,U)),"normal"===le&&B in ml&&(le=ml[B]),""===W||W?(me=parseFloat(le),!0===W||isFinite(me)?me||0:le):le}}),f.each(["height","width"],function(D,B){f.cssHooks[B]={get:function(W,U,le){if(U)return!Sn.test(f.css(W,"display"))||W.getClientRects().length&&W.getBoundingClientRect().width?yl(W,B,le):An(W,gl,function(){return yl(W,B,le)})},set:function(W,U,le){var me,be=Vr(W),qe=!Ke.scrollboxSize()&&"absolute"===be.position,Ye=(qe||le)&&"border-box"===f.css(W,"boxSizing",!1,be),et=le?vl(W,B,le,Ye,be):0;return Ye&&qe&&(et-=Math.ceil(W["offset"+B[0].toUpperCase()+B.slice(1)]-parseFloat(be[B])-vl(W,B,"border",!1,be)-.5)),et&&(me=Xt.exec(U))&&"px"!==(me[3]||"px")&&(W.style[B]=U,U=f.css(W,B)),Bh(0,U,et)}}}),f.cssHooks.marginLeft=pn(Ke.reliableMarginLeft,function(D,B){if(B)return(parseFloat(bi(D,"marginLeft"))||D.getBoundingClientRect().left-An(D,{marginLeft:0},function(){return D.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(D,B){f.cssHooks[D+B]={expand:function(W){for(var U=0,le={},me="string"==typeof W?W.split(" "):[W];U<4;U++)le[D+Ht[U]+B]=me[U]||me[U-2]||me[0];return le}},"margin"!==D&&(f.cssHooks[D+B].set=Bh)}),f.fn.extend({css:function(D,B){return De(this,function(W,U,le){var me,be,qe={},Ye=0;if(Array.isArray(U)){for(me=Vr(W),be=U.length;Ye<be;Ye++)qe[U[Ye]]=f.css(W,U[Ye],!1,me);return qe}return void 0!==le?f.style(W,U,le):f.css(W,U)},D,B,1<arguments.length)}}),((f.Tween=hr).prototype={constructor:hr,init:function(D,B,W,U,le,me){this.elem=D,this.prop=W,this.easing=le||f.easing._default,this.options=B,this.start=this.now=this.cur(),this.end=U,this.unit=me||(f.cssNumber[W]?"":"px")},cur:function(){var D=hr.propHooks[this.prop];return D&&D.get?D.get(this):hr.propHooks._default.get(this)},run:function(D){var B,W=hr.propHooks[this.prop];return this.pos=B=this.options.duration?f.easing[this.easing](D,this.options.duration*D,0,1,this.options.duration):D,this.now=(this.end-this.start)*B+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),W&&W.set?W.set(this):hr.propHooks._default.set(this),this}}).init.prototype=hr.prototype,(hr.propHooks={_default:{get:function(D){var B;return 1!==D.elem.nodeType||null!=D.elem[D.prop]&&null==D.elem.style[D.prop]?D.elem[D.prop]:(B=f.css(D.elem,D.prop,""))&&"auto"!==B?B:0},set:function(D){f.fx.step[D.prop]?f.fx.step[D.prop](D):1!==D.elem.nodeType||!f.cssHooks[D.prop]&&null==D.elem.style[xr(D.prop)]?D.elem[D.prop]=D.now:f.style(D.elem,D.prop,D.now+D.unit)}}}).scrollTop=hr.propHooks.scrollLeft={set:function(D){D.elem.nodeType&&D.elem.parentNode&&(D.elem[D.prop]=D.now)}},f.easing={linear:function(D){return D},swing:function(D){return.5-Math.cos(D*Math.PI)/2},_default:"swing"},f.fx=hr.prototype.init,f.fx.step={};var qo,_l,ba,Vn,Tf=/^(?:toggle|show|hide)$/,jh=/queueHooks$/;function Hh(){_l&&(!1===j.hidden&&v.requestAnimationFrame?v.requestAnimationFrame(Hh):v.setTimeout(Hh,f.fx.interval),f.fx.tick())}function xl(){return v.setTimeout(function(){qo=void 0}),qo=Date.now()}function ss(D,B){var W,U=0,le={height:D};for(B=B?1:0;U<4;U+=2-B)le["margin"+(W=Ht[U])]=le["padding"+W]=D;return B&&(le.opacity=le.width=D),le}function bl(D,B,W){for(var U,le=(un.tweeners[B]||[]).concat(un.tweeners["*"]),me=0,be=le.length;me<be;me++)if(U=le[me].call(W,B,D))return U}function un(D,B,W){var U,le,me=0,be=un.prefilters.length,qe=f.Deferred().always(function(){delete Ye.elem}),Ye=function(){if(le)return!1;for(var Lt=qo||xl(),st=Math.max(0,et.startTime+et.duration-Lt),ct=1-(st/et.duration||0),Kt=0,Jt=et.tweens.length;Kt<Jt;Kt++)et.tweens[Kt].run(ct);return qe.notifyWith(D,[et,ct,st]),ct<1&&Jt?st:(Jt||qe.notifyWith(D,[et,1,0]),qe.resolveWith(D,[et]),!1)},et=qe.promise({elem:D,props:f.extend({},B),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},W),originalProperties:B,originalOptions:W,startTime:qo||xl(),duration:W.duration,tweens:[],createTween:function(Lt,st){var ct=f.Tween(D,et.opts,Lt,st,et.opts.specialEasing[Lt]||et.opts.easing);return et.tweens.push(ct),ct},stop:function(Lt){var st=0,ct=Lt?et.tweens.length:0;if(le)return this;for(le=!0;st<ct;st++)et.tweens[st].run(1);return Lt?(qe.notifyWith(D,[et,1,0]),qe.resolveWith(D,[et,Lt])):qe.rejectWith(D,[et,Lt]),this}}),lt=et.props;for(function(Lt,st){var ct,Kt,Jt,Ut,Ui;for(ct in Lt)if(Jt=st[Kt=J(ct)],Ut=Lt[ct],Array.isArray(Ut)&&(Jt=Ut[1],Ut=Lt[ct]=Ut[0]),ct!==Kt&&(Lt[Kt]=Ut,delete Lt[ct]),(Ui=f.cssHooks[Kt])&&"expand"in Ui)for(ct in Ut=Ui.expand(Ut),delete Lt[Kt],Ut)ct in Lt||(Lt[ct]=Ut[ct],st[ct]=Jt);else st[Kt]=Jt}(lt,et.opts.specialEasing);me<be;me++)if(U=un.prefilters[me].call(et,D,lt,et.opts))return rt(U.stop)&&(f._queueHooks(et.elem,et.opts.queue).stop=U.stop.bind(U)),U;return f.map(lt,bl,et),rt(et.opts.start)&&et.opts.start.call(D,et),et.progress(et.opts.progress).done(et.opts.done,et.opts.complete).fail(et.opts.fail).always(et.opts.always),f.fx.timer(f.extend(Ye,{elem:D,anim:et,queue:et.opts.queue})),et}f.Animation=f.extend(un,{tweeners:{"*":[function(D,B){var W=this.createTween(D,B);return ue(W.elem,D,Xt.exec(B),W),W}]},tweener:function(D,B){rt(D)?(B=D,D=["*"]):D=D.match(Ne);for(var W,U=0,le=D.length;U<le;U++)(un.tweeners[W=D[U]]=un.tweeners[W]||[]).unshift(B)},prefilters:[function(D,B,W){var U,le,me,be,qe,Ye,et,lt,Lt="width"in B||"height"in B,st=this,ct={},Kt=D.style,Jt=D.nodeType&&oe(D),Ut=Pe.get(D,"fxshow");for(U in W.queue||(null==(be=f._queueHooks(D,"fx")).unqueued&&(be.unqueued=0,qe=be.empty.fire,be.empty.fire=function(){be.unqueued||qe()}),be.unqueued++,st.always(function(){st.always(function(){be.unqueued--,f.queue(D,"fx").length||be.empty.fire()})})),B)if(Tf.test(le=B[U])){if(delete B[U],me=me||"toggle"===le,le===(Jt?"hide":"show")){if("show"!==le||!Ut||void 0===Ut[U])continue;Jt=!0}ct[U]=Ut&&Ut[U]||f.style(D,U)}if((Ye=!f.isEmptyObject(B))||!f.isEmptyObject(ct))for(U in Lt&&1===D.nodeType&&(W.overflow=[Kt.overflow,Kt.overflowX,Kt.overflowY],null==(et=Ut&&Ut.display)&&(et=Pe.get(D,"display")),"none"===(lt=f.css(D,"display"))&&(et?lt=et:(_e([D],!0),et=D.style.display||et,lt=f.css(D,"display"),_e([D]))),("inline"===lt||"inline-block"===lt&&null!=et)&&"none"===f.css(D,"float")&&(Ye||(st.done(function(){Kt.display=et}),null==et&&(et="none"===(lt=Kt.display)?"":lt)),Kt.display="inline-block")),W.overflow&&(Kt.overflow="hidden",st.always(function(){Kt.overflow=W.overflow[0],Kt.overflowX=W.overflow[1],Kt.overflowY=W.overflow[2]})),Ye=!1,ct)Ye||(Ut?"hidden"in Ut&&(Jt=Ut.hidden):Ut=Pe.access(D,"fxshow",{display:et}),me&&(Ut.hidden=!Jt),Jt&&_e([D],!0),st.done(function(){for(U in Jt||_e([D]),Pe.remove(D,"fxshow"),ct)f.style(D,U,ct[U])})),Ye=bl(Jt?Ut[U]:0,U,st),U in Ut||(Ut[U]=Ye.start,Jt&&(Ye.end=Ye.start,Ye.start=0))}],prefilter:function(D,B){B?un.prefilters.unshift(D):un.prefilters.push(D)}}),f.speed=function(D,B,W){var U=D&&"object"==typeof D?f.extend({},D):{complete:W||!W&&B||rt(D)&&D,duration:D,easing:W&&B||B&&!rt(B)&&B};return f.fx.off?U.duration=0:"number"!=typeof U.duration&&(U.duration=U.duration in f.fx.speeds?f.fx.speeds[U.duration]:f.fx.speeds._default),null!=U.queue&&!0!==U.queue||(U.queue="fx"),U.old=U.complete,U.complete=function(){rt(U.old)&&U.old.call(this),U.queue&&f.dequeue(this,U.queue)},U},f.fn.extend({fadeTo:function(D,B,W,U){return this.filter(oe).css("opacity",0).show().end().animate({opacity:B},D,W,U)},animate:function(D,B,W,U){var le=f.isEmptyObject(D),me=f.speed(B,W,U),be=function(){var qe=un(this,f.extend({},D),me);(le||Pe.get(this,"finish"))&&qe.stop(!0)};return be.finish=be,le||!1===me.queue?this.each(be):this.queue(me.queue,be)},stop:function(D,B,W){var U=function(le){var me=le.stop;delete le.stop,me(W)};return"string"!=typeof D&&(W=B,B=D,D=void 0),B&&this.queue(D||"fx",[]),this.each(function(){var le=!0,me=null!=D&&D+"queueHooks",be=f.timers,qe=Pe.get(this);if(me)qe[me]&&qe[me].stop&&U(qe[me]);else for(me in qe)qe[me]&&qe[me].stop&&jh.test(me)&&U(qe[me]);for(me=be.length;me--;)be[me].elem!==this||null!=D&&be[me].queue!==D||(be[me].anim.stop(W),le=!1,be.splice(me,1));!le&&W||f.dequeue(this,D)})},finish:function(D){return!1!==D&&(D=D||"fx"),this.each(function(){var B,W=Pe.get(this),U=W[D+"queue"],le=W[D+"queueHooks"],me=f.timers,be=U?U.length:0;for(W.finish=!0,f.queue(this,D,[]),le&&le.stop&&le.stop.call(this,!0),B=me.length;B--;)me[B].elem===this&&me[B].queue===D&&(me[B].anim.stop(!0),me.splice(B,1));for(B=0;B<be;B++)U[B]&&U[B].finish&&U[B].finish.call(this);delete W.finish})}}),f.each(["toggle","show","hide"],function(D,B){var W=f.fn[B];f.fn[B]=function(U,le,me){return null==U||"boolean"==typeof U?W.apply(this,arguments):this.animate(ss(B,!0),U,le,me)}}),f.each({slideDown:ss("show"),slideUp:ss("hide"),slideToggle:ss("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(D,B){f.fn[D]=function(W,U,le){return this.animate(B,W,U,le)}}),f.timers=[],f.fx.tick=function(){var D,B=0,W=f.timers;for(qo=Date.now();B<W.length;B++)(D=W[B])()||W[B]!==D||W.splice(B--,1);W.length||f.fx.stop(),qo=void 0},f.fx.timer=function(D){f.timers.push(D),f.fx.start()},f.fx.interval=13,f.fx.start=function(){_l||(_l=!0,Hh())},f.fx.stop=function(){_l=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(D,B){return D=f.fx&&f.fx.speeds[D]||D,this.queue(B=B||"fx",function(W,U){var le=v.setTimeout(W,D);U.stop=function(){v.clearTimeout(le)}})},ba=j.createElement("input"),Vn=j.createElement("select").appendChild(j.createElement("option")),ba.type="checkbox",Ke.checkOn=""!==ba.value,Ke.optSelected=Vn.selected,(ba=j.createElement("input")).value="t",ba.type="radio",Ke.radioValue="t"===ba.value;var wl,ur=f.expr.attrHandle;f.fn.extend({attr:function(D,B){return De(this,f.attr,D,B,1<arguments.length)},removeAttr:function(D){return this.each(function(){f.removeAttr(this,D)})}}),f.extend({attr:function(D,B,W){var U,le,me=D.nodeType;if(3!==me&&8!==me&&2!==me)return void 0===D.getAttribute?f.prop(D,B,W):(1===me&&f.isXMLDoc(D)||(le=f.attrHooks[B.toLowerCase()]||(f.expr.match.bool.test(B)?wl:void 0)),void 0!==W?null===W?void f.removeAttr(D,B):le&&"set"in le&&void 0!==(U=le.set(D,W,B))?U:(D.setAttribute(B,W+""),W):le&&"get"in le&&null!==(U=le.get(D,B))?U:null==(U=f.find.attr(D,B))?void 0:U)},attrHooks:{type:{set:function(D,B){if(!Ke.radioValue&&"radio"===B&&q(D,"input")){var W=D.value;return D.setAttribute("type",B),W&&(D.value=W),B}}}},removeAttr:function(D,B){var W,U=0,le=B&&B.match(Ne);if(le&&1===D.nodeType)for(;W=le[U++];)D.removeAttribute(W)}}),wl={set:function(D,B,W){return!1===B?f.removeAttr(D,W):D.setAttribute(W,W),W}},f.each(f.expr.match.bool.source.match(/\w+/g),function(D,B){var W=ur[B]||f.find.attr;ur[B]=function(U,le,me){var be,qe,Ye=le.toLowerCase();return me||(qe=ur[Ye],ur[Ye]=be,be=null!=W(U,le,me)?Ye:null,ur[Ye]=qe),be}});var Rc=/^(?:input|select|textarea|button)$/i,Mf=/^(?:a|area)$/i;function ko(D){return(D.match(Ne)||[]).join(" ")}function ro(D){return D.getAttribute&&D.getAttribute("class")||""}function Vh(D){return Array.isArray(D)?D:"string"==typeof D&&D.match(Ne)||[]}f.fn.extend({prop:function(D,B){return De(this,f.prop,D,B,1<arguments.length)},removeProp:function(D){return this.each(function(){delete this[f.propFix[D]||D]})}}),f.extend({prop:function(D,B,W){var U,le,me=D.nodeType;if(3!==me&&8!==me&&2!==me)return 1===me&&f.isXMLDoc(D)||(le=f.propHooks[B=f.propFix[B]||B]),void 0!==W?le&&"set"in le&&void 0!==(U=le.set(D,W,B))?U:D[B]=W:le&&"get"in le&&null!==(U=le.get(D,B))?U:D[B]},propHooks:{tabIndex:{get:function(D){var B=f.find.attr(D,"tabindex");return B?parseInt(B,10):Rc.test(D.nodeName)||Mf.test(D.nodeName)&&D.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ke.optSelected||(f.propHooks.selected={get:function(D){return null},set:function(D){}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this}),f.fn.extend({addClass:function(D){var B,W,U,le,me,be;return rt(D)?this.each(function(qe){f(this).addClass(D.call(this,qe,ro(this)))}):(B=Vh(D)).length?this.each(function(){if(U=ro(this),W=1===this.nodeType&&" "+ko(U)+" "){for(me=0;me<B.length;me++)W.indexOf(" "+(le=B[me])+" ")<0&&(W+=le+" ");be=ko(W),U!==be&&this.setAttribute("class",be)}}):this},removeClass:function(D){var B,W,U,le,me,be;return rt(D)?this.each(function(qe){f(this).removeClass(D.call(this,qe,ro(this)))}):arguments.length?(B=Vh(D)).length?this.each(function(){if(U=ro(this),W=1===this.nodeType&&" "+ko(U)+" "){for(me=0;me<B.length;me++)for(le=B[me];-1<W.indexOf(" "+le+" ");)W=W.replace(" "+le+" "," ");be=ko(W),U!==be&&this.setAttribute("class",be)}}):this:this.attr("class","")},toggleClass:function(D,B){var W,U,le,me,be=typeof D,qe="string"===be||Array.isArray(D);return rt(D)?this.each(function(Ye){f(this).toggleClass(D.call(this,Ye,ro(this),B),B)}):"boolean"==typeof B&&qe?B?this.addClass(D):this.removeClass(D):(W=Vh(D),this.each(function(){if(qe)for(me=f(this),le=0;le<W.length;le++)me.hasClass(U=W[le])?me.removeClass(U):me.addClass(U);else void 0!==D&&"boolean"!==be||((U=ro(this))&&Pe.set(this,"__className__",U),this.setAttribute&&this.setAttribute("class",U||!1===D?"":Pe.get(this,"__className__")||""))}))},hasClass:function(D){var B,W,U=0;for(B=" "+D+" ";W=this[U++];)if(1===W.nodeType&&-1<(" "+ko(ro(W))+" ").indexOf(B))return!0;return!1}});var ls=/\r/g;f.fn.extend({val:function(D){var B,W,U,le=this[0];return arguments.length?(U=rt(D),this.each(function(me){var be;1===this.nodeType&&(null==(be=U?D.call(this,me,f(this).val()):D)?be="":"number"==typeof be?be+="":Array.isArray(be)&&(be=f.map(be,function(qe){return null==qe?"":qe+""})),(B=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()])&&"set"in B&&void 0!==B.set(this,be,"value")||(this.value=be))})):le?(B=f.valHooks[le.type]||f.valHooks[le.nodeName.toLowerCase()])&&"get"in B&&void 0!==(W=B.get(le,"value"))?W:"string"==typeof(W=le.value)?W.replace(ls,""):null==W?"":W:void 0}}),f.extend({valHooks:{option:{get:function(D){var B=f.find.attr(D,"value");return null!=B?B:ko(f.text(D))}},select:{get:function(D){var B,W,U,le=D.options,me=D.selectedIndex,be="select-one"===D.type,qe=be?null:[],Ye=be?me+1:le.length;for(U=me<0?Ye:be?me:0;U<Ye;U++)if(((W=le[U]).selected||U===me)&&!W.disabled&&(!W.parentNode.disabled||!q(W.parentNode,"optgroup"))){if(B=f(W).val(),be)return B;qe.push(B)}return qe},set:function(D,B){for(var W,U,le=D.options,me=f.makeArray(B),be=le.length;be--;)((U=le[be]).selected=-1<f.inArray(f.valHooks.option.get(U),me))&&(W=!0);return W||(D.selectedIndex=-1),me}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(D,B){if(Array.isArray(B))return D.checked=-1<f.inArray(f(D).val(),B)}},Ke.checkOn||(f.valHooks[this].get=function(D){return null===D.getAttribute("value")?"on":D.value})}),Ke.focusin="onfocusin"in v;var hs=/^(?:focusinfocus|focusoutblur)$/,Pr=function(D){D.stopPropagation()};f.extend(f.event,{trigger:function(D,B,W,U){var le,me,be,qe,Ye,et,lt,Lt,st=[W||j],ct=ut.call(D,"type")?D.type:D,Kt=ut.call(D,"namespace")?D.namespace.split("."):[];if(me=Lt=be=W=W||j,3!==W.nodeType&&8!==W.nodeType&&!hs.test(ct+f.event.triggered)&&(-1<ct.indexOf(".")&&(ct=(Kt=ct.split(".")).shift(),Kt.sort()),Ye=ct.indexOf(":")<0&&"on"+ct,(D=D[f.expando]?D:new f.Event(ct,"object"==typeof D&&D)).isTrigger=U?2:3,D.namespace=Kt.join("."),D.rnamespace=D.namespace?new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,D.result=void 0,D.target||(D.target=W),B=null==B?[D]:f.makeArray(B,[D]),lt=f.event.special[ct]||{},U||!lt.trigger||!1!==lt.trigger.apply(W,B))){if(!U&&!lt.noBubble&&!T(W)){for(hs.test((qe=lt.delegateType||ct)+ct)||(me=me.parentNode);me;me=me.parentNode)st.push(me),be=me;be===(W.ownerDocument||j)&&st.push(be.defaultView||be.parentWindow||v)}for(le=0;(me=st[le++])&&!D.isPropagationStopped();)Lt=me,D.type=1<le?qe:lt.bindType||ct,(et=(Pe.get(me,"events")||Object.create(null))[D.type]&&Pe.get(me,"handle"))&&et.apply(me,B),(et=Ye&&me[Ye])&&et.apply&&we(me)&&(D.result=et.apply(me,B),!1===D.result&&D.preventDefault());return D.type=ct,U||D.isDefaultPrevented()||lt._default&&!1!==lt._default.apply(st.pop(),B)||!we(W)||Ye&&rt(W[ct])&&!T(W)&&((be=W[Ye])&&(W[Ye]=null),f.event.triggered=ct,D.isPropagationStopped()&&Lt.addEventListener(ct,Pr),W[ct](),D.isPropagationStopped()&&Lt.removeEventListener(ct,Pr),f.event.triggered=void 0,be&&(W[Ye]=be)),D.result}},simulate:function(D,B,W){var U=f.extend(new f.Event,W,{type:D,isSimulated:!0});f.event.trigger(U,null,B)}}),f.fn.extend({trigger:function(D,B){return this.each(function(){f.event.trigger(D,B,this)})},triggerHandler:function(D,B){var W=this[0];if(W)return f.event.trigger(D,B,W,!0)}}),Ke.focusin||f.each({focus:"focusin",blur:"focusout"},function(D,B){var W=function(U){f.event.simulate(B,U.target,f.event.fix(U))};f.event.special[B]={setup:function(){var U=this.ownerDocument||this.document||this,le=Pe.access(U,B);le||U.addEventListener(D,W,!0),Pe.access(U,B,(le||0)+1)},teardown:function(){var U=this.ownerDocument||this.document||this,le=Pe.access(U,B)-1;le?Pe.access(U,B,le):(U.removeEventListener(D,W,!0),Pe.remove(U,B))}}});var Gn=v.location,oo={guid:Date.now()},wa=/\?/;f.parseXML=function(D){var B,W;if(!D||"string"!=typeof D)return null;try{B=(new v.DOMParser).parseFromString(D,"text/xml")}catch(U){}return W=B&&B.getElementsByTagName("parsererror")[0],B&&!W||f.error("Invalid XML: "+(W?f.map(W.childNodes,function(U){return U.textContent}).join("\n"):D)),B};var Xo=/\[\]$/,Fh=/\r?\n/g,If=/^(?:submit|button|image|reset|file)$/i,li=/^(?:input|select|textarea|keygen)/i;function Sa(D,B,W,U){var le;if(Array.isArray(B))f.each(B,function(me,be){W||Xo.test(D)?U(D,be):Sa(D+"["+("object"==typeof be&&null!=be?me:"")+"]",be,W,U)});else if(W||"object"!==u(B))U(D,B);else for(le in B)Sa(D+"["+le+"]",B[le],W,U)}f.param=function(D,B){var W,U=[],le=function(me,be){var qe=rt(be)?be():be;U[U.length]=encodeURIComponent(me)+"="+encodeURIComponent(null==qe?"":qe)};if(null==D)return"";if(Array.isArray(D)||D.jquery&&!f.isPlainObject(D))f.each(D,function(){le(this.name,this.value)});else for(W in D)Sa(W,D[W],B,le);return U.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var D=f.prop(this,"elements");return D?f.makeArray(D):this}).filter(function(){var D=this.type;return this.name&&!f(this).is(":disabled")&&li.test(this.nodeName)&&!If.test(D)&&(this.checked||!ce.test(D))}).map(function(D,B){var W=f(this).val();return null==W?null:Array.isArray(W)?f.map(W,function(U){return{name:B.name,value:U.replace(Fh,"\r\n")}}):{name:B.name,value:W.replace(Fh,"\r\n")}}).get()}});var Sl=/%20/g,Ko=/#.*$/,Zo=/([?&])_=[^&]*/,Qo=/^(.*?):[ \t]*([^\r\n]*)$/gm,Jo=/^(?:GET|HEAD)$/,us=/^\/\//,Ca={},ai={},Wh="*/".concat("*"),Gh=j.createElement("a");function zc(D){return function(B,W){"string"!=typeof B&&(W=B,B="*");var U,le=0,me=B.toLowerCase().match(Ne)||[];if(rt(W))for(;U=me[le++];)"+"===U[0]?(U=U.slice(1)||"*",(D[U]=D[U]||[]).unshift(W)):(D[U]=D[U]||[]).push(W)}}function ka(D,B,W,U){var le={},me=D===ai;function be(qe){var Ye;return le[qe]=!0,f.each(D[qe]||[],function(et,lt){var Lt=lt(B,W,U);return"string"!=typeof Lt||me||le[Lt]?me?!(Ye=Lt):void 0:(B.dataTypes.unshift(Lt),be(Lt),!1)}),Ye}return be(B.dataTypes[0])||!le["*"]&&be("*")}function Yh(D,B){var W,U,le=f.ajaxSettings.flatOptions||{};for(W in B)void 0!==B[W]&&((le[W]?D:U||(U={}))[W]=B[W]);return U&&f.extend(!0,D,U),D}Gh.href=Gn.href,f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Gn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wh,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(D,B){return B?Yh(Yh(D,f.ajaxSettings),B):Yh(f.ajaxSettings,D)},ajaxPrefilter:zc(Ca),ajaxTransport:zc(ai),ajax:function(D,B){"object"==typeof D&&(B=D,D=void 0);var W,U,le,me,be,qe,Ye,et,lt,Lt,st=f.ajaxSetup({},B=B||{}),ct=st.context||st,Kt=st.context&&(ct.nodeType||ct.jquery)?f(ct):f.event,Jt=f.Deferred(),Ut=f.Callbacks("once memory"),Ui=st.statusCode||{},tn={},Jn={},mi="canceled",vi={readyState:0,getResponseHeader:function(Ri){var Fi;if(Ye){if(!me)for(me={};Fi=Qo.exec(le);)me[Fi[1].toLowerCase()+" "]=(me[Fi[1].toLowerCase()+" "]||[]).concat(Fi[2]);Fi=me[Ri.toLowerCase()+" "]}return null==Fi?null:Fi.join(", ")},getAllResponseHeaders:function(){return Ye?le:null},setRequestHeader:function(Ri,Fi){return null==Ye&&(Ri=Jn[Ri.toLowerCase()]=Jn[Ri.toLowerCase()]||Ri,tn[Ri]=Fi),this},overrideMimeType:function(Ri){return null==Ye&&(st.mimeType=Ri),this},statusCode:function(Ri){var Fi;if(Ri)if(Ye)vi.always(Ri[vi.status]);else for(Fi in Ri)Ui[Fi]=[Ui[Fi],Ri[Fi]];return this},abort:function(Ri){var Fi=Ri||mi;return W&&W.abort(Fi),Nn(0,Fi),this}};if(Jt.promise(vi),st.url=((D||st.url||Gn.href)+"").replace(us,Gn.protocol+"//"),st.type=B.method||B.type||st.method||st.type,st.dataTypes=(st.dataType||"*").toLowerCase().match(Ne)||[""],null==st.crossDomain){qe=j.createElement("a");try{qe.href=st.url,qe.href=qe.href,st.crossDomain=Gh.protocol+"//"+Gh.host!=qe.protocol+"//"+qe.host}catch(Ri){st.crossDomain=!0}}if(st.data&&st.processData&&"string"!=typeof st.data&&(st.data=f.param(st.data,st.traditional)),ka(Ca,st,B,vi),Ye)return vi;for(lt in(et=f.event&&st.global)&&0==f.active++&&f.event.trigger("ajaxStart"),st.type=st.type.toUpperCase(),st.hasContent=!Jo.test(st.type),U=st.url.replace(Ko,""),st.hasContent?st.data&&st.processData&&0===(st.contentType||"").indexOf("application/x-www-form-urlencoded")&&(st.data=st.data.replace(Sl,"+")):(Lt=st.url.slice(U.length),st.data&&(st.processData||"string"==typeof st.data)&&(U+=(wa.test(U)?"&":"?")+st.data,delete st.data),!1===st.cache&&(U=U.replace(Zo,"$1"),Lt=(wa.test(U)?"&":"?")+"_="+oo.guid+++Lt),st.url=U+Lt),st.ifModified&&(f.lastModified[U]&&vi.setRequestHeader("If-Modified-Since",f.lastModified[U]),f.etag[U]&&vi.setRequestHeader("If-None-Match",f.etag[U])),(st.data&&st.hasContent&&!1!==st.contentType||B.contentType)&&vi.setRequestHeader("Content-Type",st.contentType),vi.setRequestHeader("Accept",st.dataTypes[0]&&st.accepts[st.dataTypes[0]]?st.accepts[st.dataTypes[0]]+("*"!==st.dataTypes[0]?", "+Wh+"; q=0.01":""):st.accepts["*"]),st.headers)vi.setRequestHeader(lt,st.headers[lt]);if(st.beforeSend&&(!1===st.beforeSend.call(ct,vi,st)||Ye))return vi.abort();if(mi="abort",Ut.add(st.complete),vi.done(st.success),vi.fail(st.error),W=ka(ai,st,B,vi)){if(vi.readyState=1,et&&Kt.trigger("ajaxSend",[vi,st]),Ye)return vi;st.async&&0<st.timeout&&(be=v.setTimeout(function(){vi.abort("timeout")},st.timeout));try{Ye=!1,W.send(tn,Nn)}catch(Ri){if(Ye)throw Ri;Nn(-1,Ri)}}else Nn(-1,"No Transport");function Nn(Ri,Fi,Ma,kl){var Wi,ao,ea,Pn,ta,br=Fi;Ye||(Ye=!0,be&&v.clearTimeout(be),W=void 0,le=kl||"",vi.readyState=0<Ri?4:0,Wi=200<=Ri&&Ri<300||304===Ri,Ma&&(Pn=function(sn,Yn,cr){for(var Or,xi,Oi,fn,ln=sn.contents,on=sn.dataTypes;"*"===on[0];)on.shift(),void 0===Or&&(Or=sn.mimeType||Yn.getResponseHeader("Content-Type"));if(Or)for(xi in ln)if(ln[xi]&&ln[xi].test(Or)){on.unshift(xi);break}if(on[0]in cr)Oi=on[0];else{for(xi in cr){if(!on[0]||sn.converters[xi+" "+on[0]]){Oi=xi;break}fn||(fn=xi)}Oi=Oi||fn}if(Oi)return Oi!==on[0]&&on.unshift(Oi),cr[Oi]}(st,vi,Ma)),!Wi&&-1<f.inArray("script",st.dataTypes)&&f.inArray("json",st.dataTypes)<0&&(st.converters["text script"]=function(){}),Pn=function(sn,Yn,cr,Or){var xi,Oi,fn,ln,on,$n={},wr=sn.dataTypes.slice();if(wr[1])for(fn in sn.converters)$n[fn.toLowerCase()]=sn.converters[fn];for(Oi=wr.shift();Oi;)if(sn.responseFields[Oi]&&(cr[sn.responseFields[Oi]]=Yn),!on&&Or&&sn.dataFilter&&(Yn=sn.dataFilter(Yn,sn.dataType)),on=Oi,Oi=wr.shift())if("*"===Oi)Oi=on;else if("*"!==on&&on!==Oi){if(!(fn=$n[on+" "+Oi]||$n["* "+Oi]))for(xi in $n)if((ln=xi.split(" "))[1]===Oi&&(fn=$n[on+" "+ln[0]]||$n["* "+ln[0]])){!0===fn?fn=$n[xi]:!0!==$n[xi]&&(Oi=ln[0],wr.unshift(ln[1]));break}if(!0!==fn)if(fn&&sn.throws)Yn=fn(Yn);else try{Yn=fn(Yn)}catch(Ia){return{state:"parsererror",error:fn?Ia:"No conversion from "+on+" to "+Oi}}}return{state:"success",data:Yn}}(st,Pn,vi,Wi),Wi?(st.ifModified&&((ta=vi.getResponseHeader("Last-Modified"))&&(f.lastModified[U]=ta),(ta=vi.getResponseHeader("etag"))&&(f.etag[U]=ta)),204===Ri||"HEAD"===st.type?br="nocontent":304===Ri?br="notmodified":(br=Pn.state,ao=Pn.data,Wi=!(ea=Pn.error))):(ea=br,!Ri&&br||(br="error",Ri<0&&(Ri=0))),vi.status=Ri,vi.statusText=(Fi||br)+"",Wi?Jt.resolveWith(ct,[ao,br,vi]):Jt.rejectWith(ct,[vi,br,ea]),vi.statusCode(Ui),Ui=void 0,et&&Kt.trigger(Wi?"ajaxSuccess":"ajaxError",[vi,st,Wi?ao:ea]),Ut.fireWith(ct,[vi,br]),et&&(Kt.trigger("ajaxComplete",[vi,st]),--f.active||f.event.trigger("ajaxStop")))}return vi},getJSON:function(D,B,W){return f.get(D,B,W,"json")},getScript:function(D,B){return f.get(D,void 0,B,"script")}}),f.each(["get","post"],function(D,B){f[B]=function(W,U,le,me){return rt(U)&&(me=me||le,le=U,U=void 0),f.ajax(f.extend({url:W,type:B,dataType:me,data:U,success:le},f.isPlainObject(W)&&W))}}),f.ajaxPrefilter(function(D){var B;for(B in D.headers)"content-type"===B.toLowerCase()&&(D.contentType=D.headers[B]||"")}),f._evalUrl=function(D,B,W){return f.ajax({url:D,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(U){f.globalEval(U,B,W)}})},f.fn.extend({wrapAll:function(D){var B;return this[0]&&(rt(D)&&(D=D.call(this[0])),B=f(D,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&B.insertBefore(this[0]),B.map(function(){for(var W=this;W.firstElementChild;)W=W.firstElementChild;return W}).append(this)),this},wrapInner:function(D){return rt(D)?this.each(function(B){f(this).wrapInner(D.call(this,B))}):this.each(function(){var B=f(this),W=B.contents();W.length?W.wrapAll(D):B.append(D)})},wrap:function(D){var B=rt(D);return this.each(function(W){f(this).wrapAll(B?D.call(this,W):D)})},unwrap:function(D){return this.parent(D).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(D){return!f.expr.pseudos.visible(D)},f.expr.pseudos.visible=function(D){return!!(D.offsetWidth||D.offsetHeight||D.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new v.XMLHttpRequest}catch(D){}};var $h={0:200,1223:204},Ta=f.ajaxSettings.xhr();Ke.cors=!!Ta&&"withCredentials"in Ta,Ke.ajax=Ta=!!Ta,f.ajaxTransport(function(D){var B,W;if(Ke.cors||Ta&&!D.crossDomain)return{send:function(U,le){var me,be=D.xhr();if(be.open(D.type,D.url,D.async,D.username,D.password),D.xhrFields)for(me in D.xhrFields)be[me]=D.xhrFields[me];for(me in D.mimeType&&be.overrideMimeType&&be.overrideMimeType(D.mimeType),D.crossDomain||U["X-Requested-With"]||(U["X-Requested-With"]="XMLHttpRequest"),U)be.setRequestHeader(me,U[me]);B=function(qe){return function(){B&&(B=W=be.onload=be.onerror=be.onabort=be.ontimeout=be.onreadystatechange=null,"abort"===qe?be.abort():"error"===qe?"number"!=typeof be.status?le(0,"error"):le(be.status,be.statusText):le($h[be.status]||be.status,be.statusText,"text"!==(be.responseType||"text")||"string"!=typeof be.responseText?{binary:be.response}:{text:be.responseText},be.getAllResponseHeaders()))}},be.onload=B(),W=be.onerror=be.ontimeout=B("error"),void 0!==be.onabort?be.onabort=W:be.onreadystatechange=function(){4===be.readyState&&v.setTimeout(function(){B&&W()})},B=B("abort");try{be.send(D.hasContent&&D.data||null)}catch(qe){if(B)throw qe}},abort:function(){B&&B()}}}),f.ajaxPrefilter(function(D){D.crossDomain&&(D.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(D){return f.globalEval(D),D}}}),f.ajaxPrefilter("script",function(D){void 0===D.cache&&(D.cache=!1),D.crossDomain&&(D.type="GET")}),f.ajaxTransport("script",function(D){var B,W;if(D.crossDomain||D.scriptAttrs)return{send:function(U,le){B=f("<script>").attr(D.scriptAttrs||{}).prop({charset:D.scriptCharset,src:D.url}).on("load error",W=function(me){B.remove(),W=null,me&&le("error"===me.type?404:200,me.type)}),j.head.appendChild(B[0])},abort:function(){W&&W()}}});var Bc,Uh=[],Cl=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var D=Uh.pop()||f.expando+"_"+oo.guid++;return this[D]=!0,D}}),f.ajaxPrefilter("json jsonp",function(D,B,W){var U,le,me,be=!1!==D.jsonp&&(Cl.test(D.url)?"url":"string"==typeof D.data&&0===(D.contentType||"").indexOf("application/x-www-form-urlencoded")&&Cl.test(D.data)&&"data");if(be||"jsonp"===D.dataTypes[0])return U=D.jsonpCallback=rt(D.jsonpCallback)?D.jsonpCallback():D.jsonpCallback,be?D[be]=D[be].replace(Cl,"$1"+U):!1!==D.jsonp&&(D.url+=(wa.test(D.url)?"&":"?")+D.jsonp+"="+U),D.converters["script json"]=function(){return me||f.error(U+" was not called"),me[0]},D.dataTypes[0]="json",le=v[U],v[U]=function(){me=arguments},W.always(function(){void 0===le?f(v).removeProp(U):v[U]=le,D[U]&&(D.jsonpCallback=B.jsonpCallback,Uh.push(U)),me&&rt(le)&&le(me[0]),me=le=void 0}),"script"}),Ke.createHTMLDocument=((Bc=j.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Bc.childNodes.length),f.parseHTML=function(D,B,W){return"string"!=typeof D?[]:("boolean"==typeof B&&(W=B,B=!1),B||(Ke.createHTMLDocument?((U=(B=j.implementation.createHTMLDocument("")).createElement("base")).href=j.location.href,B.head.appendChild(U)):B=j),me=!W&&[],(le=re.exec(D))?[B.createElement(le[1])]:(le=$e([D],B,me),me&&me.length&&f(me).remove(),f.merge([],le.childNodes)));var U,le,me},f.fn.load=function(D,B,W){var U,le,me,be=this,qe=D.indexOf(" ");return-1<qe&&(U=ko(D.slice(qe)),D=D.slice(0,qe)),rt(B)?(W=B,B=void 0):B&&"object"==typeof B&&(le="POST"),0<be.length&&f.ajax({url:D,type:le||"GET",dataType:"html",data:B}).done(function(Ye){me=arguments,be.html(U?f("<div>").append(f.parseHTML(Ye)).find(U):Ye)}).always(W&&function(Ye,et){be.each(function(){W.apply(this,me||[Ye.responseText,et,Ye])})}),this},f.expr.pseudos.animated=function(D){return f.grep(f.timers,function(B){return D===B.elem}).length},f.offset={setOffset:function(D,B,W){var U,le,me,be,qe,Ye,et=f.css(D,"position"),lt=f(D),Lt={};"static"===et&&(D.style.position="relative"),qe=lt.offset(),me=f.css(D,"top"),Ye=f.css(D,"left"),("absolute"===et||"fixed"===et)&&-1<(me+Ye).indexOf("auto")?(be=(U=lt.position()).top,le=U.left):(be=parseFloat(me)||0,le=parseFloat(Ye)||0),rt(B)&&(B=B.call(D,W,f.extend({},qe))),null!=B.top&&(Lt.top=B.top-qe.top+be),null!=B.left&&(Lt.left=B.left-qe.left+le),"using"in B?B.using.call(D,Lt):lt.css(Lt)}},f.fn.extend({offset:function(D){if(arguments.length)return void 0===D?this:this.each(function(le){f.offset.setOffset(this,D,le)});var B,W,U=this[0];return U?U.getClientRects().length?{top:(B=U.getBoundingClientRect()).top+(W=U.ownerDocument.defaultView).pageYOffset,left:B.left+W.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var D,B,W,U=this[0],le={top:0,left:0};if("fixed"===f.css(U,"position"))B=U.getBoundingClientRect();else{for(B=this.offset(),W=U.ownerDocument,D=U.offsetParent||W.documentElement;D&&(D===W.body||D===W.documentElement)&&"static"===f.css(D,"position");)D=D.parentNode;D&&D!==U&&1===D.nodeType&&((le=f(D).offset()).top+=f.css(D,"borderTopWidth",!0),le.left+=f.css(D,"borderLeftWidth",!0))}return{top:B.top-le.top-f.css(U,"marginTop",!0),left:B.left-le.left-f.css(U,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var D=this.offsetParent;D&&"static"===f.css(D,"position");)D=D.offsetParent;return D||Et})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(D,B){var W="pageYOffset"===B;f.fn[D]=function(U){return De(this,function(le,me,be){var qe;if(T(le)?qe=le:9===le.nodeType&&(qe=le.defaultView),void 0===be)return qe?qe[B]:le[me];qe?qe.scrollTo(W?qe.pageXOffset:be,W?be:qe.pageYOffset):le[me]=be},D,U,arguments.length)}}),f.each(["top","left"],function(D,B){f.cssHooks[B]=pn(Ke.pixelPosition,function(W,U){if(U)return U=bi(W,B),Qn.test(U)?f(W).position()[B]+"px":U})}),f.each({Height:"height",Width:"width"},function(D,B){f.each({padding:"inner"+D,content:B,"":"outer"+D},function(W,U){f.fn[U]=function(le,me){var be=arguments.length&&(W||"boolean"!=typeof le),qe=W||(!0===le||!0===me?"margin":"border");return De(this,function(Ye,et,lt){var Lt;return T(Ye)?0===U.indexOf("outer")?Ye["inner"+D]:Ye.document.documentElement["client"+D]:9===Ye.nodeType?(Lt=Ye.documentElement,Math.max(Ye.body["scroll"+D],Lt["scroll"+D],Ye.body["offset"+D],Lt["offset"+D],Lt["client"+D])):void 0===lt?f.css(Ye,et,qe):f.style(Ye,et,lt,qe)},B,be?le:void 0,be)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(D,B){f.fn[B]=function(W){return this.on(B,W)}}),f.fn.extend({bind:function(D,B,W){return this.on(D,null,B,W)},unbind:function(D,B){return this.off(D,null,B)},delegate:function(D,B,W,U){return this.on(B,D,W,U)},undelegate:function(D,B,W){return 1===arguments.length?this.off(D,"**"):this.off(B,D||"**",W)},hover:function(D,B){return this.mouseenter(D).mouseleave(B||D)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(D,B){f.fn[B]=function(W,U){return 0<arguments.length?this.on(B,null,W,U):this.trigger(B)}});var jc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(D,B){var W,U,le;if("string"==typeof B&&(W=D[B],B=D,D=W),rt(D))return U=at.call(arguments,2),(le=function(){return D.apply(B||this,U.concat(at.call(arguments)))}).guid=D.guid=D.guid||f.guid++,le},f.holdReady=function(D){D?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=q,f.isFunction=rt,f.isWindow=T,f.camelCase=J,f.type=u,f.now=Date.now,f.isNumeric=function(D){var B=f.type(D);return("number"===B||"string"===B)&&!isNaN(D-parseFloat(D))},f.trim=function(D){return null==D?"":(D+"").replace(jc,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return f});var Hc=v.jQuery,qh=v.$;return f.noConflict=function(D){return v.$===f&&(v.$=qh),D&&v.jQuery===f&&(v.jQuery=Hc),f},void 0===ke&&(v.jQuery=v.$=f),f}),function(v,ke){"object"==typeof exports&&"undefined"!=typeof module?ke(exports):"function"==typeof define&&define.amd?define(["exports"],ke):ke((v="undefined"!=typeof globalThis?globalThis:v||self).echarts={})}(this,function(v){"use strict";var ke=function(n,i){return(ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,i)};function Le(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=n}ke(n,i),n.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var Fe=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},at=new function(){this.browser=new Fe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(at.wxa=!0,at.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?at.worker=!0:"undefined"==typeof navigator?(at.node=!0,at.svgSupported=!0):function(n,i){var e=i.browser,r=n.match(/Firefox\/([\d.]+)/),o=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(n);r&&(e.firefox=!0,e.version=r[1]),o&&(e.ie=!0,e.version=o[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),s&&(e.weChat=!0),i.svgSupported="undefined"!=typeof SVGRect,i.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,i.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),i.domSupported="undefined"!=typeof document;var l=document.documentElement.style;i.transform3dSupported=(e.ie&&"transition"in l||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),i.transformSupported=i.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,at);var At,Ct,vt="sans-serif",Pt="12px "+vt,Qt=function(n){var i={};if("undefined"==typeof JSON)return i;for(var e=0;e<n.length;e++){var r=String.fromCharCode(e+32),o=(n.charCodeAt(e)-20)/100;i[r]=o}return i}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),ut={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(n,i){if(!At){var e=ut.createCanvas();At=e&&e.getContext("2d")}if(At)return Ct!==i&&(Ct=At.font=i||Pt),At.measureText(n);n=n||"";var r=/(\d+)px/.exec(i=i||Pt),o=r&&+r[1]||12,a=0;if(i.indexOf("mono")>=0)a=o*n.length;else for(var s=0;s<n.length;s++){var l=Qt[n[s]];a+=null==l?o:l*o}return{width:a}},loadImage:function(n,i,e){var r=new Image;return r.onload=i,r.onerror=e,r.src=n,r}};function Qe(n){for(var i in ut)n[i]&&(ut[i]=n[i])}var gt=ht(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,i){return n["[object "+i+"]"]=!0,n},{}),Ke=ht(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,i){return n["[object "+i+"Array]"]=!0,n},{}),rt=Object.prototype.toString,T=Array.prototype,j=T.forEach,M=T.filter,R=T.slice,u=T.map,g=function(){}.constructor,f=g?g.prototype:null,w="__proto__",k=2311;function L(){return k++}function N(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];"undefined"!=typeof console&&console.error.apply(console,n)}function H(n){if(null==n||"object"!=typeof n)return n;var i=n,e=rt.call(n);if("[object Array]"===e){if(!ce(n)){i=[];for(var r=0,o=n.length;r<o;r++)i[r]=H(n[r])}}else if(Ke[e]){if(!ce(n)){var a=n.constructor;if(a.from)i=a.from(n);else for(i=new a(n.length),r=0,o=n.length;r<o;r++)i[r]=n[r]}}else if(!gt[e]&&!ce(n)&&!Rt(n))for(var s in i={},n)n.hasOwnProperty(s)&&s!==w&&(i[s]=H(n[s]));return i}function q(n,i,e){if(!Pe(i)||!Pe(n))return e?H(i):n;for(var r in i)if(i.hasOwnProperty(r)&&r!==w){var o=n[r],a=i[r];!Pe(a)||!Pe(o)||ne(a)||ne(o)||Rt(a)||Rt(o)||Ve(a)||Ve(o)||ce(a)||ce(o)?!e&&r in n||(n[r]=H(i[r])):q(o,a,e)}return n}function re(n,i){for(var e=n[0],r=1,o=n.length;r<o;r++)e=q(e,n[r],i);return e}function Z(n,i){if(Object.assign)Object.assign(n,i);else for(var e in i)i.hasOwnProperty(e)&&e!==w&&(n[e]=i[e]);return n}function de(n,i,e){for(var r=ft(i),o=0;o<r.length;o++){var a=r[o];(e?null!=i[a]:null==n[a])&&(n[a]=i[a])}return n}var pe=ut.createCanvas;function ve(n,i){if(n){if(n.indexOf)return n.indexOf(i);for(var e=0,r=n.length;e<r;e++)if(n[e]===i)return e}return-1}function We(n,i){var e=n.prototype;function r(){}for(var o in r.prototype=i.prototype,n.prototype=new r,e)e.hasOwnProperty(o)&&(n.prototype[o]=e[o]);n.prototype.constructor=n,n.superClass=i}function Ie(n,i,e){if(n="prototype"in n?n.prototype:n,i="prototype"in i?i.prototype:i,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(i),o=0;o<r.length;o++){var a=r[o];"constructor"!==a&&(e?null!=i[a]:null==n[a])&&(n[a]=i[a])}else de(n,i,e)}function Ne(n){return!!n&&"string"!=typeof n&&"number"==typeof n.length}function F(n,i,e){if(n&&i)if(n.forEach&&n.forEach===j)n.forEach(i,e);else if(n.length===+n.length)for(var r=0,o=n.length;r<o;r++)i.call(e,n[r],r,n);else for(var a in n)n.hasOwnProperty(a)&&i.call(e,n[a],a,n)}function Te(n,i,e){if(!n)return[];if(!i)return oe(n);if(n.map&&n.map===u)return n.map(i,e);for(var r=[],o=0,a=n.length;o<a;o++)r.push(i.call(e,n[o],o,n));return r}function ht(n,i,e,r){if(n&&i){for(var o=0,a=n.length;o<a;o++)e=i.call(r,e,n[o],o,n);return e}}function tt(n,i,e){if(!n)return[];if(!i)return oe(n);if(n.filter&&n.filter===M)return n.filter(i,e);for(var r=[],o=0,a=n.length;o<a;o++)i.call(e,n[o],o,n)&&r.push(n[o]);return r}function zt(n,i,e){if(n&&i)for(var r=0,o=n.length;r<o;r++)if(i.call(e,n[r],r,n))return n[r]}function ft(n){if(!n)return[];if(Object.keys)return Object.keys(n);var i=[];for(var e in n)n.hasOwnProperty(e)&&i.push(e);return i}var De=f&&ee(f.bind)?f.call.bind(f.bind):function(n,i){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return function(){return n.apply(i,e.concat(R.call(arguments)))}};function Q(n){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];return function(){return n.apply(this,i.concat(R.call(arguments)))}}function ne(n){return Array.isArray?Array.isArray(n):"[object Array]"===rt.call(n)}function ee(n){return"function"==typeof n}function J(n){return"string"==typeof n}function we(n){return"[object String]"===rt.call(n)}function Ge(n){return"number"==typeof n}function Pe(n){var i=typeof n;return"function"===i||!!n&&"object"===i}function Ve(n){return!!gt[rt.call(n)]}function kt(n){return!!Ke[rt.call(n)]}function Rt(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function wt(n){return null!=n.colorStops}function Yt(n){return null!=n.image}function Xt(n){return"[object RegExp]"===rt.call(n)}function Ht(n){return n!=n}function Et(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=0,r=n.length;e<r;e++)if(null!=n[e])return n[e]}function nt(n,i){return null!=n?n:i}function ie(n,i,e){return null!=n?n:null!=i?i:e}function oe(n){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];return R.apply(n,i)}function ue(n){if("number"==typeof n)return[n,n,n,n];var i=n.length;return 2===i?[n[0],n[1],n[0],n[1]]:3===i?[n[0],n[1],n[2],n[1]]:n}function ge(n,i){if(!n)throw new Error(i)}function _e(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Oe="__ec_primitive__";function Ae(n){n[Oe]=!0}function ce(n){return n[Oe]}var K=function(){function n(){this.data={}}return n.prototype.delete=function(i){var e=this.has(i);return e&&delete this.data[i],e},n.prototype.has=function(i){return this.data.hasOwnProperty(i)},n.prototype.get=function(i){return this.data[i]},n.prototype.set=function(i,e){return this.data[i]=e,this},n.prototype.keys=function(){return ft(this.data)},n.prototype.forEach=function(i){var e=this.data;for(var r in e)e.hasOwnProperty(r)&&i(e[r],r)},n}(),se="function"==typeof Map,Me=function(){function n(i){var e=ne(i);this.data=se?new Map:new K;var r=this;function o(a,s){e?r.set(a,s):r.set(s,a)}i instanceof n?i.each(o):i&&F(i,o)}return n.prototype.hasKey=function(i){return this.data.has(i)},n.prototype.get=function(i){return this.data.get(i)},n.prototype.set=function(i,e){return this.data.set(i,e),e},n.prototype.each=function(i,e){this.data.forEach(function(r,o){i.call(e,r,o)})},n.prototype.keys=function(){var i=this.data.keys();return se?Array.from(i):i},n.prototype.removeKey=function(i){this.data.delete(i)},n}();function xe(n){return new Me(n)}function He(n,i){for(var e=new n.constructor(n.length+i.length),r=0;r<n.length;r++)e[r]=n[r];var o=n.length;for(r=0;r<i.length;r++)e[r+o]=i[r];return e}function Xe(n,i){var e;if(Object.create)e=Object.create(n);else{var r=function(){};r.prototype=n,e=new r}return i&&Z(e,i),e}function $e(n){var i=n.style;i.webkitUserSelect="none",i.userSelect="none",i.webkitTapHighlightColor="rgba(0,0,0,0)",i["-webkit-touch-callout"]="none"}function Be(n,i){return n.hasOwnProperty(i)}function Ze(){}var _t=180/Math.PI,It=Object.freeze({__proto__:null,guid:L,logError:N,clone:H,merge:q,mergeAll:re,extend:Z,defaults:de,createCanvas:pe,indexOf:ve,inherits:We,mixin:Ie,isArrayLike:Ne,each:F,map:Te,reduce:ht,filter:tt,find:zt,keys:ft,bind:De,curry:Q,isArray:ne,isFunction:ee,isString:J,isStringSafe:we,isNumber:Ge,isObject:Pe,isBuiltInObject:Ve,isTypedArray:kt,isDom:Rt,isGradientObject:wt,isImagePatternObject:Yt,isRegExp:Xt,eqNaN:Ht,retrieve:Et,retrieve2:nt,retrieve3:ie,slice:oe,normalizeCssArray:ue,assert:ge,trim:_e,setAsPrimitive:Ae,isPrimitive:ce,HashMap:Me,createHashMap:xe,concatArray:He,createObject:Xe,disableUserSelect:$e,hasOwn:Be,noop:Ze,RADIAN_TO_DEGREE:_t});function Vt(n,i){return null==n&&(n=0),null==i&&(i=0),[n,i]}function Wt(n,i){return n[0]=i[0],n[1]=i[1],n}function $t(n){return[n[0],n[1]]}function Zt(n,i,e){return n[0]=i,n[1]=e,n}function ki(n,i,e){return n[0]=i[0]+e[0],n[1]=i[1]+e[1],n}function ei(n,i,e,r){return n[0]=i[0]+e[0]*r,n[1]=i[1]+e[1]*r,n}function Pi(n,i,e){return n[0]=i[0]-e[0],n[1]=i[1]-e[1],n}function Ti(n){return Math.sqrt(Dn(n))}function Dn(n){return n[0]*n[0]+n[1]*n[1]}function Qn(n,i,e){return n[0]=i[0]*e,n[1]=i[1]*e,n}function wn(n,i){var e=Ti(i);return 0===e?(n[0]=0,n[1]=0):(n[0]=i[0]/e,n[1]=i[1]/e),n}function Vr(n,i){return Math.sqrt((n[0]-i[0])*(n[0]-i[0])+(n[1]-i[1])*(n[1]-i[1]))}var An=Vr;function as(n,i){return(n[0]-i[0])*(n[0]-i[0])+(n[1]-i[1])*(n[1]-i[1])}var ii=as;function ji(n,i,e,r){return n[0]=i[0]+r*(e[0]-i[0]),n[1]=i[1]+r*(e[1]-i[1]),n}function bi(n,i,e){var r=i[0],o=i[1];return n[0]=e[0]*r+e[2]*o+e[4],n[1]=e[1]*r+e[3]*o+e[5],n}function pn(n,i,e){return n[0]=Math.min(i[0],e[0]),n[1]=Math.min(i[1],e[1]),n}function Ln(n,i,e){return n[0]=Math.max(i[0],e[0]),n[1]=Math.max(i[1],e[1]),n}var Fr=Object.freeze({__proto__:null,create:Vt,copy:Wt,clone:$t,set:Zt,add:ki,scaleAndAdd:ei,sub:Pi,len:Ti,length:Ti,lenSquare:Dn,lengthSquare:Dn,mul:function(n,i,e){return n[0]=i[0]*e[0],n[1]=i[1]*e[1],n},div:function(n,i,e){return n[0]=i[0]/e[0],n[1]=i[1]/e[1],n},dot:function(n,i){return n[0]*i[0]+n[1]*i[1]},scale:Qn,normalize:wn,distance:Vr,dist:An,distanceSquare:as,distSquare:ii,negate:function(n,i){return n[0]=-i[0],n[1]=-i[1],n},lerp:ji,applyTransform:bi,min:pn,max:Ln}),_r=function(n,i){this.target=n,this.topTarget=i&&i.topTarget},xr=function(){function n(i){this.handler=i,i.on("mousedown",this._dragStart,this),i.on("mousemove",this._drag,this),i.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(i){for(var e=i.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=i.offsetX,this._y=i.offsetY,this.handler.dispatchToElement(new _r(e,i),"dragstart",i.event))},n.prototype._drag=function(i){var e=this._draggingTarget;if(e){var r=i.offsetX,o=i.offsetY,a=r-this._x,s=o-this._y;this._x=r,this._y=o,e.drift(a,s,i),this.handler.dispatchToElement(new _r(e,i),"drag",i.event);var l=this.handler.findHover(r,o,e).target,h=this._dropTarget;this._dropTarget=l,e!==l&&(h&&l!==h&&this.handler.dispatchToElement(new _r(h,i),"dragleave",i.event),l&&l!==h&&this.handler.dispatchToElement(new _r(l,i),"dragenter",i.event))}},n.prototype._dragEnd=function(i){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new _r(e,i),"dragend",i.event),this._dropTarget&&this.handler.dispatchToElement(new _r(this._dropTarget,i),"drop",i.event),this._draggingTarget=null,this._dropTarget=null},n}(),Sn=function(){function n(i){i&&(this._$eventProcessor=i)}return n.prototype.on=function(i,e,r,o){this._$handlers||(this._$handlers={});var a=this._$handlers;if("function"==typeof e&&(o=r,r=e,e=null),!r||!i)return this;var s=this._$eventProcessor;null!=e&&s&&s.normalizeQuery&&(e=s.normalizeQuery(e)),a[i]||(a[i]=[]);for(var l=0;l<a[i].length;l++)if(a[i][l].h===r)return this;var h={h:r,query:e,ctx:o||this,callAtLast:r.zrEventfulCallAtLast},c=a[i].length-1,d=a[i][c];return d&&d.callAtLast?a[i].splice(c,0,h):a[i].push(h),this},n.prototype.isSilent=function(i){var e=this._$handlers;return!e||!e[i]||!e[i].length},n.prototype.off=function(i,e){var r=this._$handlers;if(!r)return this;if(!i)return this._$handlers={},this;if(e){if(r[i]){for(var o=[],a=0,s=r[i].length;a<s;a++)r[i][a].h!==e&&o.push(r[i][a]);r[i]=o}r[i]&&0===r[i].length&&delete r[i]}else delete r[i];return this},n.prototype.trigger=function(i){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var o=this._$handlers[i],a=this._$eventProcessor;if(o)for(var s=e.length,l=o.length,h=0;h<l;h++){var c=o[h];if(!a||!a.filter||null==c.query||a.filter(i,c.query))switch(s){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,e[0]);break;case 2:c.h.call(c.ctx,e[0],e[1]);break;default:c.h.apply(c.ctx,e)}}return a&&a.afterTrigger&&a.afterTrigger(i),this},n.prototype.triggerWithContext=function(i){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var o=this._$handlers[i],a=this._$eventProcessor;if(o)for(var s=e.length,l=e[s-1],h=o.length,c=0;c<h;c++){var d=o[c];if(!a||!a.filter||null==d.query||a.filter(i,d.query))switch(s){case 0:d.h.call(l);break;case 1:d.h.call(l,e[0]);break;case 2:d.h.call(l,e[0],e[1]);break;default:d.h.apply(l,e.slice(1,s-1))}}return a&&a.afterTrigger&&a.afterTrigger(i),this},n}(),gl=Math.log(2);function ml(n,i,e,r,o,a){var s=r+"-"+o,l=n.length;if(a.hasOwnProperty(s))return a[s];if(1===i){var h=Math.round(Math.log((1<<l)-1&~o)/gl);return n[e][h]}for(var c=r|1<<e,d=e+1;r&1<<d;)d++;for(var p=0,m=0,y=0;m<l;m++){var _=1<<m;_&o||(p+=(y%2?-1:1)*n[e][m]*ml(n,i-1,d,c,o|_,a),y++)}return a[s]=p,p}function Bh(n,i){var e=[[n[0],n[1],1,0,0,0,-i[0]*n[0],-i[0]*n[1]],[0,0,0,n[0],n[1],1,-i[1]*n[0],-i[1]*n[1]],[n[2],n[3],1,0,0,0,-i[2]*n[2],-i[2]*n[3]],[0,0,0,n[2],n[3],1,-i[3]*n[2],-i[3]*n[3]],[n[4],n[5],1,0,0,0,-i[4]*n[4],-i[4]*n[5]],[0,0,0,n[4],n[5],1,-i[5]*n[4],-i[5]*n[5]],[n[6],n[7],1,0,0,0,-i[6]*n[6],-i[6]*n[7]],[0,0,0,n[6],n[7],1,-i[7]*n[6],-i[7]*n[7]]],r={},o=ml(e,8,0,0,0,r);if(0!==o){for(var a=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==a[l]&&(a[l]=0),a[l]+=((s+l)%2?-1:1)*ml(e,7,0===s?1:0,1<<s,1<<l,r)/o*i[s];return function(h,c,d){var p=c*a[6]+d*a[7]+1;h[0]=(c*a[0]+d*a[1]+a[2])/p,h[1]=(c*a[3]+d*a[4]+a[5])/p}}}var vl="___zrEVENTSAVED",yl=[];function hr(n,i,e,r,o){if(i.getBoundingClientRect&&at.domSupported&&!qo(i)){var a=i[vl]||(i[vl]={}),l=function(h,c,d){for(var p=d?"invTrans":"trans",m=c[p],y=c.srcCoords,_=[],x=[],b=!0,S=0;S<4;S++){var C=h[S].getBoundingClientRect(),I=2*S,A=C.left,P=C.top;_.push(A,P),b=b&&y&&A===y[I]&&P===y[I+1],x.push(h[S].offsetLeft,h[S].offsetTop)}return b&&m?m:(c.srcCoords=_,c[p]=d?Bh(x,_):Bh(_,x))}(function(h,c){var d=c.markers;if(d)return d;d=c.markers=[];for(var p=["left","right"],m=["top","bottom"],y=0;y<4;y++){var _=document.createElement("div"),x=y%2,b=(y>>1)%2;_.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",p[x]+":0",m[b]+":0",p[1-x]+":auto",m[1-b]+":auto",""].join("!important;"),h.appendChild(_),d.push(_)}return d}(i,a),a,o);if(l)return l(n,e,r),!0}return!1}function qo(n){return"CANVAS"===n.nodeName.toUpperCase()}var _l=/([&<>"'])/g,ba={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Vn(n){return null==n?"":(n+"").replace(_l,function(i,e){return ba[e]})}var Tf=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,jh=[],Hh=at.browser.firefox&&+at.browser.version.split(".")[0]<39;function xl(n,i,e,r){return e=e||{},r?ss(n,i,e):Hh&&null!=i.layerX&&i.layerX!==i.offsetX?(e.zrX=i.layerX,e.zrY=i.layerY):null!=i.offsetX?(e.zrX=i.offsetX,e.zrY=i.offsetY):ss(n,i,e),e}function ss(n,i,e){if(at.domSupported&&n.getBoundingClientRect){var r=i.clientX,o=i.clientY;if(qo(n)){var a=n.getBoundingClientRect();return e.zrX=r-a.left,void(e.zrY=o-a.top)}if(hr(jh,n,r,o))return e.zrX=jh[0],void(e.zrY=jh[1])}e.zrX=e.zrY=0}function bl(n){return n||window.event}function un(n,i,e){if(null!=(i=bl(i)).zrX)return i;var r=i.type;if(r&&r.indexOf("touch")>=0){var o="touchend"!==r?i.targetTouches[0]:i.changedTouches[0];o&&xl(n,o,i,e)}else{xl(n,i,i,e);var a=function(l){var h=l.wheelDelta;if(h)return h;var c=l.deltaX,d=l.deltaY;return null==c||null==d?h:3*Math.abs(0!==d?d:c)*(d>0?-1:d<0?1:c>0?-1:1)}(i);i.zrDelta=a?a/120:-(i.detail||0)/3}var s=i.button;return null==i.which&&void 0!==s&&Tf.test(i.type)&&(i.which=1&s?1:2&s?3:4&s?2:0),i}function wl(n,i,e,r){n.addEventListener(i,e,r)}var ur=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function Rc(n){return 2===n.which||3===n.which}var Mf=function(){function n(){this._track=[]}return n.prototype.recognize=function(i,e,r){return this._doTrack(i,e,r),this._recognize(i)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(i,e,r){var o=i.touches;if(o){for(var a={points:[],touches:[],target:e,event:i},s=0,l=o.length;s<l;s++){var h=o[s],c=xl(r,h,{});a.points.push([c.zrX,c.zrY]),a.touches.push(h)}this._track.push(a)}},n.prototype._recognize=function(i){for(var e in ro)if(ro.hasOwnProperty(e)){var r=ro[e](this._track,i);if(r)return r}},n}();function ko(n){var i=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(i*i+e*e)}var ro={pinch:function(n,i){var e=n.length;if(e){var r,o=(n[e-1]||{}).points,a=(n[e-2]||{}).points||o;if(a&&a.length>1&&o&&o.length>1){var s=ko(o)/ko(a);!isFinite(s)&&(s=1),i.pinchScale=s;var l=[((r=o)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return i.pinchX=l[0],i.pinchY=l[1],{type:"pinch",target:n[0].target,event:i}}}}};function ls(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function hs(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n}function Pr(n,i,e){var o=i[1]*e[0]+i[3]*e[1],a=i[0]*e[2]+i[2]*e[3],s=i[1]*e[2]+i[3]*e[3],l=i[0]*e[4]+i[2]*e[5]+i[4],h=i[1]*e[4]+i[3]*e[5]+i[5];return n[0]=i[0]*e[0]+i[2]*e[1],n[1]=o,n[2]=a,n[3]=s,n[4]=l,n[5]=h,n}function Gn(n,i,e){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4]+e[0],n[5]=i[5]+e[1],n}function oo(n,i,e){var r=i[0],o=i[2],a=i[4],s=i[1],l=i[3],h=i[5],c=Math.sin(e),d=Math.cos(e);return n[0]=r*d+s*c,n[1]=-r*c+s*d,n[2]=o*d+l*c,n[3]=-o*c+d*l,n[4]=d*a+c*h,n[5]=d*h-c*a,n}function wa(n,i,e){var r=e[0],o=e[1];return n[0]=i[0]*r,n[1]=i[1]*o,n[2]=i[2]*r,n[3]=i[3]*o,n[4]=i[4]*r,n[5]=i[5]*o,n}function Xo(n,i){var e=i[0],r=i[2],o=i[4],a=i[1],s=i[3],l=i[5],h=e*s-a*r;return h?(n[0]=s*(h=1/h),n[1]=-a*h,n[2]=-r*h,n[3]=e*h,n[4]=(r*l-s*o)*h,n[5]=(a*o-e*l)*h,n):null}function Fh(n){var i=[1,0,0,1,0,0];return hs(i,n),i}var If=Object.freeze({__proto__:null,create:function Vh(){return[1,0,0,1,0,0]},identity:ls,copy:hs,mul:Pr,translate:Gn,rotate:oo,scale:wa,invert:Xo,clone:Fh}),li=function(){function n(i,e){this.x=i||0,this.y=e||0}return n.prototype.copy=function(i){return this.x=i.x,this.y=i.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(i,e){return this.x=i,this.y=e,this},n.prototype.equal=function(i){return i.x===this.x&&i.y===this.y},n.prototype.add=function(i){return this.x+=i.x,this.y+=i.y,this},n.prototype.scale=function(i){this.x*=i,this.y*=i},n.prototype.scaleAndAdd=function(i,e){this.x+=i.x*e,this.y+=i.y*e},n.prototype.sub=function(i){return this.x-=i.x,this.y-=i.y,this},n.prototype.dot=function(i){return this.x*i.x+this.y*i.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var i=this.len();return this.x/=i,this.y/=i,this},n.prototype.distance=function(i){var e=this.x-i.x,r=this.y-i.y;return Math.sqrt(e*e+r*r)},n.prototype.distanceSquare=function(i){var e=this.x-i.x,r=this.y-i.y;return e*e+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(i){if(i){var e=this.x,r=this.y;return this.x=i[0]*e+i[2]*r+i[4],this.y=i[1]*e+i[3]*r+i[5],this}},n.prototype.toArray=function(i){return i[0]=this.x,i[1]=this.y,i},n.prototype.fromArray=function(i){this.x=i[0],this.y=i[1]},n.set=function(i,e,r){i.x=e,i.y=r},n.copy=function(i,e){i.x=e.x,i.y=e.y},n.len=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},n.lenSquare=function(i){return i.x*i.x+i.y*i.y},n.dot=function(i,e){return i.x*e.x+i.y*e.y},n.add=function(i,e,r){i.x=e.x+r.x,i.y=e.y+r.y},n.sub=function(i,e,r){i.x=e.x-r.x,i.y=e.y-r.y},n.scale=function(i,e,r){i.x=e.x*r,i.y=e.y*r},n.scaleAndAdd=function(i,e,r,o){i.x=e.x+r.x*o,i.y=e.y+r.y*o},n.lerp=function(i,e,r,o){var a=1-o;i.x=a*e.x+o*r.x,i.y=a*e.y+o*r.y},n}(),Sa=Math.min,Sl=Math.max,Ko=new li,Zo=new li,Qo=new li,Jo=new li,us=new li,Ca=new li,ai=function(){function n(i,e,r,o){r<0&&(i+=r,r=-r),o<0&&(e+=o,o=-o),this.x=i,this.y=e,this.width=r,this.height=o}return n.prototype.union=function(i){var e=Sa(i.x,this.x),r=Sa(i.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Sl(i.x+i.width,this.x+this.width)-e:i.width,this.height=isFinite(this.y)&&isFinite(this.height)?Sl(i.y+i.height,this.y+this.height)-r:i.height,this.x=e,this.y=r},n.prototype.applyTransform=function(i){n.applyTransform(this,this,i)},n.prototype.calculateTransform=function(i){var e=this,r=i.width/e.width,o=i.height/e.height,a=[1,0,0,1,0,0];return Gn(a,a,[-e.x,-e.y]),wa(a,a,[r,o]),Gn(a,a,[i.x,i.y]),a},n.prototype.intersect=function(i,e){if(!i)return!1;i instanceof n||(i=n.create(i));var r=this,o=r.x,a=r.x+r.width,s=r.y,l=r.y+r.height,h=i.x,c=i.x+i.width,d=i.y,p=i.y+i.height,m=!(a<h||c<o||l<d||p<s);if(e){var y=1/0,_=0,x=Math.abs(a-h),b=Math.abs(c-o),S=Math.abs(l-d),C=Math.abs(p-s),I=Math.min(x,b),A=Math.min(S,C);a<h||c<o?I>_&&(_=I,li.set(Ca,x<b?-x:b,0)):I<y&&(y=I,li.set(us,x<b?x:-b,0)),l<d||p<s?A>_&&(_=A,li.set(Ca,0,S<C?-S:C)):I<y&&(y=I,li.set(us,0,S<C?S:-C))}return e&&li.copy(e,m?us:Ca),m},n.prototype.contain=function(i,e){var r=this;return i>=r.x&&i<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(i){n.copy(this,i)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(i){return new n(i.x,i.y,i.width,i.height)},n.copy=function(i,e){i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height},n.applyTransform=function(i,e,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var o=r[0],a=r[3],l=r[5];return i.x=e.x*o+r[4],i.y=e.y*a+l,i.width=e.width*o,i.height=e.height*a,i.width<0&&(i.x+=i.width,i.width=-i.width),void(i.height<0&&(i.y+=i.height,i.height=-i.height))}Ko.x=Qo.x=e.x,Ko.y=Jo.y=e.y,Zo.x=Jo.x=e.x+e.width,Zo.y=Qo.y=e.y+e.height,Ko.transform(r),Jo.transform(r),Zo.transform(r),Qo.transform(r),i.x=Sa(Ko.x,Zo.x,Qo.x,Jo.x),i.y=Sa(Ko.y,Zo.y,Qo.y,Jo.y);var h=Sl(Ko.x,Zo.x,Qo.x,Jo.x),c=Sl(Ko.y,Zo.y,Qo.y,Jo.y);i.width=h-i.x,i.height=c-i.y}else i!==e&&n.copy(i,e)},n}();function Gh(){ur(this.event)}var zc=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.handler=null,e}return Le(i,n),i.prototype.dispose=function(){},i.prototype.setCursor=function(){},i}(Sn),ka=function(n,i){this.x=n,this.y=i},Yh=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],$h=new ai(0,0,0,0),Ta=function(n){function i(e,r,o,a,s){var l=n.call(this)||this;return l._hovered=new ka(0,0),l.storage=e,l.painter=r,l.painterRoot=a,l._pointerSize=s,o=o||new zc,l.proxy=null,l.setHandlerProxy(o),l._draggingMgr=new xr(l),l}return Le(i,n),i.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(F(Yh,function(r){e.on&&e.on(r,this[r],this)},this),e.handler=this),this.proxy=e},i.prototype.mousemove=function(e){var r=e.zrX,o=e.zrY,a=Cl(this,r,o),s=this._hovered,l=s.target;l&&!l.__zr&&(l=(s=this.findHover(s.x,s.y)).target);var h=this._hovered=a?new ka(r,o):this.findHover(r,o),c=h.target,d=this.proxy;d.setCursor&&d.setCursor(c?c.cursor:"default"),l&&c!==l&&this.dispatchToElement(s,"mouseout",e),this.dispatchToElement(h,"mousemove",e),c&&c!==l&&this.dispatchToElement(h,"mouseover",e)},i.prototype.mouseout=function(e){var r=e.zrEventControl;"only_globalout"!==r&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==r&&this.trigger("globalout",{type:"globalout",event:e})},i.prototype.resize=function(){this._hovered=new ka(0,0)},i.prototype.dispatch=function(e,r){var o=this[e];o&&o.call(this,r)},i.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},i.prototype.setCursorStyle=function(e){var r=this.proxy;r.setCursor&&r.setCursor(e)},i.prototype.dispatchToElement=function(e,r,o){var c,d,a=(e=e||{}).target;if(!a||!a.silent){for(var s="on"+r,l={type:r,event:d=o,target:(c=e).target,topTarget:c.topTarget,cancelBubble:!1,offsetX:d.zrX,offsetY:d.zrY,gestureEvent:d.gestureEvent,pinchX:d.pinchX,pinchY:d.pinchY,pinchScale:d.pinchScale,wheelDelta:d.zrDelta,zrByTouch:d.zrByTouch,which:d.which,stop:Gh};a&&(a[s]&&(l.cancelBubble=!!a[s].call(a,l)),a.trigger(r,l),a=a.__hostTarget?a.__hostTarget:a.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(r,l),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(h){"function"==typeof h[s]&&h[s].call(h,l),h.trigger&&h.trigger(r,l)}))}},i.prototype.findHover=function(e,r,o){var a=this.storage.getDisplayList(),s=new ka(e,r);if(Uh(a,s,e,r,o),this._pointerSize&&!s.target){for(var l=[],h=this._pointerSize,c=h/2,d=new ai(e-c,r-c,h,h),p=a.length-1;p>=0;p--){var m=a[p];m===o||m.ignore||m.ignoreCoarsePointer||m.parent&&m.parent.ignoreCoarsePointer||($h.copy(m.getBoundingRect()),m.transform&&$h.applyTransform(m.transform),$h.intersect(d)&&l.push(m))}if(l.length)for(var y=Math.PI/12,_=2*Math.PI,x=0;x<c;x+=4)for(var b=0;b<_;b+=y)if(Uh(l,s,e+x*Math.cos(b),r+x*Math.sin(b),o),s.target)return s}return s},i.prototype.processGesture=function(e,r){this._gestureMgr||(this._gestureMgr=new Mf);var o=this._gestureMgr;"start"===r&&o.clear();var a=o.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===r&&o.clear(),a){var s=a.type;e.gestureEvent=s;var l=new ka;l.target=a.target,this.dispatchToElement(l,s,a.event)}},i}(Sn);function Bc(n,i,e){if(n[n.rectHover?"rectContain":"contain"](i,e)){for(var r=n,o=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var s=r.getClipPath();if(s&&!s.contain(i,e))return!1;r.silent&&(o=!0)}r=r.__hostTarget||r.parent}return!o||"silent"}return!1}function Uh(n,i,e,r,o){for(var a=n.length-1;a>=0;a--){var s=n[a],l=void 0;if(s!==o&&!s.ignore&&(l=Bc(s,e,r))&&(!i.topTarget&&(i.topTarget=s),"silent"!==l)){i.target=s;break}}}function Cl(n,i,e){var r=n.painter;return i<0||i>r.getWidth()||e<0||e>r.getHeight()}function jc(n,i,e,r){var o=i+1;if(o===e)return 1;if(r(n[o++],n[i])<0){for(;o<e&&r(n[o],n[o-1])<0;)o++;!function(a,s,l){for(l--;s<l;){var h=a[s];a[s++]=a[l],a[l--]=h}}(n,i,o)}else for(;o<e&&r(n[o],n[o-1])>=0;)o++;return o-i}function Hc(n,i,e,r,o){for(r===i&&r++;r<e;r++){for(var a,s=n[r],l=i,h=r;l<h;)o(s,n[a=l+h>>>1])<0?h=a:l=a+1;var c=r-l;switch(c){case 3:n[l+3]=n[l+2];case 2:n[l+2]=n[l+1];case 1:n[l+1]=n[l];break;default:for(;c>0;)n[l+c]=n[l+c-1],c--}n[l]=s}}function qh(n,i,e,r,o,a){var s=0,l=0,h=1;if(a(n,i[e+o])>0){for(l=r-o;h<l&&a(n,i[e+o+h])>0;)s=h,(h=1+(h<<1))<=0&&(h=l);h>l&&(h=l),s+=o,h+=o}else{for(l=o+1;h<l&&a(n,i[e+o-h])<=0;)s=h,(h=1+(h<<1))<=0&&(h=l);h>l&&(h=l);var c=s;s=o-h,h=o-c}for(s++;s<h;){var d=s+(h-s>>>1);a(n,i[e+d])>0?s=d+1:h=d}return h}function D(n,i,e,r,o,a){var s=0,l=0,h=1;if(a(n,i[e+o])<0){for(l=o+1;h<l&&a(n,i[e+o-h])<0;)s=h,(h=1+(h<<1))<=0&&(h=l);h>l&&(h=l);var c=s;s=o-h,h=o-c}else{for(l=r-o;h<l&&a(n,i[e+o+h])>=0;)s=h,(h=1+(h<<1))<=0&&(h=l);h>l&&(h=l),s+=o,h+=o}for(s++;s<h;){var d=s+(h-s>>>1);a(n,i[e+d])<0?h=d:s=d+1}return h}function W(n,i,e,r){e||(e=0),r||(r=n.length);var o=r-e;if(!(o<2)){var a=0;if(o<32)Hc(n,e,r,e+(a=jc(n,e,r,i)),i);else{var s=function B(n,i){var e,r,o=7,a=0,s=[];function l(h){var c=e[h],d=r[h],p=e[h+1],m=r[h+1];r[h]=d+m,h===a-3&&(e[h+1]=e[h+2],r[h+1]=r[h+2]),a--;var y=D(n[p],n,c,d,0,i);c+=y,0!=(d-=y)&&0!==(m=qh(n[c+d-1],n,p,m,m-1,i))&&(d<=m?function(_,x,b,S){var C=0;for(C=0;C<x;C++)s[C]=n[_+C];var I=0,A=b,P=_;if(n[P++]=n[A++],0!=--S)if(1!==x){for(var O,E,z,V=o;;){O=0,E=0,z=!1;do{if(i(n[A],s[I])<0){if(n[P++]=n[A++],E++,O=0,0==--S){z=!0;break}}else if(n[P++]=s[I++],O++,E=0,1==--x){z=!0;break}}while((O|E)<V);if(z)break;do{if(0!==(O=D(n[A],s,I,x,0,i))){for(C=0;C<O;C++)n[P+C]=s[I+C];if(P+=O,I+=O,(x-=O)<=1){z=!0;break}}if(n[P++]=n[A++],0==--S){z=!0;break}if(0!==(E=qh(s[I],n,A,S,0,i))){for(C=0;C<E;C++)n[P+C]=n[A+C];if(P+=E,A+=E,0==(S-=E)){z=!0;break}}if(n[P++]=s[I++],1==--x){z=!0;break}V--}while(O>=7||E>=7);if(z)break;V<0&&(V=0),V+=2}if((o=V)<1&&(o=1),1===x){for(C=0;C<S;C++)n[P+C]=n[A+C];n[P+S]=s[I]}else{if(0===x)throw new Error;for(C=0;C<x;C++)n[P+C]=s[I+C]}}else{for(C=0;C<S;C++)n[P+C]=n[A+C];n[P+S]=s[I]}else for(C=0;C<x;C++)n[P+C]=s[I+C]}(c,d,p,m):function(_,x,b,S){var C=0;for(C=0;C<S;C++)s[C]=n[b+C];var I=_+x-1,A=S-1,P=b+S-1,O=0,E=0;if(n[P--]=n[I--],0!=--x)if(1!==S){for(var z=o;;){var V=0,G=0,Y=!1;do{if(i(s[A],n[I])<0){if(n[P--]=n[I--],V++,G=0,0==--x){Y=!0;break}}else if(n[P--]=s[A--],G++,V=0,1==--S){Y=!0;break}}while((V|G)<z);if(Y)break;do{if(0!=(V=x-D(s[A],n,_,x,x-1,i))){for(x-=V,E=1+(P-=V),O=1+(I-=V),C=V-1;C>=0;C--)n[E+C]=n[O+C];if(0===x){Y=!0;break}}if(n[P--]=s[A--],1==--S){Y=!0;break}if(0!=(G=S-qh(n[I],s,0,S,S-1,i))){for(S-=G,E=1+(P-=G),O=1+(A-=G),C=0;C<G;C++)n[E+C]=s[O+C];if(S<=1){Y=!0;break}}if(n[P--]=n[I--],0==--x){Y=!0;break}z--}while(V>=7||G>=7);if(Y)break;z<0&&(z=0),z+=2}if((o=z)<1&&(o=1),1===S){for(E=1+(P-=x),O=1+(I-=x),C=x-1;C>=0;C--)n[E+C]=n[O+C];n[P]=s[A]}else{if(0===S)throw new Error;for(O=P-(S-1),C=0;C<S;C++)n[O+C]=s[C]}}else{for(E=1+(P-=x),O=1+(I-=x),C=x-1;C>=0;C--)n[E+C]=n[O+C];n[P]=s[A]}else for(O=P-(S-1),C=0;C<S;C++)n[O+C]=s[C]}(c,d,p,m))}return e=[],r=[],{mergeRuns:function(){for(;a>1;){var h=a-2;if(h>=1&&r[h-1]<=r[h]+r[h+1]||h>=2&&r[h-2]<=r[h]+r[h-1])r[h-1]<r[h+1]&&h--;else if(r[h]>r[h+1])break;l(h)}},forceMergeRuns:function(){for(;a>1;){var h=a-2;h>0&&r[h-1]<r[h+1]&&h--,l(h)}},pushRun:function(h,c){e[a]=h,r[a]=c,a+=1}}}(n,i),l=function(c){for(var d=0;c>=32;)d|=1&c,c>>=1;return c+d}(o);do{if((a=jc(n,e,r,i))<l){var h=o;h>l&&(h=l),Hc(n,e,e+h,e+a,i),a=h}s.pushRun(e,a),s.mergeRuns(),o-=a,e+=a}while(0!==o);s.forceMergeRuns()}}}F(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){Ta.prototype[n]=function(i){var e,r,o=i.zrX,a=i.zrY,s=Cl(this,o,a);if("mouseup"===n&&s||(r=(e=this.findHover(o,a)).target),"mousedown"===n)this._downEl=r,this._downPoint=[i.zrX,i.zrY],this._upEl=r;else if("mouseup"===n)this._upEl=r;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||An(this._downPoint,[i.zrX,i.zrY])>4)return;this._downPoint=null}this.dispatchToElement(e,n,i)}});var U=!1;function le(){U||(U=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function me(n,i){return n.zlevel===i.zlevel?n.z===i.z?n.z2-i.z2:n.z-i.z:n.zlevel-i.zlevel}var be=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=me}return n.prototype.traverse=function(i,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(i,e)},n.prototype.getDisplayList=function(i,e){e=e||!1;var r=this._displayList;return!i&&r.length||this.updateDisplayList(e),r},n.prototype.updateDisplayList=function(i){this._displayListLen=0;for(var e=this._roots,r=this._displayList,o=0,a=e.length;o<a;o++)this._updateAndAddDisplayable(e[o],null,i);r.length=this._displayListLen,W(r,me)},n.prototype._updateAndAddDisplayable=function(i,e,r){if(!i.ignore||r){i.beforeUpdate(),i.update(),i.afterUpdate();var o=i.getClipPath();if(i.ignoreClip)e=null;else if(o){e=e?e.slice():[];for(var a=o,s=i;a;)a.parent=s,a.updateTransform(),e.push(a),s=a,a=a.getClipPath()}if(i.childrenRef){for(var l=i.childrenRef(),h=0;h<l.length;h++){var c=l[h];i.__dirty&&(c.__dirty|=1),this._updateAndAddDisplayable(c,e,r)}i.__dirty=0}else{var d=i;e&&e.length?d.__clipPaths=e:d.__clipPaths&&d.__clipPaths.length>0&&(d.__clipPaths=[]),isNaN(d.z)&&(le(),d.z=0),isNaN(d.z2)&&(le(),d.z2=0),isNaN(d.zlevel)&&(le(),d.zlevel=0),this._displayList[this._displayListLen++]=d}var p=i.getDecalElement&&i.getDecalElement();p&&this._updateAndAddDisplayable(p,e,r);var m=i.getTextGuideLine();m&&this._updateAndAddDisplayable(m,e,r);var y=i.getTextContent();y&&this._updateAndAddDisplayable(y,e,r)}},n.prototype.addRoot=function(i){i.__zr&&i.__zr.storage===this||this._roots.push(i)},n.prototype.delRoot=function(i){if(i instanceof Array)for(var e=0,r=i.length;e<r;e++)this.delRoot(i[e]);else{var o=ve(this._roots,i);o>=0&&this._roots.splice(o,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),qe=at.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},Ye={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var i,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-i)*(2*Math.PI)/.4))},elasticOut:function(n){var i,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-i)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var i,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-i)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var i=1.70158;return n*n*((i+1)*n-i)},backOut:function(n){var i=1.70158;return--n*n*((i+1)*n+i)+1},backInOut:function(n){var i=2.5949095;return(n*=2)<1?n*n*((i+1)*n-i)*.5:.5*((n-=2)*n*((i+1)*n+i)+2)},bounceIn:function(n){return 1-Ye.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*Ye.bounceIn(2*n):.5*Ye.bounceOut(2*n-1)+.5}},et=Math.pow,lt=Math.sqrt,ct=lt(3),Kt=1/3,Jt=Vt(),Ut=Vt(),Ui=Vt();function tn(n){return n>-1e-8&&n<1e-8}function Jn(n){return n>1e-8||n<-1e-8}function mi(n,i,e,r,o){var a=1-o;return a*a*(a*n+3*o*i)+o*o*(o*r+3*a*e)}function vi(n,i,e,r,o){var a=1-o;return 3*(((i-n)*a+2*(e-i)*o)*a+(r-e)*o*o)}function Nn(n,i,e,r,o,a){var s=r+3*(i-e)-n,l=3*(e-2*i+n),h=3*(i-n),c=n-o,d=l*l-3*s*h,p=l*h-9*s*c,m=h*h-3*l*c,y=0;if(tn(d)&&tn(p))tn(l)?a[0]=0:(z=-h/l)>=0&&z<=1&&(a[y++]=z);else{var _=p*p-4*d*m;if(tn(_)){var x=p/d,b=-x/2;(z=-l/s+x)>=0&&z<=1&&(a[y++]=z),b>=0&&b<=1&&(a[y++]=b)}else if(_>0){var S=lt(_),C=d*l+1.5*s*(-p+S),I=d*l+1.5*s*(-p-S);(z=(-l-((C=C<0?-et(-C,Kt):et(C,Kt))+(I=I<0?-et(-I,Kt):et(I,Kt))))/(3*s))>=0&&z<=1&&(a[y++]=z)}else{var A=(2*d*l-3*s*p)/(2*lt(d*d*d)),P=Math.acos(A)/3,O=lt(d),E=Math.cos(P),z=(-l-2*O*E)/(3*s),V=(b=(-l+O*(E+ct*Math.sin(P)))/(3*s),(-l+O*(E-ct*Math.sin(P)))/(3*s));z>=0&&z<=1&&(a[y++]=z),b>=0&&b<=1&&(a[y++]=b),V>=0&&V<=1&&(a[y++]=V)}}return y}function Ri(n,i,e,r,o){var a=6*e-12*i+6*n,s=9*i+3*r-3*n-9*e,l=3*i-3*n,h=0;if(tn(s))Jn(a)&&(d=-l/a)>=0&&d<=1&&(o[h++]=d);else{var c=a*a-4*s*l;if(tn(c))o[0]=-a/(2*s);else if(c>0){var d,p=lt(c),m=(-a-p)/(2*s);(d=(-a+p)/(2*s))>=0&&d<=1&&(o[h++]=d),m>=0&&m<=1&&(o[h++]=m)}}return h}function Fi(n,i,e,r,o,a){var s=(i-n)*o+n,l=(e-i)*o+i,h=(r-e)*o+e,c=(l-s)*o+s,d=(h-l)*o+l,p=(d-c)*o+c;a[0]=n,a[1]=s,a[2]=c,a[3]=p,a[4]=p,a[5]=d,a[6]=h,a[7]=r}function Ma(n,i,e,r,o,a,s,l,h,c,d){var p,m,y,_,x,b=.005,S=1/0;Jt[0]=h,Jt[1]=c;for(var C=0;C<1;C+=.05)Ut[0]=mi(n,e,o,s,C),Ut[1]=mi(i,r,a,l,C),(_=ii(Jt,Ut))<S&&(p=C,S=_);S=1/0;for(var I=0;I<32&&!(b<1e-4);I++)y=p+b,Ut[0]=mi(n,e,o,s,m=p-b),Ut[1]=mi(i,r,a,l,m),_=ii(Ut,Jt),m>=0&&_<S?(p=m,S=_):(Ui[0]=mi(n,e,o,s,y),Ui[1]=mi(i,r,a,l,y),x=ii(Ui,Jt),y<=1&&x<S?(p=y,S=x):b*=.5);return d&&(d[0]=mi(n,e,o,s,p),d[1]=mi(i,r,a,l,p)),lt(S)}function kl(n,i,e,r,o,a,s,l,h){for(var c=n,d=i,p=0,m=1/h,y=1;y<=h;y++){var _=y*m,x=mi(n,e,o,s,_),b=mi(i,r,a,l,_),S=x-c,C=b-d;p+=Math.sqrt(S*S+C*C),c=x,d=b}return p}function Wi(n,i,e,r){var o=1-r;return o*(o*n+2*r*i)+r*r*e}function ao(n,i,e,r){return 2*((1-r)*(i-n)+r*(e-i))}function ea(n,i,e){var r=n+e-2*i;return 0===r?.5:(n-i)/r}function Pn(n,i,e,r,o){var a=(i-n)*r+n,s=(e-i)*r+i,l=(s-a)*r+a;o[0]=n,o[1]=a,o[2]=l,o[3]=l,o[4]=s,o[5]=e}function ta(n,i,e,r,o,a,s,l,h){var c,d=.005,p=1/0;Jt[0]=s,Jt[1]=l;for(var m=0;m<1;m+=.05)Ut[0]=Wi(n,e,o,m),Ut[1]=Wi(i,r,a,m),(b=ii(Jt,Ut))<p&&(c=m,p=b);p=1/0;for(var y=0;y<32&&!(d<1e-4);y++){var _=c-d,x=c+d;Ut[0]=Wi(n,e,o,_),Ut[1]=Wi(i,r,a,_);var b=ii(Ut,Jt);if(_>=0&&b<p)c=_,p=b;else{Ui[0]=Wi(n,e,o,x),Ui[1]=Wi(i,r,a,x);var S=ii(Ui,Jt);x<=1&&S<p?(c=x,p=S):d*=.5}}return h&&(h[0]=Wi(n,e,o,c),h[1]=Wi(i,r,a,c)),lt(p)}function br(n,i,e,r,o,a,s){for(var l=n,h=i,c=0,d=1/s,p=1;p<=s;p++){var m=p*d,y=Wi(n,e,o,m),_=Wi(i,r,a,m),x=y-l,b=_-h;c+=Math.sqrt(x*x+b*b),l=y,h=_}return c}var sn=/cubic-bezier\(([0-9,\.e ]+)\)/;function Yn(n){var i=n&&sn.exec(n);if(i){var e=i[1].split(","),r=+_e(e[0]),o=+_e(e[1]),a=+_e(e[2]),s=+_e(e[3]);if(isNaN(r+o+a+s))return;var l=[];return function(h){return h<=0?0:h>=1?1:Nn(0,r,a,1,h,l)&&mi(0,o,s,1,l[0])}}}var cr=function(){function n(i){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=i.life||1e3,this._delay=i.delay||0,this.loop=i.loop||!1,this.onframe=i.onframe||Ze,this.ondestroy=i.ondestroy||Ze,this.onrestart=i.onrestart||Ze,i.easing&&this.setEasing(i.easing)}return n.prototype.step=function(i,e){if(this._inited||(this._startTime=i+this._delay,this._inited=!0),!this._paused){var r=this._life,o=i-this._startTime-this._pausedTime,a=o/r;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,l=s?s(a):a;if(this.onframe(l),1===a){if(!this.loop)return!0;this._startTime=i-o%r,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(i){this.easing=i,this.easingFunc=ee(i)?i:Ye[i]||Yn(i)},n}(),Or=function(n){this.value=n},xi=function(){function n(){this._len=0}return n.prototype.insert=function(i){var e=new Or(i);return this.insertEntry(e),e},n.prototype.insertEntry=function(i){this.head?(this.tail.next=i,i.prev=this.tail,i.next=null,this.tail=i):this.head=this.tail=i,this._len++},n.prototype.remove=function(i){var e=i.prev,r=i.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,i.next=i.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),Oi=function(){function n(i){this._list=new xi,this._maxSize=10,this._map={},this._maxSize=i}return n.prototype.put=function(i,e){var r=this._list,o=this._map,a=null;if(null==o[i]){var s=r.len(),l=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var h=r.head;r.remove(h),delete o[h.key],a=h.value,this._lastRemovedEntry=h}l?l.value=e:l=new Or(e),l.key=i,r.insertEntry(l),o[i]=l}return a},n.prototype.get=function(i){var e=this._map[i],r=this._list;if(null!=e)return e!==r.tail&&(r.remove(e),r.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),fn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ln(n){return(n=Math.round(n))<0?0:n>255?255:n}function on(n){return n<0?0:n>1?1:n}function $n(n){var i=n;return i.length&&"%"===i.charAt(i.length-1)?ln(parseFloat(i)/100*255):ln(parseInt(i,10))}function wr(n){var i=n;return i.length&&"%"===i.charAt(i.length-1)?on(parseFloat(i)/100):on(parseFloat(i))}function Ia(n,i,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(i-n)*e*6:2*e<1?i:3*e<2?n+(i-n)*(2/3-e)*6:n}function To(n,i,e){return n+(i-n)*e}function Sr(n,i,e,r,o){return n[0]=i,n[1]=e,n[2]=r,n[3]=o,n}function Xh(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n}var cs=new Oi(20),Tl=null;function Da(n,i){Tl&&Xh(Tl,i),Tl=cs.put(n,Tl||i.slice())}function Un(n,i){if(n){i=i||[];var e=cs.get(n);if(e)return Xh(i,e);var r=(n+="").replace(/ /g,"").toLowerCase();if(r in fn)return Xh(i,fn[r]),Da(n,i),i;var o,a=r.length;if("#"===r.charAt(0))return 4===a||5===a?(o=parseInt(r.slice(1,4),16))>=0&&o<=4095?(Sr(i,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===a?parseInt(r.slice(4),16)/15:1),Da(n,i),i):void Sr(i,0,0,0,1):7===a||9===a?(o=parseInt(r.slice(1,7),16))>=0&&o<=16777215?(Sr(i,(16711680&o)>>16,(65280&o)>>8,255&o,9===a?parseInt(r.slice(7),16)/255:1),Da(n,i),i):void Sr(i,0,0,0,1):void 0;var s=r.indexOf("("),l=r.indexOf(")");if(-1!==s&&l+1===a){var h=r.substr(0,s),c=r.substr(s+1,l-(s+1)).split(","),d=1;switch(h){case"rgba":if(4!==c.length)return 3===c.length?Sr(i,+c[0],+c[1],+c[2],1):Sr(i,0,0,0,1);d=wr(c.pop());case"rgb":return c.length>=3?(Sr(i,$n(c[0]),$n(c[1]),$n(c[2]),3===c.length?d:wr(c[3])),Da(n,i),i):void Sr(i,0,0,0,1);case"hsla":return 4!==c.length?void Sr(i,0,0,0,1):(c[3]=wr(c[3]),ia(c,i),Da(n,i),i);case"hsl":return 3!==c.length?void Sr(i,0,0,0,1):(ia(c,i),Da(n,i),i);default:return}}Sr(i,0,0,0,1)}}function ia(n,i){var e=(parseFloat(n[0])%360+360)%360/360,r=wr(n[1]),o=wr(n[2]),a=o<=.5?o*(r+1):o+r-o*r,s=2*o-a;return Sr(i=i||[],ln(255*Ia(s,a,e+1/3)),ln(255*Ia(s,a,e)),ln(255*Ia(s,a,e-1/3)),1),4===n.length&&(i[3]=n[3]),i}function Ml(n,i){var e=Un(n);if(e){for(var r=0;r<3;r++)e[r]=i<0?e[r]*(1-i)|0:(255-e[r])*i+e[r]|0,e[r]>255?e[r]=255:e[r]<0&&(e[r]=0);return Nr(e,4===e.length?"rgba":"rgb")}}function na(n,i,e){if(i&&i.length&&n>=0&&n<=1){e=e||[];var r=n*(i.length-1),o=Math.floor(r),a=Math.ceil(r),s=i[o],l=i[a],h=r-o;return e[0]=ln(To(s[0],l[0],h)),e[1]=ln(To(s[1],l[1],h)),e[2]=ln(To(s[2],l[2],h)),e[3]=on(To(s[3],l[3],h)),e}}function Er(n,i,e){if(i&&i.length&&n>=0&&n<=1){var r=n*(i.length-1),o=Math.floor(r),a=Math.ceil(r),s=Un(i[o]),l=Un(i[a]),h=r-o,c=Nr([ln(To(s[0],l[0],h)),ln(To(s[1],l[1],h)),ln(To(s[2],l[2],h)),on(To(s[3],l[3],h))],"rgba");return e?{color:c,leftIndex:o,rightIndex:a,value:r}:c}}function ra(n,i,e,r){var a,o=Un(n);if(n)return o=function(a){if(a){var s,l,h=a[0]/255,c=a[1]/255,d=a[2]/255,p=Math.min(h,c,d),m=Math.max(h,c,d),y=m-p,_=(m+p)/2;if(0===y)s=0,l=0;else{l=_<.5?y/(m+p):y/(2-m-p);var x=((m-h)/6+y/2)/y,b=((m-c)/6+y/2)/y,S=((m-d)/6+y/2)/y;h===m?s=S-b:c===m?s=1/3+x-S:d===m&&(s=2/3+b-x),s<0&&(s+=1),s>1&&(s-=1)}var C=[360*s,l,_];return null!=a[3]&&C.push(a[3]),C}}(o),null!=i&&(o[0]=(a=i,(a=Math.round(a))<0?0:a>360?360:a)),null!=e&&(o[1]=wr(e)),null!=r&&(o[2]=wr(r)),Nr(ia(o),"rgba")}function Aa(n,i){var e=Un(n);if(e&&null!=i)return e[3]=on(i),Nr(e,"rgba")}function Nr(n,i){if(n&&n.length){var e=n[0]+","+n[1]+","+n[2];return"rgba"!==i&&"hsva"!==i&&"hsla"!==i||(e+=","+n[3]),i+"("+e+")"}}function Vi(n,i){var e=Un(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*i:0}var Il=Object.freeze({__proto__:null,parse:Un,lift:Ml,toHex:function(n){var i=Un(n);if(i)return((1<<24)+(i[0]<<16)+(i[1]<<8)+ +i[2]).toString(16).slice(1)},fastLerp:na,fastMapToColor:na,lerp:Er,mapToColor:Er,modifyHSL:ra,modifyAlpha:Aa,stringify:Nr,lum:Vi,random:function(){return Nr([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}}),er=Math.round;function Fn(n){var i;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var e=Un(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",i=e[3])}}else n="none";return{color:n,opacity:null==i?1:i}}function lo(n){return n<1e-4&&n>-1e-4}function Dl(n){return er(1e3*n)/1e3}function Zh(n){return er(1e4*n)/1e4}var Fc={left:"start",right:"end",center:"middle",middle:"middle"};function Mo(n){return n&&!!n.image}function ds(n){return Mo(n)||(i=n)&&!!i.svgElement;var i}function Qh(n){return"linear"===n.type}function ps(n){return"radial"===n.type}function fs(n){return n&&("linear"===n.type||"radial"===n.type)}function La(n){return"url(#"+n+")"}function gs(n){var i=n.getGlobalScale(),e=Math.max(i[0],i[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function Al(n){var i=n.x||0,e=n.y||0,r=(n.rotation||0)*_t,o=nt(n.scaleX,1),a=nt(n.scaleY,1),s=n.skewX||0,l=n.skewY||0,h=[];return(i||e)&&h.push("translate("+i+"px,"+e+"px)"),r&&h.push("rotate("+r+")"),1===o&&1===a||h.push("scale("+o+","+a+")"),(s||l)&&h.push("skew("+er(s*_t)+"deg, "+er(l*_t)+"deg)"),h.join(" ")}var Jh=at.hasGlobalWindow&&ee(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:"undefined"!=typeof Buffer?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},Ce=Array.prototype.slice;function je(n,i,e){return(i-n)*e+n}function Je(n,i,e,r){for(var o=i.length,a=0;a<o;a++)n[a]=je(i[a],e[a],r);return n}function Tt(n,i,e,r){for(var o=i.length,a=0;a<o;a++)n[a]=i[a]+e[a]*r;return n}function it(n,i,e,r){for(var o=i.length,a=o&&i[0].length,s=0;s<o;s++){n[s]||(n[s]=[]);for(var l=0;l<a;l++)n[s][l]=i[s][l]+e[s][l]*r}return n}function Nt(n,i){for(var e=n.length,r=i.length,o=e>r?i:n,a=Math.min(e,r),s=o[a-1]||{color:[0,0,0,0],offset:0},l=a;l<Math.max(e,r);l++)o.push({offset:s.offset,color:s.color.slice()})}function jt(n,i,e){var r=n,o=i;if(r.push&&o.push){var a=r.length,s=o.length;if(a!==s)if(a>s)r.length=s;else for(var l=a;l<s;l++)r.push(1===e?o[l]:Ce.call(o[l]));var h=r[0]&&r[0].length;for(l=0;l<r.length;l++)if(1===e)isNaN(r[l])&&(r[l]=o[l]);else for(var c=0;c<h;c++)isNaN(r[l][c])&&(r[l][c]=o[l][c])}}function Gt(n){if(Ne(n)){var i=n.length;if(Ne(n[0])){for(var e=[],r=0;r<i;r++)e.push(Ce.call(n[r]));return e}return Ce.call(n)}return n}function qt(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=null==n[3]?1:n[3],"rgba("+n.join(",")+")"}function gi(n){return 4===n||5===n}function hi(n){return 1===n||2===n}var ui=[0,0,0,0],Ei=function(){function n(i){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=i}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(i,e,r){this._needsSort=!0;var y,o=this.keyframes,a=o.length,s=!1,l=6,h=e;if(Ne(e)){var c=Ne((y=e)&&y[0])?2:1;l=c,(1===c&&!Ge(e[0])||2===c&&!Ge(e[0][0]))&&(s=!0)}else if(Ge(e)&&!Ht(e))l=0;else if(J(e))if(isNaN(+e)){var d=Un(e);d&&(h=d,l=3)}else l=0;else if(wt(e)){var p=Z({},h);p.colorStops=Te(e.colorStops,function(y){return{offset:y.offset,color:Un(y.color)}}),Qh(e)?l=4:ps(e)&&(l=5),h=p}0===a?this.valType=l:l===this.valType&&6!==l||(s=!0),this.discrete=this.discrete||s;var m={time:i,value:h,rawValue:e,percent:0};return r&&(m.easing=r,m.easingFunc=ee(r)?r:Ye[r]||Yn(r)),o.push(m),m},n.prototype.prepare=function(i,e){var r=this.keyframes;this._needsSort&&r.sort(function(x,b){return x.time-b.time});for(var o=this.valType,a=r.length,s=r[a-1],l=this.discrete,h=hi(o),c=gi(o),d=0;d<a;d++){var p=r[d],m=p.value,y=s.value;p.percent=p.time/i,l||(h&&d!==a-1?jt(m,y,o):c&&Nt(m.colorStops,y.colorStops))}if(!l&&5!==o&&e&&this.needsAnimate()&&e.needsAnimate()&&o===e.valType&&!e._finished){this._additiveTrack=e;var _=r[0].value;for(d=0;d<a;d++)0===o?r[d].additiveValue=r[d].value-_:3===o?r[d].additiveValue=Tt([],r[d].value,_,-1):hi(o)&&(r[d].additiveValue=1===o?Tt([],r[d].value,_,-1):it([],r[d].value,_,-1))}},n.prototype.step=function(i,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r,o,a,s=null!=this._additiveTrack,l=s?"additiveValue":"value",h=this.valType,c=this.keyframes,d=c.length,p=this.propName,m=3===h,y=this._lastFr,_=Math.min;if(1===d)o=a=c[0];else{if(e<0)r=0;else if(e<this._lastFrP){for(r=_(y+1,d-1);r>=0&&!(c[r].percent<=e);r--);r=_(r,d-2)}else{for(r=y;r<d&&!(c[r].percent>e);r++);r=_(r-1,d-2)}a=c[r+1],o=c[r]}if(o&&a){this._lastFr=r,this._lastFrP=e;var x=a.percent-o.percent,b=0===x?1:_((e-o.percent)/x,1);a.easingFunc&&(b=a.easingFunc(b));var S=s?this._additiveValue:m?ui:i[p];if(!hi(h)&&!m||S||(S=this._additiveValue=[]),this.discrete)i[p]=b<1?o.rawValue:a.rawValue;else if(hi(h))1===h?Je(S,o[l],a[l],b):function(O,E,z,V){for(var G=E.length,Y=G&&E[0].length,X=0;X<G;X++){O[X]||(O[X]=[]);for(var te=0;te<Y;te++)O[X][te]=je(E[X][te],z[X][te],V)}}(S,o[l],a[l],b);else if(gi(h)){var C=o[l],I=a[l],A=4===h;i[p]={type:A?"linear":"radial",x:je(C.x,I.x,b),y:je(C.y,I.y,b),colorStops:Te(C.colorStops,function(O,E){var z=I.colorStops[E];return{offset:je(O.offset,z.offset,b),color:qt(Je([],O.color,z.color,b))}}),global:I.global},A?(i[p].x2=je(C.x2,I.x2,b),i[p].y2=je(C.y2,I.y2,b)):i[p].r=je(C.r,I.r,b)}else if(m)Je(S,o[l],a[l],b),s||(i[p]=qt(S));else{var P=je(o[l],a[l],b);s?this._additiveValue=P:i[p]=P}s&&this._addToTarget(i)}}},n.prototype._addToTarget=function(i){var e=this.valType,r=this.propName,o=this._additiveValue;0===e?i[r]=i[r]+o:3===e?(Un(i[r],ui),Tt(ui,ui,o,1),i[r]=qt(ui)):1===e?Tt(i[r],i[r],o,1):2===e&&it(i[r],i[r],o,1)},n}(),hn=function(){function n(i,e,r,o){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=i,this._loop=e,e&&o?N("Can' use additive animation on looped animation."):(this._additiveAnimators=o,this._allowDiscrete=r)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(i){this._target=i},n.prototype.when=function(i,e,r){return this.whenWithKeys(i,e,ft(e),r)},n.prototype.whenWithKeys=function(i,e,r,o){for(var a=this._tracks,s=0;s<r.length;s++){var l=r[s],h=a[l];if(!h){h=a[l]=new Ei(l);var c=void 0,d=this._getAdditiveTrack(l);if(d){var p=d.keyframes,m=p[p.length-1];c=m&&m.value,3===d.valType&&c&&(c=qt(c))}else c=this._target[l];if(null==c)continue;i>0&&h.addKeyframe(0,Gt(c),o),this._trackKeys.push(l)}h.addKeyframe(i,Gt(e[l]),o)}return this._maxTime=Math.max(this._maxTime,i),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(i){return this._maxTime=i,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var i=this._doneCbs;if(i)for(var e=i.length,r=0;r<e;r++)i[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var i=this.animation,e=this._abortedCbs;if(i&&i.removeClip(this._clip),this._clip=null,e)for(var r=0;r<e.length;r++)e[r].call(this)},n.prototype._setTracksFinished=function(){for(var i=this._tracks,e=this._trackKeys,r=0;r<e.length;r++)i[e[r]].setFinished()},n.prototype._getAdditiveTrack=function(i){var e,r=this._additiveAnimators;if(r)for(var o=0;o<r.length;o++){var a=r[o].getTrack(i);a&&(e=a)}return e},n.prototype.start=function(i){if(!(this._started>0)){this._started=1;for(var e=this,r=[],o=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],l=this._tracks[s],h=this._getAdditiveTrack(s),c=l.keyframes,d=c.length;if(l.prepare(o,h),l.needsAnimate())if(!this._allowDiscrete&&l.discrete){var p=c[d-1];p&&(e._target[l.propName]=p.rawValue),l.setFinished()}else r.push(l)}if(r.length||this._force){var m=new cr({life:o,loop:this._loop,delay:this._delay||0,onframe:function(y){e._started=2;var _=e._additiveAnimators;if(_){for(var x=!1,b=0;b<_.length;b++)if(_[b]._clip){x=!0;break}x||(e._additiveAnimators=null)}for(b=0;b<r.length;b++)r[b].step(e._target,y);var S=e._onframeCbs;if(S)for(b=0;b<S.length;b++)S[b](e._target,y)},ondestroy:function(){e._doneCallback()}});this._clip=m,this.animation&&this.animation.addClip(m),i&&m.setEasing(i)}else this._doneCallback();return this}},n.prototype.stop=function(i){this._clip&&(i&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(i){return this._delay=i,this},n.prototype.during=function(i){return i&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(i)),this},n.prototype.done=function(i){return i&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(i)),this},n.prototype.aborted=function(i){return i&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(i)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(i){return this._tracks[i]},n.prototype.getTracks=function(){var i=this;return Te(this._trackKeys,function(e){return i._tracks[e]})},n.prototype.stopTracks=function(i,e){if(!i.length||!this._clip)return!0;for(var r=this._tracks,o=this._trackKeys,a=0;a<i.length;a++){var s=r[i[a]];s&&!s.isFinished()&&(e?s.step(this._target,1):1===this._started&&s.step(this._target,0),s.setFinished())}var l=!0;for(a=0;a<o.length;a++)if(!r[o[a]].isFinished()){l=!1;break}return l&&this._abortedCallback(),l},n.prototype.saveTo=function(i,e,r){if(i){e=e||this._trackKeys;for(var o=0;o<e.length;o++){var a=e[o],s=this._tracks[a];if(s&&!s.isFinished()){var l=s.keyframes,h=l[r?0:l.length-1];h&&(i[a]=Gt(h.rawValue))}}}},n.prototype.__changeFinalValue=function(i,e){e=e||ft(i);for(var r=0;r<e.length;r++){var o=e[r],a=this._tracks[o];if(a){var s=a.keyframes;if(s.length>1){var l=s.pop();a.addKeyframe(l.time,i[o]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n}();function pi(){return(new Date).getTime()}var gn,Cn,qn=function(n){function i(e){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,r.stage=(e=e||{}).stage||{},r}return Le(i,n),i.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},i.prototype.addAnimator=function(e){e.animation=this;var r=e.getClip();r&&this.addClip(r)},i.prototype.removeClip=function(e){if(e.animation){var r=e.prev,o=e.next;r?r.next=o:this._head=o,o?o.prev=r:this._tail=r,e.next=e.prev=e.animation=null}},i.prototype.removeAnimator=function(e){var r=e.getClip();r&&this.removeClip(r),e.animation=null},i.prototype.update=function(e){for(var r=pi()-this._pausedTime,o=r-this._time,a=this._head;a;){var s=a.next;a.step(r,o)&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=r,e||(this.trigger("frame",o),this.stage.update&&this.stage.update())},i.prototype._startLoop=function(){var e=this;this._running=!0,qe(function r(){e._running&&(qe(r),!e._paused&&e.update())})},i.prototype.start=function(){this._running||(this._time=pi(),this._pausedTime=0,this._startLoop())},i.prototype.stop=function(){this._running=!1},i.prototype.pause=function(){this._paused||(this._pauseStart=pi(),this._paused=!0)},i.prototype.resume=function(){this._paused&&(this._pausedTime+=pi()-this._pauseStart,this._paused=!1)},i.prototype.clear=function(){for(var e=this._head;e;){var r=e.next;e.prev=e.next=e.animation=null,e=r}this._head=this._tail=null},i.prototype.isFinished=function(){return null==this._head},i.prototype.animate=function(e,r){r=r||{},this.start();var o=new hn(e,r.loop);return this.addAnimator(o),o},i}(Sn),$i=at.domSupported,Cr=(Cn={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:gn=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:Te(gn,function(n){var i=n.replace("mouse","pointer");return Cn.hasOwnProperty(i)?i:n})}),Wn=["mousemove","mouseup"],mn=["pointermove","pointerup"],kr=!1;function Pa(n){var i=n.pointerType;return"pen"===i||"touch"===i}function Ll(n){n&&(n.zrByTouch=!0)}function eu(n,i){for(var e=i,r=!1;e&&9!==e.nodeType&&!(r=e.domBelongToZr||e!==i&&e===n.painterRoot);)e=e.parentNode;return r}var Df=function(n,i){this.stopPropagation=Ze,this.stopImmediatePropagation=Ze,this.preventDefault=Ze,this.type=i.type,this.target=this.currentTarget=n.dom,this.pointerType=i.pointerType,this.clientX=i.clientX,this.clientY=i.clientY},ho={mousedown:function(n){n=un(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=un(this.dom,n);var i=this.__mayPointerCapture;!i||n.zrX===i[0]&&n.zrY===i[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=un(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){eu(this,(n=un(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){kr=!0,n=un(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){kr||(n=un(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){Ll(n=un(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),ho.mousemove.call(this,n),ho.mousedown.call(this,n)},touchmove:function(n){Ll(n=un(this.dom,n)),this.handler.processGesture(n,"change"),ho.mousemove.call(this,n)},touchend:function(n){Ll(n=un(this.dom,n)),this.handler.processGesture(n,"end"),ho.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&ho.click.call(this,n)},pointerdown:function(n){ho.mousedown.call(this,n)},pointermove:function(n){Pa(n)||ho.mousemove.call(this,n)},pointerup:function(n){ho.mouseup.call(this,n)},pointerout:function(n){Pa(n)||ho.mouseout.call(this,n)}};F(["click","dblclick","contextmenu"],function(n){ho[n]=function(i){i=un(this.dom,i),this.trigger(n,i)}});var Af={pointermove:function(n){Pa(n)||Af.mousemove.call(this,n)},pointerup:function(n){Af.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var i=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),i&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Wc(n,i,e,r){n.mounted[i]=e,n.listenerOpts[i]=r,wl(n.domTarget,i,e,r)}function Lf(n){var a=n.mounted;for(var s in a)a.hasOwnProperty(s)&&n.domTarget.removeEventListener(s,a[s],n.listenerOpts[s]);n.mounted={}}var p_=function(n,i){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=i},jA=function(n){function i(e,r){var o=n.call(this)||this;return o.__pointerCapturing=!1,o.dom=e,o.painterRoot=r,o._localHandlerScope=new p_(e,ho),$i&&(o._globalHandlerScope=new p_(document,Af)),function zA(n,i){var e=i.domHandlers;at.pointerEventsSupported?F(Cr.pointer,function(r){Wc(i,r,function(o){e[r].call(n,o)})}):(at.touchEventsSupported&&F(Cr.touch,function(r){Wc(i,r,function(o){var a;e[r].call(n,o),(a=i).touching=!0,null!=a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)})}),F(Cr.mouse,function(r){Wc(i,r,function(o){o=bl(o),i.touching||e[r].call(n,o)})}))}(o,o._localHandlerScope),o}return Le(i,n),i.prototype.dispose=function(){Lf(this._localHandlerScope),$i&&Lf(this._globalHandlerScope)},i.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},i.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,$i&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var r=this._globalHandlerScope;e?function BA(n,i){function e(r){Wc(i,r,function(o){var a;o=bl(o),eu(n,o.target)||(o=un((a=n).dom,new Df(a,o),!0),i.domHandlers[r].call(n,o))},{capture:!0})}at.pointerEventsSupported?F(mn,e):at.touchEventsSupported||F(Wn,e)}(this,r):Lf(r)}},i}(Sn),f_=1;at.hasGlobalWindow&&(f_=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Gc=f_,Pf="#333",Of="#ccc",g_=ls;function ms(n){return n>5e-5||n<-5e-5}var vs=[],Pl=[],Ef=[1,0,0,1,0,0],Nf=Math.abs,oa=function(){function n(){}return n.prototype.getLocalTransform=function(i){return n.getLocalTransform(this,i)},n.prototype.setPosition=function(i){this.x=i[0],this.y=i[1]},n.prototype.setScale=function(i){this.scaleX=i[0],this.scaleY=i[1]},n.prototype.setSkew=function(i){this.skewX=i[0],this.skewY=i[1]},n.prototype.setOrigin=function(i){this.originX=i[0],this.originY=i[1]},n.prototype.needLocalTransform=function(){return ms(this.rotation)||ms(this.x)||ms(this.y)||ms(this.scaleX-1)||ms(this.scaleY-1)||ms(this.skewX)||ms(this.skewY)},n.prototype.updateTransform=function(){var i=this.parent&&this.parent.transform,e=this.needLocalTransform(),r=this.transform;e||i?(r=r||[1,0,0,1,0,0],e?this.getLocalTransform(r):g_(r),i&&(e?Pr(r,i,r):hs(r,i)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&(g_(r),this.invTransform=null)},n.prototype._resolveGlobalScaleRatio=function(i){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(vs);var r=vs[0]<0?-1:1,o=vs[1]<0?-1:1,a=((vs[0]-r)*e+r)/vs[0]||0,s=((vs[1]-o)*e+o)/vs[1]||0;i[0]*=a,i[1]*=a,i[2]*=s,i[3]*=s}this.invTransform=this.invTransform||[1,0,0,1,0,0],Xo(this.invTransform,i)},n.prototype.getComputedTransform=function(){for(var i=this,e=[];i;)e.push(i),i=i.parent;for(;i=e.pop();)i.updateTransform();return this.transform},n.prototype.setLocalTransform=function(i){if(i){var e=i[0]*i[0]+i[1]*i[1],r=i[2]*i[2]+i[3]*i[3],o=Math.atan2(i[1],i[0]),a=Math.PI/2+o-Math.atan2(i[3],i[2]);r=Math.sqrt(r)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-o,this.x=+i[4],this.y=+i[5],this.scaleX=e,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var i=this.parent,e=this.transform;i&&i.transform&&(Pr(Pl,i.invTransform,e),e=Pl);var r=this.originX,o=this.originY;(r||o)&&(Ef[4]=r,Ef[5]=o,Pr(Pl,e,Ef),Pl[4]-=r,Pl[5]-=o,e=Pl),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(i){var e=this.transform;return i=i||[],e?(i[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),i[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(i[0]=-i[0]),e[3]<0&&(i[1]=-i[1]),i):(i[0]=1,i[1]=1,i)},n.prototype.transformCoordToLocal=function(i,e){var r=[i,e],o=this.invTransform;return o&&bi(r,r,o),r},n.prototype.transformCoordToGlobal=function(i,e){var r=[i,e],o=this.transform;return o&&bi(r,r,o),r},n.prototype.getLineScale=function(){var i=this.transform;return i&&Nf(i[0]-1)>1e-10&&Nf(i[3]-1)>1e-10?Math.sqrt(Nf(i[0]*i[3]-i[2]*i[1])):1},n.prototype.copyTransform=function(i){m_(this,i)},n.getLocalTransform=function(i,e){e=e||[];var r=i.originX||0,o=i.originY||0,a=i.scaleX,s=i.scaleY,l=i.anchorX,h=i.anchorY,c=i.rotation||0,d=i.x,p=i.y,m=i.skewX?Math.tan(i.skewX):0,y=i.skewY?Math.tan(-i.skewY):0;if(r||o||l||h){var _=r+l,x=o+h;e[4]=-_*a-m*x*s,e[5]=-x*s-y*_*a}else e[4]=e[5]=0;return e[0]=a,e[3]=s,e[1]=y*a,e[2]=m*s,c&&oo(e,e,c),e[4]+=r+d,e[5]+=o+p,e},n.initDefaultProps=((i=n.prototype).scaleX=i.scaleY=i.globalScaleRatio=1,void(i.x=i.y=i.originX=i.originY=i.skewX=i.skewY=i.rotation=i.anchorX=i.anchorY=0)),n;var i}(),Io=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function m_(n,i){for(var e=0;e<Io.length;e++){var r=Io[e];n[r]=i[r]}}var v_={};function Rr(n,i){var e=v_[i=i||Pt];e||(e=v_[i]=new Oi(500));var r=e.get(n);return null==r&&(r=ut.measureText(n,i).width,e.put(n,r)),r}function y_(n,i,e,r){var o=Rr(n,i),a=Yc(i),s=iu(0,o,e),l=Ol(0,a,r);return new ai(s,l,o,a)}function tu(n,i,e,r){var o=((n||"")+"").split("\n");if(1===o.length)return y_(o[0],i,e,r);for(var a=new ai(0,0,0,0),s=0;s<o.length;s++){var l=y_(o[s],i,e,r);0===s?a.copy(l):a.union(l)}return a}function iu(n,i,e){return"right"===e?n-=i:"center"===e&&(n-=i/2),n}function Ol(n,i,e){return"middle"===e?n-=i/2:"bottom"===e&&(n-=i),n}function Yc(n){return Rr("\u56fd",n)}function uo(n,i){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*i:parseFloat(n):n}function $c(n,i,e){var r=i.position||"inside",o=null!=i.distance?i.distance:5,a=e.height,s=e.width,l=a/2,h=e.x,c=e.y,d="left",p="top";if(r instanceof Array)h+=uo(r[0],e.width),c+=uo(r[1],e.height),d=null,p=null;else switch(r){case"left":h-=o,c+=l,d="right",p="middle";break;case"right":h+=o+s,c+=l,p="middle";break;case"top":h+=s/2,c-=o,d="center",p="bottom";break;case"bottom":h+=s/2,c+=a+o,d="center";break;case"inside":h+=s/2,c+=l,d="center",p="middle";break;case"insideLeft":h+=o,c+=l,p="middle";break;case"insideRight":h+=s-o,c+=l,d="right",p="middle";break;case"insideTop":h+=s/2,c+=o,d="center";break;case"insideBottom":h+=s/2,c+=a-o,d="center",p="bottom";break;case"insideTopLeft":h+=o,c+=o;break;case"insideTopRight":h+=s-o,c+=o,d="right";break;case"insideBottomLeft":h+=o,c+=a-o,p="bottom";break;case"insideBottomRight":h+=s-o,c+=a-o,d="right",p="bottom"}return(n=n||{}).x=h,n.y=c,n.align=d,n.verticalAlign=p,n}var Rf="__zr_normal__",zf=Io.concat(["ignore"]),VA=ht(Io,function(n,i){return n[i]=!0,n},{ignore:!1}),El={},FA=new ai(0,0,0,0),Uc=function(){function n(i){this.id=L(),this.animators=[],this.currentStates=[],this.states={},this._init(i)}return n.prototype._init=function(i){this.attr(i)},n.prototype.drift=function(i,e,r){switch(this.draggable){case"horizontal":e=0;break;case"vertical":i=0}var o=this.transform;o||(o=this.transform=[1,0,0,1,0,0]),o[4]+=i,o[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(i){var e=this._textContent;if(e&&(!e.ignore||i)){this.textConfig||(this.textConfig={});var r=this.textConfig,o=r.local,a=e.innerTransformable,s=void 0,l=void 0,h=!1;a.parent=o?this:null;var c=!1;if(a.copyTransform(e),null!=r.position){var d=FA;d.copy(r.layoutRect?r.layoutRect:this.getBoundingRect()),o||d.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(El,r,d):$c(El,r,d),a.x=El.x,a.y=El.y,s=El.align,l=El.verticalAlign;var p=r.origin;if(p&&null!=r.rotation){var m=void 0,y=void 0;"center"===p?(m=.5*d.width,y=.5*d.height):(m=uo(p[0],d.width),y=uo(p[1],d.height)),c=!0,a.originX=-a.x+m+(o?0:d.x),a.originY=-a.y+y+(o?0:d.y)}}null!=r.rotation&&(a.rotation=r.rotation);var _=r.offset;_&&(a.x+=_[0],a.y+=_[1],c||(a.originX=-_[0],a.originY=-_[1]));var x=null==r.inside?"string"==typeof r.position&&r.position.indexOf("inside")>=0:r.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),S=void 0,C=void 0,I=void 0;x&&this.canBeInsideText()?(C=r.insideStroke,null!=(S=r.insideFill)&&"auto"!==S||(S=this.getInsideTextFill()),null!=C&&"auto"!==C||(C=this.getInsideTextStroke(S),I=!0)):(C=r.outsideStroke,null!=(S=r.outsideFill)&&"auto"!==S||(S=this.getOutsideFill()),null!=C&&"auto"!==C||(C=this.getOutsideStroke(S),I=!0)),(S=S||"#000")===b.fill&&C===b.stroke&&I===b.autoStroke&&s===b.align&&l===b.verticalAlign||(h=!0,b.fill=S,b.stroke=C,b.autoStroke=I,b.align=s,b.verticalAlign=l,e.setDefaultTextStyle(b)),e.__dirty|=1,h&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(i){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Of:Pf},n.prototype.getOutsideStroke=function(i){var e=this.__zr&&this.__zr.getBackgroundColor(),r="string"==typeof e&&Un(e);r||(r=[255,255,255,1]);for(var o=r[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*o+(a?0:255)*(1-o);return r[3]=1,Nr(r,"rgba")},n.prototype.traverse=function(i,e){},n.prototype.attrKV=function(i,e){"textConfig"===i?this.setTextConfig(e):"textContent"===i?this.setTextContent(e):"clipPath"===i?this.setClipPath(e):"extra"===i?(this.extra=this.extra||{},Z(this.extra,e)):this[i]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(i,e){if("string"==typeof i)this.attrKV(i,e);else if(Pe(i))for(var r=ft(i),o=0;o<r.length;o++){var a=r[o];this.attrKV(a,i[a])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(i){this._innerSaveToNormal(i);for(var e=this._normalState,r=0;r<this.animators.length;r++){var o=this.animators[r],a=o.__fromStateTransition;if(!(o.getLoop()||a&&a!==Rf)){var s=o.targetName;o.saveTo(s?e[s]:e)}}},n.prototype._innerSaveToNormal=function(i){var e=this._normalState;e||(e=this._normalState={}),i.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(i,e,zf)},n.prototype._savePrimaryToNormal=function(i,e,r){for(var o=0;o<r.length;o++){var a=r[o];null==i[a]||a in e||(e[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(i){return this.states[i]},n.prototype.ensureState=function(i){var e=this.states;return e[i]||(e[i]={}),e[i]},n.prototype.clearStates=function(i){this.useState(Rf,!1,i)},n.prototype.useState=function(i,e,r,o){var a=i===Rf;if(this.hasState()||!a){var s=this.currentStates,l=this.stateTransition;if(!(ve(s,i)>=0)||!e&&1!==s.length){var h;if(this.stateProxy&&!a&&(h=this.stateProxy(i)),h||(h=this.states&&this.states[i]),h||a){a||this.saveCurrentToNormalState(h);var c=!!(h&&h.hoverLayer||o);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(i,h,this._normalState,e,!r&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,p=this._textGuide;return d&&d.useState(i,e,r,c),p&&p.useState(i,e,r,c),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(i):this.currentStates=[i],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),h}N("State "+i+" not exists.")}}},n.prototype.useStates=function(i,e,r){if(i.length){var o=[],a=this.currentStates,s=i.length,l=s===a.length;if(l)for(var h=0;h<s;h++)if(i[h]!==a[h]){l=!1;break}if(l)return;for(h=0;h<s;h++){var c=i[h],d=void 0;this.stateProxy&&(d=this.stateProxy(c,i)),d||(d=this.states[c]),d&&o.push(d)}var p=o[s-1],m=!!(p&&p.hoverLayer||r);m&&this._toggleHoverLayerFlag(!0);var y=this._mergeStates(o),_=this.stateTransition;this.saveCurrentToNormalState(y),this._applyStateObj(i.join(","),y,this._normalState,!1,!e&&!this.__inHover&&_&&_.duration>0,_);var x=this._textContent,b=this._textGuide;x&&x.useStates(i,e,m),b&&b.useStates(i,e,m),this._updateAnimationTargets(),this.currentStates=i.slice(),this.markRedraw(),!m&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var i=0;i<this.animators.length;i++){var e=this.animators[i];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(i){var e=ve(this.currentStates,i);if(e>=0){var r=this.currentStates.slice();r.splice(e,1),this.useStates(r)}},n.prototype.replaceState=function(i,e,r){var o=this.currentStates.slice(),a=ve(o,i),s=ve(o,e)>=0;a>=0?s?o.splice(a,1):o[a]=e:r&&!s&&o.push(e),this.useStates(o)},n.prototype.toggleState=function(i,e){e?this.useState(i,!0):this.removeState(i)},n.prototype._mergeStates=function(i){for(var e,r={},o=0;o<i.length;o++){var a=i[o];Z(r,a),a.textConfig&&Z(e=e||{},a.textConfig)}return e&&(r.textConfig=e),r},n.prototype._applyStateObj=function(i,e,r,o,a,s){var l=!(e&&o);e&&e.textConfig?(this.textConfig=Z({},o?this.textConfig:r.textConfig),Z(this.textConfig,e.textConfig)):l&&r.textConfig&&(this.textConfig=r.textConfig);for(var h={},c=!1,d=0;d<zf.length;d++){var p=zf[d],m=a&&VA[p];e&&null!=e[p]?m?(c=!0,h[p]=e[p]):this[p]=e[p]:l&&null!=r[p]&&(m?(c=!0,h[p]=r[p]):this[p]=r[p])}if(!a)for(d=0;d<this.animators.length;d++){var y=this.animators[d],_=y.targetName;y.getLoop()||y.__changeFinalValue(_?(e||r)[_]:e||r)}c&&this._transitionState(i,h,s)},n.prototype._attachComponent=function(i){if((!i.__zr||i.__hostTarget)&&i!==this){var e=this.__zr;e&&i.addSelfToZr(e),i.__zr=e,i.__hostTarget=this}},n.prototype._detachComponent=function(i){i.__zr&&i.removeSelfFromZr(i.__zr),i.__zr=null,i.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(i){this._clipPath&&this._clipPath!==i&&this.removeClipPath(),this._attachComponent(i),this._clipPath=i,this.markRedraw()},n.prototype.removeClipPath=function(){var i=this._clipPath;i&&(this._detachComponent(i),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(i){var e=this._textContent;e!==i&&(e&&e!==i&&this.removeTextContent(),i.innerTransformable=new oa,this._attachComponent(i),this._textContent=i,this.markRedraw())},n.prototype.setTextConfig=function(i){this.textConfig||(this.textConfig={}),Z(this.textConfig,i),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var i=this._textContent;i&&(i.innerTransformable=null,this._detachComponent(i),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(i){this._textGuide&&this._textGuide!==i&&this.removeTextGuideLine(),this._attachComponent(i),this._textGuide=i,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var i=this._textGuide;i&&(this._detachComponent(i),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var i=this.__zr;i&&(this.__inHover?i.refreshHover():i.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(i){this.__inHover=i;var e=this._textContent,r=this._textGuide;e&&(e.__inHover=i),r&&(r.__inHover=i)},n.prototype.addSelfToZr=function(i){if(this.__zr!==i){this.__zr=i;var e=this.animators;if(e)for(var r=0;r<e.length;r++)i.animation.addAnimator(e[r]);this._clipPath&&this._clipPath.addSelfToZr(i),this._textContent&&this._textContent.addSelfToZr(i),this._textGuide&&this._textGuide.addSelfToZr(i)}},n.prototype.removeSelfFromZr=function(i){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)i.animation.removeAnimator(e[r]);this._clipPath&&this._clipPath.removeSelfFromZr(i),this._textContent&&this._textContent.removeSelfFromZr(i),this._textGuide&&this._textGuide.removeSelfFromZr(i)}},n.prototype.animate=function(i,e,r){var a=new hn(i?this[i]:this,e,r);return i&&(a.targetName=i),this.addAnimator(a,i),a},n.prototype.addAnimator=function(i,e){var r=this.__zr,o=this;i.during(function(){o.updateDuringAnimation(e)}).done(function(){var a=o.animators,s=ve(a,i);s>=0&&a.splice(s,1)}),this.animators.push(i),r&&r.animation.addAnimator(i),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(i){this.markRedraw()},n.prototype.stopAnimation=function(i,e){for(var r=this.animators,o=r.length,a=[],s=0;s<o;s++){var l=r[s];i&&i!==l.scope?a.push(l):l.stop(e)}return this.animators=a,this},n.prototype.animateTo=function(i,e,r){Bf(this,i,e,r)},n.prototype.animateFrom=function(i,e,r){Bf(this,i,e,r,!0)},n.prototype._transitionState=function(i,e,r,o){for(var a=Bf(this,e,r,o),s=0;s<a.length;s++)a[s].__fromStateTransition=i},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var i=n.prototype;function e(r,o,a,s){function l(h,c){Object.defineProperty(c,0,{get:function(){return h[a]},set:function(d){h[a]=d}}),Object.defineProperty(c,1,{get:function(){return h[s]},set:function(d){h[s]=d}})}Object.defineProperty(i,r,{get:function(){return this[o]||l(this,this[o]=[]),this[o]},set:function(h){this[a]=h[0],this[s]=h[1],this[o]=h,l(this,h)}})}i.type="element",i.name="",i.ignore=i.silent=i.isGroup=i.draggable=i.dragging=i.ignoreClip=i.__inHover=!1,i.__dirty=1,Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))}(),n}();function Bf(n,i,e,r,o){var a=[];__(n,"",n,i,e=e||{},r,a,o);var s=a.length,l=!1,h=e.done,c=e.aborted,d=function(){l=!0,--s<=0&&(l?h&&h():c&&c())},p=function(){--s<=0&&(l?h&&h():c&&c())};s||h&&h(),a.length>0&&e.during&&a[0].during(function(_,x){e.during(x)});for(var m=0;m<a.length;m++){var y=a[m];d&&y.done(d),p&&y.aborted(p),e.force&&y.duration(e.duration),y.start(e.easing)}return a}function jf(n,i,e){for(var r=0;r<e;r++)n[r]=i[r]}function WA(n,i,e){if(Ne(i[e]))if(Ne(n[e])||(n[e]=[]),kt(i[e])){var r=i[e].length;n[e].length!==r&&(n[e]=new i[e].constructor(r),jf(n[e],i[e],r))}else{var o=i[e],a=n[e],s=o.length;if(Ne(o[0]))for(var l=o[0].length,h=0;h<s;h++)a[h]?jf(a[h],o[h],l):a[h]=Array.prototype.slice.call(o[h]);else jf(a,o,s);a.length=o.length}else n[e]=i[e]}function __(n,i,e,r,o,a,s,l){for(var h=ft(r),c=o.duration,d=o.delay,p=o.additive,m=o.setToFinal,y=!Pe(a),_=n.animators,x=[],b=0;b<h.length;b++){var S=h[b],C=r[S];if(null!=C&&null!=e[S]&&(y||a[S]))if(!Pe(C)||Ne(C)||wt(C))x.push(S);else{if(i){l||(e[S]=C,n.updateDuringAnimation(i));continue}__(n,S,e[S],C,o,a&&a[S],s,l)}else l||(e[S]=C,n.updateDuringAnimation(i),x.push(S))}var I=x.length;if(!p&&I)for(var A=0;A<_.length;A++)if((O=_[A]).targetName===i&&O.stopTracks(x)){var P=ve(_,O);_.splice(P,1)}if(o.force||(I=(x=tt(x,function(G){return!((Y=r[G])===(X=e[G])||Ne(Y)&&Ne(X)&&function(te,ae){var he=te.length;if(he!==ae.length)return!1;for(var fe=0;fe<he;fe++)if(te[fe]!==ae[fe])return!1;return!0}(Y,X));var Y,X})).length),I>0||o.force&&!s.length){var O,E=void 0,z=void 0,V=void 0;if(l)for(z={},m&&(E={}),A=0;A<I;A++)z[S=x[A]]=e[S],m?E[S]=r[S]:e[S]=r[S];else if(m)for(V={},A=0;A<I;A++)V[S=x[A]]=Gt(e[S]),WA(e,r,S);(O=new hn(e,!1,!1,p?tt(_,function(G){return G.targetName===i}):null)).targetName=i,o.scope&&(O.scope=o.scope),m&&E&&O.whenWithKeys(0,E,x),V&&O.whenWithKeys(0,V,x),O.whenWithKeys(null==c?500:c,l?z:r,x).delay(d||0),n.addAnimator(O,i),s.push(O)}}Ie(Uc,Sn),Ie(Uc,oa);var ti=function(n){function i(e){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(e),r}return Le(i,n),i.prototype.childrenRef=function(){return this._children},i.prototype.children=function(){return this._children.slice()},i.prototype.childAt=function(e){return this._children[e]},i.prototype.childOfName=function(e){for(var r=this._children,o=0;o<r.length;o++)if(r[o].name===e)return r[o]},i.prototype.childCount=function(){return this._children.length},i.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},i.prototype.addBefore=function(e,r){if(e&&e!==this&&e.parent!==this&&r&&r.parent===this){var o=this._children,a=o.indexOf(r);a>=0&&(o.splice(a,0,e),this._doAdd(e))}return this},i.prototype.replace=function(e,r){var o=ve(this._children,e);return o>=0&&this.replaceAt(r,o),this},i.prototype.replaceAt=function(e,r){var o=this._children,a=o[r];if(e&&e!==this&&e.parent!==this&&e!==a){o[r]=e,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(e)}return this},i.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var r=this.__zr;r&&r!==e.__zr&&e.addSelfToZr(r),r&&r.refresh()},i.prototype.remove=function(e){var r=this.__zr,o=this._children,a=ve(o,e);return a<0||(o.splice(a,1),e.parent=null,r&&e.removeSelfFromZr(r),r&&r.refresh()),this},i.prototype.removeAll=function(){for(var e=this._children,r=this.__zr,o=0;o<e.length;o++){var a=e[o];r&&a.removeSelfFromZr(r),a.parent=null}return e.length=0,this},i.prototype.eachChild=function(e,r){for(var o=this._children,a=0;a<o.length;a++)e.call(r,o[a],a);return this},i.prototype.traverse=function(e,r){for(var o=0;o<this._children.length;o++){var a=this._children[o],s=e.call(r,a);a.isGroup&&!s&&a.traverse(e,r)}return this},i.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].addSelfToZr(e)},i.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].removeSelfFromZr(e)},i.prototype.getBoundingRect=function(e){for(var r=new ai(0,0,0,0),o=e||this._children,a=[],s=null,l=0;l<o.length;l++){var h=o[l];if(!h.ignore&&!h.invisible){var c=h.getBoundingRect(),d=h.getLocalTransform(a);d?(ai.applyTransform(r,c,d),(s=s||r.clone()).union(r)):(s=s||c.clone()).union(c)}}return s||r},i}(Uc);ti.prototype.type="group";var qc={},ys={},GA=function(){function n(i,e,r){var o=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=e,this.id=i;var a=new be,s=r.renderer||"canvas";qc[s]||(s=ft(qc)[0]),r.useDirtyRect=null!=r.useDirtyRect&&r.useDirtyRect;var l=new qc[s](e,a,r,i),h=r.ssr||l.ssrOnly;this.storage=a,this.painter=l;var c,d=at.node||at.worker||h?null:new jA(l.getViewportRoot(),l.root),p=r.useCoarsePointer;(null==p||"auto"===p?at.touchEventsSupported:!!p)&&(c=nt(r.pointerSize,44)),this.handler=new Ta(a,l,d,l.root,c),this.animation=new qn({stage:{update:h?null:function(){return o._flush(!0)}}}),h||this.animation.start()}return n.prototype.add=function(i){i&&(this.storage.addRoot(i),i.addSelfToZr(this),this.refresh())},n.prototype.remove=function(i){i&&(this.storage.delRoot(i),i.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(i,e){this.painter.configLayer&&this.painter.configLayer(i,e),this.refresh()},n.prototype.setBackgroundColor=function(i){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(i),this.refresh(),this._backgroundColor=i,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return Vi(e,1)<.4;if(e.colorStops){for(var r=e.colorStops,o=0,a=r.length,s=0;s<a;s++)o+=Vi(r[s].color,1);return(o/=a)<.4}return!1}(i)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(i){this._darkMode=i},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(i){i||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(i){var e,r=pi();this._needsRefresh&&(e=!0,this.refreshImmediately(i)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var o=pi();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:o-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(i){this._sleepAfterStill=i},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(i){this.painter.resize((i=i||{}).width,i.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(i){this.handler.setCursorStyle(i)},n.prototype.findHover=function(i,e){return this.handler.findHover(i,e)},n.prototype.on=function(i,e,r){return this.handler.on(i,e,r),this},n.prototype.off=function(i,e){this.handler.off(i,e)},n.prototype.trigger=function(i,e){this.handler.trigger(i,e)},n.prototype.clear=function(){for(var i=this.storage.getRoots(),e=0;e<i.length;e++)i[e]instanceof ti&&i[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete ys[this.id]},n}();function Hf(n,i){var e=new GA(L(),n,i);return ys[e.id]=e,e}function x_(n,i){qc[n]=i}var YA=Object.freeze({__proto__:null,init:Hf,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in ys)ys.hasOwnProperty(n)&&ys[n].dispose();ys={}},getInstance:function(n){return ys[n]},registerPainter:x_,version:"5.4.4"});function Bi(n,i,e,r){var o=i[0],a=i[1],s=e[0],l=e[1],h=a-o,c=l-s;if(0===h)return 0===c?s:(s+l)/2;if(r)if(h>0){if(n<=o)return s;if(n>=a)return l}else{if(n>=o)return s;if(n<=a)return l}else{if(n===o)return s;if(n===a)return l}return(n-o)/h*c+s}function Bt(n,i){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return J(n)?(e=n,e.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*i:parseFloat(n):null==n?NaN:+n;var e}function cn(n,i,e){return null==i&&(i=10),i=Math.min(Math.max(0,i),20),n=(+n).toFixed(i),e?n:+n}function zr(n){return n.sort(function(i,e){return i-e}),n}function co(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var i=1,e=0;e<15;e++,i*=10)if(Math.round(n*i)/i===n)return e;return b_(n)}function b_(n){var i=n.toString().toLowerCase(),e=i.indexOf("e"),r=e>0?+i.slice(e+1):0,o=e>0?e:i.length,a=i.indexOf(".");return Math.max(0,(a<0?0:o-1-a)-r)}function Vf(n,i){var e=Math.log,r=Math.LN10,o=Math.floor(e(n[1]-n[0])/r),a=Math.round(e(Math.abs(i[1]-i[0]))/r),s=Math.min(Math.max(-o+a,0),20);return isFinite(s)?s:20}function w_(n,i){var e=ht(n,function(y,_){return y+(isNaN(_)?0:_)},0);if(0===e)return[];for(var r=Math.pow(10,i),o=Te(n,function(y){return(isNaN(y)?0:y)/e*r*100}),a=100*r,s=Te(o,function(y){return Math.floor(y)}),l=ht(s,function(y,_){return y+_},0),h=Te(o,function(y,_){return y-s[_]});l<a;){for(var c=Number.NEGATIVE_INFINITY,d=null,p=0,m=h.length;p<m;++p)h[p]>c&&(c=h[p],d=p);++s[d],h[d]=0,++l}return Te(s,function(y){return y/r})}function UA(n,i){var e=Math.max(co(n),co(i)),r=n+i;return e>20?r:cn(r,e)}var Ff=9007199254740991;function Wf(n){var i=2*Math.PI;return(n%i+i)%i}function nu(n){return n>-1e-4&&n<1e-4}var qA=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Br(n){if(n instanceof Date)return n;if(J(n)){var i=qA.exec(n);if(!i)return new Date(NaN);if(i[8]){var e=+i[4]||0;return"Z"!==i[8].toUpperCase()&&(e-=+i[8].slice(0,3)),new Date(Date.UTC(+i[1],+(i[2]||1)-1,+i[3]||1,e,+(i[5]||0),+i[6]||0,i[7]?+i[7].substring(0,3):0))}return new Date(+i[1],+(i[2]||1)-1,+i[3]||1,+i[4]||0,+(i[5]||0),+i[6]||0,i[7]?+i[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function S_(n){return Math.pow(10,Xc(n))}function Xc(n){if(0===n)return 0;var i=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,i)>=10&&i++,i}function Gf(n,i){var e=Xc(n),r=Math.pow(10,e),o=n/r;return n=(i?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*r,e>=-20?+n.toFixed(e<0?-e:0):n}function Kc(n,i){var e=(n.length-1)*i+1,r=Math.floor(e),o=+n[r-1],a=e-r;return a?o+a*(n[r]-o):o}function Yf(n){n.sort(function(h,c){return l(h,c,0)?-1:1});for(var i=-1/0,e=1,r=0;r<n.length;){for(var o=n[r].interval,a=n[r].close,s=0;s<2;s++)o[s]<=i&&(o[s]=i,a[s]=s?1:1-e),i=o[s],e=a[s];o[0]===o[1]&&a[0]*a[1]!=1?n.splice(r,1):r++}return n;function l(h,c,d){return h.interval[d]<c.interval[d]||h.interval[d]===c.interval[d]&&(h.close[d]-c.close[d]==(d?-1:1)||!d&&l(h,c,1))}}function Do(n){var i=parseFloat(n);return i==n&&(0!==i||!J(n)||n.indexOf("x")<=0)?i:NaN}function $f(n){return!isNaN(Do(n))}function C_(){return Math.round(9*Math.random())}function k_(n,i){return 0===i?n:k_(i,n%i)}function T_(n,i){return null==n?i:null==i?n:n*i/k_(n,i)}function zi(n){throw new Error(n)}function M_(n,i,e){return(i-n)*e+n}var I_="series\0";function Gi(n){return n instanceof Array?n:null==n?[]:[n]}function _s(n,i,e){if(n){n[i]=n[i]||{},n.emphasis=n.emphasis||{},n.emphasis[i]=n.emphasis[i]||{};for(var r=0,o=e.length;r<o;r++){var a=e[r];!n.emphasis[i].hasOwnProperty(a)&&n[i].hasOwnProperty(a)&&(n.emphasis[i][a]=n[i][a])}}}var A_=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Nl(n){return!Pe(n)||ne(n)||n instanceof Date?n:n.value}function XA(n){return Pe(n)&&!(n instanceof Array)}function L_(n,i,e){var r="normalMerge"===e,o="replaceMerge"===e,a="replaceAll"===e;n=n||[],i=(i||[]).slice();var s=xe();F(i,function(d,p){Pe(d)||(i[p]=null)});var l,h,d,p,m,y,c=function(d,p,m){var y=[];if("replaceAll"===m)return y;for(var _=0;_<d.length;_++){var x=d[_];x&&null!=x.id&&p.set(x.id,_),y.push({existing:"replaceMerge"===m||ou(x)?null:x,newOption:null,keyInfo:null,brandNew:null})}return y}(n,s,e);return(r||o)&&(d=c,p=n,m=s,F(y=i,function(_,x){if(_&&null!=_.id){var b=ru(_.id),S=m.get(b);if(null!=S){var C=d[S];ge(!C.newOption,'Duplicated option on id "'+b+'".'),C.newOption=_,C.existing=p[S],y[x]=null}}})),r&&function(d,p){F(p,function(m,y){if(m&&null!=m.name)for(var _=0;_<d.length;_++){var x=d[_].existing;if(!d[_].newOption&&x&&(null==x.id||null==m.id)&&!ou(m)&&!ou(x)&&P_("name",x,m))return d[_].newOption=m,void(p[y]=null)}})}(c,i),r||o?function(d,p,m){F(p,function(y){if(y){for(var _,x=0;(_=d[x])&&(_.newOption||ou(_.existing)||_.existing&&null!=y.id&&!P_("id",y,_.existing));)x++;_?(_.newOption=y,_.brandNew=m):d.push({newOption:y,brandNew:m,existing:null,keyInfo:null}),x++}})}(c,i,o):a&&function(d,p){F(p,function(m){d.push({newOption:m,brandNew:!0,existing:null,keyInfo:null})})}(c,i),l=c,h=xe(),F(l,function(d){var p=d.existing;p&&h.set(p.id,d)}),F(l,function(d){var p=d.newOption;ge(!p||null==p.id||!h.get(p.id)||h.get(p.id)===d,"id duplicates: "+(p&&p.id)),p&&null!=p.id&&h.set(p.id,d),!d.keyInfo&&(d.keyInfo={})}),F(l,function(d,p){var m=d.existing,y=d.newOption,_=d.keyInfo;if(Pe(y)){if(_.name=null!=y.name?ru(y.name):m?m.name:I_+p,m)_.id=ru(m.id);else if(null!=y.id)_.id=ru(y.id);else{var x=0;do{_.id="\0"+_.name+"\0"+x++}while(h.get(_.id))}h.set(_.id,d)}}),c}function P_(n,i,e){var r=On(i[n],null),o=On(e[n],null);return null!=r&&null!=o&&r===o}function ru(n){return On(n,"")}function On(n,i){return null==n?i:J(n)?n:Ge(n)||we(n)?n+"":i}function Uf(n){var i=n.name;return!(!i||!i.indexOf(I_))}function ou(n){return n&&null!=n.id&&0===ru(n.id).indexOf("\0_ec_\0")}function xs(n,i){return null!=i.dataIndexInside?i.dataIndexInside:null!=i.dataIndex?ne(i.dataIndex)?Te(i.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(i.dataIndex):null!=i.name?ne(i.name)?Te(i.name,function(e){return n.indexOfName(e)}):n.indexOfName(i.name):void 0}function Mi(){var n="__ec_inner_"+KA++;return function(i){return i[n]||(i[n]={})}}var KA=C_();function au(n,i,e){var r=qf(i,e),a=r.queryOptionMap,s=r.others,l=e?e.defaultMainType:null;return!r.mainTypeSpecified&&l&&a.set(l,{}),a.each(function(h,c){var d=su(n,c,h,{useDefault:l===c,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});s[c+"Models"]=d.models,s[c+"Model"]=d.models[0]}),s}function qf(n,i){var e;if(J(n)){var r={};r[n+"Index"]=0,e=r}else e=n;var o=xe(),a={},s=!1;return F(e,function(l,h){if("dataIndex"!==h&&"dataIndexInside"!==h){var c=h.match(/^(\w+)(Index|Id|Name)$/)||[],d=c[1],p=(c[2]||"").toLowerCase();d&&p&&!(i&&i.includeMainTypes&&ve(i.includeMainTypes,d)<0)&&(s=s||!!d,(o.get(d)||o.set(d,{}))[p]=l)}else a[h]=l}),{mainTypeSpecified:s,queryOptionMap:o,others:a}}var kn={useDefault:!0,enableAll:!1,enableNone:!1},ZA={useDefault:!1,enableAll:!0,enableNone:!0};function su(n,i,e,r){r=r||kn;var o=e.index,a=e.id,s=e.name,l={models:null,specified:null!=o||null!=a||null!=s};if(!l.specified){var h=void 0;return l.models=r.useDefault&&(h=n.getComponent(i))?[h]:[],l}return"none"===o||!1===o?(ge(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):("all"===o&&(ge(r.enableAll,'`"all"` is not a valid value on index option.'),o=a=s=null),l.models=n.queryComponents({mainType:i,index:o,id:a,name:s}),l)}function O_(n,i,e){n.setAttribute?n.setAttribute(i,e):n[i]=e}function Xf(n,i){var e=xe(),r=[];return F(n,function(o){var a=i(o);(e.get(a)||(r.push(a),e.set(a,[]))).push(o)}),{keys:r,buckets:e}}function E_(n,i,e,r,o){var a=null==i||"auto"===i;if(null==r)return r;if(Ge(r))return cn(_=M_(e||0,r,o),a?Math.max(co(e||0),co(r)):i);if(J(r))return o<1?e:r;for(var s=[],l=e,h=r,c=Math.max(l?l.length:0,h.length),d=0;d<c;++d){var p=n.getDimensionInfo(d);if(p&&"ordinal"===p.type)s[d]=(o<1&&l?l:h)[d];else{var m=l&&l[d]?l[d]:0,y=h[d],_=M_(m,y,o);s[d]=cn(_,a?Math.max(co(m),co(y)):i)}}return s}var bs="___EC__COMPONENT__CONTAINER___",N_="___EC__EXTENDED_CLASS___";function Ao(n){var i={main:"",sub:""};if(n){var e=n.split(".");i.main=e[0]||"",i.sub=e[1]||""}return i}function Kf(n,i){n.$constructor=n,n.extend=function(e){var r,o,a=this;return ee(o=a)&&/^class\s/.test(Function.prototype.toString.call(o))?r=function(s){function l(){return s.apply(this,arguments)||this}return Le(l,s),l}(a):(r=function(){(e.$constructor||a).apply(this,arguments)},We(r,this)),Z(r.prototype,e),r[N_]=!0,r.extend=this.extend,r.superCall=JA,r.superApply=e2,r.superClass=a,r}}function R_(n,i){n.extend=i.extend}var QA=Math.round(10*Math.random());function JA(n,i){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return this.superClass.prototype[i].apply(n,e)}function e2(n,i,e){return this.superClass.prototype[i].apply(n,e)}function Zc(n){var i={};n.registerClass=function(e){var r,l,h,o=e.type||e.prototype.type;if(o){ge(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r=o),'componentType "'+r+'" illegal'),e.prototype.type=o;var a=Ao(o);a.sub?a.sub!==bs&&(((h=i[(l=a).main])&&h[bs]||((h=i[l.main]={})[bs]=!0),h)[a.sub]=e):i[a.main]=e}return e},n.getClass=function(e,r,o){var a=i[e];if(a&&a[bs]&&(a=r?a[r]:null),o&&!a)throw new Error(r?"Component "+e+"."+(r||"")+" is used but not imported.":e+".type should be specified.");return a},n.getClassesByMainType=function(e){var r=Ao(e),o=[],a=i[r.main];return a&&a[bs]?F(a,function(s,l){l!==bs&&o.push(s)}):o.push(a),o},n.hasClass=function(e){var r=Ao(e);return!!i[r.main]},n.getAllClassMainTypes=function(){var e=[];return F(i,function(r,o){e.push(o)}),e},n.hasSubTypes=function(e){var r=Ao(e),o=i[r.main];return o&&o[bs]}}function ws(n,i){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return i=i||!1,function(r,o,a){for(var s={},l=0;l<n.length;l++){var h=n[l][1];if(!(o&&ve(o,h)>=0||a&&ve(a,h)<0)){var c=r.getShallow(h,i);null!=c&&(s[n[l][0]]=c)}}return s}}var t2=ws([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),i2=function(){function n(){}return n.prototype.getAreaStyle=function(i,e){return t2(this,i,e)},n}(),Zf=new Oi(50);function n2(n){if("string"==typeof n){var i=Zf.get(n);return i&&i.image}return n}function Qf(n,i,e,r,o){if(n){if("string"==typeof n){if(i&&i.__zrImageSrc===n||!e)return i;var a=Zf.get(n),s={hostEl:e,cb:r,cbPayload:o};return a?!Qc(i=a.image)&&a.pending.push(s):((i=ut.loadImage(n,z_,z_)).__zrImageSrc=n,Zf.put(n,i.__cachedImgObj={image:i,pending:[s]})),i}return n}return i}function z_(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var i=0;i<n.pending.length;i++){var e=n.pending[i],r=e.cb;r&&r(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function Qc(n){return n&&n.width&&n.height}var Jf=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function B_(n,i,e,r,o){if(!i)return"";var a=(n+"").split("\n");o=j_(i,e,r,o);for(var s=0,l=a.length;s<l;s++)a[s]=H_(a[s],o);return a.join("\n")}function j_(n,i,e,r){var o=Z({},r=r||{});o.font=i,e=nt(e,"..."),o.maxIterations=nt(r.maxIterations,2);var a=o.minChar=nt(r.minChar,0);o.cnCharWidth=Rr("\u56fd",i);var s=o.ascCharWidth=Rr("a",i);o.placeholder=nt(r.placeholder,"");for(var l=n=Math.max(0,n-1),h=0;h<a&&l>=s;h++)l-=s;var c=Rr(e,i);return c>l&&(e="",c=0),l=n-c,o.ellipsis=e,o.ellipsisWidth=c,o.contentWidth=l,o.containerWidth=n,o}function H_(n,i){var e=i.containerWidth,r=i.font,o=i.contentWidth;if(!e)return"";var a=Rr(n,r);if(a<=e)return n;for(var s=0;;s++){if(a<=o||s>=i.maxIterations){n+=i.ellipsis;break}var l=0===s?r2(n,o,i.ascCharWidth,i.cnCharWidth):a>0?Math.floor(n.length*o/a):0;a=Rr(n=n.substr(0,l),r)}return""===n&&(n=i.placeholder),n}function r2(n,i,e,r){for(var o=0,a=0,s=n.length;a<s&&o<i;a++){var l=n.charCodeAt(a);o+=0<=l&&l<=127?e:r}return a}var o2=function(){},V_=function(n){this.tokens=[],n&&(this.tokens=n)},a2=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function eg(n,i,e,r,o){var a,s,l=""===i,h=o&&e.rich[o]||{},c=n.lines,d=h.font||e.font,p=!1;if(r){var m=h.padding,y=m?m[1]+m[3]:0;if(null!=h.width&&"auto"!==h.width){var _=uo(h.width,r.width)+y;c.length>0&&_+r.accumWidth>r.width&&(a=i.split("\n"),p=!0),r.accumWidth=_}else{var x=F_(i,d,r.width,r.breakAll,r.accumWidth);r.accumWidth=x.accumWidth+y,s=x.linesWidths,a=x.lines}}else a=i.split("\n");for(var b=0;b<a.length;b++){var S=a[b],C=new o2;if(C.styleName=o,C.text=S,C.isLineHolder=!S&&!l,C.width="number"==typeof h.width?h.width:s?s[b]:Rr(S,d),b||p)c.push(new V_([C]));else{var I=(c[c.length-1]||(c[0]=new V_)).tokens,A=I.length;1===A&&I[0].isLineHolder?I[0]=C:(S||!A||l)&&I.push(C)}}}var s2=ht(",&?/;] ".split(""),function(n,i){return n[i]=!0,n},{});function l2(n){return!(((e=n.charCodeAt(0))>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303)&&!s2[n]);var e}function F_(n,i,e,r,o){for(var a=[],s=[],l="",h="",c=0,d=0,p=0;p<n.length;p++){var m=n.charAt(p);if("\n"!==m){var y=Rr(m,i),_=!r&&!l2(m);(a.length?d+y>e:o+d+y>e)?d?(l||h)&&(_?(l||(l=h,h="",d=c=0),a.push(l),s.push(d-c),h+=m,l="",d=c+=y):(h&&(l+=h,h="",c=0),a.push(l),s.push(d),l=m,d=y)):_?(a.push(h),s.push(c),h=m,c=y):(a.push(m),s.push(y)):(d+=y,_?(h+=m,c+=y):(h&&(l+=h,h="",c=0),l+=m))}else h&&(l+=h,d+=c),a.push(l),s.push(d),l="",h="",c=0,d=0}return a.length||l||(l=n,h="",c=0),h&&(l+=h),l&&(a.push(l),s.push(d)),1===a.length&&(d+=o),{accumWidth:d,lines:a,linesWidths:s}}var tg="__zr_style_"+Math.round(10*Math.random()),Ss={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Jc={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Ss[tg]=!0;var W_=["z","z2","invisible"],h2=["invisible"],Wr=function(n){function i(r){return n.call(this,r)||this}var e;return Le(i,n),i.prototype._init=function(r){for(var o=ft(r),a=0;a<o.length;a++){var s=o[a];"style"===s?this.useStyle(r[s]):n.prototype.attrKV.call(this,s,r[s])}this.style||this.useStyle({})},i.prototype.beforeBrush=function(){},i.prototype.afterBrush=function(){},i.prototype.innerBeforeBrush=function(){},i.prototype.innerAfterBrush=function(){},i.prototype.shouldBePainted=function(r,o,a,s){var d,p,m,l=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(p=r,m=o,ig.copy((d=this).getBoundingRect()),d.transform&&ig.applyTransform(d.transform),ng.width=p,ng.height=m,!ig.intersect(ng))||l&&!l[0]&&!l[3])return!1;if(a&&this.__clipPaths)for(var h=0;h<this.__clipPaths.length;++h)if(this.__clipPaths[h].isZeroArea())return!1;if(s&&this.parent)for(var c=this.parent;c;){if(c.ignore)return!1;c=c.parent}return!0},i.prototype.contain=function(r,o){return this.rectContain(r,o)},i.prototype.traverse=function(r,o){r.call(o,this)},i.prototype.rectContain=function(r,o){var a=this.transformCoordToLocal(r,o);return this.getBoundingRect().contain(a[0],a[1])},i.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,a=this.getBoundingRect(),s=this.style,l=s.shadowBlur||0,h=s.shadowOffsetX||0,c=s.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new ai(0,0,0,0)),o?ai.applyTransform(r,a,o):r.copy(a),(l||h||c)&&(r.width+=2*l+Math.abs(h),r.height+=2*l+Math.abs(c),r.x=Math.min(r.x,r.x+h-l),r.y=Math.min(r.y,r.y+c-l));var d=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-d),r.y=Math.floor(r.y-d),r.width=Math.ceil(r.width+1+2*d),r.height=Math.ceil(r.height+1+2*d))}return r},i.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new ai(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},i.prototype.getPrevPaintRect=function(){return this._prevPaintRect},i.prototype.animateStyle=function(r){return this.animate("style",r)},i.prototype.updateDuringAnimation=function(r){"style"===r?this.dirtyStyle():this.markRedraw()},i.prototype.attrKV=function(r,o){"style"!==r?n.prototype.attrKV.call(this,r,o):this.style?this.setStyle(o):this.useStyle(o)},i.prototype.setStyle=function(r,o){return"string"==typeof r?this.style[r]=o:Z(this.style,r),this.dirtyStyle(),this},i.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},i.prototype.dirty=function(){this.dirtyStyle()},i.prototype.styleChanged=function(){return!!(2&this.__dirty)},i.prototype.styleUpdated=function(){this.__dirty&=-3},i.prototype.createStyle=function(r){return Xe(Ss,r)},i.prototype.useStyle=function(r){r[tg]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},i.prototype.isStyleObject=function(r){return r[tg]},i.prototype._innerSaveToNormal=function(r){n.prototype._innerSaveToNormal.call(this,r);var o=this._normalState;r.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,o,W_)},i.prototype._applyStateObj=function(r,o,a,s,l,h){n.prototype._applyStateObj.call(this,r,o,a,s,l,h);var c,d=!(o&&s);if(o&&o.style?l?s?c=o.style:(c=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(c,o.style)):(c=this._mergeStyle(this.createStyle(),s?this.style:a.style),this._mergeStyle(c,o.style)):d&&(c=a.style),c)if(l){var p=this.style;if(this.style=this.createStyle(d?{}:p),d)for(var m=ft(p),y=0;y<m.length;y++)(x=m[y])in c&&(c[x]=c[x],this.style[x]=p[x]);var _=ft(c);for(y=0;y<_.length;y++){var x=_[y];this.style[x]=this.style[x]}this._transitionState(r,{style:c},h,this.getAnimationStyleProps())}else this.useStyle(c);var b=this.__inHover?h2:W_;for(y=0;y<b.length;y++)x=b[y],o&&null!=o[x]?this[x]=o[x]:d&&null!=a[x]&&(this[x]=a[x])},i.prototype._mergeStates=function(r){for(var o,a=n.prototype._mergeStates.call(this,r),s=0;s<r.length;s++){var l=r[s];l.style&&this._mergeStyle(o=o||{},l.style)}return o&&(a.style=o),a},i.prototype._mergeStyle=function(r,o){return Z(r,o),r},i.prototype.getAnimationStyleProps=function(){return Jc},i.initDefaultProps=((e=i.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=3)),i}(Uc),ig=new ai(0,0,0,0),ng=new ai(0,0,0,0),Tr=Math.min,Mr=Math.max,rg=Math.sin,og=Math.cos,Cs=2*Math.PI,ed=Vt(),td=Vt(),id=Vt();function nd(n,i,e){if(0!==n.length){for(var r=n[0],o=r[0],a=r[0],s=r[1],l=r[1],h=1;h<n.length;h++)o=Tr(o,(r=n[h])[0]),a=Mr(a,r[0]),s=Tr(s,r[1]),l=Mr(l,r[1]);i[0]=o,i[1]=s,e[0]=a,e[1]=l}}function G_(n,i,e,r,o,a){o[0]=Tr(n,e),o[1]=Tr(i,r),a[0]=Mr(n,e),a[1]=Mr(i,r)}var Y_=[],$_=[];function u2(n,i,e,r,o,a,s,l,h,c){var d=Ri,p=mi,m=d(n,e,o,s,Y_);h[0]=1/0,h[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var y=0;y<m;y++){var _=p(n,e,o,s,Y_[y]);h[0]=Tr(_,h[0]),c[0]=Mr(_,c[0])}for(m=d(i,r,a,l,$_),y=0;y<m;y++){var x=p(i,r,a,l,$_[y]);h[1]=Tr(x,h[1]),c[1]=Mr(x,c[1])}h[0]=Tr(n,h[0]),c[0]=Mr(n,c[0]),h[0]=Tr(s,h[0]),c[0]=Mr(s,c[0]),h[1]=Tr(i,h[1]),c[1]=Mr(i,c[1]),h[1]=Tr(l,h[1]),c[1]=Mr(l,c[1])}function c2(n,i,e,r,o,a,s,l){var h=ea,c=Wi,d=Mr(Tr(h(n,e,o),1),0),p=Mr(Tr(h(i,r,a),1),0),m=c(n,e,o,d),y=c(i,r,a,p);s[0]=Tr(n,o,m),s[1]=Tr(i,a,y),l[0]=Mr(n,o,m),l[1]=Mr(i,a,y)}function d2(n,i,e,r,o,a,s,l,h){var c=pn,d=Ln,p=Math.abs(o-a);if(p%Cs<1e-4&&p>1e-4)return l[0]=n-e,l[1]=i-r,h[0]=n+e,void(h[1]=i+r);if(ed[0]=og(o)*e+n,ed[1]=rg(o)*r+i,td[0]=og(a)*e+n,td[1]=rg(a)*r+i,c(l,ed,td),d(h,ed,td),(o%=Cs)<0&&(o+=Cs),(a%=Cs)<0&&(a+=Cs),o>a&&!s?a+=Cs:o<a&&s&&(o+=Cs),s){var m=a;a=o,o=m}for(var y=0;y<a;y+=Math.PI/2)y>o&&(id[0]=og(y)*e+n,id[1]=rg(y)*r+i,c(l,id,l),d(h,id,h))}var qi={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ks=[],Ts=[],Lo=[],Oa=[],Po=[],Oo=[],ag=Math.min,sg=Math.max,Ms=Math.cos,Is=Math.sin,aa=Math.abs,lg=Math.PI,Ea=2*lg,hg="undefined"!=typeof Float32Array,lu=[];function ug(n){return Math.round(n/lg*1e8)/1e8%2*lg}function U_(n,i){var e=ug(n[0]);e<0&&(e+=Ea);var o=n[1];o+=e-n[0],!i&&o-e>=Ea?o=e+Ea:i&&e-o>=Ea?o=e-Ea:!i&&e>o?o=e+(Ea-ug(e-o)):i&&e<o&&(o=e-(Ea-ug(o-e))),n[0]=e,n[1]=o}var Eo=function(){function n(i){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,i&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(i,e,r){(r=r||0)>0&&(this._ux=aa(r/Gc/i)||0,this._uy=aa(r/Gc/e)||0)},n.prototype.setDPR=function(i){this.dpr=i},n.prototype.setContext=function(i){this._ctx=i},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(i,e){return this._drawPendingPt(),this.addData(qi.M,i,e),this._ctx&&this._ctx.moveTo(i,e),this._x0=i,this._y0=e,this._xi=i,this._yi=e,this},n.prototype.lineTo=function(i,e){var r=aa(i-this._xi),o=aa(e-this._yi),a=r>this._ux||o>this._uy;if(this.addData(qi.L,i,e),this._ctx&&a&&this._ctx.lineTo(i,e),a)this._xi=i,this._yi=e,this._pendingPtDist=0;else{var s=r*r+o*o;s>this._pendingPtDist&&(this._pendingPtX=i,this._pendingPtY=e,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(i,e,r,o,a,s){return this._drawPendingPt(),this.addData(qi.C,i,e,r,o,a,s),this._ctx&&this._ctx.bezierCurveTo(i,e,r,o,a,s),this._xi=a,this._yi=s,this},n.prototype.quadraticCurveTo=function(i,e,r,o){return this._drawPendingPt(),this.addData(qi.Q,i,e,r,o),this._ctx&&this._ctx.quadraticCurveTo(i,e,r,o),this._xi=r,this._yi=o,this},n.prototype.arc=function(i,e,r,o,a,s){this._drawPendingPt(),lu[0]=o,lu[1]=a,U_(lu,s);var l=(a=lu[1])-(o=lu[0]);return this.addData(qi.A,i,e,r,r,o,l,0,s?0:1),this._ctx&&this._ctx.arc(i,e,r,o,a,s),this._xi=Ms(a)*r+i,this._yi=Is(a)*r+e,this},n.prototype.arcTo=function(i,e,r,o,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(i,e,r,o,a),this},n.prototype.rect=function(i,e,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.rect(i,e,r,o),this.addData(qi.R,i,e,r,o),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(qi.Z);var i=this._ctx,e=this._x0,r=this._y0;return i&&i.closePath(),this._xi=e,this._yi=r,this},n.prototype.fill=function(i){i&&i.fill(),this.toStatic()},n.prototype.stroke=function(i){i&&i.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(i){var e=i.length;this.data&&this.data.length===e||!hg||(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=i[r];this._len=e},n.prototype.appendPath=function(i){i instanceof Array||(i=[i]);for(var e=i.length,r=0,o=this._len,a=0;a<e;a++)r+=i[a].len();for(hg&&this.data instanceof Float32Array&&(this.data=new Float32Array(o+r)),a=0;a<e;a++)for(var s=i[a].data,l=0;l<s.length;l++)this.data[o++]=s[l];this._len=o},n.prototype.addData=function(i,e,r,o,a,s,l,h,c){if(this._saveData){var d=this.data;this._len+arguments.length>d.length&&(this._expandData(),d=this.data);for(var p=0;p<arguments.length;p++)d[this._len++]=arguments[p]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var i=[],e=0;e<this._len;e++)i[e]=this.data[e];this.data=i}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var i=this.data;i instanceof Array&&(i.length=this._len,hg&&this._len>11&&(this.data=new Float32Array(i)))}},n.prototype.getBoundingRect=function(){Lo[0]=Lo[1]=Po[0]=Po[1]=Number.MAX_VALUE,Oa[0]=Oa[1]=Oo[0]=Oo[1]=-Number.MAX_VALUE;var i,e=this.data,r=0,o=0,a=0,s=0;for(i=0;i<this._len;){var l=e[i++],h=1===i;switch(h&&(a=r=e[i],s=o=e[i+1]),l){case qi.M:r=a=e[i++],o=s=e[i++],Po[0]=a,Po[1]=s,Oo[0]=a,Oo[1]=s;break;case qi.L:G_(r,o,e[i],e[i+1],Po,Oo),r=e[i++],o=e[i++];break;case qi.C:u2(r,o,e[i++],e[i++],e[i++],e[i++],e[i],e[i+1],Po,Oo),r=e[i++],o=e[i++];break;case qi.Q:c2(r,o,e[i++],e[i++],e[i],e[i+1],Po,Oo),r=e[i++],o=e[i++];break;case qi.A:var c=e[i++],d=e[i++],p=e[i++],m=e[i++],y=e[i++],_=e[i++]+y;i+=1;var x=!e[i++];h&&(a=Ms(y)*p+c,s=Is(y)*m+d),d2(c,d,p,m,y,_,x,Po,Oo),r=Ms(_)*p+c,o=Is(_)*m+d;break;case qi.R:G_(a=r=e[i++],s=o=e[i++],a+e[i++],s+e[i++],Po,Oo);break;case qi.Z:r=a,o=s}pn(Lo,Lo,Po),Ln(Oa,Oa,Oo)}return 0===i&&(Lo[0]=Lo[1]=Oa[0]=Oa[1]=0),new ai(Lo[0],Lo[1],Oa[0]-Lo[0],Oa[1]-Lo[1])},n.prototype._calculateLength=function(){var i=this.data,e=this._len,r=this._ux,o=this._uy,a=0,s=0,l=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,d=0,p=0,m=0;m<e;){var y=i[m++],_=1===m;_&&(l=a=i[m],h=s=i[m+1]);var x=-1;switch(y){case qi.M:a=l=i[m++],s=h=i[m++];break;case qi.L:var b=i[m++],S=(A=i[m++])-s;(aa(ae=b-a)>r||aa(S)>o||m===e-1)&&(x=Math.sqrt(ae*ae+S*S),a=b,s=A);break;case qi.C:var C=i[m++],I=i[m++],A=(b=i[m++],i[m++]),P=i[m++],O=i[m++];x=kl(a,s,C,I,b,A,P,O,10),a=P,s=O;break;case qi.Q:x=br(a,s,C=i[m++],I=i[m++],b=i[m++],A=i[m++],10),a=b,s=A;break;case qi.A:var E=i[m++],z=i[m++],V=i[m++],G=i[m++],Y=i[m++],X=i[m++],te=X+Y;m+=1,m++,_&&(l=Ms(Y)*V+E,h=Is(Y)*G+z),x=sg(V,G)*ag(Ea,Math.abs(X)),a=Ms(te)*V+E,s=Is(te)*G+z;break;case qi.R:l=a=i[m++],h=s=i[m++],x=2*i[m++]+2*i[m++];break;case qi.Z:var ae=l-a;S=h-s,x=Math.sqrt(ae*ae+S*S),a=l,s=h}x>=0&&(c[p++]=x,d+=x)}return this._pathLen=d,d},n.prototype.rebuildPath=function(i,e){var r,o,a,s,l,h,c,d,p,m,y=this.data,_=this._ux,x=this._uy,b=this._len,S=e<1,C=0,I=0,A=0;if(!S||(this._pathSegLen||this._calculateLength(),c=this._pathSegLen,d=e*this._pathLen))e:for(var P=0;P<b;){var O=y[P++],E=1===P;switch(E&&(r=a=y[P],o=s=y[P+1]),O!==qi.L&&A>0&&(i.lineTo(p,m),A=0),O){case qi.M:r=a=y[P++],o=s=y[P++],i.moveTo(a,s);break;case qi.L:l=y[P++],h=y[P++];var z=aa(l-a),V=aa(h-s);if(z>_||V>x){if(S){if(C+(ni=c[I++])>d){var G=(d-C)/ni;i.lineTo(a*(1-G)+l*G,s*(1-G)+h*G);break e}C+=ni}i.lineTo(l,h),a=l,s=h,A=0}else{var Y=z*z+V*V;Y>A&&(p=l,m=h,A=Y)}break;case qi.C:var X=y[P++],te=y[P++],ae=y[P++],he=y[P++],fe=y[P++],ye=y[P++];if(S){if(C+(ni=c[I++])>d){Fi(a,X,ae,fe,G=(d-C)/ni,ks),Fi(s,te,he,ye,G,Ts),i.bezierCurveTo(ks[1],Ts[1],ks[2],Ts[2],ks[3],Ts[3]);break e}C+=ni}i.bezierCurveTo(X,te,ae,he,fe,ye),a=fe,s=ye;break;case qi.Q:if(X=y[P++],te=y[P++],ae=y[P++],he=y[P++],S){if(C+(ni=c[I++])>d){Pn(a,X,ae,G=(d-C)/ni,ks),Pn(s,te,he,G,Ts),i.quadraticCurveTo(ks[1],Ts[1],ks[2],Ts[2]);break e}C+=ni}i.quadraticCurveTo(X,te,ae,he),a=ae,s=he;break;case qi.A:var Se=y[P++],Ee=y[P++],Re=y[P++],ze=y[P++],ot=y[P++],xt=y[P++],Ue=y[P++],pt=!y[P++],bt=Re>ze?Re:ze,Mt=aa(Re-ze)>.001,yt=ot+xt,Dt=!1;if(S&&(C+(ni=c[I++])>d&&(yt=ot+xt*(d-C)/ni,Dt=!0),C+=ni),Mt&&i.ellipse?i.ellipse(Se,Ee,Re,ze,Ue,ot,yt,pt):i.arc(Se,Ee,bt,ot,yt,pt),Dt)break e;E&&(r=Ms(ot)*Re+Se,o=Is(ot)*ze+Ee),a=Ms(yt)*Re+Se,s=Is(yt)*ze+Ee;break;case qi.R:r=a=y[P],o=s=y[P+1],l=y[P++],h=y[P++];var St=y[P++],Ot=y[P++];if(S){if(C+(ni=c[I++])>d){var Ft=d-C;i.moveTo(l,h),i.lineTo(l+ag(Ft,St),h),(Ft-=St)>0&&i.lineTo(l+St,h+ag(Ft,Ot)),(Ft-=Ot)>0&&i.lineTo(l+sg(St-Ft,0),h+Ot),(Ft-=St)>0&&i.lineTo(l,h+sg(Ot-Ft,0));break e}C+=ni}i.rect(l,h,St,Ot);break;case qi.Z:if(S){var ni;if(C+(ni=c[I++])>d){i.lineTo(a*(1-(G=(d-C)/ni))+r*G,s*(1-G)+o*G);break e}C+=ni}i.closePath(),a=r,s=o}}},n.prototype.clone=function(){var i=new n,e=this.data;return i.data=e.slice?e.slice():Array.prototype.slice.call(e),i._len=this._len,i},n.CMD=qi,n.initDefaultProps=((i=n.prototype)._saveData=!0,i._ux=0,i._uy=0,i._pendingPtDist=0,void(i._version=0)),n;var i}();function Na(n,i,e,r,o,a,s){if(0===o)return!1;var h,l=o;if(s>i+l&&s>r+l||s<i-l&&s<r-l||a>n+l&&a>e+l||a<n-l&&a<e-l)return!1;if(n===e)return Math.abs(a-n)<=l/2;var c=(h=(i-r)/(n-e))*a-s+(n*r-e*i)/(n-e);return c*c/(h*h+1)<=l/2*l/2}function p2(n,i,e,r,o,a,s,l,h,c,d){if(0===h)return!1;var p=h;return!(d>i+p&&d>r+p&&d>a+p&&d>l+p||d<i-p&&d<r-p&&d<a-p&&d<l-p||c>n+p&&c>e+p&&c>o+p&&c>s+p||c<n-p&&c<e-p&&c<o-p&&c<s-p)&&Ma(n,i,e,r,o,a,s,l,c,d,null)<=p/2}function q_(n,i,e,r,o,a,s,l,h){if(0===s)return!1;var c=s;return!(h>i+c&&h>r+c&&h>a+c||h<i-c&&h<r-c&&h<a-c||l>n+c&&l>e+c&&l>o+c||l<n-c&&l<e-c&&l<o-c)&&ta(n,i,e,r,o,a,l,h,null)<=c/2}var X_=2*Math.PI;function po(n){return(n%=X_)<0&&(n+=X_),n}var hu=2*Math.PI;function f2(n,i,e,r,o,a,s,l,h){if(0===s)return!1;var c=s;l-=n,h-=i;var d=Math.sqrt(l*l+h*h);if(d-c>e||d+c<e)return!1;if(Math.abs(r-o)%hu<1e-4)return!0;if(a){var p=r;r=po(o),o=po(p)}else r=po(r),o=po(o);r>o&&(o+=hu);var m=Math.atan2(h,l);return m<0&&(m+=hu),m>=r&&m<=o||m+hu>=r&&m+hu<=o}function sa(n,i,e,r,o,a){if(a>i&&a>r||a<i&&a<r||r===i)return 0;var s=(a-i)/(r-i),l=r<i?1:-1;1!==s&&0!==s||(l=r<i?.5:-.5);var h=s*(e-n)+n;return h===o?1/0:h>o?l:0}var Ra=Eo.CMD,Ds=2*Math.PI,dr=[-1,-1,-1],Gr=[-1,-1];function g2(n,i,e,r,o,a,s,l,h,c){if(c>i&&c>r&&c>a&&c>l||c<i&&c<r&&c<a&&c<l)return 0;var d,p=Nn(i,r,a,l,c,dr);if(0===p)return 0;for(var m=0,y=-1,_=void 0,x=void 0,b=0;b<p;b++){var S=dr[b],C=0===S||1===S?.5:1;mi(n,e,o,s,S)<h||(y<0&&(y=Ri(i,r,a,l,Gr),Gr[1]<Gr[0]&&y>1&&(d=Gr[0],Gr[0]=Gr[1],Gr[1]=d),_=mi(i,r,a,l,Gr[0]),y>1&&(x=mi(i,r,a,l,Gr[1]))),m+=2===y?S<Gr[0]?_<i?C:-C:S<Gr[1]?x<_?C:-C:l<x?C:-C:S<Gr[0]?_<i?C:-C:l<_?C:-C)}return m}function m2(n,i,e,r,o,a,s,l){if(l>i&&l>r&&l>a||l<i&&l<r&&l<a)return 0;var h=function(_,x,b,S,C){var I=_-2*x+b,A=2*(x-_),P=_-S,O=0;if(tn(I))Jn(A)&&(z=-P/A)>=0&&z<=1&&(C[O++]=z);else{var E=A*A-4*I*P;if(tn(E))(z=-A/(2*I))>=0&&z<=1&&(C[O++]=z);else if(E>0){var z,V=lt(E),G=(-A-V)/(2*I);(z=(-A+V)/(2*I))>=0&&z<=1&&(C[O++]=z),G>=0&&G<=1&&(C[O++]=G)}}return O}(i,r,a,l,dr);if(0===h)return 0;var c=ea(i,r,a);if(c>=0&&c<=1){for(var d=0,p=Wi(i,r,a,c),m=0;m<h;m++){var y=0===dr[m]||1===dr[m]?.5:1;Wi(n,e,o,dr[m])<s||(d+=dr[m]<c?p<i?y:-y:a<p?y:-y)}return d}return y=0===dr[0]||1===dr[0]?.5:1,Wi(n,e,o,dr[0])<s?0:a<i?y:-y}function v2(n,i,e,r,o,a,s,l){if((l-=i)>e||l<-e)return 0;var h=Math.sqrt(e*e-l*l);dr[0]=-h,dr[1]=h;var c=Math.abs(r-o);if(c<1e-4)return 0;if(c>=Ds-1e-4){r=0,o=Ds;var d=a?1:-1;return s>=dr[0]+n&&s<=dr[1]+n?d:0}if(r>o){var p=r;r=o,o=p}r<0&&(r+=Ds,o+=Ds);for(var m=0,y=0;y<2;y++){var _=dr[y];if(_+n>s){var x=Math.atan2(l,_);d=a?1:-1,x<0&&(x=Ds+x),(x>=r&&x<=o||x+Ds>=r&&x+Ds<=o)&&(x>Math.PI/2&&x<1.5*Math.PI&&(d=-d),m+=d)}}return m}function K_(n,i,e,r,o){for(var a,s,c=n.data,d=n.len(),p=0,m=0,y=0,_=0,x=0,b=0;b<d;){var S=c[b++],C=1===b;switch(S===Ra.M&&b>1&&(e||(p+=sa(m,y,_,x,r,o))),C&&(_=m=c[b],x=y=c[b+1]),S){case Ra.M:m=_=c[b++],y=x=c[b++];break;case Ra.L:if(e){if(Na(m,y,c[b],c[b+1],i,r,o))return!0}else p+=sa(m,y,c[b],c[b+1],r,o)||0;m=c[b++],y=c[b++];break;case Ra.C:if(e){if(p2(m,y,c[b++],c[b++],c[b++],c[b++],c[b],c[b+1],i,r,o))return!0}else p+=g2(m,y,c[b++],c[b++],c[b++],c[b++],c[b],c[b+1],r,o)||0;m=c[b++],y=c[b++];break;case Ra.Q:if(e){if(q_(m,y,c[b++],c[b++],c[b],c[b+1],i,r,o))return!0}else p+=m2(m,y,c[b++],c[b++],c[b],c[b+1],r,o)||0;m=c[b++],y=c[b++];break;case Ra.A:var I=c[b++],A=c[b++],P=c[b++],O=c[b++],E=c[b++],z=c[b++];b+=1;var V=!!(1-c[b++]);a=Math.cos(E)*P+I,s=Math.sin(E)*O+A,C?(_=a,x=s):p+=sa(m,y,a,s,r,o);var G=(r-I)*O/P+I;if(e){if(f2(I,A,O,E,E+z,V,i,G,o))return!0}else p+=v2(I,A,O,E,E+z,V,G,o);m=Math.cos(E+z)*P+I,y=Math.sin(E+z)*O+A;break;case Ra.R:if(_=m=c[b++],x=y=c[b++],a=_+c[b++],s=x+c[b++],e){if(Na(_,x,a,x,i,r,o)||Na(a,x,a,s,i,r,o)||Na(a,s,_,s,i,r,o)||Na(_,s,_,x,i,r,o))return!0}else p+=sa(a,x,a,s,r,o),p+=sa(_,s,_,x,r,o);break;case Ra.Z:if(e){if(Na(m,y,_,x,i,r,o))return!0}else p+=sa(m,y,_,x,r,o);m=_,y=x}}return e||Math.abs(y-x)<1e-4||(p+=sa(m,y,_,x,r,o)||0),0!==p}var rd=de({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Ss),y2={style:de({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Jc.style)},cg=Io.concat(["invisible","culling","z","z2","zlevel","parent"]),yi=function(n){function i(r){return n.call(this,r)||this}var e;return Le(i,n),i.prototype.update=function(){var r=this;n.prototype.update.call(this);var o=this.style;if(o.decal){var a=this._decalEl=this._decalEl||new i;a.buildPath===i.prototype.buildPath&&(a.buildPath=function(c){r.buildPath(c,r.shape)}),a.silent=!0;var s=a.style;for(var l in o)s[l]!==o[l]&&(s[l]=o[l]);s.fill=o.fill?o.decal:null,s.decal=null,s.shadowColor=null,o.strokeFirst&&(s.stroke=null);for(var h=0;h<cg.length;++h)a[cg[h]]=this[cg[h]];a.__dirty|=1}else this._decalEl&&(this._decalEl=null)},i.prototype.getDecalElement=function(){return this._decalEl},i.prototype._init=function(r){var o=ft(r);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var s=0;s<o.length;s++){var l=o[s],h=r[l];"style"===l?this.style?Z(this.style,h):this.useStyle(h):"shape"===l?Z(this.shape,h):n.prototype.attrKV.call(this,l,h)}this.style||this.useStyle({})},i.prototype.getDefaultStyle=function(){return null},i.prototype.getDefaultShape=function(){return{}},i.prototype.canBeInsideText=function(){return this.hasFill()},i.prototype.getInsideTextFill=function(){var r=this.style.fill;if("none"!==r){if(J(r)){var o=Vi(r,0);return o>.5?Pf:o>.2?"#eee":Of}if(r)return Of}return Pf},i.prototype.getInsideTextStroke=function(r){var o=this.style.fill;if(J(o)){var a=this.__zr;if(!(!a||!a.isDarkMode())==Vi(r,0)<.4)return o}},i.prototype.buildPath=function(r,o,a){},i.prototype.pathUpdated=function(){this.__dirty&=-5},i.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},i.prototype.createPathProxy=function(){this.path=new Eo(!1)},i.prototype.hasStroke=function(){var r=this.style,o=r.stroke;return!(null==o||"none"===o||!(r.lineWidth>0))},i.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},i.prototype.getBoundingRect=function(){var r=this._rect,o=this.style,a=!r;if(a){var s=!1;this.path||(s=!0,this.createPathProxy());var l=this.path;(s||4&this.__dirty)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),r=l.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var h=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||a){h.copy(r);var c=o.strokeNoScale?this.getLineScale():1,d=o.lineWidth;if(!this.hasFill()){var p=this.strokeContainThreshold;d=Math.max(d,null==p?4:p)}c>1e-10&&(h.width+=d/c,h.height+=d/c,h.x-=d/c/2,h.y-=d/c/2)}return h}return r},i.prototype.contain=function(r,o){var a=this.transformCoordToLocal(r,o),s=this.getBoundingRect(),l=this.style;if(s.contain(r=a[0],o=a[1])){var h=this.path;if(this.hasStroke()){var c=l.lineWidth,d=l.strokeNoScale?this.getLineScale():1;if(d>1e-10&&(this.hasFill()||(c=Math.max(c,this.strokeContainThreshold)),K_(h,c/d,!0,r,o)))return!0}if(this.hasFill())return K_(h,0,!1,r,o)}return!1},i.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},i.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},i.prototype.animateShape=function(r){return this.animate("shape",r)},i.prototype.updateDuringAnimation=function(r){"style"===r?this.dirtyStyle():"shape"===r?this.dirtyShape():this.markRedraw()},i.prototype.attrKV=function(r,o){"shape"===r?this.setShape(o):n.prototype.attrKV.call(this,r,o)},i.prototype.setShape=function(r,o){var a=this.shape;return a||(a=this.shape={}),"string"==typeof r?a[r]=o:Z(a,r),this.dirtyShape(),this},i.prototype.shapeChanged=function(){return!!(4&this.__dirty)},i.prototype.createStyle=function(r){return Xe(rd,r)},i.prototype._innerSaveToNormal=function(r){n.prototype._innerSaveToNormal.call(this,r);var o=this._normalState;r.shape&&!o.shape&&(o.shape=Z({},this.shape))},i.prototype._applyStateObj=function(r,o,a,s,l,h){n.prototype._applyStateObj.call(this,r,o,a,s,l,h);var c,d=!(o&&s);if(o&&o.shape?l?s?c=o.shape:(c=Z({},a.shape),Z(c,o.shape)):(c=Z({},s?this.shape:a.shape),Z(c,o.shape)):d&&(c=a.shape),c)if(l){this.shape=Z({},this.shape);for(var p={},m=ft(c),y=0;y<m.length;y++){var _=m[y];"object"==typeof c[_]?this.shape[_]=c[_]:p[_]=c[_]}this._transitionState(r,{shape:p},h)}else this.shape=c,this.dirtyShape()},i.prototype._mergeStates=function(r){for(var o,a=n.prototype._mergeStates.call(this,r),s=0;s<r.length;s++){var l=r[s];l.shape&&this._mergeStyle(o=o||{},l.shape)}return o&&(a.shape=o),a},i.prototype.getAnimationStyleProps=function(){return y2},i.prototype.isZeroArea=function(){return!1},i.extend=function(r){var o=function(s){function l(h){var c=s.call(this,h)||this;return r.init&&r.init.call(c,h),c}return Le(l,s),l.prototype.getDefaultStyle=function(){return H(r.style)},l.prototype.getDefaultShape=function(){return H(r.shape)},l}(i);for(var a in r)"function"==typeof r[a]&&(o.prototype[a]=r[a]);return o},i.initDefaultProps=((e=i.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=7)),i}(Wr),_2=de({strokeFirst:!0,font:Pt,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},rd),Rl=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.hasStroke=function(){var e=this.style,r=e.stroke;return null!=r&&"none"!==r&&e.lineWidth>0},i.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},i.prototype.createStyle=function(e){return Xe(_2,e)},i.prototype.setBoundingRect=function(e){this._rect=e},i.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var r=e.text;null!=r?r+="":r="";var o=tu(r,e.font,e.textAlign,e.textBaseline);if(o.x+=e.x||0,o.y+=e.y||0,this.hasStroke()){var a=e.lineWidth;o.x-=a/2,o.y-=a/2,o.width+=a,o.height+=a}this._rect=o}return this._rect},i.initDefaultProps=void(i.prototype.dirtyRectTolerance=10),i}(Wr);Rl.prototype.type="tspan";var x2=de({x:0,y:0},Ss),b2={style:de({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Jc.style)},Rn=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.createStyle=function(e){return Xe(x2,e)},i.prototype._getSize=function(e){var r=this.style,o=r[e];if(null!=o)return o;var a,s=(a=r.image)&&"string"!=typeof a&&a.width&&a.height?r.image:this.__image;if(!s)return 0;var l="width"===e?"height":"width",h=r[l];return null==h?s[e]:s[e]/s[l]*h},i.prototype.getWidth=function(){return this._getSize("width")},i.prototype.getHeight=function(){return this._getSize("height")},i.prototype.getAnimationStyleProps=function(){return b2},i.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new ai(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},i}(Wr);Rn.prototype.type="image";var zl=Math.round;function Z_(n,i,e){if(i){var r=i.x1,o=i.x2,a=i.y1,s=i.y2;n.x1=r,n.x2=o,n.y1=a,n.y2=s;var l=e&&e.lineWidth;return l&&(zl(2*r)===zl(2*o)&&(n.x1=n.x2=As(r,l,!0)),zl(2*a)===zl(2*s)&&(n.y1=n.y2=As(a,l,!0))),n}}function Q_(n,i,e){if(i){var r=i.x,o=i.y,a=i.width,s=i.height;n.x=r,n.y=o,n.width=a,n.height=s;var l=e&&e.lineWidth;return l&&(n.x=As(r,l,!0),n.y=As(o,l,!0),n.width=Math.max(As(r+a,l,!1)-n.x,0===a?0:1),n.height=Math.max(As(o+s,l,!1)-n.y,0===s?0:1)),n}}function As(n,i,e){if(!i)return n;var r=zl(2*n);return(r+zl(i))%2==0?r/2:(r+(e?1:-1))/2}var w2=function(){this.x=0,this.y=0,this.width=0,this.height=0},S2={},Si=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultShape=function(){return new w2},i.prototype.buildPath=function(e,r){var o,a,s,l,c,d,p,m,y,_,x,b,S,C,I,A;if(this.subPixelOptimize){var h=Q_(S2,r,this.style);o=h.x,a=h.y,s=h.width,l=h.height,h.r=r.r,r=h}else o=r.x,a=r.y,s=r.width,l=r.height;r.r?(c=e,b=(d=r).x,S=d.y,(C=d.width)<0&&(b+=C,C=-C),(I=d.height)<0&&(S+=I,I=-I),"number"==typeof(A=d.r)?p=m=y=_=A:A instanceof Array?1===A.length?p=m=y=_=A[0]:2===A.length?(p=y=A[0],m=_=A[1]):3===A.length?(p=A[0],m=_=A[1],y=A[2]):(p=A[0],m=A[1],y=A[2],_=A[3]):p=m=y=_=0,p+m>C&&(p*=C/(x=p+m),m*=C/x),y+_>C&&(y*=C/(x=y+_),_*=C/x),m+y>I&&(m*=I/(x=m+y),y*=I/x),p+_>I&&(p*=I/(x=p+_),_*=I/x),c.moveTo(b+p,S),c.lineTo(b+C-m,S),0!==m&&c.arc(b+C-m,S+m,m,-Math.PI/2,0),c.lineTo(b+C,S+I-y),0!==y&&c.arc(b+C-y,S+I-y,y,0,Math.PI/2),c.lineTo(b+_,S+I),0!==_&&c.arc(b+_,S+I-_,_,Math.PI/2,Math.PI),c.lineTo(b,S+p),0!==p&&c.arc(b+p,S+p,p,Math.PI,1.5*Math.PI)):e.rect(o,a,s,l)},i.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},i}(yi);Si.prototype.type="rect";var J_={fill:"#000"},C2={style:de({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Jc.style)},Ci=function(n){function i(e){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=J_,r.attr(e),r}return Le(i,n),i.prototype.childrenRef=function(){return this._children},i.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var r=this._children[e];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},i.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},i.prototype.getLocalTransform=function(e){var r=this.innerTransformable;return r?r.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},i.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},i.prototype._updateSubTexts=function(){var e;this._childCursor=0,r1(e=this.style),F(e.rich,r1),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},i.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=e},i.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},i.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new ai(0,0,0,0),r=this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s],h=l.getBoundingRect(),c=l.getLocalTransform(o);c?(e.copy(h),e.applyTransform(c),(a=a||e.clone()).union(e)):(a=a||h.clone()).union(h)}this._rect=a||e}return this._rect},i.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||J_},i.prototype.setTextContent=function(e){},i.prototype._mergeStyle=function(e,r){if(!r)return e;var o=r.rich,a=e.rich||o&&{};return Z(e,r),o&&a?(this._mergeRich(a,o),e.rich=a):a&&(e.rich=a),e},i.prototype._mergeRich=function(e,r){for(var o=ft(r),a=0;a<o.length;a++){var s=o[a];e[s]=e[s]||{},Z(e[s],r[s])}},i.prototype.getAnimationStyleProps=function(){return C2},i.prototype._getOrCreateChild=function(e){var r=this._children[this._childCursor];return r&&r instanceof e||(r=new e),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},i.prototype._updatePlainTexts=function(){var e=this.style,r=e.font||Pt,o=e.padding,a=function(fe,ye){null!=fe&&(fe+="");var Se,Ee=ye.overflow,Re=ye.padding,ze=ye.font,ot="truncate"===Ee,xt=Yc(ze),Ue=nt(ye.lineHeight,xt),pt=!!ye.backgroundColor,bt="truncate"===ye.lineOverflow,Mt=ye.width,yt=(Se=null==Mt||"break"!==Ee&&"breakAll"!==Ee?fe?fe.split("\n"):[]:fe?F_(fe,ye.font,Mt,"breakAll"===Ee,0).lines:[]).length*Ue,Dt=nt(ye.height,yt);if(yt>Dt&&bt){var St=Math.floor(Dt/Ue);Se=Se.slice(0,St)}if(fe&&ot&&null!=Mt)for(var Ot=j_(Mt,ze,ye.ellipsis,{minChar:ye.truncateMinChar,placeholder:ye.placeholder}),Ft=0;Ft<Se.length;Ft++)Se[Ft]=H_(Se[Ft],Ot);var ni=Dt,si=0;for(Ft=0;Ft<Se.length;Ft++)si=Math.max(Rr(Se[Ft],ze),si);null==Mt&&(Mt=si);var Ni=si;return Re&&(ni+=Re[0]+Re[2],Ni+=Re[1]+Re[3],Mt+=Re[1]+Re[3]),pt&&(Ni=Mt),{lines:Se,height:Dt,outerWidth:Ni,outerHeight:ni,lineHeight:Ue,calculatedLineHeight:xt,contentWidth:si,contentHeight:yt,width:Mt}}(l1(e),e),s=dg(e),l=!!e.backgroundColor,h=a.outerHeight,c=a.outerWidth,d=a.contentWidth,p=a.lines,m=a.lineHeight,y=this._defaultStyle,_=e.x||0,x=e.y||0,b=e.align||y.align||"left",S=e.verticalAlign||y.verticalAlign||"top",C=_,I=Ol(x,a.contentHeight,S);if(s||o){var A=iu(_,c,b),P=Ol(x,h,S);s&&this._renderBackground(e,e,A,P,c,h)}I+=m/2,o&&(C=s1(_,b,o),"top"===S?I+=o[0]:"bottom"===S&&(I-=o[2]));for(var O=0,E=!1,z=(a1("fill"in e?e.fill:(E=!0,y.fill))),V=(o1("stroke"in e?e.stroke:l||y.autoStroke&&!E?null:(O=2,y.stroke))),G=e.textShadowBlur>0,Y=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),X=a.calculatedLineHeight,te=0;te<p.length;te++){var ae=this._getOrCreateChild(Rl),he=ae.createStyle();ae.useStyle(he),he.text=p[te],he.x=C,he.y=I,b&&(he.textAlign=b),he.textBaseline="middle",he.opacity=e.opacity,he.strokeFirst=!0,G&&(he.shadowBlur=e.textShadowBlur||0,he.shadowColor=e.textShadowColor||"transparent",he.shadowOffsetX=e.textShadowOffsetX||0,he.shadowOffsetY=e.textShadowOffsetY||0),he.stroke=V,he.fill=z,V&&(he.lineWidth=e.lineWidth||O,he.lineDash=e.lineDash,he.lineDashOffset=e.lineDashOffset||0),he.font=r,i1(he,e),I+=m,Y&&ae.setBoundingRect(new ai(iu(he.x,e.width,he.textAlign),Ol(he.y,X,he.textBaseline),d,X))}},i.prototype._updateRichTexts=function(){var e=this.style,r=function(ae,he){var fe=new a2;if(null!=ae&&(ae+=""),!ae)return fe;for(var ye,Se=he.width,Ee=he.height,Re=he.overflow,ze="break"!==Re&&"breakAll"!==Re||null==Se?null:{width:Se,accumWidth:0,breakAll:"breakAll"===Re},ot=Jf.lastIndex=0;null!=(ye=Jf.exec(ae));){var xt=ye.index;xt>ot&&eg(fe,ae.substring(ot,xt),he,ze),eg(fe,ye[2],he,ze,ye[1]),ot=Jf.lastIndex}ot<ae.length&&eg(fe,ae.substring(ot,ae.length),he,ze);var Ue=[],pt=0,bt=0,Mt=he.padding,yt="truncate"===Re,Dt="truncate"===he.lineOverflow;function St(an,_n,xn){an.width=_n,an.lineHeight=xn,pt+=xn,bt=Math.max(bt,_n)}e:for(var Ot=0;Ot<fe.lines.length;Ot++){for(var Ft=fe.lines[Ot],ni=0,si=0,Ni=0;Ni<Ft.tokens.length;Ni++){var di=(ri=Ft.tokens[Ni]).styleName&&he.rich[ri.styleName]||{},wi=ri.textPadding=di.padding,Di=wi?wi[1]+wi[3]:0,Ki=ri.font=di.font||he.font;ri.contentHeight=Yc(Ki);var en=nt(di.height,ri.contentHeight);if(ri.innerHeight=en,wi&&(en+=wi[0]+wi[2]),ri.height=en,ri.lineHeight=ie(di.lineHeight,he.lineHeight,en),ri.align=di&&di.align||he.align,ri.verticalAlign=di&&di.verticalAlign||"middle",Dt&&null!=Ee&&pt+ri.lineHeight>Ee){Ni>0?(Ft.tokens=Ft.tokens.slice(0,Ni),St(Ft,si,ni),fe.lines=fe.lines.slice(0,Ot+1)):fe.lines=fe.lines.slice(0,Ot);break e}var In=di.width,Lr=null==In||"auto"===In;if("string"==typeof In&&"%"===In.charAt(In.length-1))ri.percentWidth=In,Ue.push(ri),ri.contentWidth=Rr(ri.text,Ki);else{if(Lr){var Uo=di.backgroundColor,Ai=Uo&&Uo.image;Ai&&Qc(Ai=n2(Ai))&&(ri.width=Math.max(ri.width,Ai.width*en/Ai.height))}var ci=yt&&null!=Se?Se-si:null;null!=ci&&ci<ri.width?!Lr||ci<Di?(ri.text="",ri.width=ri.contentWidth=0):(ri.text=B_(ri.text,ci-Di,Ki,he.ellipsis,{minChar:he.truncateMinChar}),ri.width=ri.contentWidth=Rr(ri.text,Ki)):ri.contentWidth=Rr(ri.text,Ki)}ri.width+=Di,si+=ri.width,di&&(ni=Math.max(ni,ri.lineHeight))}St(Ft,si,ni)}for(fe.outerWidth=fe.width=nt(Se,bt),fe.outerHeight=fe.height=nt(Ee,pt),fe.contentHeight=pt,fe.contentWidth=bt,Mt&&(fe.outerWidth+=Mt[1]+Mt[3],fe.outerHeight+=Mt[0]+Mt[2]),Ot=0;Ot<Ue.length;Ot++){var ri,Zi=(ri=Ue[Ot]).percentWidth;ri.width=parseInt(Zi,10)/100*fe.width}return fe}(l1(e),e),o=r.width,a=r.outerWidth,s=r.outerHeight,l=e.padding,c=e.y||0,d=this._defaultStyle,m=e.verticalAlign||d.verticalAlign,y=iu(e.x||0,a,e.align||d.align),_=Ol(c,s,m),x=y,b=_;l&&(x+=l[3],b+=l[0]);var S=x+o;dg(e)&&this._renderBackground(e,e,y,_,a,s);for(var C=!!e.backgroundColor,I=0;I<r.lines.length;I++){for(var A=r.lines[I],P=A.tokens,O=P.length,E=A.lineHeight,z=A.width,V=0,G=x,Y=S,X=O-1,te=void 0;V<O&&(!(te=P[V]).align||"left"===te.align);)this._placeToken(te,e,E,b,G,"left",C),z-=te.width,G+=te.width,V++;for(;X>=0&&"right"===(te=P[X]).align;)this._placeToken(te,e,E,b,Y,"right",C),z-=te.width,Y-=te.width,X--;for(G+=(o-(G-x)-(S-Y)-z)/2;V<=X;)this._placeToken(te=P[V],e,E,b,G+te.width/2,"center",C),G+=te.width,V++;b+=E}},i.prototype._placeToken=function(e,r,o,a,s,l,h){var c=r.rich[e.styleName]||{};c.text=e.text;var d=e.verticalAlign,p=a+o/2;"top"===d?p=a+e.height/2:"bottom"===d&&(p=a+o-e.height/2),!e.isLineHolder&&dg(c)&&this._renderBackground(c,r,"right"===l?s-e.width:"center"===l?s-e.width/2:s,p-e.height/2,e.width,e.height);var m=!!c.backgroundColor,y=e.textPadding;y&&(s=s1(s,l,y),p-=e.height/2-y[0]-e.innerHeight/2);var _=this._getOrCreateChild(Rl),x=_.createStyle();_.useStyle(x);var b=this._defaultStyle,S=!1,C=0,I=a1("fill"in c?c.fill:"fill"in r?r.fill:(S=!0,b.fill)),A=o1("stroke"in c?c.stroke:"stroke"in r?r.stroke:m||h||b.autoStroke&&!S?null:(C=2,b.stroke)),P=c.textShadowBlur>0||r.textShadowBlur>0;x.text=e.text,x.x=s,x.y=p,P&&(x.shadowBlur=c.textShadowBlur||r.textShadowBlur||0,x.shadowColor=c.textShadowColor||r.textShadowColor||"transparent",x.shadowOffsetX=c.textShadowOffsetX||r.textShadowOffsetX||0,x.shadowOffsetY=c.textShadowOffsetY||r.textShadowOffsetY||0),x.textAlign=l,x.textBaseline="middle",x.font=e.font||Pt,x.opacity=ie(c.opacity,r.opacity,1),i1(x,c),A&&(x.lineWidth=ie(c.lineWidth,r.lineWidth,C),x.lineDash=nt(c.lineDash,r.lineDash),x.lineDashOffset=r.lineDashOffset||0,x.stroke=A),I&&(x.fill=I);var O=e.contentWidth,E=e.contentHeight;_.setBoundingRect(new ai(iu(x.x,O,x.textAlign),Ol(x.y,E,x.textBaseline),O,E))},i.prototype._renderBackground=function(e,r,o,a,s,l){var h,c,d,p=e.backgroundColor,m=e.borderWidth,y=e.borderColor,_=p&&p.image,x=p&&!_,b=e.borderRadius,S=this;if(x||e.lineHeight||m&&y){(h=this._getOrCreateChild(Si)).useStyle(h.createStyle()),h.style.fill=null;var C=h.shape;C.x=o,C.y=a,C.width=s,C.height=l,C.r=b,h.dirtyShape()}if(x)(d=h.style).fill=p||null,d.fillOpacity=nt(e.fillOpacity,1);else if(_){(c=this._getOrCreateChild(Rn)).onload=function(){S.dirtyStyle()};var I=c.style;I.image=p.image,I.x=o,I.y=a,I.width=s,I.height=l}m&&y&&((d=h.style).lineWidth=m,d.stroke=y,d.strokeOpacity=nt(e.strokeOpacity,1),d.lineDash=e.borderDash,d.lineDashOffset=e.borderDashOffset||0,h.strokeContainThreshold=0,h.hasFill()&&h.hasStroke()&&(d.strokeFirst=!0,d.lineWidth*=2));var A=(h||c).style;A.shadowBlur=e.shadowBlur||0,A.shadowColor=e.shadowColor||"transparent",A.shadowOffsetX=e.shadowOffsetX||0,A.shadowOffsetY=e.shadowOffsetY||0,A.opacity=ie(e.opacity,r.opacity,1)},i.makeFont=function(e){var r="";return n1(e)&&(r=[e.fontStyle,e.fontWeight,t1(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),r&&_e(r)||e.textFont||e.font},i}(Wr),k2={left:!0,right:1,center:1},T2={top:1,bottom:1,middle:1},e1=["fontStyle","fontWeight","fontSize","fontFamily"];function t1(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?"12px":n+"px":n}function i1(n,i){for(var e=0;e<e1.length;e++){var r=e1[e],o=i[r];null!=o&&(n[r]=o)}}function n1(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function r1(n){if(n){n.font=Ci.makeFont(n);var i=n.align;"middle"===i&&(i="center"),n.align=null==i||k2[i]?i:"left";var e=n.verticalAlign;"center"===e&&(e="middle"),n.verticalAlign=null==e||T2[e]?e:"top",n.padding&&(n.padding=ue(n.padding))}}function o1(n,i){return null==n||i<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function a1(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function s1(n,i,e){return"right"===i?n-e[1]:"center"===i?n+e[3]/2-e[1]/2:n+e[3]}function l1(n){var i=n.text;return null!=i&&(i+=""),i}function dg(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var oi=Mi(),pg=function(n,i,e,r){if(r){var o=oi(r);o.dataIndex=e,o.dataType=i,o.seriesIndex=n,"group"===r.type&&r.traverse(function(a){var s=oi(a);s.seriesIndex=n,s.dataIndex=e,s.dataType=i})}},h1=1,u1={},c1=Mi(),fg=Mi(),pr=["emphasis","blur","select"],uu=["normal","emphasis","blur","select"],Ls="highlight",od="downplay",cu="select",ad="unselect",du="toggleSelect";function Bl(n){return null!=n&&"none"!==n}var d1=new Oi(100);function p1(n){if(J(n)){var i=d1.get(n);return i||(i=Ml(n,-.1),d1.put(n,i)),i}if(wt(n)){var e=Z({},n);return e.colorStops=Te(n.colorStops,function(r){return{offset:r.offset,color:Ml(r.color,-.1)}}),e}return n}function sd(n,i,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(i),n.hoverState=e}function f1(n){sd(n,"emphasis",2)}function g1(n){2===n.hoverState&&sd(n,"normal",0)}function gg(n){sd(n,"blur",1)}function m1(n){1===n.hoverState&&sd(n,"normal",0)}function I2(n){n.selected=!0}function D2(n){n.selected=!1}function v1(n,i,e){i(n,e)}function la(n,i,e){v1(n,i,e),n.isGroup&&n.traverse(function(r){v1(r,i,e)})}function ld(n,i){switch(i){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function mg(n,i){var o,a,s,l,h,c,e=this.states[n];if(this.style){if("emphasis"===n)return function(r,o,a,s){var l=a&&ve(a,"select")>=0,h=!1;if(r instanceof yi){var c=c1(r),d=l&&c.selectFill||c.normalFill,p=l&&c.selectStroke||c.normalStroke;if(Bl(d)||Bl(p)){var m=(s=s||{}).style||{};"inherit"===m.fill?(h=!0,s=Z({},s),(m=Z({},m)).fill=d):!Bl(m.fill)&&Bl(d)?(h=!0,s=Z({},s),(m=Z({},m)).fill=p1(d)):!Bl(m.stroke)&&Bl(p)&&(h||(s=Z({},s),m=Z({},m)),m.stroke=p1(p)),s.style=m}}if(s&&null==s.z2){h||(s=Z({},s));var y=r.z2EmphasisLift;s.z2=r.z2+(null!=y?y:10)}return s}(this,0,i,e);if("blur"===n)return a=e,s=ve(this.currentStates,o=n)>=0,l=this.style.opacity,h=s?null:function(d,p,m,y){for(var _=d.style,x={},b=0;b<p.length;b++){var S=p[b],C=_[S];x[S]=null==C?y&&y[S]:C}for(b=0;b<d.animators.length;b++){var I=d.animators[b];I.__fromStateTransition&&I.__fromStateTransition.indexOf(m)<0&&"style"===I.targetName&&I.saveTo(x,p)}return x}(this,["opacity"],o,{opacity:1}),null==(c=(a=a||{}).style||{}).opacity&&(a=Z({},a),c=Z({opacity:s?l:.1*h.opacity},c),a.style=c),a;if("select"===n)return function(r,o,a){if(a&&null==a.z2){a=Z({},a);var s=r.z2SelectLift;a.z2=r.z2+(null!=s?s:9)}return a}(this,0,e)}return e}function Ps(n){n.stateProxy=mg;var i=n.getTextContent(),e=n.getTextGuideLine();i&&(i.stateProxy=mg),e&&(e.stateProxy=mg)}function y1(n,i){!S1(n,i)&&!n.__highByOuter&&la(n,f1)}function _1(n,i){!S1(n,i)&&!n.__highByOuter&&la(n,g1)}function ha(n,i){n.__highByOuter|=1<<(i||0),la(n,f1)}function ua(n,i){!(n.__highByOuter&=~(1<<(i||0)))&&la(n,g1)}function x1(n){la(n,gg)}function vg(n){la(n,m1)}function b1(n){la(n,I2)}function w1(n){la(n,D2)}function S1(n,i){return n.__highDownSilentOnTouch&&i.zrByTouch}function C1(n){var i=n.getModel(),e=[],r=[];i.eachComponent(function(o,a){var s=fg(a),l="series"===o,h=l?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!l&&r.push(h),s.isBlured&&(h.group.traverse(function(c){m1(c)}),l&&e.push(a)),s.isBlured=!1}),F(r,function(o){o&&o.toggleBlurSeries&&o.toggleBlurSeries(e,!1,i)})}function yg(n,i,e,r){var o=r.getModel();function a(c,d){for(var p=0;p<d.length;p++){var m=c.getItemGraphicEl(d[p]);m&&vg(m)}}if(e=e||"coordinateSystem",null!=n&&i&&"none"!==i){var s=o.getSeriesByIndex(n),l=s.coordinateSystem;l&&l.master&&(l=l.master);var h=[];o.eachSeries(function(c){var d=s===c,p=c.coordinateSystem;if(p&&p.master&&(p=p.master),!("series"===e&&!d||"coordinateSystem"===e&&!(p&&l?p===l:d)||"series"===i&&d)){if(r.getViewOfSeriesModel(c).group.traverse(function(_){_.__highByOuter&&d&&"self"===i||gg(_)}),Ne(i))a(c.getData(),i);else if(Pe(i))for(var m=ft(i),y=0;y<m.length;y++)a(c.getData(m[y]),i[m[y]]);h.push(c),fg(c).isBlured=!0}}),o.eachComponent(function(c,d){if("series"!==c){var p=r.getViewOfComponentModel(d);p&&p.toggleBlurSeries&&p.toggleBlurSeries(h,!0,o)}})}}function _g(n,i,e){if(null!=n&&null!=i){var r=e.getModel().getComponent(n,i);if(r){fg(r).isBlured=!0;var o=e.getViewOfComponentModel(r);o&&o.focusBlurEnabled&&o.group.traverse(function(a){gg(a)})}}}function xg(n,i,e,r){var o={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==i||null==e)return o;var a=r.getModel().getComponent(n,i);if(!a)return o;var s=r.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return o;for(var l,h=s.findHighDownDispatchers(e),c=0;c<h.length;c++)if("self"===oi(h[c]).focus){l=!0;break}return{focusSelf:l,dispatchers:h}}function k1(n){F(n.getAllData(),function(i){var r=i.type;i.data.eachItemGraphicEl(function(o,a){n.isSelected(a,r)?b1(o):w1(o)})})}function A2(n){var i=[];return n.eachSeries(function(e){F(e.getAllData(),function(r){var o=r.type,a=e.getSelectedDataIndices();if(a.length>0){var s={dataIndex:a,seriesIndex:e.seriesIndex};null!=o&&(s.dataType=o),i.push(s)}})}),i}function za(n,i,e){Os(n,!0),la(n,Ps),bg(n,i,e)}function dn(n,i,e,r){r?Os(n,!1):za(n,i,e)}function bg(n,i,e){var r=oi(n);null!=i?(r.focus=i,r.blurScope=e):r.focus&&(r.focus=null)}var T1=["emphasis","blur","select"],L2={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Xn(n,i,e,r){e=e||"itemStyle";for(var o=0;o<T1.length;o++){var a=T1[o],s=i.getModel([a,e]);n.ensureState(a).style=r?r(s):s[L2[e]]()}}function Os(n,i){var e=!1===i,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),e&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!e)}function pu(n){return!(!n||!n.__highDownDispatcher)}function wg(n){var i=n.type;return i===cu||i===ad||i===du}function M1(n){var i=n.type;return i===Ls||i===od}var jl=Eo.CMD,P2=[[],[],[]],I1=Math.sqrt,O2=Math.atan2;function D1(n,i){if(i){var e,r,o,a,s,l,h=n.data,c=n.len(),d=jl.M,p=jl.C,m=jl.L,y=jl.R,_=jl.A,x=jl.Q;for(o=0,a=0;o<c;){switch(e=h[o++],a=o,r=0,e){case d:case m:r=1;break;case p:r=3;break;case x:r=2;break;case _:var b=i[4],S=i[5],C=I1(i[0]*i[0]+i[1]*i[1]),I=I1(i[2]*i[2]+i[3]*i[3]),A=O2(-i[1]/I,i[0]/C);h[o]*=C,h[o++]+=b,h[o]*=I,h[o++]+=S,h[o++]*=C,h[o++]*=I,h[o++]+=A,h[o++]+=A,a=o+=2;break;case y:l[0]=h[o++],l[1]=h[o++],bi(l,l,i),h[a++]=l[0],h[a++]=l[1],l[0]+=h[o++],l[1]+=h[o++],bi(l,l,i),h[a++]=l[0],h[a++]=l[1]}for(s=0;s<r;s++){var P=P2[s];P[0]=h[o++],P[1]=h[o++],bi(P,P,i),h[a++]=P[0],h[a++]=P[1]}}n.increaseVersion()}}var Sg=Math.sqrt,hd=Math.sin,ud=Math.cos,fu=Math.PI;function A1(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Cg(n,i){return(n[0]*i[0]+n[1]*i[1])/(A1(n)*A1(i))}function L1(n,i){return(n[0]*i[1]<n[1]*i[0]?-1:1)*Math.acos(Cg(n,i))}function P1(n,i,e,r,o,a,s,l,h,c,d){var p=h*(fu/180),m=ud(p)*(n-e)/2+hd(p)*(i-r)/2,y=-1*hd(p)*(n-e)/2+ud(p)*(i-r)/2,_=m*m/(s*s)+y*y/(l*l);_>1&&(s*=Sg(_),l*=Sg(_));var x=(o===a?-1:1)*Sg((s*s*(l*l)-s*s*(y*y)-l*l*(m*m))/(s*s*(y*y)+l*l*(m*m)))||0,b=x*s*y/l,S=x*-l*m/s,C=(n+e)/2+ud(p)*b-hd(p)*S,I=(i+r)/2+hd(p)*b+ud(p)*S,A=L1([1,0],[(m-b)/s,(y-S)/l]),P=[(m-b)/s,(y-S)/l],O=[(-1*m-b)/s,(-1*y-S)/l],E=L1(P,O);if(Cg(P,O)<=-1&&(E=fu),Cg(P,O)>=1&&(E=0),E<0){var z=Math.round(E/fu*1e6)/1e6;E=2*fu+z%2*fu}d.addData(c,C,I,s,l,A,E,p,a)}var E2=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,N2=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,O1=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.applyTransform=function(e){},i}(yi);function E1(n){return null!=n.setData}function N1(n,i){var e=function(o){var a=new Eo;if(!o)return a;var s,l=0,h=0,c=l,d=h,p=Eo.CMD,m=o.match(E2);if(!m)return a;for(var y=0;y<m.length;y++){for(var _=m[y],x=_.charAt(0),b=void 0,S=_.match(N2)||[],C=S.length,I=0;I<C;I++)S[I]=parseFloat(S[I]);for(var A=0;A<C;){var P=void 0,O=void 0,E=void 0,z=void 0,V=void 0,G=void 0,Y=void 0,X=l,te=h,ae=void 0,he=void 0;switch(x){case"l":l+=S[A++],h+=S[A++],a.addData(b=p.L,l,h);break;case"L":l=S[A++],h=S[A++],a.addData(b=p.L,l,h);break;case"m":l+=S[A++],h+=S[A++],a.addData(b=p.M,l,h),c=l,d=h,x="l";break;case"M":l=S[A++],h=S[A++],a.addData(b=p.M,l,h),c=l,d=h,x="L";break;case"h":l+=S[A++],a.addData(b=p.L,l,h);break;case"H":l=S[A++],a.addData(b=p.L,l,h);break;case"v":h+=S[A++],a.addData(b=p.L,l,h);break;case"V":h=S[A++],a.addData(b=p.L,l,h);break;case"C":a.addData(b=p.C,S[A++],S[A++],S[A++],S[A++],S[A++],S[A++]),l=S[A-2],h=S[A-1];break;case"c":a.addData(b=p.C,S[A++]+l,S[A++]+h,S[A++]+l,S[A++]+h,S[A++]+l,S[A++]+h),l+=S[A-2],h+=S[A-1];break;case"S":P=l,O=h,ae=a.len(),he=a.data,s===p.C&&(P+=l-he[ae-4],O+=h-he[ae-3]),X=S[A++],te=S[A++],l=S[A++],h=S[A++],a.addData(b=p.C,P,O,X,te,l,h);break;case"s":P=l,O=h,ae=a.len(),he=a.data,s===p.C&&(P+=l-he[ae-4],O+=h-he[ae-3]),X=l+S[A++],te=h+S[A++],l+=S[A++],h+=S[A++],a.addData(b=p.C,P,O,X,te,l,h);break;case"Q":X=S[A++],te=S[A++],l=S[A++],h=S[A++],a.addData(b=p.Q,X,te,l,h);break;case"q":X=S[A++]+l,te=S[A++]+h,l+=S[A++],h+=S[A++],a.addData(b=p.Q,X,te,l,h);break;case"T":P=l,O=h,ae=a.len(),he=a.data,s===p.Q&&(P+=l-he[ae-4],O+=h-he[ae-3]),l=S[A++],h=S[A++],a.addData(b=p.Q,P,O,l,h);break;case"t":P=l,O=h,ae=a.len(),he=a.data,s===p.Q&&(P+=l-he[ae-4],O+=h-he[ae-3]),l+=S[A++],h+=S[A++],a.addData(b=p.Q,P,O,l,h);break;case"A":E=S[A++],z=S[A++],V=S[A++],G=S[A++],Y=S[A++],P1(X=l,te=h,l=S[A++],h=S[A++],G,Y,E,z,V,b=p.A,a);break;case"a":E=S[A++],z=S[A++],V=S[A++],G=S[A++],Y=S[A++],P1(X=l,te=h,l+=S[A++],h+=S[A++],G,Y,E,z,V,b=p.A,a)}}"z"!==x&&"Z"!==x||(a.addData(b=p.Z),l=c,h=d),s=b}return a.toStatic(),a}(n),r=Z({},i);return r.buildPath=function(o){if(E1(o))o.setData(e.data),(a=o.getContext())&&o.rebuildPath(a,1);else{var a=o;e.rebuildPath(a,1)}},r.applyTransform=function(o){D1(e,o),this.dirtyShape()},r}function R1(n,i){return new O1(N1(n,i))}function kg(n,i){i=i||{};var e=new yi;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),i.bakeTransform?D1(e.path,n.getComputedTransform()):i.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var R2=function(){this.cx=0,this.cy=0,this.r=0},Yr=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultShape=function(){return new R2},i.prototype.buildPath=function(e,r){e.moveTo(r.cx+r.r,r.cy),e.arc(r.cx,r.cy,r.r,0,2*Math.PI)},i}(yi);Yr.prototype.type="circle";var z2=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},gu=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultShape=function(){return new z2},i.prototype.buildPath=function(e,r){var o=.5522848,a=r.cx,s=r.cy,l=r.rx,h=r.ry,c=l*o,d=h*o;e.moveTo(a-l,s),e.bezierCurveTo(a-l,s-d,a-c,s-h,a,s-h),e.bezierCurveTo(a+c,s-h,a+l,s-d,a+l,s),e.bezierCurveTo(a+l,s+d,a+c,s+h,a,s+h),e.bezierCurveTo(a-c,s+h,a-l,s+d,a-l,s),e.closePath()},i}(yi);gu.prototype.type="ellipse";var z1=Math.PI,Tg=2*z1,Es=Math.sin,Hl=Math.cos,B2=Math.acos,tr=Math.atan2,B1=Math.abs,mu=Math.sqrt,vu=Math.max,No=Math.min,fo=1e-4;function cd(n,i,e,r,o,a,s){var l=n-e,h=i-r,c=(s?a:-a)/mu(l*l+h*h),d=c*h,p=-c*l,m=n+d,y=i+p,_=e+d,x=r+p,b=(m+_)/2,S=(y+x)/2,C=_-m,I=x-y,A=C*C+I*I,P=o-a,O=m*x-_*y,E=(I<0?-1:1)*mu(vu(0,P*P*A-O*O)),z=(O*I-C*E)/A,V=(-O*C-I*E)/A,G=(O*I+C*E)/A,Y=(-O*C+I*E)/A,X=z-b,te=V-S,ae=G-b,he=Y-S;return X*X+te*te>ae*ae+he*he&&(z=G,V=Y),{cx:z,cy:V,x0:-d,y0:-p,x1:z*(o/P-1),y1:V*(o/P-1)}}var H2=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},ir=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultShape=function(){return new H2},i.prototype.buildPath=function(e,r){!function j2(n,i){var e,r=vu(i.r,0),o=vu(i.r0||0,0),a=r>0;if(a||o>0){if(a||(r=o,o=0),o>r){var s=r;r=o,o=s}var l=i.startAngle,h=i.endAngle;if(!isNaN(l)&&!isNaN(h)){var c=i.cx,d=i.cy,p=!!i.clockwise,m=B1(h-l),y=m>Tg&&m%Tg;if(y>fo&&(m=y),r>fo)if(m>Tg-fo)n.moveTo(c+r*Hl(l),d+r*Es(l)),n.arc(c,d,r,l,h,!p),o>fo&&(n.moveTo(c+o*Hl(h),d+o*Es(h)),n.arc(c,d,o,h,l,p));else{var _=void 0,x=void 0,b=void 0,S=void 0,C=void 0,I=void 0,A=void 0,P=void 0,O=void 0,E=void 0,z=void 0,V=void 0,G=void 0,Y=void 0,X=void 0,te=void 0,ae=r*Hl(l),he=r*Es(l),fe=o*Hl(h),ye=o*Es(h),Se=m>fo;if(Se){var Ee=i.cornerRadius;Ee&&(_=(e=function(Ft){var ni;if(ne(Ft)){var si=Ft.length;if(!si)return Ft;ni=1===si?[Ft[0],Ft[0],0,0]:2===si?[Ft[0],Ft[0],Ft[1],Ft[1]]:3===si?Ft.concat(Ft[2]):Ft}else ni=[Ft,Ft,Ft,Ft];return ni}(Ee))[0],x=e[1],b=e[2],S=e[3]);var Re=B1(r-o)/2;if(C=No(Re,b),I=No(Re,S),A=No(Re,_),P=No(Re,x),z=O=vu(C,I),V=E=vu(A,P),(O>fo||E>fo)&&(G=r*Hl(h),Y=r*Es(h),X=o*Hl(l),te=o*Es(l),m<z1)){var ze=function(Ft,ni,si,Ni,di,wi,Di,Ki){var en=si-Ft,In=Ni-ni,Lr=Di-di,Uo=Ki-wi,Ai=Uo*en-Lr*In;if(!(Ai*Ai<fo))return[Ft+(Ai=(Lr*(ni-wi)-Uo*(Ft-di))/Ai)*en,ni+Ai*In]}(ae,he,X,te,G,Y,fe,ye);if(ze){var ot=ae-ze[0],xt=he-ze[1],Ue=G-ze[0],pt=Y-ze[1],bt=1/Es(B2((ot*Ue+xt*pt)/(mu(ot*ot+xt*xt)*mu(Ue*Ue+pt*pt)))/2),Mt=mu(ze[0]*ze[0]+ze[1]*ze[1]);z=No(O,(r-Mt)/(bt+1)),V=No(E,(o-Mt)/(bt-1))}}}if(Se)if(z>fo){var yt=No(b,z),Dt=No(S,z),St=cd(X,te,ae,he,r,yt,p),Ot=cd(G,Y,fe,ye,r,Dt,p);n.moveTo(c+St.cx+St.x0,d+St.cy+St.y0),z<O&&yt===Dt?n.arc(c+St.cx,d+St.cy,z,tr(St.y0,St.x0),tr(Ot.y0,Ot.x0),!p):(yt>0&&n.arc(c+St.cx,d+St.cy,yt,tr(St.y0,St.x0),tr(St.y1,St.x1),!p),n.arc(c,d,r,tr(St.cy+St.y1,St.cx+St.x1),tr(Ot.cy+Ot.y1,Ot.cx+Ot.x1),!p),Dt>0&&n.arc(c+Ot.cx,d+Ot.cy,Dt,tr(Ot.y1,Ot.x1),tr(Ot.y0,Ot.x0),!p))}else n.moveTo(c+ae,d+he),n.arc(c,d,r,l,h,!p);else n.moveTo(c+ae,d+he);o>fo&&Se?V>fo?(yt=No(_,V),St=cd(fe,ye,G,Y,o,-(Dt=No(x,V)),p),Ot=cd(ae,he,X,te,o,-yt,p),n.lineTo(c+St.cx+St.x0,d+St.cy+St.y0),V<E&&yt===Dt?n.arc(c+St.cx,d+St.cy,V,tr(St.y0,St.x0),tr(Ot.y0,Ot.x0),!p):(Dt>0&&n.arc(c+St.cx,d+St.cy,Dt,tr(St.y0,St.x0),tr(St.y1,St.x1),!p),n.arc(c,d,o,tr(St.cy+St.y1,St.cx+St.x1),tr(Ot.cy+Ot.y1,Ot.cx+Ot.x1),p),yt>0&&n.arc(c+Ot.cx,d+Ot.cy,yt,tr(Ot.y1,Ot.x1),tr(Ot.y0,Ot.x0),!p))):(n.lineTo(c+fe,d+ye),n.arc(c,d,o,h,l,p)):n.lineTo(c+fe,d+ye)}else n.moveTo(c,d);n.closePath()}}}(e,r)},i.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},i}(yi);ir.prototype.type="sector";var V2=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Vl=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultShape=function(){return new V2},i.prototype.buildPath=function(e,r){var o=r.cx,a=r.cy,s=2*Math.PI;e.moveTo(o+r.r,a),e.arc(o,a,r.r,0,s,!1),e.moveTo(o+r.r0,a),e.arc(o,a,r.r0,0,s,!0)},i}(yi);function j1(n,i,e){var r=i.smooth,o=i.points;if(o&&o.length>=2){if(r){var a=function(m,y,_,x){var b,S,C,I,A=[],P=[],O=[],E=[];if(x){C=[1/0,1/0],I=[-1/0,-1/0];for(var z=0,V=m.length;z<V;z++)pn(C,C,m[z]),Ln(I,I,m[z]);pn(C,C,x[0]),Ln(I,I,x[1])}for(z=0,V=m.length;z<V;z++){var G=m[z];if(_)b=m[z?z-1:V-1],S=m[(z+1)%V];else{if(0===z||z===V-1){A.push($t(m[z]));continue}b=m[z-1],S=m[z+1]}Pi(P,S,b),Qn(P,P,y);var Y=Vr(G,b),X=Vr(G,S),te=Y+X;0!==te&&(Y/=te,X/=te),Qn(O,P,-Y),Qn(E,P,X);var ae=ki([],G,O),he=ki([],G,E);x&&(Ln(ae,ae,C),pn(ae,ae,I),Ln(he,he,C),pn(he,he,I)),A.push(ae),A.push(he)}return _&&A.push(A.shift()),A}(o,r,e,i.smoothConstraint);n.moveTo(o[0][0],o[0][1]);for(var s=o.length,l=0;l<(e?s:s-1);l++){var h=a[2*l],c=a[2*l+1],d=o[(l+1)%s];n.bezierCurveTo(h[0],h[1],c[0],c[1],d[0],d[1])}}else{n.moveTo(o[0][0],o[0][1]),l=1;for(var p=o.length;l<p;l++)n.lineTo(o[l][0],o[l][1])}e&&n.closePath()}}Vl.prototype.type="ring";var F2=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},nr=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultShape=function(){return new F2},i.prototype.buildPath=function(e,r){j1(e,r,!0)},i}(yi);nr.prototype.type="polygon";var W2=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},rr=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new W2},i.prototype.buildPath=function(e,r){j1(e,r,!1)},i}(yi);rr.prototype.type="polyline";var G2={},Y2=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},En=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new Y2},i.prototype.buildPath=function(e,r){var o,a,s,l;if(this.subPixelOptimize){var h=Z_(G2,r,this.style);o=h.x1,a=h.y1,s=h.x2,l=h.y2}else o=r.x1,a=r.y1,s=r.x2,l=r.y2;var c=r.percent;0!==c&&(e.moveTo(o,a),c<1&&(s=o*(1-c)+s*c,l=a*(1-c)+l*c),e.lineTo(s,l))},i.prototype.pointAt=function(e){var r=this.shape;return[r.x1*(1-e)+r.x2*e,r.y1*(1-e)+r.y2*e]},i}(yi);En.prototype.type="line";var Ir=[],$2=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function H1(n,i,e){return null!=n.cpx2||null!=n.cpy2?[(e?vi:mi)(n.x1,n.cpx1,n.cpx2,n.x2,i),(e?vi:mi)(n.y1,n.cpy1,n.cpy2,n.y2,i)]:[(e?ao:Wi)(n.x1,n.cpx1,n.x2,i),(e?ao:Wi)(n.y1,n.cpy1,n.y2,i)]}var Fl=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new $2},i.prototype.buildPath=function(e,r){var o=r.x1,a=r.y1,s=r.x2,l=r.y2,h=r.cpx1,c=r.cpy1,d=r.cpx2,p=r.cpy2,m=r.percent;0!==m&&(e.moveTo(o,a),null==d||null==p?(m<1&&(Pn(o,h,s,m,Ir),h=Ir[1],s=Ir[2],Pn(a,c,l,m,Ir),c=Ir[1],l=Ir[2]),e.quadraticCurveTo(h,c,s,l)):(m<1&&(Fi(o,h,d,s,m,Ir),h=Ir[1],d=Ir[2],s=Ir[3],Fi(a,c,p,l,m,Ir),c=Ir[1],p=Ir[2],l=Ir[3]),e.bezierCurveTo(h,c,d,p,s,l)))},i.prototype.pointAt=function(e){return H1(this.shape,e,!1)},i.prototype.tangentAt=function(e){var r=H1(this.shape,e,!0);return wn(r,r)},i}(yi);Fl.prototype.type="bezier-curve";var U2=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},yu=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new U2},i.prototype.buildPath=function(e,r){var o=r.cx,a=r.cy,s=Math.max(r.r,0),l=r.startAngle,h=r.endAngle,c=r.clockwise,d=Math.cos(l),p=Math.sin(l);e.moveTo(d*s+o,p*s+a),e.arc(o,a,s,l,h,!c)},i}(yi);yu.prototype.type="arc";var dd=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="compound",e}return Le(i,n),i.prototype._updatePathDirty=function(){for(var e=this.shape.paths,r=this.shapeChanged(),o=0;o<e.length;o++)r=r||e[o].shapeChanged();r&&this.dirtyShape()},i.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],r=this.getGlobalScale(),o=0;o<e.length;o++)e[o].path||e[o].createPathProxy(),e[o].path.setScale(r[0],r[1],e[o].segmentIgnoreThreshold)},i.prototype.buildPath=function(e,r){for(var o=r.paths||[],a=0;a<o.length;a++)o[a].buildPath(e,o[a].shape,!0)},i.prototype.afterBrush=function(){for(var e=this.shape.paths||[],r=0;r<e.length;r++)e[r].pathUpdated()},i.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),yi.prototype.getBoundingRect.call(this)},i}(yi),V1=function(){function n(i){this.colorStops=i||[]}return n.prototype.addColorStop=function(i,e){this.colorStops.push({offset:i,color:e})},n}(),Wl=function(n){function i(e,r,o,a,s,l){var h=n.call(this,s)||this;return h.x=null==e?0:e,h.y=null==r?0:r,h.x2=null==o?1:o,h.y2=null==a?0:a,h.type="linear",h.global=l||!1,h}return Le(i,n),i}(V1),Mg=function(n){function i(e,r,o,a,s){var l=n.call(this,a)||this;return l.x=null==e?.5:e,l.y=null==r?.5:r,l.r=null==o?.5:o,l.type="radial",l.global=s||!1,l}return Le(i,n),i}(V1),Ns=[0,0],Rs=[0,0],pd=new li,fd=new li,gd=function(){function n(i,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new li;for(r=0;r<2;r++)this._axes[r]=new li;i&&this.fromBoundingRect(i,e)}return n.prototype.fromBoundingRect=function(i,e){var r=this._corners,o=this._axes,a=i.x,s=i.y,l=a+i.width,h=s+i.height;if(r[0].set(a,s),r[1].set(l,s),r[2].set(l,h),r[3].set(a,h),e)for(var c=0;c<4;c++)r[c].transform(e);for(li.sub(o[0],r[1],r[0]),li.sub(o[1],r[3],r[0]),o[0].normalize(),o[1].normalize(),c=0;c<2;c++)this._origin[c]=o[c].dot(r[0])},n.prototype.intersect=function(i,e){var r=!0,o=!e;return pd.set(1/0,1/0),fd.set(0,0),!this._intersectCheckOneSide(this,i,pd,fd,o,1)&&(r=!1,o)||!this._intersectCheckOneSide(i,this,pd,fd,o,-1)&&(r=!1,o)||o||li.copy(e,r?pd:fd),r},n.prototype._intersectCheckOneSide=function(i,e,r,o,a,s){for(var l=!0,h=0;h<2;h++){var c=this._axes[h];if(this._getProjMinMaxOnAxis(h,i._corners,Ns),this._getProjMinMaxOnAxis(h,e._corners,Rs),Ns[1]<Rs[0]||Ns[0]>Rs[1]){if(l=!1,a)return l;var d=Math.abs(Rs[0]-Ns[1]),p=Math.abs(Ns[0]-Rs[1]);Math.min(d,p)>o.len()&&li.scale(o,c,d<p?-d*s:p*s)}else r&&(d=Math.abs(Rs[0]-Ns[1]),p=Math.abs(Ns[0]-Rs[1]),Math.min(d,p)<r.len()&&li.scale(r,c,d<p?d*s:-p*s))}return l},n.prototype._getProjMinMaxOnAxis=function(i,e,r){for(var o=this._axes[i],a=this._origin,s=e[0].dot(o)+a[i],l=s,h=s,c=1;c<e.length;c++){var d=e[c].dot(o)+a[i];l=Math.min(d,l),h=Math.max(d,h)}r[0]=l,r[1]=h},n}(),q2=[],F1=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Le(i,n),i.prototype.traverse=function(e,r){e.call(r,this)},i.prototype.useStyle=function(){this.style={}},i.prototype.getCursor=function(){return this._cursor},i.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},i.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},i.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},i.prototype.addDisplayable=function(e,r){r?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},i.prototype.addDisplayables=function(e,r){r=r||!1;for(var o=0;o<e.length;o++)this.addDisplayable(e[o],r)},i.prototype.getDisplayables=function(){return this._displayables},i.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},i.prototype.eachPendingDisplayable=function(e){for(var r=this._cursor;r<this._displayables.length;r++)e&&e(this._displayables[r]);for(r=0;r<this._temporaryDisplayables.length;r++)e&&e(this._temporaryDisplayables[r])},i.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(r=this._displayables[e]).parent=this,r.update(),r.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var r;(r=this._temporaryDisplayables[e]).parent=this,r.update(),r.parent=null}},i.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new ai(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var o=this._displayables[r],a=o.getBoundingRect().clone();o.needLocalTransform()&&a.applyTransform(o.getLocalTransform(q2)),e.union(a)}this._rect=e}return this._rect},i.prototype.contain=function(e,r){var o=this.transformCoordToLocal(e,r);if(this.getBoundingRect().contain(o[0],o[1]))for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(e,r))return!0;return!1},i}(Wr),W1=Mi();function Gl(n,i,e,r,o){var a;if(i&&i.ecModel){var s=i.ecModel.getUpdatePayload();a=s&&s.animation}var l="update"===n;if(i&&i.isAnimationEnabled()){var h=void 0,c=void 0,d=void 0;return r?(h=nt(r.duration,200),c=nt(r.easing,"cubicOut"),d=0):(h=i.getShallow(l?"animationDurationUpdate":"animationDuration"),c=i.getShallow(l?"animationEasingUpdate":"animationEasing"),d=i.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(h=a.duration),null!=a.easing&&(c=a.easing),null!=a.delay&&(d=a.delay)),ee(d)&&(d=d(e,o)),ee(h)&&(h=h(e)),{duration:h||0,delay:d,easing:c}}return null}function Ig(n,i,e,r,o,a,s){var l,h=!1;ee(o)?(s=a,a=o,o=null):Pe(o)&&(a=o.cb,s=o.during,h=o.isFrom,l=o.removeOpt,o=o.dataIndex);var c="leave"===n;c||i.stopAnimation("leave");var d=Gl(n,r,o,c?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(i,o):null);if(d&&d.duration>0){var p={duration:d.duration,delay:d.delay||0,easing:d.easing,done:a,force:!!a||!!s,setToFinal:!c,scope:n,during:s};h?i.animateFrom(e,p):i.animateTo(e,p)}else i.stopAnimation(),!h&&i.attr(e),s&&s(1),a&&a()}function Ii(n,i,e,r,o,a){Ig("update",n,i,e,r,o,a)}function nn(n,i,e,r,o,a){Ig("enter",n,i,e,r,o,a)}function Yl(n){if(!n.__zr)return!0;for(var i=0;i<n.animators.length;i++)if("leave"===n.animators[i].scope)return!0;return!1}function Ba(n,i,e,r,o,a){Yl(n)||Ig("leave",n,i,e,r,o,a)}function G1(n,i,e,r){n.removeTextContent(),n.removeTextGuideLine(),Ba(n,{style:{opacity:0}},i,e,r)}function _u(n,i,e){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(o){o.isGroup||G1(o,i,e,r)}):G1(n,i,e,r)}function go(n){W1(n).oldStyle=n.style}var md=Math.max,vd=Math.min,Dg={};function Y1(n){return yi.extend(n)}function $1(n,i){return function(n,i){var e=N1(n,i);return function(r){function o(a){var s=r.call(this,a)||this;return s.applyTransform=e.applyTransform,s.buildPath=e.buildPath,s}return Le(o,r),o}(O1)}(n,i)}function $r(n,i){Dg[n]=i}function yd(n){if(Dg.hasOwnProperty(n))return Dg[n]}function xu(n,i,e,r){var o=R1(n,i);return e&&("center"===r&&(e=U1(e,o.getBoundingRect())),Lg(o,e)),o}function Ag(n,i,e){var r=new Rn({style:{image:n,x:i.x,y:i.y,width:i.width,height:i.height},onload:function(o){"center"===e&&r.setStyle(U1(i,{width:o.width,height:o.height}))}});return r}function U1(n,i){var e,r=i.width/i.height,o=n.height*r;return e=o<=n.width?n.height:(o=n.width)/r,{x:n.x+n.width/2-o/2,y:n.y+n.height/2-e/2,width:o,height:e}}var jr=function(n,i){for(var e=[],r=n.length,o=0;o<r;o++)e.push(n[o].getUpdatedPathProxy(!0));var s=new yi(i);return s.createPathProxy(),s.buildPath=function(l){if(E1(l)){l.appendPath(e);var h=l.getContext();h&&l.rebuildPath(h,1)}},s};function Lg(n,i){if(n.applyTransform){var e=n.getBoundingRect().calculateTransform(i);n.applyTransform(e)}}function $l(n,i){return Z_(n,n,{lineWidth:i}),n}var _d=As;function ja(n,i){for(var e=ls([]);n&&n!==i;)Pr(e,n.getLocalTransform(),e),n=n.parent;return e}function mo(n,i,e){return i&&!Ne(i)&&(i=oa.getLocalTransform(i)),e&&(i=Xo([],i)),bi([],n,i)}function xd(n,i,e){var r=0===i[4]||0===i[5]||0===i[0]?1:Math.abs(2*i[4]/i[0]),o=0===i[4]||0===i[5]||0===i[2]?1:Math.abs(2*i[4]/i[2]),a=["left"===n?-r:"right"===n?r:0,"top"===n?-o:"bottom"===n?o:0];return a=mo(a,i,e),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function q1(n){return!n.isGroup}function bu(n,i,e){if(n&&i){var r,o=(r={},n.traverse(function(s){q1(s)&&s.anid&&(r[s.anid]=s)}),r);i.traverse(function(s){if(q1(s)&&s.anid){var l=o[s.anid];if(l){var h=a(s);s.attr(a(l)),Ii(s,h,e,oi(s).dataIndex)}}})}function a(s){var l={x:s.x,y:s.y,rotation:s.rotation};return null!=s.shape&&(l.shape=Z({},s.shape)),l}}function Pg(n,i){return Te(n,function(e){var r=e[0];r=md(r,i.x),r=vd(r,i.x+i.width);var o=e[1];return o=md(o,i.y),[r,o=vd(o,i.y+i.height)]})}function X1(n,i){var e=md(n.x,i.x),r=vd(n.x+n.width,i.x+i.width),o=md(n.y,i.y),a=vd(n.y+n.height,i.y+i.height);if(r>=e&&a>=o)return{x:e,y:o,width:r-e,height:a-o}}function Ul(n,i,e){var r=Z({rectHover:!0},i),o=r.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(o.image=n.slice(8),de(o,e),new Rn(r)):xu(n.replace("path://",""),r,e,"center")}function wu(n,i,e,r,o){for(var a=0,s=o[o.length-1];a<o.length;a++){var l=o[a];if(K1(n,i,e,r,l[0],l[1],s[0],s[1]))return!0;s=l}}function K1(n,i,e,r,o,a,s,l){var h,c=e-n,d=r-i,p=s-o,m=l-a,y=Og(p,m,c,d);if((h=y)<=1e-6&&h>=-1e-6)return!1;var _=n-o,x=i-a,b=Og(_,x,c,d)/y;if(b<0||b>1)return!1;var S=Og(_,x,p,m)/y;return!(S<0||S>1)}function Og(n,i,e,r){return n*r-e*i}function ql(n){var i=n.itemTooltipOption,e=n.componentModel,r=n.itemName,o=J(i)?{formatter:i}:i,a=e.mainType,s=e.componentIndex,l={componentType:a,name:r,$vars:["name"]};l[a+"Index"]=s;var h=n.formatterParamsExtra;h&&F(ft(h),function(d){Be(l,d)||(l[d]=h[d],l.$vars.push(d))});var c=oi(n.el);c.componentMainType=a,c.componentIndex=s,c.tooltipConfig={name:r,option:de({content:r,formatterParams:l},o)}}function Z1(n,i){var e;n.isGroup&&(e=i(n)),e||n.traverse(i)}function Ha(n,i){if(n)if(ne(n))for(var e=0;e<n.length;e++)Z1(n[e],i);else Z1(n,i)}$r("circle",Yr),$r("ellipse",gu),$r("sector",ir),$r("ring",Vl),$r("polygon",nr),$r("polyline",rr),$r("rect",Si),$r("line",En),$r("bezierCurve",Fl),$r("arc",yu);var Su=Object.freeze({__proto__:null,updateProps:Ii,initProps:nn,removeElement:Ba,removeElementWithFadeOut:_u,isElementRemoved:Yl,extendShape:Y1,extendPath:$1,registerShape:$r,getShapeClass:yd,makePath:xu,makeImage:Ag,mergePath:jr,resizePath:Lg,subPixelOptimizeLine:$l,subPixelOptimizeRect:function(n){return Q_(n.shape,n.shape,n.style),n},subPixelOptimize:_d,getTransform:ja,applyTransform:mo,transformDirection:xd,groupTransition:bu,clipPointsByRect:Pg,clipRectByRect:X1,createIcon:Ul,linePolygonIntersect:wu,lineLineIntersect:K1,setTooltipConfig:ql,traverseElements:Ha,Group:ti,Image:Rn,Text:Ci,Circle:Yr,Ellipse:gu,Sector:ir,Ring:Vl,Polygon:nr,Polyline:rr,Rect:Si,Line:En,BezierCurve:Fl,Arc:yu,IncrementalDisplayable:F1,CompoundPath:dd,LinearGradient:Wl,RadialGradient:Mg,BoundingRect:ai,OrientedBoundingRect:gd,Point:li,Path:yi}),bd={};function Q1(n,i){for(var e=0;e<pr.length;e++){var r=pr[e],o=i[r],a=n.ensureState(r);a.style=a.style||{},a.style.text=o}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:i.normal}),n.useStates(s,!0)}function Eg(n,i,e){var r,o=n.labelFetcher,a=n.labelDataIndex,s=n.labelDimIndex,l=i.normal;o&&(r=o.getFormattedLabel(a,"normal",null,s,l&&l.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==r&&(r=ee(n.defaultText)?n.defaultText(a,n,e):n.defaultText);for(var h={normal:r},c=0;c<pr.length;c++){var d=pr[c],p=i[d];h[d]=nt(o?o.getFormattedLabel(a,d,null,s,p&&p.get("formatter")):null,r)}return h}function Kn(n,i,e,r){e=e||bd;for(var o=n instanceof Ci,a=!1,s=0;s<uu.length;s++)if((m=i[uu[s]])&&m.getShallow("show")){a=!0;break}var l=o?n:n.getTextContent();if(a){o||(l||(l=new Ci,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var h=Eg(e,i),c=i.normal,d=!!c.getShallow("show"),p=Xi(c,r&&r.normal,e,!1,!o);for(p.text=h.normal,o||n.setTextConfig(wd(c,e,!1)),s=0;s<pr.length;s++){var m,y=pr[s];if(m=i[y]){var _=l.ensureState(y),x=!!nt(m.getShallow("show"),d);x!==d&&(_.ignore=!x),_.style=Xi(m,r&&r[y],e,!0,!o),_.style.text=h[y],!o&&(n.ensureState(y).textConfig=wd(m,e,!0))}}l.silent=!!c.getShallow("silent"),null!=l.style.x&&(p.x=l.style.x),null!=l.style.y&&(p.y=l.style.y),l.ignore=!d,l.useStyle(p),l.dirty(),e.enableTextSetter&&(Xl(l).setLabelText=function(b){var S=Eg(e,i,b);Q1(l,S)})}else l&&(l.ignore=!0);n.dirty()}function zn(n,i){for(var e={normal:n.getModel(i=i||"label")},r=0;r<pr.length;r++){var o=pr[r];e[o]=n.getModel([o,i])}return e}function Xi(n,i,e,r,o){var a={};return function(s,l,h,c,d){h=h||bd;var p,m=l.ecModel,y=m&&m.option.textStyle,_=function(I){for(var A;I&&I!==I.ecModel;){var P=(I.option||bd).rich;if(P){A=A||{};for(var O=ft(P),E=0;E<O.length;E++)A[O[E]]=1}I=I.parentModel}return A}(l);if(_)for(var x in p={},_)if(_.hasOwnProperty(x)){var b=l.getModel(["rich",x]);ix(p[x]={},b,y,h,c,d,!1,!0)}p&&(s.rich=p);var S=l.get("overflow");S&&(s.overflow=S);var C=l.get("minMargin");null!=C&&(s.margin=C),ix(s,l,y,h,c,d,!0,!1)}(a,n,e,r,o),i&&Z(a,i),a}function wd(n,i,e){i=i||{};var r,o={},a=n.getShallow("rotate"),s=nt(n.getShallow("distance"),e?null:5),l=n.getShallow("offset");return"outside"===(r=n.getShallow("position")||(e?null:"inside"))&&(r=i.defaultOutsidePosition||"top"),null!=r&&(o.position=r),null!=l&&(o.offset=l),null!=a&&(a*=Math.PI/180,o.rotation=a),null!=s&&(o.distance=s),o.outsideFill="inherit"===n.get("color")?i.inheritColor||null:"auto",o}var J1=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],ex=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],tx=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function ix(n,i,e,r,o,a,s,l){e=!o&&e||bd;var h=r&&r.inheritColor,c=i.getShallow("color"),d=i.getShallow("textBorderColor"),p=nt(i.getShallow("opacity"),e.opacity);"inherit"!==c&&"auto"!==c||(c=h||null),"inherit"!==d&&"auto"!==d||(d=h||null),a||(c=c||e.color,d=d||e.textBorderColor),null!=c&&(n.fill=c),null!=d&&(n.stroke=d);var m=nt(i.getShallow("textBorderWidth"),e.textBorderWidth);null!=m&&(n.lineWidth=m);var y=nt(i.getShallow("textBorderType"),e.textBorderType);null!=y&&(n.lineDash=y);var _=nt(i.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=_&&(n.lineDashOffset=_),o||null!=p||l||(p=r&&r.defaultOpacity),null!=p&&(n.opacity=p),o||a||null==n.fill&&r.inheritColor&&(n.fill=r.inheritColor);for(var x=0;x<J1.length;x++){var b=J1[x];null!=(C=nt(i.getShallow(b),e[b]))&&(n[b]=C)}for(x=0;x<ex.length;x++)null!=(C=i.getShallow(b=ex[x]))&&(n[b]=C);if(null==n.verticalAlign){var S=i.getShallow("baseline");null!=S&&(n.verticalAlign=S)}if(!s||!r.disableBox){for(x=0;x<tx.length;x++){var C;null!=(C=i.getShallow(b=tx[x]))&&(n[b]=C)}var I=i.getShallow("borderType");null!=I&&(n.borderDash=I),"auto"!==n.backgroundColor&&"inherit"!==n.backgroundColor||!h||(n.backgroundColor=h),"auto"!==n.borderColor&&"inherit"!==n.borderColor||!h||(n.borderColor=h)}}function nx(n,i){var e=i&&i.getModel("textStyle");return _e([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Xl=Mi();function rx(n,i,e,r){if(n){var o=Xl(n);o.prevValue=o.value,o.value=e;var a=i.normal;o.valueAnimation=a.get("valueAnimation"),o.valueAnimation&&(o.precision=a.get("precision"),o.defaultInterpolatedText=r,o.statesModels=i)}}function ox(n,i,e,r,o){var a=Xl(n);if(a.valueAnimation&&a.prevValue!==a.value){var s=a.defaultInterpolatedText,l=nt(a.interpolatedValue,a.prevValue),h=a.value;n.percent=0,(null==a.prevValue?nn:Ii)(n,{percent:1},r,i,null,function(c){var d=E_(e,a.precision,l,h,c);a.interpolatedValue=1===c?null:d;var p=Eg({labelDataIndex:i,labelFetcher:o,defaultText:s?s(d):d+""},a.statesModels,d);Q1(n,p)})}}var Ng,Rg,K2=["textStyle","color"],zg=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Bg=new Ci,Z2=function(){function n(){}return n.prototype.getTextColor=function(i){var e=this.ecModel;return this.getShallow("color")||(!i&&e?e.get(K2):null)},n.prototype.getFont=function(){return nx({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(i){for(var e={text:i,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<zg.length;r++)e[zg[r]]=this.getShallow(zg[r]);return Bg.useStyle(e),Bg.update(),Bg.getBoundingRect()},n}(),ax=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Q2=ws(ax),J2=function(){function n(){}return n.prototype.getLineStyle=function(i){return Q2(this,i)},n}(),sx=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],eL=ws(sx),tL=function(){function n(){}return n.prototype.getItemStyle=function(i,e){return eL(this,i,e)},n}(),Li=function(){function n(i,e,r){this.parentModel=e,this.ecModel=r,this.option=i}return n.prototype.init=function(i,e,r){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a]},n.prototype.mergeOption=function(i,e){q(this.option,i,!0)},n.prototype.get=function(i,e){return null==i?this.option:this._doGet(this.parsePath(i),!e&&this.parentModel)},n.prototype.getShallow=function(i,e){var r=this.option,o=null==r?r:r[i];if(null==o&&!e){var a=this.parentModel;a&&(o=a.getShallow(i))}return o},n.prototype.getModel=function(i,e){var r=null!=i,o=r?this.parsePath(i):null;return new n(r?this._doGet(o):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(H(this.option))},n.prototype.parsePath=function(i){return"string"==typeof i?i.split("."):i},n.prototype.resolveParentPath=function(i){return i},n.prototype.isAnimationEnabled=function(){if(!at.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(i,e){var r=this.option;if(!i)return r;for(var o=0;o<i.length&&(!i[o]||null!=(r=r&&"object"==typeof r?r[i[o]]:null));o++);return null==r&&e&&(r=e._doGet(this.resolveParentPath(i),e.parentModel)),r},n}();Kf(Li),Ng=Li,Rg=["__\0is_clz",QA++].join("_"),Ng.prototype[Rg]=!0,Ng.isInstance=function(n){return!(!n||!n[Rg])},Ie(Li,J2),Ie(Li,tL),Ie(Li,i2),Ie(Li,Z2);var iL=Math.round(10*Math.random());function Kl(n){return[n||"",iL++].join("_")}function Va(n,i){return q(q({},n,!0),i,!0)}var kd={},Hg={},lx=at.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function Vg(n,i){n=n.toUpperCase(),Hg[n]=new Li(i),kd[n]=i}function Fg(n){return Hg[n]}Vg("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Vg("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var Cu=864e5,px=31536e6,ku={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Td="{yyyy}-{MM}-{dd}",fx={year:"{yyyy}",month:"{yyyy}-{MM}",day:Td,hour:Td+" "+ku.hour,minute:Td+" "+ku.minute,second:Td+" "+ku.second,millisecond:ku.none},Wg=["year","month","day","hour","minute","second","millisecond"],gx=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function fr(n,i){return"0000".substr(0,i-(n+="").length)+n}function Zl(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function nL(n){return n===Zl(n)}function Tu(n,i,e,r){var o=Br(n),a=o[Gg(e)](),s=o[Ql(e)]()+1,l=Math.floor((s-1)/3)+1,h=o[Md(e)](),c=o["get"+(e?"UTC":"")+"Day"](),d=o[Mu(e)](),p=(d-1)%12+1,m=o[Id(e)](),y=o[Dd(e)](),_=o[Ad(e)](),x=(r instanceof Li?r:Fg(r||lx)||Hg.EN).getModel("time"),b=x.get("month"),S=x.get("monthAbbr"),C=x.get("dayOfWeek"),I=x.get("dayOfWeekAbbr");return(i||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,fr(a%100+"",2)).replace(/{Q}/g,l+"").replace(/{MMMM}/g,b[s-1]).replace(/{MMM}/g,S[s-1]).replace(/{MM}/g,fr(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,fr(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,C[c]).replace(/{ee}/g,I[c]).replace(/{e}/g,c+"").replace(/{HH}/g,fr(d,2)).replace(/{H}/g,d+"").replace(/{hh}/g,fr(p+"",2)).replace(/{h}/g,p+"").replace(/{mm}/g,fr(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,fr(y,2)).replace(/{s}/g,y+"").replace(/{SSS}/g,fr(_,3)).replace(/{S}/g,_+"")}function mx(n,i){var e=Br(n),r=e[Ql(i)]()+1,o=e[Md(i)](),a=e[Mu(i)](),s=e[Id(i)](),l=e[Dd(i)](),h=0===e[Ad(i)](),c=h&&0===l,d=c&&0===s,p=d&&0===a,m=p&&1===o;return m&&1===r?"year":m?"month":p?"day":d?"hour":c?"minute":h?"second":"millisecond"}function vx(n,i,e){var r=Ge(n)?Br(n):n;switch(i=i||mx(n,e)){case"year":return r[Gg(e)]();case"half-year":return r[Ql(e)]()>=6?1:0;case"quarter":return Math.floor((r[Ql(e)]()+1)/4);case"month":return r[Ql(e)]();case"day":return r[Md(e)]();case"half-day":return r[Mu(e)]()/24;case"hour":return r[Mu(e)]();case"minute":return r[Id(e)]();case"second":return r[Dd(e)]();case"millisecond":return r[Ad(e)]()}}function Gg(n){return n?"getUTCFullYear":"getFullYear"}function Ql(n){return n?"getUTCMonth":"getMonth"}function Md(n){return n?"getUTCDate":"getDate"}function Mu(n){return n?"getUTCHours":"getHours"}function Id(n){return n?"getUTCMinutes":"getMinutes"}function Dd(n){return n?"getUTCSeconds":"getSeconds"}function Ad(n){return n?"getUTCMilliseconds":"getMilliseconds"}function rL(n){return n?"setUTCFullYear":"setFullYear"}function yx(n){return n?"setUTCMonth":"setMonth"}function _x(n){return n?"setUTCDate":"setDate"}function xx(n){return n?"setUTCHours":"setHours"}function bx(n){return n?"setUTCMinutes":"setMinutes"}function Sx(n){return n?"setUTCSeconds":"setSeconds"}function Cx(n){return n?"setUTCMilliseconds":"setMilliseconds"}function Yg(n){if(!$f(n))return J(n)?n:"-";var i=(n+"").split(".");return i[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(i.length>1?"."+i[1]:"")}function $g(n,i){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,r){return r.toUpperCase()}),i&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var zs=ue;function Ug(n,i,e){function r(c){return c&&_e(c)?c:"-"}function o(c){return!(null==c||isNaN(c)||!isFinite(c))}var a="time"===i,s=n instanceof Date;if(a||s){var l=a?Br(n):n;if(!isNaN(+l))return Tu(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",e);if(s)return"-"}if("ordinal"===i)return we(n)?r(n):Ge(n)&&o(n)?n+"":"-";var h=Do(n);return o(h)?Yg(h):we(n)?r(n):"boolean"==typeof n?n+"":"-"}var kx=["a","b","c","d","e","f","g"],qg=function(n,i){return"{"+n+(null==i?"":i)+"}"};function Xg(n,i,e){ne(i)||(i=[i]);var r=i.length;if(!r)return"";for(var o=i[0].$vars||[],a=0;a<o.length;a++){var s=kx[a];n=n.replace(qg(s),qg(s,0))}for(var l=0;l<r;l++)for(var h=0;h<o.length;h++){var c=i[l][o[h]];n=n.replace(qg(kx[h],l),e?Vn(c):c)}return n}function Tx(n,i){var e=J(n)?{color:n,extraCssText:i}:n||{},r=e.color,o=e.type;i=e.extraCssText;var a=e.renderMode||"html";return r?"html"===a?"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Vn(r)+";"+(i||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Vn(r)+";"+(i||"")+'"></span>':{renderMode:a,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}function Bs(n,i){return i=i||"transparent",J(n)?n:Pe(n)&&n.colorStops&&(n.colorStops[0]||{}).color||i}function Ld(n,i){if("_blank"===i||"blank"===i){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,i)}var Pd=F,Mx=["left","right","top","bottom","width","height"],js=[["width","left","right"],["height","top","bottom"]];function Kg(n,i,e,r,o){var a=0,s=0;null==r&&(r=1/0),null==o&&(o=1/0);var l=0;i.eachChild(function(h,c){var d,p,m=h.getBoundingRect(),y=i.childAt(c+1),_=y&&y.getBoundingRect();if("horizontal"===n){var x=m.width+(_?-_.x+m.x:0);(d=a+x)>r||h.newline?(a=0,d=x,s+=l+e,l=m.height):l=Math.max(l,m.height)}else{var b=m.height+(_?-_.y+m.y:0);(p=s+b)>o||h.newline?(a+=l+e,s=0,p=b,l=m.width):l=Math.max(l,m.width)}h.newline||(h.x=a,h.y=s,h.markRedraw(),"horizontal"===n?a=d+e:s=p+e)})}var Hs=Kg;function Tn(n,i,e){e=zs(e||0);var r=i.width,o=i.height,a=Bt(n.left,r),s=Bt(n.top,o),l=Bt(n.right,r),h=Bt(n.bottom,o),c=Bt(n.width,r),d=Bt(n.height,o),p=e[2]+e[0],m=e[1]+e[3],y=n.aspect;switch(isNaN(c)&&(c=r-l-m-a),isNaN(d)&&(d=o-h-p-s),null!=y&&(isNaN(c)&&isNaN(d)&&(y>r/o?c=.8*r:d=.8*o),isNaN(c)&&(c=y*d),isNaN(d)&&(d=c/y)),isNaN(a)&&(a=r-l-c-m),isNaN(s)&&(s=o-h-d-p),n.left||n.right){case"center":a=r/2-c/2-e[3];break;case"right":a=r-c-m}switch(n.top||n.bottom){case"middle":case"center":s=o/2-d/2-e[0];break;case"bottom":s=o-d-p}a=a||0,s=s||0,isNaN(c)&&(c=r-m-a-(l||0)),isNaN(d)&&(d=o-p-s-(h||0));var _=new ai(a+e[3],s+e[0],c,d);return _.margin=e,_}function Od(n,i,e,r,o,a){var s,l=!o||!o.hv||o.hv[0],h=!o||!o.hv||o.hv[1],c=o&&o.boundingMode||"all";if((a=a||n).x=n.x,a.y=n.y,!l&&!h)return!1;if("raw"===c)s="group"===n.type?new ai(0,0,+i.width||0,+i.height||0):n.getBoundingRect();else if(s=n.getBoundingRect(),n.needLocalTransform()){var d=n.getLocalTransform();(s=s.clone()).applyTransform(d)}var p=Tn(de({width:s.width,height:s.height},i),e,r),m=l?p.x-s.x:0,y=h?p.y-s.y:0;return"raw"===c?(a.x=m,a.y=y):(a.x+=m,a.y+=y),a===n&&n.markRedraw(),!0}function Iu(n){var i=n.layoutMode||n.constructor.layoutMode;return Pe(i)?i:i?{type:i}:null}function Fa(n,i,e){var r=e&&e.ignoreSize;!ne(r)&&(r=[r,r]);var o=s(js[0],0),a=s(js[1],1);function s(d,p){var m={},y=0,_={},x=0;if(Pd(d,function(C){_[C]=n[C]}),Pd(d,function(C){l(i,C)&&(m[C]=_[C]=i[C]),h(m,C)&&y++,h(_,C)&&x++}),r[p])return h(i,d[1])?_[d[2]]=null:h(i,d[2])&&(_[d[1]]=null),_;if(2!==x&&y){if(y>=2)return m;for(var b=0;b<d.length;b++){var S=d[b];if(!l(m,S)&&l(n,S)){m[S]=n[S];break}}return m}return _}function l(d,p){return d.hasOwnProperty(p)}function h(d,p){return null!=d[p]&&"auto"!==d[p]}function c(d,p,m){Pd(d,function(y){p[y]=m[y]})}c(js[0],n,o),c(js[1],n,a)}function Jl(n){return Ix({},n)}function Ix(n,i){return i&&n&&Pd(Mx,function(e){i.hasOwnProperty(e)&&(n[e]=i[e])}),n}Q(Kg,"vertical"),Q(Kg,"horizontal");var n,i,oL=Mi(),_i=function(n){function i(e,r,o){var a=n.call(this,e,r,o)||this;return a.uid=Kl("ec_cpt_model"),a}return Le(i,n),i.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o)},i.prototype.mergeDefaultAndTheme=function(e,r){var o=Iu(this),a=o?Jl(e):{};q(e,r.getTheme().get(this.mainType)),q(e,this.getDefaultOption()),o&&Fa(e,a,o)},i.prototype.mergeOption=function(e,r){q(this.option,e,!0);var o=Iu(this);o&&Fa(this.option,e,o)},i.prototype.optionUpdated=function(e,r){},i.prototype.getDefaultOption=function(){var c,e=this.constructor;if(!(c=e)||!c[N_])return e.defaultOption;var r=oL(this);if(!r.defaultOption){for(var o=[],a=e;a;){var s=a.prototype.defaultOption;s&&o.push(s),a=a.superClass}for(var l={},h=o.length-1;h>=0;h--)l=q(l,o[h],!0);r.defaultOption=l}return r.defaultOption},i.prototype.getReferringComponents=function(e,r){var a=e+"Id";return su(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(a,!0)},r)},i.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},i.prototype.getZLevelKey=function(){return""},i.prototype.setZLevel=function(e){this.option.zlevel=e},i.protoInitialize=((e=i.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),i;var e}(Li);R_(_i,Li),Zc(_i),i={},(n=_i).registerSubTypeDefaulter=function(e,r){var o=Ao(e);i[o.main]=r},n.determineSubType=function(e,r){var o=r.type;if(!o){var a=Ao(e).main;n.hasSubTypes(e)&&i[a]&&(o=i[a](r))}return o},function(n,i){function e(r,o){return r[o]||(r[o]={predecessor:[],successor:[]}),r[o]}n.topologicalTravel=function(r,o,a,s){if(r.length){var l=(S={},C=[],F(b=o,function(I){var O,E,z,A=e(S,I),P=(O=A.originalDeps=function(n){var i=[];return F(_i.getClassesByMainType(n),function(e){i=i.concat(e.dependencies||e.prototype.dependencies||[])}),i=Te(i,function(e){return Ao(e).main}),"dataset"!==n&&ve(i,"dataset")<=0&&i.unshift("dataset"),i}(I),E=b,z=[],F(O,function(V){ve(E,V)>=0&&z.push(V)}),z);A.entryCount=P.length,0===A.entryCount&&C.push(I),F(P,function(O){ve(A.predecessor,O)<0&&A.predecessor.push(O);var E=e(S,O);ve(E.successor,O)<0&&E.successor.push(I)})}),{graph:S,noEntryList:C}),h=l.graph,c=l.noEntryList,d={};for(F(r,function(b){d[b]=!0});c.length;){var p=c.pop(),m=h[p],y=!!d[p];y&&(a.call(s,p,m.originalDeps.slice()),delete d[p]),F(m.successor,y?x:_)}F(d,function(){throw new Error("")})}var b,S,C;function _(b){h[b].entryCount--,0===h[b].entryCount&&c.push(b)}function x(b){d[b]=!0,_(b)}}}(_i);var Dx="";"undefined"!=typeof navigator&&(Dx=navigator.platform||"");var eh="rgba(0, 0, 0, 0.2)",aL={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:eh,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:eh,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:eh,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:eh,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:eh,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:eh,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Dx.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ax=xe(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Ur="original",or="arrayRows",qr="objectRows",Ro="keyedColumns",Wa="typedArray",Lx="unknown",zo="column",th="row",Ox=Mi();function Ex(n,i,e){var r={},o=Qg(i);if(!o||!n)return r;var a,s,l=[],h=[],d=Ox(i.ecModel).datasetMap,p=o.uid+"_"+e.seriesLayoutBy;F(n=n.slice(),function(x,b){var S=Pe(x)?x:n[b]={name:x};"ordinal"===S.type&&null==a&&(a=b,s=_(S)),r[S.name]=[]});var m=d.get(p)||d.set(p,{categoryWayDim:s,valueWayDim:0});function y(x,b,S){for(var C=0;C<S;C++)x.push(b+C)}function _(x){var b=x.dimsDef;return b?b.length:1}return F(n,function(x,b){var S=x.name,C=_(x);if(null==a){var I=m.valueWayDim;y(r[S],I,C),y(h,I,C),m.valueWayDim+=C}else a===b?(y(r[S],0,C),y(l,0,C)):(y(r[S],I=m.categoryWayDim,C),y(h,I,C),m.categoryWayDim+=C)}),l.length&&(r.itemName=l),h.length&&(r.seriesName=h),r}function Zg(n,i,e){var r={};if(!Qg(n))return r;var o,a=i.sourceFormat,s=i.dimensionsDefine;a!==qr&&a!==Ro||F(s,function(c,d){"name"===(Pe(c)?c.name:c)&&(o=d)});var l=function(){for(var c={},d={},p=[],m=0,y=Math.min(5,e);m<y;m++){var _=Rx(i.data,a,i.seriesLayoutBy,s,i.startIndex,m);p.push(_);var x=3===_;if(x&&null==c.v&&m!==o&&(c.v=m),(null==c.n||c.n===c.v||!x&&3===p[c.n])&&(c.n=m),b(c)&&3!==p[c.n])return c;x||(2===_&&null==d.v&&m!==o&&(d.v=m),null!=d.n&&d.n!==d.v||(d.n=m))}function b(S){return null!=S.v&&null!=S.n}return b(c)?c:b(d)?d:null}();if(l){r.value=[l.v];var h=null!=o?o:l.n;r.itemName=[h],r.seriesName=[h]}return r}function Qg(n){if(!n.get("data",!0))return su(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},kn).models[0]}function Nx(n,i){return Rx(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,i)}function Rx(n,i,e,r,o,a){var s,l,h;if(kt(n))return 3;if(r){var c=r[a];Pe(c)?(l=c.name,h=c.type):J(c)&&(l=c)}if(null!=h)return"ordinal"===h?1:3;if(i===or){var d=n;if(e===th){for(var p=d[a],m=0;m<(p||[]).length&&m<5;m++)if(null!=(s=C(p[o+m])))return s}else for(m=0;m<d.length&&m<5;m++){var y=d[o+m];if(y&&null!=(s=C(y[a])))return s}}else if(i===qr){var _=n;if(!l)return 3;for(m=0;m<_.length&&m<5;m++)if((b=_[m])&&null!=(s=C(b[l])))return s}else if(i===Ro){if(!l||!(p=n[l])||kt(p))return 3;for(m=0;m<p.length&&m<5;m++)if(null!=(s=C(p[m])))return s}else if(i===Ur){var x=n;for(m=0;m<x.length&&m<5;m++){var b,S=Nl(b=x[m]);if(!ne(S))return 3;if(null!=(s=C(S[a])))return s}}function C(I){var A=J(I);return null!=I&&isFinite(I)&&""!==I?A?2:3:A&&"-"!==I?1:void 0}return 3}var Nd,Du,zx,Jg=xe(),Bx=Mi(),sL=Mi(),em=function(){function n(){}return n.prototype.getColorFromPalette=function(i,e,r){var o=Gi(this.get("color",!0)),a=this.get("colorLayer",!0);return jx(this,Bx,o,a,i,e,r)},n.prototype.clearColorPalette=function(){!function(i,e){e(i).paletteIdx=0,e(i).paletteNameMap={}}(this,Bx)},n}();function tm(n,i,e,r){var o=Gi(n.get(["aria","decal","decals"]));return jx(n,sL,o,null,i,e,r)}function jx(n,i,e,r,o,a,s){var l=i(a=a||n),h=l.paletteIdx||0,c=l.paletteNameMap=l.paletteNameMap||{};if(c.hasOwnProperty(o))return c[o];var d=null!=s&&r?function(m,y){for(var _=m.length,x=0;x<_;x++)if(m[x].length>y)return m[x];return m[_-1]}(r,s):e;if((d=d||e)&&d.length){var p=d[h];return o&&(c[o]=p),l.paletteIdx=(h+1)%d.length,p}}var Hx="\0_ec_inner",im=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.init=function(e,r,o,a,s,l){a=a||{},this.option=null,this._theme=new Li(a),this._locale=new Li(s),this._optionManager=l},i.prototype.setOption=function(e,r,o){var a=Wx(r);this._optionManager.setOption(e,o,a),this._resetOption(null,a)},i.prototype.resetOption=function(e,r){return this._resetOption(e,Wx(r))},i.prototype._resetOption=function(e,r){var o=!1,a=this._optionManager;if(!e||"recreate"===e){var s=a.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(s,r)):zx(this,s),o=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var l=a.getTimelineOption(this);l&&(o=!0,this._mergeOption(l,r))}if(!e||"recreate"===e||"media"===e){var h=a.getMediaOption(this);h.length&&F(h,function(c){o=!0,this._mergeOption(c,r)},this)}return o},i.prototype.mergeOption=function(e){this._mergeOption(e,null)},i.prototype._mergeOption=function(e,r){var o=this.option,a=this._componentsMap,s=this._componentsCount,l=[],h=xe(),c=r&&r.replaceMergeMainTypeMap;Ox(this).datasetMap=xe(),F(e,function(d,p){null!=d&&(_i.hasClass(p)?p&&(l.push(p),h.set(p,!0)):o[p]=null==o[p]?H(d):q(o[p],d,!0))}),c&&c.each(function(d,p){_i.hasClass(p)&&!h.get(p)&&(l.push(p),h.set(p,!0))}),_i.topologicalTravel(l,_i.getAllClassMainTypes(),function(d){var A,P,p=function(I,A,P){var O=Jg.get(A);if(!O)return P;var E=O(I);return E?P.concat(E):P}(this,d,Gi(e[d])),m=a.get(d),_=L_(m,p,m?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll");A=d,P=_i,F(_,function(O){var V,G,E=O.newOption;Pe(E)&&(O.keyInfo.mainType=A,O.keyInfo.subType=(G=O.existing,(V=E).type?V.type:G?G.subType:P.determineSubType(A,V)))}),o[d]=null,a.set(d,null),s.set(d,0);var x,b=[],S=[],C=0;F(_,function(I,A){var P=I.existing,O=I.newOption;if(O){var z=_i.getClass(d,I.keyInfo.subType,!("series"===d));if(!z)return;if("tooltip"===d){if(x)return;x=!0}if(P&&P.constructor===z)P.name=I.keyInfo.name,P.mergeOption(O,this),P.optionUpdated(O,!1);else{var V=Z({componentIndex:A},I.keyInfo);Z(P=new z(O,this,this,V),V),I.brandNew&&(P.__requireNewView=!0),P.init(O,this,this),P.optionUpdated(null,!0)}}else P&&(P.mergeOption({},this),P.optionUpdated({},!1));P?(b.push(P.option),S.push(P),C++):(b.push(void 0),S.push(void 0))},this),o[d]=b,a.set(d,S),s.set(d,C),"series"===d&&Nd(this)},this),this._seriesIndices||Nd(this)},i.prototype.getOption=function(){var e=H(this.option);return F(e,function(r,o){if(_i.hasClass(o)){for(var a=Gi(r),s=a.length,l=!1,h=s-1;h>=0;h--)a[h]&&!ou(a[h])?l=!0:(a[h]=null,!l&&s--);a.length=s,e[o]=a}}),delete e[Hx],e},i.prototype.getTheme=function(){return this._theme},i.prototype.getLocaleModel=function(){return this._locale},i.prototype.setUpdatePayload=function(e){this._payload=e},i.prototype.getUpdatePayload=function(){return this._payload},i.prototype.getComponent=function(e,r){var o=this._componentsMap.get(e);if(o){var a=o[r||0];if(a)return a;if(null==r)for(var s=0;s<o.length;s++)if(o[s])return o[s]}},i.prototype.queryComponents=function(e){var r=e.mainType;if(!r)return[];var o,a=e.index,s=e.id,l=e.name,h=this._componentsMap.get(r);return h&&h.length?(null!=a?(o=[],F(Gi(a),function(c){h[c]&&o.push(h[c])})):o=null!=s?Vx("id",s,h):null!=l?Vx("name",l,h):tt(h,function(c){return!!c}),Fx(o,e)):[]},i.prototype.findComponents=function(e){var r,o,a,s,l,c=e.mainType,d=(o=c+"Index",a=c+"Id",s=c+"Name",!(r=e.query)||null==r[o]&&null==r[a]&&null==r[s]?null:{mainType:c,index:r[o],id:r[a],name:r[s]});return l=Fx(d?this.queryComponents(d):tt(this._componentsMap.get(c),function(m){return!!m}),e),e.filter?tt(l,e.filter):l},i.prototype.eachComponent=function(e,r,o){var a=this._componentsMap;if(ee(e)){var s=r,l=e;a.each(function(p,m){for(var y=0;p&&y<p.length;y++){var _=p[y];_&&l.call(s,m,_,_.componentIndex)}})}else for(var h=J(e)?a.get(e):Pe(e)?this.findComponents(e):null,c=0;h&&c<h.length;c++){var d=h[c];d&&r.call(o,d,d.componentIndex)}},i.prototype.getSeriesByName=function(e){var r=On(e,null);return tt(this._componentsMap.get("series"),function(o){return!!o&&null!=r&&o.name===r})},i.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},i.prototype.getSeriesByType=function(e){return tt(this._componentsMap.get("series"),function(r){return!!r&&r.subType===e})},i.prototype.getSeries=function(){return tt(this._componentsMap.get("series"),function(e){return!!e})},i.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},i.prototype.eachSeries=function(e,r){Du(this),F(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];e.call(r,a,o)},this)},i.prototype.eachRawSeries=function(e,r){F(this._componentsMap.get("series"),function(o){o&&e.call(r,o,o.componentIndex)})},i.prototype.eachSeriesByType=function(e,r,o){Du(this),F(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===e&&r.call(o,s,a)},this)},i.prototype.eachRawSeriesByType=function(e,r,o){return F(this.getSeriesByType(e),r,o)},i.prototype.isSeriesFiltered=function(e){return Du(this),null==this._seriesIndicesMap.get(e.componentIndex)},i.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},i.prototype.filterSeries=function(e,r){Du(this);var o=[];F(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];e.call(r,s,a)&&o.push(a)},this),this._seriesIndices=o,this._seriesIndicesMap=xe(o)},i.prototype.restoreData=function(e){Nd(this);var r=this._componentsMap,o=[];r.each(function(a,s){_i.hasClass(s)&&o.push(s)}),_i.topologicalTravel(o,_i.getAllClassMainTypes(),function(a){F(r.get(a),function(s){!s||"series"===a&&function(l,h){if(h){var c=h.seriesIndex,d=h.seriesId,p=h.seriesName;return null!=c&&l.componentIndex!==c||null!=d&&l.id!==d||null!=p&&l.name!==p}}(s,e)||s.restoreData()})})},i.internalField=(Nd=function(e){var r=e._seriesIndices=[];F(e._componentsMap.get("series"),function(o){o&&r.push(o.componentIndex)}),e._seriesIndicesMap=xe(r)},Du=function(e){},void(zx=function(e,r){e.option={},e.option[Hx]=1,e._componentsMap=xe({series:[]}),e._componentsCount=xe();var a,l,o=r.aria;Pe(o)&&null==o.enabled&&(o.enabled=!0),l=(a=r).color&&!a.colorLayer,F(e._theme.option,function(h,c){"colorLayer"===c&&l||_i.hasClass(c)||("object"==typeof h?a[c]=a[c]?q(a[c],h,!1):H(h):null==a[c]&&(a[c]=h))}),q(r,aL,!1),e._mergeOption(r,null)})),i}(Li);function Vx(n,i,e){if(ne(i)){var r=xe();return F(i,function(a){null!=a&&null!=On(a,null)&&r.set(a,!0)}),tt(e,function(a){return a&&r.get(a[n])})}var o=On(i,null);return tt(e,function(a){return a&&null!=o&&a[n]===o})}function Fx(n,i){return i.hasOwnProperty("subType")?tt(n,function(e){return e&&e.subType===i.subType}):n}function Wx(n){var i=xe();return n&&F(Gi(n.replaceMerge),function(e){i.set(e,!0)}),{replaceMergeMainTypeMap:i}}Ie(im,em);var lL=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Gx=function(n){F(lL,function(i){this[i]=De(n[i],n)},this)},nm={},ih=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(i,e){var r=[];F(nm,function(o,a){var s=o.create(i,e);r=r.concat(s||[])}),this._coordinateSystems=r},n.prototype.update=function(i,e){F(this._coordinateSystems,function(r){r.update&&r.update(i,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(i,e){nm[i]=e},n.get=function(i){return nm[i]},n}(),hL=/^(min|max)?(.+)$/,uL=function(){function n(i){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=i}return n.prototype.setOption=function(i,e,r){i&&(F(Gi(i.series),function(s){s&&s.data&&kt(s.data)&&Ae(s.data)}),F(Gi(i.dataset),function(s){s&&s.source&&kt(s.source)&&Ae(s.source)})),i=H(i);var o=this._optionBackup,a=function(s,l,h){var c,d,p=[],m=s.baseOption,y=s.timeline,_=s.options,x=s.media,b=!!s.media,S=!!(_||y||m&&m.timeline);function C(I){F(l,function(A){A(I,h)})}return m?(d=m).timeline||(d.timeline=y):((S||b)&&(s.options=s.media=null),d=s),b&&ne(x)&&F(x,function(I){I&&I.option&&(I.query?p.push(I):c||(c=I))}),C(d),F(_,function(I){return C(I)}),F(p,function(I){return C(I.option)}),{baseOption:d,timelineOptions:_||[],mediaDefault:c,mediaList:p}}(i,e,!o);this._newBaseOption=a.baseOption,o?(a.timelineOptions.length&&(o.timelineOptions=a.timelineOptions),a.mediaList.length&&(o.mediaList=a.mediaList),a.mediaDefault&&(o.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(i){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],H(i?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(i){var e,r=this._timelineOptions;if(r.length){var o=i.getComponent("timeline");o&&(e=H(r[o.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(i){var r,o=this._api.getWidth(),a=this._api.getHeight(),s=this._mediaList,l=this._mediaDefault,h=[],c=[];if(!s.length&&!l)return c;for(var d=0,p=s.length;d<p;d++)cL(s[d].query,o,a)&&h.push(d);return!h.length&&l&&(h=[-1]),h.length&&(r=this._currentMediaIndices,h.join(",")!==r.join(","))&&(c=Te(h,function(m){return H(-1===m?l.option:s[m].option)})),this._currentMediaIndices=h,c},n}();function cL(n,i,e){var r={width:i,height:e,aspectratio:i/e},o=!0;return F(n,function(a,s){var d,p,m,l=s.match(hL);if(l&&l[1]&&l[2]){var h=l[1],c=l[2].toLowerCase();d=r[c],p=a,("min"===(m=h)?d>=p:"max"===m?d<=p:d===p)||(o=!1)}}),o}var yo=F,Au=Pe,Yx=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function rm(n){var i=n&&n.itemStyle;if(i)for(var e=0,r=Yx.length;e<r;e++){var o=Yx[e],a=i.normal,s=i.emphasis;a&&a[o]&&(n[o]=n[o]||{},n[o].normal?q(n[o].normal,a[o]):n[o].normal=a[o],a[o]=null),s&&s[o]&&(n[o]=n[o]||{},n[o].emphasis?q(n[o].emphasis,s[o]):n[o].emphasis=s[o],s[o]=null)}}function ar(n,i,e){if(n&&n[i]&&(n[i].normal||n[i].emphasis)){var r=n[i].normal,o=n[i].emphasis;r&&(e?(n[i].normal=n[i].emphasis=null,de(n[i],r)):n[i]=r),o&&(n.emphasis=n.emphasis||{},n.emphasis[i]=o,o.focus&&(n.emphasis.focus=o.focus),o.blurScope&&(n.emphasis.blurScope=o.blurScope))}}function Lu(n){ar(n,"itemStyle"),ar(n,"lineStyle"),ar(n,"areaStyle"),ar(n,"label"),ar(n,"labelLine"),ar(n,"upperLabel"),ar(n,"edgeLabel")}function Mn(n,i){var e=Au(n)&&n[i],r=Au(e)&&e.textStyle;if(r)for(var o=0,a=A_.length;o<a;o++){var s=A_[o];r.hasOwnProperty(s)&&(e[s]=r[s])}}function Xr(n){n&&(Lu(n),Mn(n,"label"),n.emphasis&&Mn(n.emphasis,"label"))}function ca(n){return ne(n)?n:n?[n]:[]}function $x(n){return(ne(n)?n[0]:n)||{}}function Ux(n){n&&F(pL,function(i){i[0]in n&&!(i[1]in n)&&(n[i[1]]=n[i[0]])})}var pL=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],fL=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],om=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Pu(n){var i=n&&n.itemStyle;if(i)for(var e=0;e<om.length;e++){var r=om[e][1];null!=i[r]&&(i[om[e][0]]=i[r])}}function qx(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function Xx(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function Kx(n,i){if(n)for(var e=0;e<n.length;e++)i(n[e]),n[e]&&Kx(n[e].children,i)}function Zx(n,i){(function dL(n,i){yo(ca(n.series),function(r){Au(r)&&function(o){if(Au(o)){rm(o),Lu(o),Mn(o,"label"),Mn(o,"upperLabel"),Mn(o,"edgeLabel"),o.emphasis&&(Mn(o.emphasis,"label"),Mn(o.emphasis,"upperLabel"),Mn(o.emphasis,"edgeLabel"));var a=o.markPoint;a&&(rm(a),Xr(a));var s=o.markLine;s&&(rm(s),Xr(s));var l=o.markArea;l&&Xr(l);var h=o.data;if("graph"===o.type){h=h||o.nodes;var c=o.links||o.edges;if(c&&!kt(c))for(var d=0;d<c.length;d++)Xr(c[d]);F(o.categories,function(y){Lu(y)})}if(h&&!kt(h))for(d=0;d<h.length;d++)Xr(h[d]);if((a=o.markPoint)&&a.data){var p=a.data;for(d=0;d<p.length;d++)Xr(p[d])}if((s=o.markLine)&&s.data){var m=s.data;for(d=0;d<m.length;d++)ne(m[d])?(Xr(m[d][0]),Xr(m[d][1])):Xr(m[d])}"gauge"===o.type?(Mn(o,"axisLabel"),Mn(o,"title"),Mn(o,"detail")):"treemap"===o.type?(ar(o.breadcrumb,"itemStyle"),F(o.levels,function(y){Lu(y)})):"tree"===o.type&&Lu(o.leaves)}}(r)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];i&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),yo(e,function(r){yo(ca(n[r]),function(o){o&&(Mn(o,"axisLabel"),Mn(o.axisPointer,"label"))})}),yo(ca(n.parallel),function(r){var o=r&&r.parallelAxisDefault;Mn(o,"axisLabel"),Mn(o&&o.axisPointer,"label")}),yo(ca(n.calendar),function(r){ar(r,"itemStyle"),Mn(r,"dayLabel"),Mn(r,"monthLabel"),Mn(r,"yearLabel")}),yo(ca(n.radar),function(r){Mn(r,"name"),r.name&&null==r.axisName&&(r.axisName=r.name,delete r.name),null!=r.nameGap&&null==r.axisNameGap&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),yo(ca(n.geo),function(r){Au(r)&&(Xr(r),yo(ca(r.regions),function(o){Xr(o)}))}),yo(ca(n.timeline),function(r){Xr(r),ar(r,"label"),ar(r,"itemStyle"),ar(r,"controlStyle",!0);var o=r.data;ne(o)&&F(o,function(a){Pe(a)&&(ar(a,"label"),ar(a,"itemStyle"))})}),yo(ca(n.toolbox),function(r){ar(r,"iconStyle"),yo(r.feature,function(o){ar(o,"iconStyle")})}),Mn($x(n.axisPointer),"label"),Mn($x(n.tooltip).axisPointer,"label")})(n,i),n.series=Gi(n.series),F(n.series,function(e){if(Pe(e)){var r=e.type;if("line"===r)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===r||"gauge"===r){if(null!=e.clockWise&&(e.clockwise=e.clockWise),qx(e.label),(s=e.data)&&!kt(s))for(var o=0;o<s.length;o++)qx(s[o]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===r){var a=function(h,c){for(var d="pointer.color".split(","),p=h,m=0;m<d.length&&null!=(p=p&&p[d[m]]);m++);return p}(e);null!=a&&function(h,c,d,p){for(var m,y="itemStyle.color".split(","),_=h,x=0;x<y.length-1;x++)null==_[m=y[x]]&&(_[m]={}),_=_[m];null==_[y[x]]&&(_[y[x]]=d)}(e,0,a)}else if("bar"===r){var s;if(Pu(e),Pu(e.backgroundStyle),Pu(e.emphasis),(s=e.data)&&!kt(s))for(o=0;o<s.length;o++)"object"==typeof s[o]&&(Pu(s[o]),Pu(s[o]&&s[o].emphasis))}else if("sunburst"===r){var l=e.highlightPolicy;l&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=l)),Xx(e),Kx(e.data,Xx)}else"graph"===r||"sankey"===r?(h=e)&&null!=h.focusNodeAdjacency&&(h.emphasis=h.emphasis||{},null==h.emphasis.focus&&(h.emphasis.focus="adjacency")):"map"===r&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&de(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),Ux(e)}var h}),n.dataRange&&(n.visualMap=n.dataRange),F(fL,function(e){var r=n[e];r&&(ne(r)||(r=[r]),F(r,function(o){Ux(o)}))})}function gL(n){F(n,function(i,e){var r=[],o=[NaN,NaN],a=[i.stackResultDimension,i.stackedOverDimension],s=i.data,l=i.isStackedByIndex,h=i.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(c,d,p){var m,y,_=s.get(i.stackedDimension,p);if(isNaN(_))return o;l?y=s.getRawIndex(p):m=s.get(i.stackedByDimension,p);for(var x=NaN,b=e-1;b>=0;b--){var S=n[b];if(l||(y=S.data.rawIndexOf(S.stackedByDimension,m)),y>=0){var C=S.data.getByRawIndex(S.stackResultDimension,y);if("all"===h||"positive"===h&&C>0||"negative"===h&&C<0||"samesign"===h&&_>=0&&C>0||"samesign"===h&&_<=0&&C<0){_=UA(_,C),x=C;break}}}return r[0]=_,r[1]=x,r})})}var nh,rh,oh,Qx,Jx,Rd=function(n){this.data=n.data||(n.sourceFormat===Ro?{}:[]),this.sourceFormat=n.sourceFormat||Lx,this.seriesLayoutBy=n.seriesLayoutBy||zo,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var i=this.dimensionsDefine=n.dimensionsDefine;if(i)for(var e=0;e<i.length;e++){var r=i[e];null==r.type&&1===Nx(this,e)&&(r.type="ordinal")}};function am(n){return n instanceof Rd}function sm(n,i,e){e=e||eb(n);var r=i.seriesLayoutBy,o=function(a,s,l,h,c){var d,p;if(!a)return{dimensionsDefine:tb(c),startIndex:p,dimensionsDetectedCount:d};if(s===or){var m=a;"auto"===h||null==h?ib(function(_){null!=_&&"-"!==_&&(J(_)?null==p&&(p=1):p=0)},l,m,10):p=Ge(h)?h:h?1:0,c||1!==p||(c=[],ib(function(_,x){c[x]=null!=_?_+"":""},l,m,1/0)),d=c?c.length:l===th?m.length:m[0]?m[0].length:null}else if(s===qr)c||(c=function(_){for(var x,b=0;b<_.length&&!(x=_[b++]););if(x)return ft(x)}(a));else if(s===Ro)c||(c=[],F(a,function(_,x){c.push(x)}));else if(s===Ur){var y=Nl(a[0]);d=ne(y)&&y.length||1}return{startIndex:p,dimensionsDefine:tb(c),dimensionsDetectedCount:d}}(n,e,r,i.sourceHeader,i.dimensions);return new Rd({data:n,sourceFormat:e,seriesLayoutBy:r,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:H(i)})}function lm(n){return new Rd({data:n,sourceFormat:kt(n)?Wa:Ur})}function eb(n){var i=Lx;if(kt(n))i=Wa;else if(ne(n)){0===n.length&&(i=or);for(var e=0,r=n.length;e<r;e++){var o=n[e];if(null!=o){if(ne(o)){i=or;break}if(Pe(o)){i=qr;break}}}}else if(Pe(n))for(var a in n)if(Be(n,a)&&Ne(n[a])){i=Ro;break}return i}function tb(n){if(n){var i=xe();return Te(n,function(e,r){var o={name:(e=Pe(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==o.name)return o;o.name+="",null==o.displayName&&(o.displayName=o.name);var a=i.get(o.name);return a?o.name+="-"+a.count++:i.set(o.name,{count:1}),o})}}function ib(n,i,e,r){if(i===th)for(var o=0;o<e.length&&o<r;o++)n(e[o]?e[o][0]:null,o);else{var a=e[0]||[];for(o=0;o<a.length&&o<r;o++)n(a[o],o)}}function nb(n){var i=n.sourceFormat;return i===qr||i===Ro}var rb=function(){function n(i,e){var r=am(i)?i:lm(i);this._source=r;var o=this._data=r.data;r.sourceFormat===Wa&&(this._offset=0,this._dimSize=e,this._data=o),Jx(this,o,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(i,e){},n.prototype.appendData=function(i){},n.prototype.clean=function(){},n.protoInitialize=function(){var i=n.prototype;i.pure=!1,i.persistent=!0}(),n.internalField=function(){var i;Jx=function(s,l,h){var c=h.sourceFormat,d=h.seriesLayoutBy,p=h.startIndex,m=h.dimensionsDefine;if(Z(s,Qx[um(c,d)]),c===Wa)s.getItem=e,s.count=o,s.fillStorage=r;else{var _=ab(c,d);s.getItem=De(_,null,l,p,m);var x=lb(c,d);s.count=De(x,null,l,p,m)}};var e=function(s,l){l=l||[];for(var h=this._data,c=this._dimSize,d=c*(s-=this._offset),p=0;p<c;p++)l[p]=h[d+p];return l},r=function(s,l,h,c){for(var d=this._data,p=this._dimSize,m=0;m<p;m++){for(var y=c[m],_=null==y[0]?1/0:y[0],x=null==y[1]?-1/0:y[1],b=l-s,S=h[m],C=0;C<b;C++){var I=d[C*p+m];S[s+C]=I,I<_&&(_=I),I>x&&(x=I)}y[0]=_,y[1]=x}},o=function(){return this._data?this._data.length/this._dimSize:0};function a(s){for(var l=0;l<s.length;l++)this._data.push(s[l])}(i={})[or+"_"+zo]={pure:!0,appendData:a},i[or+"_"+th]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},i[qr]={pure:!0,appendData:a},i[Ro]={pure:!0,appendData:function(s){var l=this._data;F(s,function(h,c){for(var d=l[c]||(l[c]=[]),p=0;p<(h||[]).length;p++)d.push(h[p])})}},i[Ur]={appendData:a},i[Wa]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},Qx=i}(),n}(),ob=function(n,i,e,r){return n[r]},mL=((nh={})[or+"_"+zo]=function(n,i,e,r){return n[r+i]},nh[or+"_"+th]=function(n,i,e,r,o){r+=i;for(var a=o||[],s=n,l=0;l<s.length;l++){var h=s[l];a[l]=h?h[r]:null}return a},nh[qr]=ob,nh[Ro]=function(n,i,e,r,o){for(var a=o||[],s=0;s<e.length;s++){var h=n[e[s].name];a[s]=h?h[r]:null}return a},nh[Ur]=ob,nh);function ab(n,i){return mL[um(n,i)]}var sb=function(n,i,e){return n.length},vL=((rh={})[or+"_"+zo]=function(n,i,e){return Math.max(0,n.length-i)},rh[or+"_"+th]=function(n,i,e){var r=n[0];return r?Math.max(0,r.length-i):0},rh[qr]=sb,rh[Ro]=function(n,i,e){var o=n[e[0].name];return o?o.length:0},rh[Ur]=sb,rh);function lb(n,i){return vL[um(n,i)]}var hm=function(n,i,e){return n[i]},yL=((oh={})[or]=hm,oh[qr]=function(n,i,e){return n[e]},oh[Ro]=hm,oh[Ur]=function(n,i,e){var r=Nl(n);return r instanceof Array?r[i]:r},oh[Wa]=hm,oh);function hb(n){return yL[n]}function um(n,i){return n===or?n+"_"+i:n}function ah(n,i,e){if(n){var r=n.getRawDataItem(i);if(null!=r){var o=n.getStore(),a=o.getSource().sourceFormat;if(null!=e){var s=n.getDimensionIndex(e),l=o.getDimensionProperty(s);return hb(a)(r,s,l)}var h=r;return a===Ur&&(h=Nl(r)),h}}}var _L=/\{@(.+?)\}/g,cm=function(){function n(){}return n.prototype.getDataParams=function(i,e){var r=this.getData(e),o=this.getRawValue(i,e),a=r.getRawIndex(i),s=r.getName(i),l=r.getRawDataItem(i),h=r.getItemVisual(i,"style"),c=h&&h[r.getItemVisual(i,"drawType")||"fill"],d=h&&h.stroke,p=this.mainType,m="series"===p,y=r.userOutput&&r.userOutput.get();return{componentType:p,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,seriesId:m?this.id:null,seriesName:m?this.name:null,name:s,dataIndex:a,data:l,dataType:e,value:o,color:c,borderColor:d,dimensionNames:y?y.fullDimensions:null,encode:y?y.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(i,e,r,o,a,s){e=e||"normal";var l=this.getData(r),h=this.getDataParams(i,r);return s&&(h.value=s.interpolatedValue),null!=o&&ne(h.value)&&(h.value=h.value[o]),a||(a=l.getItemModel(i).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),ee(a)?(h.status=e,h.dimensionIndex=o,a(h)):J(a)?Xg(a,h).replace(_L,function(c,d){var p=d.length,m=d;"["===m.charAt(0)&&"]"===m.charAt(p-1)&&(m=+m.slice(1,p-1));var y=ah(l,i,m);if(s&&ne(s.interpolatedValue)){var _=l.getDimensionIndex(m);_>=0&&(y=s.interpolatedValue[_])}return null!=y?y+"":""}):void 0},n.prototype.getRawValue=function(i,e){return ah(this.getData(e),i)},n.prototype.formatTooltip=function(i,e,r){},n}();function ub(n){var i,e;return Pe(n)?n.type&&(e=n):i=n,{text:i,frag:e}}function Ou(n){return new xL(n)}var xL=function(){function n(i){this._reset=(i=i||{}).reset,this._plan=i.plan,this._count=i.count,this._onDirty=i.onDirty,this._dirty=!0}return n.prototype.perform=function(i){var e,r=this._upstream,o=i&&i.skip;if(this._dirty&&r){var a=this.context;a.data=a.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!o&&(e=this._plan(this.context));var s,l=p(this._modBy),h=this._modDataCount||0,c=p(i&&i.modBy),d=i&&i.modDataCount||0;function p(C){return!(C>=1)&&(C=1),C}l===c&&h===d||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,s=this._doReset(o)),this._modBy=c,this._modDataCount=d;var m=i&&i.step;if(this._dueEnd=r?r._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var y=this._dueIndex,_=Math.min(null!=m?this._dueIndex+m:1/0,this._dueEnd);if(!o&&(s||y<_)){var x=this._progress;if(ne(x))for(var b=0;b<x.length;b++)this._doProgress(x[b],y,_,c,d);else this._doProgress(x,y,_,c,d)}this._dueIndex=_,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:_}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(i,e,r,o,a){cb.reset(e,r,o,a),this._callingProgress=i,this._callingProgress({start:e,end:r,count:r-e,next:cb.next},this.context)},n.prototype._doReset=function(i){var e,r;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!i&&this._reset&&((e=this._reset(this.context))&&e.progress&&(r=e.forceFirstProgress,e=e.progress),ne(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var o=this._downstream;return o&&o.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(i){(this._downstream!==i||this._dirty)&&(this._downstream=i,i._upstream=this,i.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(i){this._outputDueEnd=this._settedOutputEnd=i},n}(),cb=function(){var n,i,e,r,o,a={reset:function(h,c,d,p){i=h,n=c,e=d,r=p,o=Math.ceil(r/e),a.next=e>1&&r>0?l:s}};return a;function s(){return i<n?i++:null}function l(){var h=i%o*e+Math.ceil(i/o),c=i>=n?null:h<r?h:i;return i++,c}}();function Ga(n,i){var e=i&&i.type;return"ordinal"===e?n:("time"!==e||Ge(n)||null==n||"-"===n||(n=+Br(n)),null==n||""===n?NaN:+n)}var bL=xe({number:function(n){return parseFloat(n)},time:function(n){return+Br(n)},trim:function(n){return J(n)?_e(n):n}});function db(n){return bL.get(n)}var pb={lt:function(n,i){return n<i},lte:function(n,i){return n<=i},gt:function(n,i){return n>i},gte:function(n,i){return n>=i}},wL=function(){function n(i,e){Ge(e)||zi(""),this._opFn=pb[i],this._rvalFloat=Do(e)}return n.prototype.evaluate=function(i){return Ge(i)?this._opFn(i,this._rvalFloat):this._opFn(Do(i),this._rvalFloat)},n}(),fb=function(){function n(i,e){var r="desc"===i;this._resultLT=r?1:-1,null==e&&(e=r?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return n.prototype.evaluate=function(i,e){var r=Ge(i)?i:Do(i),o=Ge(e)?e:Do(e),a=isNaN(r),s=isNaN(o);if(a&&(r=this._incomparable),s&&(o=this._incomparable),a&&s){var l=J(i),h=J(e);l&&(r=h?i:0),h&&(o=l?e:0)}return r<o?this._resultLT:r>o?-this._resultLT:0},n}(),SL=function(){function n(i,e){this._rval=e,this._isEQ=i,this._rvalTypeof=typeof e,this._rvalFloat=Do(e)}return n.prototype.evaluate=function(i){var e=i===this._rval;if(!e){var r=typeof i;r===this._rvalTypeof||"number"!==r&&"number"!==this._rvalTypeof||(e=Do(i)===this._rvalFloat)}return this._isEQ?e:!e},n}();function CL(n,i){return"eq"===n||"ne"===n?new SL("eq"===n,i):Be(pb,n)?new wL(n,i):null}var kL=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(i){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(i){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(i,e){},n.prototype.retrieveValueFromItem=function(i,e){},n.prototype.convertValue=function(i,e){return Ga(i,e)},n}();function TL(n){return dm(n.sourceFormat)||zi(""),n.data}function ML(n){var i=n.sourceFormat,e=n.data;if(dm(i)||zi(""),i===or){for(var o=[],a=0,s=e.length;a<s;a++)o.push(e[a].slice());return o}if(i===qr){for(o=[],a=0,s=e.length;a<s;a++)o.push(Z({},e[a]));return o}}function IL(n,i,e){if(null!=e)return Ge(e)||!isNaN(e)&&!Be(i,e)?n[e]:Be(i,e)?i[e]:void 0}function DL(n){return H(n)}var gb=xe();function AL(n,i,e,r){i.length||zi(""),Pe(n)||zi("");var s=gb.get(n.type);s||zi("");var l=Te(i,function(c){return function(d,p){var m=new kL,y=d.data,_=m.sourceFormat=d.sourceFormat,x=d.startIndex;d.seriesLayoutBy!==zo&&zi("");var S=[],C={},I=d.dimensionsDefine;if(I)F(I,function(V,G){var Y=V.name,X={index:G,name:Y,displayName:V.displayName};S.push(X),null!=Y&&(Be(C,Y)&&zi(""),C[Y]=X)});else for(var A=0;A<d.dimensionsDetectedCount;A++)S.push({index:A});var P=ab(_,zo);p.__isBuiltIn&&(m.getRawDataItem=function(V){return P(y,x,S,V)},m.getRawData=De(TL,null,d)),m.cloneRawData=De(ML,null,d);var O=lb(_,zo);m.count=De(O,null,y,x,S);var E=hb(_);m.retrieveValue=function(V,G){var Y=P(y,x,S,V);return z(Y,G)};var z=m.retrieveValueFromItem=function(V,G){if(null!=V){var Y=S[G];return Y?E(V,G,Y.name):void 0}};return m.getDimensionInfo=De(IL,null,S,C),m.cloneAllDimensionInfo=De(DL,null,S),m}(c,s)});return Te(Gi(s.transform({upstream:l[0],upstreamList:l,config:H(n.config)})),function(c,d){var p;Pe(c)||zi(""),c.data||zi(""),dm(eb(c.data))||zi("");var y=i[0];if(y&&0===d&&!c.dimensions){var _=y.startIndex;_&&(c.data=y.data.slice(0,_).concat(c.data)),p={seriesLayoutBy:zo,sourceHeader:_,dimensions:y.metaRawOption.dimensions}}else p={seriesLayoutBy:zo,sourceHeader:0,dimensions:c.dimensions};return sm(c.data,p,null)})}function dm(n){return n===or||n===qr}var pm,zd="undefined",LL=typeof Uint32Array===zd?Array:Uint32Array,PL=typeof Uint16Array===zd?Array:Uint16Array,mb=typeof Int32Array===zd?Array:Int32Array,vb=typeof Float64Array===zd?Array:Float64Array,yb={float:vb,int:mb,ordinal:Array,number:Array,time:vb};function Eu(n){return n>65535?LL:PL}function _b(n,i,e,r,o){var a=yb[e||"float"];if(o){var s=n[i],l=s&&s.length;if(l!==r){for(var h=new a(r),c=0;c<l;c++)h[c]=s[c];n[i]=h}}else n[i]=new a(r)}var fm=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=xe()}return n.prototype.initData=function(i,e,r){this._provider=i,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o=i.getSource(),a=this.defaultDimValueGetter=pm[o.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],nb(o),this._dimensions=Te(e,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,i.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(i,e){var r=this._calcDimNameToIdx,o=this._dimensions,a=r.get(i);if(null!=a){if(o[a].type===e)return a}else a=o.length;return o[a]={type:e},r.set(i,a),this._chunks[a]=new yb[e||"float"](this._rawCount),this._rawExtent[a]=[1/0,-1/0],a},n.prototype.collectOrdinalMeta=function(i,e){var r=this._chunks[i],o=this._dimensions[i],a=this._rawExtent,s=o.ordinalOffset||0,l=r.length;0===s&&(a[i]=[1/0,-1/0]);for(var h=a[i],c=s;c<l;c++){var d=r[c]=e.parseAndCollect(r[c]);isNaN(d)||(h[0]=Math.min(d,h[0]),h[1]=Math.max(d,h[1]))}o.ordinalMeta=e,o.ordinalOffset=l,o.type="ordinal"},n.prototype.getOrdinalMeta=function(i){return this._dimensions[i].ordinalMeta},n.prototype.getDimensionProperty=function(i){var e=this._dimensions[i];return e&&e.property},n.prototype.appendData=function(i){var e=this._provider,r=this.count();e.appendData(i);var o=e.count();return e.persistent||(o+=r),r<o&&this._initDataFromProvider(r,o,!0),[r,o]},n.prototype.appendValues=function(i,e){for(var r=this._chunks,o=this._dimensions,a=o.length,s=this._rawExtent,l=this.count(),h=l+Math.max(i.length,e||0),c=0;c<a;c++)_b(r,c,(_=o[c]).type,h,!0);for(var d=[],p=l;p<h;p++)for(var m=p-l,y=0;y<a;y++){var _=o[y],x=pm.arrayRows.call(this,i[m]||d,_.property,m,y);r[y][p]=x;var b=s[y];x<b[0]&&(b[0]=x),x>b[1]&&(b[1]=x)}return this._rawCount=this._count=h,{start:l,end:h}},n.prototype._initDataFromProvider=function(i,e,r){for(var o=this._provider,a=this._chunks,s=this._dimensions,l=s.length,h=this._rawExtent,c=Te(s,function(C){return C.property}),d=0;d<l;d++){var p=s[d];h[d]||(h[d]=[1/0,-1/0]),_b(a,d,p.type,e,r)}if(o.fillStorage)o.fillStorage(i,e,a,h);else for(var m=[],y=i;y<e;y++){m=o.getItem(y,m);for(var _=0;_<l;_++){var x=a[_],b=this._dimValueGetter(m,c[_],y,_);x[y]=b;var S=h[_];b<S[0]&&(S[0]=b),b>S[1]&&(S[1]=b)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(i,e){if(!(e>=0&&e<this._count))return NaN;var r=this._chunks[i];return r?r[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(i,e){var r=[],o=[];if(null==e){e=i,i=[];for(var a=0;a<this._dimensions.length;a++)o.push(a)}else o=i;a=0;for(var s=o.length;a<s;a++)r.push(this.get(o[a],e));return r},n.prototype.getByRawIndex=function(i,e){if(!(e>=0&&e<this._rawCount))return NaN;var r=this._chunks[i];return r?r[e]:NaN},n.prototype.getSum=function(i){var e=0;if(this._chunks[i])for(var r=0,o=this.count();r<o;r++){var a=this.get(i,r);isNaN(a)||(e+=a)}return e},n.prototype.getMedian=function(i){var e=[];this.each([i],function(a){isNaN(a)||e.push(a)});var r=e.sort(function(a,s){return a-s}),o=this.count();return 0===o?0:o%2==1?r[(o-1)/2]:(r[o/2]+r[o/2-1])/2},n.prototype.indexOfRawIndex=function(i){if(i>=this._rawCount||i<0)return-1;if(!this._indices)return i;var e=this._indices,r=e[i];if(null!=r&&r<this._count&&r===i)return i;for(var o=0,a=this._count-1;o<=a;){var s=(o+a)/2|0;if(e[s]<i)o=s+1;else{if(!(e[s]>i))return s;a=s-1}}return-1},n.prototype.indicesOfNearest=function(i,e,r){var o=this._chunks[i],a=[];if(!o)return a;null==r&&(r=1/0);for(var s=1/0,l=-1,h=0,c=0,d=this.count();c<d;c++){var p=e-o[this.getRawIndex(c)],m=Math.abs(p);m<=r&&((m<s||m===s&&p>=0&&l<0)&&(s=m,l=p,h=0),p===l&&(a[h++]=c))}return a.length=h,a},n.prototype.getIndices=function(){var i,e=this._indices;if(e){var r=e.constructor,o=this._count;if(r===Array){i=new r(o);for(var a=0;a<o;a++)i[a]=e[a]}else i=new r(e.buffer,0,o)}else for(i=new(r=Eu(this._rawCount))(this.count()),a=0;a<i.length;a++)i[a]=a;return i},n.prototype.filter=function(i,e){if(!this._count)return this;for(var r=this.clone(),o=r.count(),a=new(Eu(r._rawCount))(o),s=[],l=i.length,h=0,c=i[0],d=r._chunks,p=0;p<o;p++){var m=void 0,y=r.getRawIndex(p);if(0===l)m=e(p);else if(1===l)m=e(d[c][y],p);else{for(var _=0;_<l;_++)s[_]=d[i[_]][y];s[_]=p,m=e.apply(null,s)}m&&(a[h++]=y)}return h<o&&(r._indices=a),r._count=h,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(i){var e=this.clone(),r=e._count;if(!r)return this;var o=ft(i),a=o.length;if(!a)return this;var s=e.count(),l=new(Eu(e._rawCount))(s),h=0,c=o[0],d=i[c][0],p=i[c][1],m=e._chunks,y=!1;if(!e._indices){var _=0;if(1===a){for(var x=m[o[0]],b=0;b<r;b++)((A=x[b])>=d&&A<=p||isNaN(A))&&(l[h++]=_),_++;y=!0}else if(2===a){x=m[o[0]];var S=m[o[1]],C=i[o[1]][0],I=i[o[1]][1];for(b=0;b<r;b++){var A=x[b],P=S[b];(A>=d&&A<=p||isNaN(A))&&(P>=C&&P<=I||isNaN(P))&&(l[h++]=_),_++}y=!0}}if(!y)if(1===a)for(b=0;b<s;b++){var O=e.getRawIndex(b);((A=m[o[0]][O])>=d&&A<=p||isNaN(A))&&(l[h++]=O)}else for(b=0;b<s;b++){for(var E=!0,z=(O=e.getRawIndex(b),0);z<a;z++){var V=o[z];((A=m[V][O])<i[V][0]||A>i[V][1])&&(E=!1)}E&&(l[h++]=e.getRawIndex(b))}return h<s&&(e._indices=l),e._count=h,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(i,e){var r=this.clone(i);return this._updateDims(r,i,e),r},n.prototype.modify=function(i,e){this._updateDims(this,i,e)},n.prototype._updateDims=function(i,e,r){for(var o=i._chunks,a=[],s=e.length,l=i.count(),h=[],c=i._rawExtent,d=0;d<e.length;d++)c[e[d]]=[1/0,-1/0];for(var p=0;p<l;p++){for(var m=i.getRawIndex(p),y=0;y<s;y++)h[y]=o[e[y]][m];h[s]=p;var _=r&&r.apply(null,h);if(null!=_)for("object"!=typeof _&&(a[0]=_,_=a),d=0;d<_.length;d++){var x=e[d],b=_[d],S=c[x],C=o[x];C&&(C[m]=b),b<S[0]&&(S[0]=b),b>S[1]&&(S[1]=b)}}},n.prototype.lttbDownSample=function(i,e){var r,o,a,s=this.clone([i],!0),l=s._chunks[i],h=this.count(),c=0,d=Math.floor(1/e),p=this.getRawIndex(0),m=new(Eu(this._rawCount))(Math.min(2*(Math.ceil(h/d)+2),h));m[c++]=p;for(var y=1;y<h-1;y+=d){for(var _=Math.min(y+d,h-1),x=Math.min(y+2*d,h),b=(x+_)/2,S=0,C=_;C<x;C++){var I=l[G=this.getRawIndex(C)];isNaN(I)||(S+=I)}S/=x-_;var A=y,P=Math.min(y+d,h),O=y-1,E=l[p];r=-1,a=A;var z=-1,V=0;for(C=A;C<P;C++){var G;I=l[G=this.getRawIndex(C)],isNaN(I)?(V++,z<0&&(z=G)):(o=Math.abs((O-b)*(I-E)-(O-C)*(S-E)))>r&&(r=o,a=G)}V>0&&V<P-A&&(m[c++]=Math.min(z,a),a=Math.max(z,a)),m[c++]=a,p=a}return m[c++]=this.getRawIndex(h-1),s._count=c,s._indices=m,s.getRawIndex=this._getRawIdx,s},n.prototype.downSample=function(i,e,r,o){for(var a=this.clone([i],!0),s=a._chunks,l=[],h=Math.floor(1/e),c=s[i],d=this.count(),p=a._rawExtent[i]=[1/0,-1/0],m=new(Eu(this._rawCount))(Math.ceil(d/h)),y=0,_=0;_<d;_+=h){h>d-_&&(l.length=h=d-_);for(var x=0;x<h;x++){var b=this.getRawIndex(_+x);l[x]=c[b]}var S=r(l),C=this.getRawIndex(Math.min(_+o(l,S)||0,d-1));c[C]=S,S<p[0]&&(p[0]=S),S>p[1]&&(p[1]=S),m[y++]=C}return a._count=y,a._indices=m,a._updateGetRawIdx(),a},n.prototype.each=function(i,e){if(this._count)for(var r=i.length,o=this._chunks,a=0,s=this.count();a<s;a++){var l=this.getRawIndex(a);switch(r){case 0:e(a);break;case 1:e(o[i[0]][l],a);break;case 2:e(o[i[0]][l],o[i[1]][l],a);break;default:for(var h=0,c=[];h<r;h++)c[h]=o[i[h]][l];c[h]=a,e.apply(null,c)}}},n.prototype.getDataExtent=function(i){var e=this._chunks[i],r=[1/0,-1/0];if(!e)return r;var o,a=this.count();if(!this._indices)return this._rawExtent[i].slice();if(o=this._extent[i])return o.slice();for(var s=(o=r)[0],l=o[1],h=0;h<a;h++){var c=e[this.getRawIndex(h)];c<s&&(s=c),c>l&&(l=c)}return this._extent[i]=o=[s,l],o},n.prototype.getRawDataItem=function(i){var e=this.getRawIndex(i);if(this._provider.persistent)return this._provider.getItem(e);for(var r=[],o=this._chunks,a=0;a<o.length;a++)r.push(o[a][e]);return r},n.prototype.clone=function(i,e){var r,o,a=new n,s=this._chunks,l=i&&ht(i,function(c,d){return c[d]=!0,c},{});if(l)for(var h=0;h<s.length;h++)a._chunks[h]=l[h]?(o=void 0,(o=(r=s[h]).constructor)===Array?r.slice():new o(r)):s[h];else a._chunks=s;return this._copyCommonProps(a),e||(a._indices=this._cloneIndices()),a._updateGetRawIdx(),a},n.prototype._copyCommonProps=function(i){i._count=this._count,i._rawCount=this._rawCount,i._provider=this._provider,i._dimensions=this._dimensions,i._extent=H(this._extent),i._rawExtent=H(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var i=this._indices.constructor,e=void 0;if(i===Array){var r=this._indices.length;e=new i(r);for(var o=0;o<r;o++)e[o]=this._indices[o]}else e=new i(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(i){return i},n.prototype._getRawIdx=function(i){return i<this._count&&i>=0?this._indices[i]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function i(e,r,o,a){return Ga(e[a],this._dimensions[a])}pm={arrayRows:i,objectRows:function(e,r,o,a){return Ga(e[r],this._dimensions[a])},keyedColumns:i,original:function(e,r,o,a){var s=e&&(null==e.value?e:e.value);return Ga(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(e,r,o,a){return e[a]}}}(),n}(),xb=function(){function n(i){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=i}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(i,e){this._sourceList=i,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var i,e,r=this._sourceHost,o=this._getUpstreamSourceManagers(),a=!!o.length;if(Bd(r)){var s=r,l=void 0,h=void 0,c=void 0;if(a){var d=o[0];d.prepareSource(),l=(c=d.getSource()).data,h=c.sourceFormat,e=[d._getVersionSign()]}else h=kt(l=s.get("data",!0))?Wa:Ur,e=[];var p=this._getSourceMetaRawOption()||{},m=c&&c.metaRawOption||{},y=nt(p.seriesLayoutBy,m.seriesLayoutBy)||null,_=nt(p.sourceHeader,m.sourceHeader),x=nt(p.dimensions,m.dimensions);i=y!==m.seriesLayoutBy||!!_!=!!m.sourceHeader||x?[sm(l,{seriesLayoutBy:y,sourceHeader:_,dimensions:x},h)]:[]}else{var b=r;if(a){var S=this._applyTransform(o);i=S.sourceList,e=S.upstreamSignList}else i=[sm(b.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}this._setLocalSource(i,e)},n.prototype._applyTransform=function(i){var e,r=this._sourceHost,o=r.get("transform",!0),a=r.get("fromTransformResult",!0);null!=a&&1!==i.length&&wb("");var l,h=[],c=[];return F(i,function(d){d.prepareSource();var p=d.getSource(a||0);null==a||p||wb(""),h.push(p),c.push(d._getVersionSign())}),o?e=function(d,p,m){var y=Gi(d),_=y.length;_||zi("");for(var b=0,S=_;b<S;b++)p=AL(y[b],p),b!==S-1&&(p.length=Math.max(p.length,1));return p}(o,h):null!=a&&(e=[(l=h[0],new Rd({data:l.data,sourceFormat:l.sourceFormat,seriesLayoutBy:l.seriesLayoutBy,dimensionsDefine:H(l.dimensionsDefine),startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:c}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var i=this._getUpstreamSourceManagers(),e=0;e<i.length;e++){var r=i[e];if(r._isDirty()||this._upstreamSignList[e]!==r._getVersionSign())return!0}},n.prototype.getSource=function(i){var e=this._sourceList[i=i||0];if(!e){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(i)}return e},n.prototype.getSharedDataStore=function(i){var e=i.makeStoreSchema();return this._innerGetDataStore(e.dimensions,i.source,e.hash)},n.prototype._innerGetDataStore=function(i,e,r){var o=this._storeList,a=o[0];a||(a=o[0]={});var s=a[r];if(!s){var l=this._getUpstreamSourceManagers()[0];Bd(this._sourceHost)&&l?s=l._innerGetDataStore(i,e,r):(s=new fm).initData(new rb(e,i.length),i),a[r]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var r,i=this._sourceHost;if(Bd(i)){var e=Qg(i);return e?[e.getSourceManager()]:[]}return Te((r=i).get("transform",!0)||r.get("fromTransformResult",!0)?su(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},kn).models:[],function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var i,e,r,o=this._sourceHost;if(Bd(o))i=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),r=o.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=o;i=a.get("seriesLayoutBy",!0),e=a.get("sourceHeader",!0),r=a.get("dimensions",!0)}return{seriesLayoutBy:i,sourceHeader:e,dimensions:r}},n}();function bb(n){n.option.transform&&Ae(n.option.transform)}function Bd(n){return"series"===n.mainType}function wb(n){throw new Error(n)}var Sb="line-height:1";function Cb(n,i){var e=n.color||"#6e7079",r=n.fontSize||12,o=n.fontWeight||"400",a=n.color||"#464646",s=n.fontSize||14,l=n.fontWeight||"900";return"html"===i?{nameStyle:"font-size:"+Vn(r+"")+"px;color:"+Vn(e)+";font-weight:"+Vn(o+""),valueStyle:"font-size:"+Vn(s+"")+"px;color:"+Vn(a)+";font-weight:"+Vn(l+"")}:{nameStyle:{fontSize:r,fill:e,fontWeight:o},valueStyle:{fontSize:s,fill:a,fontWeight:l}}}var OL=[0,10,20,30],EL=["","\n","\n\n","\n\n\n"];function Bn(n,i){return i.type=n,i}function gm(n){return"section"===n.type}function kb(n){return gm(n)?NL:RL}function Tb(n){if(gm(n)){var i=0,e=n.blocks.length,r=e>1||e>0&&!n.noHeader;return F(n.blocks,function(o){var a=Tb(o);a>=i&&(i=a+ +(r&&(!a||gm(o)&&!o.noHeader)))}),i}return 0}function NL(n,i,e,r){var o,a=i.noHeader,s=(o=Tb(i),{html:OL[o],richText:EL[o]}),l=[],h=i.blocks||[];ge(!h||ne(h)),h=h||[];var c=n.orderMode;if(i.sortBlocks&&c){h=h.slice();var d={valueAsc:"asc",valueDesc:"desc"};if(Be(d,c)){var p=new fb(d[c],null);h.sort(function(x,b){return p.evaluate(x.sortParam,b.sortParam)})}else"seriesDesc"===c&&h.reverse()}F(h,function(x,b){var S=i.valueFormatter,C=kb(x)(S?Z(Z({},n),{valueFormatter:S}):n,x,b>0?s.html:0,r);null!=C&&l.push(C)});var m="richText"===n.renderMode?l.join(s.richText):mm(l.join(""),a?e:s.html);if(a)return m;var y=Ug(i.header,"ordinal",n.useUTC),_=Cb(r,n.renderMode).nameStyle;return"richText"===n.renderMode?Ib(n,y,_)+s.richText+m:mm('<div style="'+_+";"+Sb+';">'+Vn(y)+"</div>"+m,e)}function RL(n,i,e,r){var A,P,V,o=n.renderMode,a=i.noName,s=i.noValue,l=!i.markerType,h=i.name,c=n.useUTC,d=i.valueFormatter||n.valueFormatter||function(A){return Te(A=ne(A)?A:[A],function(P,O){return Ug(P,ne(y)?y[O]:y,c)})};if(!a||!s){var p=l?"":n.markupStyleCreator.makeTooltipMarker(i.markerType,i.markerColor||"#333",o),m=a?"":Ug(h,"ordinal",c),y=i.valueType,_=s?[]:d(i.value),x=!l||!a,b=!l&&a,S=Cb(r,o),C=S.nameStyle,I=S.valueStyle;return"richText"===o?(l?"":p)+(a?"":Ib(n,m,C))+(s?"":(A=n,P=_,V=[I],x&&V.push({padding:[0,0,0,b?10:20],align:"right"}),A.markupStyleCreator.wrapRichTextStyle(ne(P)?P.join("  "):P,V))):mm((l?"":p)+(a?"":function(A,P,O){return'<span style="'+O+";"+(P?"margin-left:2px":"")+'">'+Vn(A)+"</span>"}(m,!l,C))+(s?"":function(A,P,O,E){return'<span style="'+(P?"float:right;margin-left:"+(O?"10px":"20px"):"")+";"+E+'">'+Te(A=ne(A)?A:[A],function(G){return Vn(G)}).join("&nbsp;&nbsp;")+"</span>"}(_,x,b,I)),e)}}function Mb(n,i,e,r,o,a){if(n)return kb(n)({useUTC:o,renderMode:e,orderMode:r,markupStyleCreator:i,valueFormatter:n.valueFormatter},n,0,a)}function mm(n,i){return'<div style="margin: '+i+"px 0 0;"+Sb+';">'+n+'<div style="clear:both"></div></div>'}function Ib(n,i,e){return n.markupStyleCreator.wrapRichTextStyle(i,e)}function Db(n,i){return Bs(n.getData().getItemVisual(i,"style")[n.visualDrawType])}function Ab(n,i){var e=n.get("padding");return null!=e?e:"richText"===i?[8,10]:10}var vm=function(){function n(){this.richTextStyles={},this._nextStyleNameId=C_()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(i,e,r){var o="richText"===r?this._generateStyleName():null,a=Tx({color:e,type:i,renderMode:r,markerId:o});return J(a)?a:(this.richTextStyles[o]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(i,e){var r={};ne(e)?F(e,function(a){return Z(r,a)}):Z(r,e);var o=this._generateStyleName();return this.richTextStyles[o]=r,"{"+o+"|"+i+"}"},n}();function Lb(n){var i,e,r,o,a=n.series,s=n.dataIndex,l=n.multipleSeries,h=a.getData(),c=h.mapDimensionsAll("defaultedTooltip"),d=c.length,p=a.getRawValue(s),m=ne(p),y=Db(a,s);if(d>1||m&&!d){var _=function(A,P,O,E,z){var V=P.getData(),G=ht(A,function(he,fe,ye){var Se=V.getDimensionInfo(ye);return he||Se&&!1!==Se.tooltip&&null!=Se.displayName},!1),Y=[],X=[],te=[];function ae(he,fe){var ye=V.getDimensionInfo(fe);ye&&!1!==ye.otherDims.tooltip&&(G?te.push(Bn("nameValue",{markerType:"subItem",markerColor:z,name:ye.displayName,value:he,valueType:ye.type})):(Y.push(he),X.push(ye.type)))}return E.length?F(E,function(he){ae(ah(V,O,he),he)}):F(A,ae),{inlineValues:Y,inlineValueTypes:X,blocks:te}}(p,a,s,c,y);i=_.inlineValues,e=_.inlineValueTypes,r=_.blocks,o=_.inlineValues[0]}else if(d){var x=h.getDimensionInfo(c[0]);o=i=ah(h,s,c[0]),e=x.type}else o=i=m?p[0]:p;var b=Uf(a),S=b&&a.name||"",C=h.getName(s),I=l?S:C;return Bn("section",{header:S,noHeader:l||!b,sortParam:o,blocks:[Bn("nameValue",{markerType:"item",markerColor:y,name:I,noName:!_e(I),value:i,valueType:e})].concat(r||[])})}var Ya=Mi();function jd(n,i){return n.getName(i)||n.getId(i)}var Hd="__universalTransitionEnabled",Yi=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return Le(i,n),i.prototype.init=function(e,r,o){this.seriesIndex=this.componentIndex,this.dataTask=Ou({count:zL,reset:BL}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,o),(Ya(this).sourceManager=new xb(this)).prepareSource();var a=this.getInitialData(e,o);Ob(a,this),this.dataTask.context.data=a,Ya(this).dataBeforeProcessed=a,Pb(this),this._initSelectedMapFromData(a)},i.prototype.mergeDefaultAndTheme=function(e,r){var o=Iu(this),a=o?Jl(e):{},s=this.subType;_i.hasClass(s)&&(s+="Series"),q(e,r.getTheme().get(this.subType)),q(e,this.getDefaultOption()),_s(e,"label",["show"]),this.fillDataTextStyle(e.data),o&&Fa(e,a,o)},i.prototype.mergeOption=function(e,r){e=q(this.option,e,!0),this.fillDataTextStyle(e.data);var o=Iu(this);o&&Fa(this.option,e,o);var a=Ya(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(e,r);Ob(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Ya(this).dataBeforeProcessed=s,Pb(this),this._initSelectedMapFromData(s)},i.prototype.fillDataTextStyle=function(e){if(e&&!kt(e))for(var r=["show"],o=0;o<e.length;o++)e[o]&&e[o].label&&_s(e[o],"label",r)},i.prototype.getInitialData=function(e,r){},i.prototype.appendData=function(e){this.getRawData().appendData(e.data)},i.prototype.getData=function(e){var r=ym(this);if(r){var o=r.context.data;return null==e?o:o.getLinkedData(e)}return Ya(this).data},i.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},i.prototype.setData=function(e){var r=ym(this);if(r){var o=r.context;o.outputData=e,r!==this.dataTask&&(o.data=e)}Ya(this).data=e},i.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return xe(e)},i.prototype.getSourceManager=function(){return Ya(this).sourceManager},i.prototype.getSource=function(){return this.getSourceManager().getSource()},i.prototype.getRawData=function(){return Ya(this).dataBeforeProcessed},i.prototype.getColorBy=function(){return this.get("colorBy")||"series"},i.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},i.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},i.prototype.formatTooltip=function(e,r,o){return Lb({series:this,dataIndex:e,multipleSeries:r})},i.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(at.node&&(!e||!e.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},i.prototype.restoreData=function(){this.dataTask.dirty()},i.prototype.getColorFromPalette=function(e,r,o){var a=this.ecModel,s=em.prototype.getColorFromPalette.call(this,e,r,o);return s||(s=a.getColorFromPalette(e,r,o)),s},i.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},i.prototype.getProgressive=function(){return this.get("progressive")},i.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},i.prototype.select=function(e,r){this._innerSelect(this.getData(r),e)},i.prototype.unselect=function(e,r){var o=this.option.selectedMap;if(o){var a=this.option.selectedMode,s=this.getData(r);if("series"===a||"all"===o)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var l=0;l<e.length;l++){var h=jd(s,e[l]);o[h]=!1,this._selectedDataIndicesMap[h]=-1}}},i.prototype.toggleSelect=function(e,r){for(var o=[],a=0;a<e.length;a++)o[0]=e[a],this.isSelected(e[a],r)?this.unselect(o,r):this.select(o,r)},i.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,r=ft(e),o=[],a=0;a<r.length;a++){var s=e[r[a]];s>=0&&o.push(s)}return o},i.prototype.isSelected=function(e,r){var o=this.option.selectedMap;if(!o)return!1;var a=this.getData(r);return("all"===o||o[jd(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},i.prototype.isUniversalTransitionEnabled=function(){if(this[Hd])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},i.prototype._innerSelect=function(e,r){var o,a,s=this.option,l=s.selectedMode,h=r.length;if(l&&h)if("series"===l)s.selectedMap="all";else if("multiple"===l){Pe(s.selectedMap)||(s.selectedMap={});for(var c=s.selectedMap,d=0;d<h;d++){var p=r[d];c[y=jd(e,p)]=!0,this._selectedDataIndicesMap[y]=e.getRawIndex(p)}}else if("single"===l||!0===l){var m=r[h-1],y=jd(e,m);s.selectedMap=((o={})[y]=!0,o),this._selectedDataIndicesMap=((a={})[y]=e.getRawIndex(m),a)}},i.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var r=[];e.hasItemOption&&e.each(function(o){var a=e.getRawDataItem(o);a&&a.selected&&r.push(o)}),r.length>0&&this._innerSelect(e,r)}},i.registerClass=function(e){return _i.registerClass(e)},i.protoInitialize=((e=i.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),i;var e}(_i);function Pb(n){var r,o,a,i=n.name;Uf(n)||(n.name=(o=(r=n.getRawData()).mapDimensionsAll("seriesName"),a=[],F(o,function(s){var l=r.getDimensionInfo(s);l.displayName&&a.push(l.displayName)}),a.join(" ")||i))}function zL(n){return n.model.getRawData().count()}function BL(n){var i=n.model;return i.setData(i.getRawData().cloneShallow()),jL}function jL(n,i){i.outputData&&n.end>i.outputData.count()&&i.model.getRawData().cloneShallow(i.outputData)}function Ob(n,i){F(He(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,Q(HL,i))})}function HL(n,i){var e=ym(n);return e&&e.setOutputEnd((i||this).count()),i}function ym(n){var i=(n.ecModel||{}).scheduler,e=i&&i.getPipeline(n.uid);if(e){var r=e.currentTask;if(r){var o=r.agentStubMap;o&&(r=o.get(n.uid))}return r}}Ie(Yi,cm),Ie(Yi,em),R_(Yi,_i);var Qi=function(){function n(){this.group=new ti,this.uid=Kl("viewComponent")}return n.prototype.init=function(i,e){},n.prototype.render=function(i,e,r,o){},n.prototype.dispose=function(i,e){},n.prototype.updateView=function(i,e,r,o){},n.prototype.updateLayout=function(i,e,r,o){},n.prototype.updateVisual=function(i,e,r,o){},n.prototype.toggleBlurSeries=function(i,e,r){},n.prototype.eachRendered=function(i){var e=this.group;e&&e.traverse(i)},n}();function sh(){var n=Mi();return function(i){var e=n(i),r=i.pipelineContext,o=!!e.large,a=!!e.progressiveRender,s=e.large=!(!r||!r.large),l=e.progressiveRender=!(!r||!r.progressiveRender);return!(o===s&&a===l)&&"reset"}}Kf(Qi),Zc(Qi);var Eb=Mi(),VL=sh(),Hi=function(){function n(){this.group=new ti,this.uid=Kl("viewChart"),this.renderTask=Ou({plan:FL,reset:WL}),this.renderTask.context={view:this}}return n.prototype.init=function(i,e){},n.prototype.render=function(i,e,r,o){},n.prototype.highlight=function(i,e,r,o){var a=i.getData(o&&o.dataType);a&&Rb(a,o,"emphasis")},n.prototype.downplay=function(i,e,r,o){var a=i.getData(o&&o.dataType);a&&Rb(a,o,"normal")},n.prototype.remove=function(i,e){this.group.removeAll()},n.prototype.dispose=function(i,e){},n.prototype.updateView=function(i,e,r,o){this.render(i,e,r,o)},n.prototype.updateLayout=function(i,e,r,o){this.render(i,e,r,o)},n.prototype.updateVisual=function(i,e,r,o){this.render(i,e,r,o)},n.prototype.eachRendered=function(i){Ha(this.group,i)},n.markUpdateMethod=function(i,e){Eb(i).updateMethod=e},n.protoInitialize=void(n.prototype.type="chart"),n}();function Nb(n,i,e){n&&pu(n)&&("emphasis"===i?ha:ua)(n,e)}function Rb(n,i,e){var a,s,r=xs(n,i),o=i&&null!=i.highlightKey?(null==(s=u1[a=i.highlightKey])&&h1<=32&&(s=u1[a]=h1++),s):null;null!=r?F(Gi(r),function(a){Nb(n.getItemGraphicEl(a),e,o)}):n.eachItemGraphicEl(function(a){Nb(a,e,o)})}function FL(n){return VL(n.model)}function WL(n){var i=n.model,e=n.ecModel,r=n.api,o=n.payload,a=i.pipelineContext.progressiveRender,s=n.view,l=o&&Eb(o).updateMethod,h=a?"incrementalPrepareRender":l&&s[l]?l:"render";return"render"!==h&&s[h](i,e,r,o),GL[h]}Kf(Hi),Zc(Hi);var GL={incrementalPrepareRender:{progress:function(n,i){i.view.incrementalRender(n,i.model,i.ecModel,i.api,i.payload)}},render:{forceFirstProgress:!0,progress:function(n,i){i.view.render(i.model,i.ecModel,i.api,i.payload)}}},Vd="\0__throttleOriginMethod",zb="\0__throttleRate",Bb="\0__throttleType";function Fd(n,i,e){var r,o,a,s,l,h=0,c=0,d=null;function p(){c=(new Date).getTime(),d=null,n.apply(a,s||[])}i=i||0;var m=function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];r=(new Date).getTime(),a=this,s=y;var x=l||i,b=l||e;l=null,o=r-(b?h:c)-x,clearTimeout(d),b?d=setTimeout(p,x):o>=0?p():d=setTimeout(p,-o),h=r};return m.clear=function(){d&&(clearTimeout(d),d=null)},m.debounceNextCall=function(y){l=y},m}function lh(n,i,e,r){var o=n[i];if(o){var a=o[Vd]||o;if(o[zb]!==e||o[Bb]!==r){if(null==e||!r)return n[i]=a;(o=n[i]=Fd(a,e,"debounce"===r))[Vd]=a,o[Bb]=r,o[zb]=e}return o}}function Nu(n,i){var e=n[i];e&&e[Vd]&&(e.clear&&e.clear(),n[i]=e[Vd])}var jb=Mi(),Hb={itemStyle:ws(sx,!0),lineStyle:ws(ax,!0)},YL={lineStyle:"stroke",itemStyle:"fill"};function Vb(n,i){return n.visualStyleMapper||Hb[i]||(console.warn("Unknown style type '"+i+"'."),Hb.itemStyle)}function Fb(n,i){return n.visualDrawType||YL[i]||(console.warn("Unknown style type '"+i+"'."),"fill")}var $L={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,i){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",o=n.getModel(r),a=Vb(n,r)(o),s=o.getShallow("decal");s&&(e.setVisual("decal",s),s.dirty=!0);var l=Fb(n,r),h=a[l],c=ee(h)?h:null;if(!a[l]||c||"auto"===a.fill||"auto"===a.stroke){var p=n.getColorFromPalette(n.name,null,i.getSeriesCount());a[l]||(a[l]=p,e.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||ee(a.fill)?p:a.fill,a.stroke="auto"===a.stroke||ee(a.stroke)?p:a.stroke}if(e.setVisual("style",a),e.setVisual("drawType",l),!i.isSeriesFiltered(n)&&c)return e.setVisual("colorFromPalette",!1),{dataEach:function(m,y){var _=n.getDataParams(y),x=Z({},a);x[l]=c(_),m.setItemVisual(y,"style",x)}}}},Ru=new Li,UL={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,i){if(!n.ignoreStyleOnData&&!i.isSeriesFiltered(n)){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",o=Vb(n,r),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(s,l){var h=s.getRawDataItem(l);if(h&&h[r]){Ru.option=h[r];var c=o(Ru);Z(s.ensureUniqueItemVisual(l,"style"),c),Ru.option.decal&&(s.setItemVisual(l,"decal",Ru.option.decal),Ru.option.decal.dirty=!0),a in c&&s.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},qL={performRawSeries:!0,overallReset:function(n){var i=xe();n.eachSeries(function(e){var r=e.getColorBy();if(!e.isColorBySeries()){var o=e.type+"-"+r,a=i.get(o);a||i.set(o,a={}),jb(e).scope=a}}),n.eachSeries(function(e){if(!e.isColorBySeries()&&!n.isSeriesFiltered(e)){var r=e.getRawData(),o={},a=e.getData(),s=jb(e).scope,h=Fb(e,e.visualStyleAccessPath||"itemStyle");a.each(function(c){var d=a.getRawIndex(c);o[d]=c}),r.each(function(c){var d=o[c];if(a.getItemVisual(d,"colorFromPalette")){var p=a.ensureUniqueItemVisual(d,"style"),m=r.getName(c)||c+"",y=r.count();p[h]=e.getColorFromPalette(m,s,y)}})}})}},Wd=Math.PI,Wb=function(){function n(i,e,r,o){this._stageTaskMap=xe(),this.ecInstance=i,this.api=e,r=this._dataProcessorHandlers=r.slice(),o=this._visualHandlers=o.slice(),this._allHandlers=r.concat(o)}return n.prototype.restoreData=function(i,e){i.restoreData(e),this._stageTaskMap.each(function(r){var o=r.overallTask;o&&o.dirty()})},n.prototype.getPerformArgs=function(i,e){if(i.__pipeline){var r=this._pipelineMap.get(i.__pipeline.id),o=r.context,a=!e&&r.progressiveEnabled&&(!o||o.progressiveRender)&&i.__idxInPipeline>r.blockIndex?r.step:null,s=o&&o.modDataCount;return{step:a,modBy:null!=s?Math.ceil(s/a):null,modDataCount:s}}},n.prototype.getPipeline=function(i){return this._pipelineMap.get(i)},n.prototype.updateStreamModes=function(i,e){var r=this._pipelineMap.get(i.uid),o=i.getData().count(),a=r.progressiveEnabled&&e.incrementalPrepareRender&&o>=r.threshold,s=i.get("large")&&o>=i.get("largeThreshold"),l="mod"===i.get("progressiveChunkMode")?o:null;i.pipelineContext=r.context={progressiveRender:a,modDataCount:l,large:s}},n.prototype.restorePipelines=function(i){var e=this,r=e._pipelineMap=xe();i.eachSeries(function(o){var a=o.getProgressive(),s=o.uid;r.set(s,{id:s,head:null,tail:null,threshold:o.getProgressiveThreshold(),progressiveEnabled:a&&!(o.preventIncremental&&o.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(o,o.dataTask)})},n.prototype.prepareStageTasks=function(){var i=this._stageTaskMap,e=this.api.getModel(),r=this.api;F(this._allHandlers,function(o){var a=i.get(o.uid)||i.set(o.uid,{});ge(!(o.reset&&o.overallReset),""),o.reset&&this._createSeriesStageTask(o,a,e,r),o.overallReset&&this._createOverallStageTask(o,a,e,r)},this)},n.prototype.prepareView=function(i,e,r,o){var a=i.renderTask,s=a.context;s.model=e,s.ecModel=r,s.api=o,a.__block=!i.incrementalPrepareRender,this._pipe(e,a)},n.prototype.performDataProcessorTasks=function(i,e){this._performStageTasks(this._dataProcessorHandlers,i,e,{block:!0})},n.prototype.performVisualTasks=function(i,e,r){this._performStageTasks(this._visualHandlers,i,e,r)},n.prototype._performStageTasks=function(i,e,r,o){o=o||{};var a=!1,s=this;function l(h,c){return h.setDirty&&(!h.dirtyMap||h.dirtyMap.get(c.__pipeline.id))}F(i,function(h,c){if(!o.visualType||o.visualType===h.visualType){var d=s._stageTaskMap.get(h.uid),p=d.seriesTaskMap,m=d.overallTask;if(m){var y,_=m.agentStubMap;_.each(function(b){l(o,b)&&(b.dirty(),y=!0)}),y&&m.dirty(),s.updatePayload(m,r);var x=s.getPerformArgs(m,o.block);_.each(function(b){b.perform(x)}),m.perform(x)&&(a=!0)}else p&&p.each(function(b,S){l(o,b)&&b.dirty();var C=s.getPerformArgs(b,o.block);C.skip=!h.performRawSeries&&e.isSeriesFiltered(b.context.model),s.updatePayload(b,r),b.perform(C)&&(a=!0)})}}),this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(i){var e;i.eachSeries(function(r){e=r.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(i){var e=i.tail;do{if(e.__block){i.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(i,e){"remain"!==e&&(i.context.payload=e)},n.prototype._createSeriesStageTask=function(i,e,r,o){var a=this,s=e.seriesTaskMap,l=e.seriesTaskMap=xe(),h=i.seriesType,c=i.getTargetSeries;function d(p){var m=p.uid,y=l.set(m,s&&s.get(m)||Ou({plan:JL,reset:eP,count:iP}));y.context={model:p,ecModel:r,api:o,useClearVisual:i.isVisual&&!i.isLayout,plan:i.plan,reset:i.reset,scheduler:a},a._pipe(p,y)}i.createOnAllSeries?r.eachRawSeries(d):h?r.eachRawSeriesByType(h,d):c&&c(r,o).each(d)},n.prototype._createOverallStageTask=function(i,e,r,o){var a=this,s=e.overallTask=e.overallTask||Ou({reset:XL});s.context={ecModel:r,api:o,overallReset:i.overallReset,scheduler:a};var l=s.agentStubMap,h=s.agentStubMap=xe(),c=i.seriesType,d=i.getTargetSeries,p=!0,m=!1;function _(x){var b=x.uid,S=h.set(b,l&&l.get(b)||(m=!0,Ou({reset:KL,onDirty:QL})));S.context={model:x,overallProgress:p},S.agent=s,S.__block=p,a._pipe(x,S)}ge(!i.createOnAllSeries,""),c?r.eachRawSeriesByType(c,_):d?d(r,o).each(_):(p=!1,F(r.getSeries(),_)),m&&s.dirty()},n.prototype._pipe=function(i,e){var o=this._pipelineMap.get(i.uid);!o.head&&(o.head=e),o.tail&&o.tail.pipe(e),o.tail=e,e.__idxInPipeline=o.count++,e.__pipeline=o},n.wrapStageHandler=function(i,e){return ee(i)&&(i={overallReset:i,seriesType:nP(i)}),i.uid=Kl("stageHandler"),e&&(i.visualType=e),i},n}();function XL(n){n.overallReset(n.ecModel,n.api,n.payload)}function KL(n){return n.overallProgress&&ZL}function ZL(){this.agent.dirty(),this.getDownstream().dirty()}function QL(){this.agent&&this.agent.dirty()}function JL(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function eP(n){n.useClearVisual&&n.data.clearAllVisual();var i=n.resetDefines=Gi(n.reset(n.model,n.ecModel,n.api,n.payload));return i.length>1?Te(i,function(e,r){return Gb(r)}):tP}var tP=Gb(0);function Gb(n){return function(i,e){var r=e.data,o=e.resetDefines[n];if(o&&o.dataEach)for(var a=i.start;a<i.end;a++)o.dataEach(r,a);else o&&o.progress&&o.progress(i,r)}}function iP(n){return n.data.count()}function nP(n){Gd=null;try{n(zu,Yb)}catch(i){}return Gd}var Gd,zu={},Yb={};function $b(n,i){for(var e in i.prototype)n[e]=Ze}$b(zu,im),$b(Yb,Gx),zu.eachSeriesByType=zu.eachRawSeriesByType=function(n){Gd=n},zu.eachComponent=function(n){"series"===n.mainType&&n.subType&&(Gd=n.subType)};var Ub=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],rP={color:Ub,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Ub]},gr="#B9B8CE",qb="#100C2A",Yd=function(){return{axisLine:{lineStyle:{color:gr}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Xb=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Kb={darkMode:!0,color:Xb,backgroundColor:qb,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:gr}},textStyle:{color:gr},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:gr}},dataZoom:{borderColor:"#71708A",textStyle:{color:gr},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:gr}},timeline:{lineStyle:{color:gr},label:{color:gr},controlStyle:{color:gr,borderColor:gr}},calendar:{itemStyle:{color:qb},dayLabel:{color:gr},monthLabel:{color:gr},yearLabel:{color:gr}},timeAxis:Yd(),logAxis:Yd(),valueAxis:Yd(),categoryAxis:Yd(),line:{symbol:"circle"},graph:{color:Xb},gauge:{title:{color:gr},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:gr},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Kb.categoryAxis.splitLine.show=!1;var oP=function(){function n(){}return n.prototype.normalizeQuery=function(i){var e={},r={},o={};if(J(i)){var a=Ao(i);e.mainType=a.main||null,e.subType=a.sub||null}else{var s=["Index","Name","Id"],l={name:1,dataIndex:1,dataType:1};F(i,function(h,c){for(var d=!1,p=0;p<s.length;p++){var m=s[p],y=c.lastIndexOf(m);if(y>0&&y===c.length-m.length){var _=c.slice(0,y);"data"!==_&&(e.mainType=_,e[m.toLowerCase()]=h,d=!0)}}l.hasOwnProperty(c)&&(r[c]=h,d=!0),d||(o[c]=h)})}return{cptQuery:e,dataQuery:r,otherQuery:o}},n.prototype.filter=function(i,e){var r=this.eventInfo;if(!r)return!0;var o=r.targetEl,a=r.packedEvent,s=r.model,l=r.view;if(!s||!l)return!0;var h=e.cptQuery,c=e.dataQuery;return d(h,s,"mainType")&&d(h,s,"subType")&&d(h,s,"index","componentIndex")&&d(h,s,"name")&&d(h,s,"id")&&d(c,a,"name")&&d(c,a,"dataIndex")&&d(c,a,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(i,e.otherQuery,o,a));function d(p,m,y,_){return null==p[y]||m[_||y]===p[y]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),_m=["symbol","symbolSize","symbolRotate","symbolOffset"],Zb=_m.concat(["symbolKeepAspect"]),aP={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,i){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var r={},o={},a=!1,s=0;s<_m.length;s++){var l=_m[s],h=n.get(l);ee(h)?(a=!0,o[l]=h):r[l]=h}if(r.symbol=r.symbol||n.defaultSymbol,e.setVisual(Z({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),!i.isSeriesFiltered(n)){var c=ft(o);return{dataEach:a?function(d,p){for(var m=n.getRawValue(p),y=n.getDataParams(p),_=0;_<c.length;_++){var x=c[_];d.setItemVisual(p,x,o[x](m,y))}}:null}}}}},sP={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,i){if(n.hasSymbolVisual&&!i.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(e,r){for(var o=e.getItemModel(r),a=0;a<Zb.length;a++){var s=Zb[a],l=o.getShallow(s,!0);null!=l&&e.setItemVisual(r,s,l)}}:null}}};function xm(n,i,e){switch(e){case"color":return n.getItemVisual(i,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(i,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(i,e)}}function Bu(n,i){switch(i){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(i)}}function Qb(n,i,e,r){switch(e){case"color":n.ensureUniqueItemVisual(i,"style")[n.getVisual("drawType")]=r,n.setItemVisual(i,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(i,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(i,e,r)}}function Jb(n,i){function e(r,o){var a=[];return r.eachComponent({mainType:"series",subType:n,query:o},function(s){a.push(s.seriesIndex)}),a}F([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){i(r[0],function(o,a,s){o=Z({},o),s.dispatchAction(Z(o,{type:r[1],seriesIndex:e(a,o)}))})})}function hh(n,i,e,r,o){var a=n+i;e.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var l=s.seriesIndex,h=s.option.selectedMap,c=o.selected,d=0;d<c.length;d++)if(c[d].seriesIndex===l){var p=s.getData(),m=xs(p,o.fromActionPayload);e.trigger(a,{type:a,seriesId:s.id,name:ne(m)?p.getName(m[0]):p.getName(m),selected:J(h)?h:Z({},h)})}})}function Vs(n,i,e){for(var r;n&&(!i(n)||(r=n,!e));)n=n.__hostTarget||n.parent;return r}var lP=Math.round(9*Math.random()),hP="function"==typeof Object.defineProperty,uP=function(){function n(){this._id="__ec_inner_"+lP++}return n.prototype.get=function(i){return this._guard(i)[this._id]},n.prototype.set=function(i,e){var r=this._guard(i);return hP?Object.defineProperty(r,this._id,{value:e,enumerable:!1,configurable:!0}):r[this._id]=e,this},n.prototype.delete=function(i){return!!this.has(i)&&(delete this._guard(i)[this._id],!0)},n.prototype.has=function(i){return!!this._guard(i)[this._id]},n.prototype._guard=function(i){if(i!==Object(i))throw TypeError("Value of WeakMap is not a non-null object.");return i},n}(),cP=yi.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,i){var e=i.cx,r=i.cy,o=i.width/2,a=i.height/2;n.moveTo(e,r-a),n.lineTo(e+o,r+a),n.lineTo(e-o,r+a),n.closePath()}}),dP=yi.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,i){var e=i.cx,r=i.cy,o=i.width/2,a=i.height/2;n.moveTo(e,r-a),n.lineTo(e+o,r),n.lineTo(e,r+a),n.lineTo(e-o,r),n.closePath()}}),pP=yi.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,i){var e=i.x,r=i.y,o=i.width/5*3,a=Math.max(o,i.height),s=o/2,l=s*s/(a-s),h=r-a+s+l,c=Math.asin(l/s),d=Math.cos(c)*s,p=Math.sin(c),m=Math.cos(c),y=.6*s,_=.7*s;n.moveTo(e-d,h+l),n.arc(e,h,s,Math.PI-c,2*Math.PI+c),n.bezierCurveTo(e+d-p*y,h+l+m*y,e,r-_,e,r),n.bezierCurveTo(e,r-_,e-d+p*y,h+l+m*y,e-d,h+l),n.closePath()}}),fP=yi.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,i){var e=i.height,o=i.x,a=i.y,s=i.width/3*2;n.moveTo(o,a),n.lineTo(o+s,a+e),n.lineTo(o,a+e/4*3),n.lineTo(o-s,a+e),n.lineTo(o,a),n.closePath()}}),gP={line:function(n,i,e,r,o){o.x1=n,o.y1=i+r/2,o.x2=n+e,o.y2=i+r/2},rect:function(n,i,e,r,o){o.x=n,o.y=i,o.width=e,o.height=r},roundRect:function(n,i,e,r,o){o.x=n,o.y=i,o.width=e,o.height=r,o.r=Math.min(e,r)/4},square:function(n,i,e,r,o){var a=Math.min(e,r);o.x=n,o.y=i,o.width=a,o.height=a},circle:function(n,i,e,r,o){o.cx=n+e/2,o.cy=i+r/2,o.r=Math.min(e,r)/2},diamond:function(n,i,e,r,o){o.cx=n+e/2,o.cy=i+r/2,o.width=e,o.height=r},pin:function(n,i,e,r,o){o.x=n+e/2,o.y=i+r/2,o.width=e,o.height=r},arrow:function(n,i,e,r,o){o.x=n+e/2,o.y=i+r/2,o.width=e,o.height=r},triangle:function(n,i,e,r,o){o.cx=n+e/2,o.cy=i+r/2,o.width=e,o.height=r}},$d={};F({line:En,rect:Si,roundRect:Si,square:Si,circle:Yr,diamond:dP,pin:pP,arrow:fP,triangle:cP},function(n,i){$d[i]=new n});var mP=yi.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,i,e){var r=$c(n,i,e),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===i.position&&(r.y=e.y+.4*e.height),r},buildPath:function(n,i,e){var r=i.symbolType;if("none"!==r){var o=$d[r];o||(o=$d[r="rect"]),gP[r](i.x,i.y,i.width,i.height,o.shape),o.buildPath(n,o.shape,e)}}});function vP(n,i){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=i||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=n:e.fill=n,this.markRedraw()}}function vn(n,i,e,r,o,a,s){var l,h=0===n.indexOf("empty");return h&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=0===n.indexOf("image://")?Ag(n.slice(8),new ai(i,e,r,o),s?"center":"cover"):0===n.indexOf("path://")?xu(n.slice(7),{},new ai(i,e,r,o),s?"center":"cover"):new mP({shape:{symbolType:n,x:i,y:e,width:r,height:o}})).__isEmptyBrush=h,l.setColor=vP,a&&l.setColor(a),l}function uh(n){return ne(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Fs(n,i){if(null!=n)return ne(n)||(n=[n,n]),[Bt(n[0],i[0])||0,Bt(nt(n[1],n[0]),i[1])||0]}function Ws(n){return isFinite(n)}function bm(n,i,e){for(var r="radial"===i.type?(s=n,l=i,void 0,void 0,void 0,m=void 0,y=void 0,_=void 0,c=(h=e).width,d=h.height,p=Math.min(c,d),m=null==l.x?.5:l.x,y=null==l.y?.5:l.y,_=null==l.r?.5:l.r,l.global||(m=m*c+h.x,y=y*d+h.y,_*=p),m=Ws(m)?m:.5,y=Ws(y)?y:.5,_=_>=0&&Ws(_)?_:.5,s.createRadialGradient(m,y,0,m,y,_)):function(s,l,h){var c=null==l.x?0:l.x,d=null==l.x2?1:l.x2,p=null==l.y?0:l.y,m=null==l.y2?0:l.y2;return l.global||(c=c*h.width+h.x,d=d*h.width+h.x,p=p*h.height+h.y,m=m*h.height+h.y),c=Ws(c)?c:0,d=Ws(d)?d:1,p=Ws(p)?p:0,m=Ws(m)?m:0,s.createLinearGradient(c,p,d,m)}(n,i,e),o=i.colorStops,a=0;a<o.length;a++)r.addColorStop(o[a].offset,o[a].color);var s,l,h,c,d,p,m,y,_;return r}function Ud(n){return parseInt(n,10)}function ch(n,i,e){var r=["width","height"][i],o=["clientWidth","clientHeight"][i],a=["paddingLeft","paddingTop"][i],s=["paddingRight","paddingBottom"][i];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var l=document.defaultView.getComputedStyle(n);return(n[o]||Ud(l[r])||Ud(n.style[r]))-(Ud(l[a])||0)-(Ud(l[s])||0)|0}function wm(n){var i,e,r=n.style,o=r.lineDash&&r.lineWidth>0&&(e=r.lineWidth,(i=r.lineDash)&&"solid"!==i&&e>0?"dashed"===i?[4*e,2*e]:"dotted"===i?[e]:Ge(i)?[i]:ne(i)?i:null:null),a=r.lineDashOffset;if(o){var s=r.strokeNoScale&&n.getLineScale?n.getLineScale():1;s&&1!==s&&(o=Te(o,function(l){return l/s}),a/=s)}return[o,a]}var yP=new Eo(!0);function qd(n){var i=n.stroke;return!(null==i||"none"===i||!(n.lineWidth>0))}function ew(n){return"string"==typeof n&&"none"!==n}function Xd(n){var i=n.fill;return null!=i&&"none"!==i}function iw(n,i){if(null!=i.fillOpacity&&1!==i.fillOpacity){var e=n.globalAlpha;n.globalAlpha=i.fillOpacity*i.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function nw(n,i){if(null!=i.strokeOpacity&&1!==i.strokeOpacity){var e=n.globalAlpha;n.globalAlpha=i.strokeOpacity*i.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function Sm(n,i,e){var r=Qf(i.image,i.__image,e);if(Qc(r)){var o=n.createPattern(r,i.repeat||"repeat");if("function"==typeof DOMMatrix&&o&&o.setTransform){var a=new DOMMatrix;a.translateSelf(i.x||0,i.y||0),a.rotateSelf(0,0,(i.rotation||0)*_t),a.scaleSelf(i.scaleX||1,i.scaleY||1),o.setTransform(a)}return o}}var rw=["shadowBlur","shadowOffsetX","shadowOffsetY"],ow=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function aw(n,i,e,r,o){var a=!1;if(!r&&i===(e=e||{}))return!1;if(r||i.opacity!==e.opacity){Dr(n,o),a=!0;var s=Math.max(Math.min(i.opacity,1),0);n.globalAlpha=isNaN(s)?Ss.opacity:s}(r||i.blend!==e.blend)&&(a||(Dr(n,o),a=!0),n.globalCompositeOperation=i.blend||Ss.blend);for(var l=0;l<rw.length;l++){var h=rw[l];(r||i[h]!==e[h])&&(a||(Dr(n,o),a=!0),n[h]=n.dpr*(i[h]||0))}return(r||i.shadowColor!==e.shadowColor)&&(a||(Dr(n,o),a=!0),n.shadowColor=i.shadowColor||Ss.shadowColor),a}function sw(n,i,e,r,o){var a=ju(i,o.inHover),s=r?null:e&&ju(e,o.inHover)||{};if(a===s)return!1;var l=aw(n,a,s,r,o);if((r||a.fill!==s.fill)&&(l||(Dr(n,o),l=!0),ew(a.fill)&&(n.fillStyle=a.fill)),(r||a.stroke!==s.stroke)&&(l||(Dr(n,o),l=!0),ew(a.stroke)&&(n.strokeStyle=a.stroke)),(r||a.opacity!==s.opacity)&&(l||(Dr(n,o),l=!0),n.globalAlpha=null==a.opacity?1:a.opacity),i.hasStroke()){var h=a.lineWidth/(a.strokeNoScale&&i.getLineScale?i.getLineScale():1);n.lineWidth!==h&&(l||(Dr(n,o),l=!0),n.lineWidth=h)}for(var c=0;c<ow.length;c++){var d=ow[c],p=d[0];(r||a[p]!==s[p])&&(l||(Dr(n,o),l=!0),n[p]=a[p]||d[1])}return l}function lw(n,i){var e=i.transform,r=n.dpr||1;e?n.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5]):n.setTransform(r,0,0,r,0,0)}function Dr(n,i){i.batchFill&&n.fill(),i.batchStroke&&n.stroke(),i.batchFill="",i.batchStroke=""}function ju(n,i){return i&&n.__hoverStyle||n.style}function Cm(n,i){Gs(n,i,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Gs(n,i,e,r){var o=i.transform;if(!i.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return i.__dirty&=-2,void(i.__isRendered=!1);var _,x,b,a=i.__clipPaths,s=e.prevElClipPaths,l=!1,h=!1;if(s&&!function(_,x){if(_===x||!_&&!x)return!1;if(!_||!x||_.length!==x.length)return!0;for(var b=0;b<_.length;b++)if(_[b]!==x[b])return!0;return!1}(a,s)||(s&&s.length&&(Dr(n,e),n.restore(),h=l=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(Dr(n,e),n.save(),function(_,x,b){for(var S=!1,C=0;C<_.length;C++){var I=_[C];S=S||I.isZeroArea(),lw(x,I),x.beginPath(),I.buildPath(x,I.shape),x.clip()}b.allClipped=S}(a,n,e),l=!0),e.prevElClipPaths=a),e.allClipped)i.__isRendered=!1;else{i.beforeBrush&&i.beforeBrush(),i.innerBeforeBrush();var c=e.prevEl;c||(h=l=!0);var d,p,m=i instanceof yi&&i.autoBatch&&(x=Xd(_=i.style),b=qd(_),!(_.lineDash||!(+x^+b)||x&&"string"!=typeof _.fill||b&&"string"!=typeof _.stroke||_.strokePercent<1||_.strokeOpacity<1||_.fillOpacity<1));l||(p=c.transform,(d=o)&&p?d[0]!==p[0]||d[1]!==p[1]||d[2]!==p[2]||d[3]!==p[3]||d[4]!==p[4]||d[5]!==p[5]:d||p)?(Dr(n,e),lw(n,i)):m||Dr(n,e);var y=ju(i,e.inHover);i instanceof yi?(1!==e.lastDrawType&&(h=!0,e.lastDrawType=1),sw(n,i,c,h,e),m&&(e.batchFill||e.batchStroke)||n.beginPath(),function(_,x,b,S){var C,I=qd(b),A=Xd(b),P=b.strokePercent,O=P<1,E=!x.path;x.silent&&!O||!E||x.createPathProxy();var z=x.path||yP,V=x.__dirty;if(!S){var G=b.fill,Y=b.stroke,X=A&&!!G.colorStops,te=I&&!!Y.colorStops,ae=A&&!!G.image,he=I&&!!Y.image,fe=void 0,ye=void 0,Se=void 0,Ee=void 0,Re=void 0;(X||te)&&(Re=x.getBoundingRect()),X&&(fe=V?bm(_,G,Re):x.__canvasFillGradient,x.__canvasFillGradient=fe),te&&(ye=V?bm(_,Y,Re):x.__canvasStrokeGradient,x.__canvasStrokeGradient=ye),ae&&(Se=V||!x.__canvasFillPattern?Sm(_,G,x):x.__canvasFillPattern,x.__canvasFillPattern=Se),he&&(Ee=V||!x.__canvasStrokePattern?Sm(_,Y,x):x.__canvasStrokePattern,x.__canvasStrokePattern=Se),X?_.fillStyle=fe:ae&&(Se?_.fillStyle=Se:A=!1),te?_.strokeStyle=ye:he&&(Ee?_.strokeStyle=Ee:I=!1)}var ze,ot,xt=x.getGlobalScale();z.setScale(xt[0],xt[1],x.segmentIgnoreThreshold),_.setLineDash&&b.lineDash&&(ze=(C=wm(x))[0],ot=C[1]);var Ue=!0;(E||4&V)&&(z.setDPR(_.dpr),O?z.setContext(null):(z.setContext(_),Ue=!1),z.reset(),x.buildPath(z,x.shape,S),z.toStatic(),x.pathUpdated()),Ue&&z.rebuildPath(_,O?P:1),ze&&(_.setLineDash(ze),_.lineDashOffset=ot),S||(b.strokeFirst?(I&&nw(_,b),A&&iw(_,b)):(A&&iw(_,b),I&&nw(_,b))),ze&&_.setLineDash([])}(n,i,y,m),m&&(e.batchFill=y.fill||"",e.batchStroke=y.stroke||"")):i instanceof Rl?(3!==e.lastDrawType&&(h=!0,e.lastDrawType=3),sw(n,i,c,h,e),function(_,x,b){var S,C=b.text;if(null!=C&&(C+=""),C){_.font=b.font||Pt,_.textAlign=b.textAlign,_.textBaseline=b.textBaseline;var I=void 0,A=void 0;_.setLineDash&&b.lineDash&&(I=(S=wm(x))[0],A=S[1]),I&&(_.setLineDash(I),_.lineDashOffset=A),b.strokeFirst?(qd(b)&&_.strokeText(C,b.x,b.y),Xd(b)&&_.fillText(C,b.x,b.y)):(Xd(b)&&_.fillText(C,b.x,b.y),qd(b)&&_.strokeText(C,b.x,b.y)),I&&_.setLineDash([])}}(n,i,y)):i instanceof Rn?(2!==e.lastDrawType&&(h=!0,e.lastDrawType=2),function(_,x,b,S,C){aw(_,ju(x,C.inHover),b&&ju(b,C.inHover),S,C)}(n,i,c,h,e),function(_,x,b){var S=x.__image=Qf(b.image,x.__image,x,x.onload);if(S&&Qc(S)){var C=b.x||0,I=b.y||0,A=x.getWidth(),P=x.getHeight(),O=S.width/S.height;if(null==A&&null!=P?A=P*O:null==P&&null!=A?P=A/O:null==A&&null==P&&(A=S.width,P=S.height),b.sWidth&&b.sHeight){var E=b.sx||0,z=b.sy||0;_.drawImage(S,E,z,b.sWidth,b.sHeight,C,I,A,P)}else if(b.sx&&b.sy){var V=A-(E=b.sx),G=P-(z=b.sy);_.drawImage(S,E,z,V,G,C,I,A,P)}else _.drawImage(S,C,I,A,P)}}(n,i,y)):i.getTemporalDisplayables&&(4!==e.lastDrawType&&(h=!0,e.lastDrawType=4),function(_,x,b){var S=x.getDisplayables(),C=x.getTemporalDisplayables();_.save();var I,A,P={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:b.viewWidth,viewHeight:b.viewHeight,inHover:b.inHover};for(I=x.getCursor(),A=S.length;I<A;I++)(z=S[I]).beforeBrush&&z.beforeBrush(),z.innerBeforeBrush(),Gs(_,z,P,I===A-1),z.innerAfterBrush(),z.afterBrush&&z.afterBrush(),P.prevEl=z;for(var O=0,E=C.length;O<E;O++){var z;(z=C[O]).beforeBrush&&z.beforeBrush(),z.innerBeforeBrush(),Gs(_,z,P,O===E-1),z.innerAfterBrush(),z.afterBrush&&z.afterBrush(),P.prevEl=z}x.clearTemporalDisplayables(),x.notClear=!0,_.restore()}(n,i,e)),m&&r&&Dr(n,e),i.innerAfterBrush(),i.afterBrush&&i.afterBrush(),e.prevEl=i,i.__dirty=0,i.__isRendered=!0}}var km=new uP,hw=new Oi(100),uw=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function dh(n,i){if("none"===n)return null;var e=i.getDevicePixelRatio(),r=i.getZr(),o="svg"===r.painter.type;n.dirty&&km.delete(n);var a=km.get(n);if(a)return a;var s=de(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===s.backgroundColor&&(s.backgroundColor=null);var l={repeat:"repeat"};return function(h){for(var c,d=[e],p=!0,m=0;m<uw.length;++m){var y=s[uw[m]];if(null!=y&&!ne(y)&&!J(y)&&!Ge(y)&&"boolean"!=typeof y){p=!1;break}d.push(y)}if(p){c=d.join(",")+(o?"-svg":"");var _=hw.get(c);_&&(o?h.svgElement=_:h.image=_)}var x,b=dw(s.dashArrayX),S=function(V){if(!V||"object"==typeof V&&0===V.length)return[0,0];if(Ge(V)){var G=Math.ceil(V);return[G,G]}var Y=Te(V,function(X){return Math.ceil(X)});return V.length%2?Y.concat(Y):Y}(s.dashArrayY),C=cw(s.symbol),I=Te(b,function(V){return pw(V)}),A=pw(S),P=!o&&ut.createCanvas(),O=o&&{tag:"g",attrs:{},key:"dcl",children:[]},E=function(){for(var V=1,G=0,Y=I.length;G<Y;++G)V=T_(V,I[G]);var X=1;for(G=0,Y=C.length;G<Y;++G)X=T_(X,C[G].length);V*=X;var te=A*I.length*C.length;return{width:Math.max(1,Math.min(V,s.maxTileWidth)),height:Math.max(1,Math.min(te,s.maxTileHeight))}}();P&&(P.width=E.width*e,P.height=E.height*e,x=P.getContext("2d")),function(){x&&(x.clearRect(0,0,P.width,P.height),s.backgroundColor&&(x.fillStyle=s.backgroundColor,x.fillRect(0,0,P.width,P.height)));for(var V=0,G=0;G<S.length;++G)V+=S[G];if(!(V<=0))for(var Y=-A,X=0,te=0,ae=0;Y<E.height;){if(X%2==0){for(var he=te/2%C.length,fe=0,ye=0,Se=0;fe<2*E.width;){var Ee=0;for(G=0;G<b[ae].length;++G)Ee+=b[ae][G];if(Ee<=0)break;if(ye%2==0){var Re=.5*(1-s.symbolSize);bt(fe+b[ae][ye]*Re,Y+S[X]*Re,b[ae][ye]*s.symbolSize,S[X]*s.symbolSize,C[he][Se/2%C[he].length])}fe+=b[ae][ye],++Se,++ye===b[ae].length&&(ye=0)}++ae===b.length&&(ae=0)}Y+=S[X],++te,++X===S.length&&(X=0)}function bt(Mt,yt,Dt,St,Ot){var Ft=o?1:e,ni=vn(Ot,Mt*Ft,yt*Ft,Dt*Ft,St*Ft,s.color,s.symbolKeepAspect);if(o){var si=r.painter.renderOneToVNode(ni);si&&O.children.push(si)}else Cm(x,ni)}}(),p&&hw.put(c,P||O),h.image=P,h.svgElement=O,h.svgWidth=E.width,h.svgHeight=E.height}(l),l.rotation=s.rotation,l.scaleX=l.scaleY=o?1:1/e,km.set(n,l),n.dirty=!1,l}function cw(n){if(!n||0===n.length)return[["rect"]];if(J(n))return[[n]];for(var i=!0,e=0;e<n.length;++e)if(!J(n[e])){i=!1;break}if(i)return cw([n]);var r=[];for(e=0;e<n.length;++e)J(n[e])?r.push([n[e]]):r.push(n[e]);return r}function dw(n){if(!n||0===n.length)return[[0,0]];if(Ge(n))return[[o=Math.ceil(n),o]];for(var i=!0,e=0;e<n.length;++e)if(!Ge(n[e])){i=!1;break}if(i)return dw([n]);var r=[];for(e=0;e<n.length;++e)if(Ge(n[e])){var o=Math.ceil(n[e]);r.push([o,o])}else(o=Te(n[e],function(a){return Math.ceil(a)})).length%2==1?r.push(o.concat(o)):r.push(o);return r}function pw(n){for(var i=0,e=0;e<n.length;++e)i+=n[e];return n.length%2==1?2*i:i}var _o=new Sn,fw={};function gw(n){return fw[n]}var mw={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},sr="__flagInMainProcess",Ar="__pendingUpdate",Mm="__needsUpdateStatus",vw=/^[a-zA-Z0-9_]+$/,Im="__connectUpdateStatus";function yw(n){return function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(!this.isDisposed())return xw(this,n,i)}}function _w(n){return function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return xw(this,n,i)}}function xw(n,i,e){return e[0]=e[0]&&e[0].toLowerCase(),Sn.prototype[i].apply(n,e)}var ph,Dm,Zd,$a,Am,Lm,Pm,Hu,Vu,bw,ww,Om,Sw,Qd,Cw,kw,Kr,Tw,Mw=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i}(Sn),Iw=Mw.prototype;Iw.on=_w("on"),Iw.off=_w("off");var Jd=function(n){function i(e,r,o){var a=n.call(this,new oP)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],o=o||{},J(r)&&(r=Dw[r]),a._dom=e;var c=a._zr=Hf(e,{renderer:o.renderer||"canvas",devicePixelRatio:o.devicePixelRatio,width:o.width,height:o.height,ssr:o.ssr,useDirtyRect:nt(o.useDirtyRect,!1),useCoarsePointer:nt(o.useCoarsePointer,"auto"),pointerSize:o.pointerSize});a._ssr=o.ssr,a._throttledZrFlush=Fd(De(c.flush,c),17),(r=H(r))&&Zx(r,!0),a._theme=r,a._locale=function(m){if(J(m)){var y=kd[m.toUpperCase()]||{};return"ZH"===m||"EN"===m?H(y):q(H(y),H(kd.EN),!1)}return q(H(m),H(kd.EN),!1)}(o.locale||lx),a._coordSysMgr=new ih;var d=a._api=Cw(a);function p(m,y){return m.__prio-y.__prio}return W(tp,p),W(Nm,p),a._scheduler=new Wb(a,d,Nm,tp),a._messageCenter=new Mw,a._initEvents(),a.resize=De(a.resize,a),c.animation.on("frame",a._onframe,a),bw(c,a),ww(c,a),Ae(a),a}return Le(i,n),i.prototype._onframe=function(){if(!this._disposed){Tw(this);var e=this._scheduler;if(this[Ar]){var r=this[Ar].silent;this[sr]=!0;try{ph(this),$a.update.call(this,null,this[Ar].updateParams)}catch(h){throw this[sr]=!1,this[Ar]=null,h}this._zr.flush(),this[sr]=!1,this[Ar]=null,Hu.call(this,r),Vu.call(this,r)}else if(e.unfinished){var o=1,a=this._model,s=this._api;e.unfinished=!1;do{var l=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),Lm(this,a),e.performVisualTasks(a),Qd(this,this._model,s,"remain",{}),o-=+new Date-l}while(o>0&&e.unfinished);e.unfinished||this._zr.flush()}}},i.prototype.getDom=function(){return this._dom},i.prototype.getId=function(){return this.id},i.prototype.getZr=function(){return this._zr},i.prototype.isSSR=function(){return this._ssr},i.prototype.setOption=function(e,r,o){if(!this[sr])if(this._disposed);else{var a,s,l;if(Pe(r)&&(o=r.lazyUpdate,a=r.silent,s=r.replaceMerge,l=r.transition,r=r.notMerge),this[sr]=!0,!this._model||r){var h=new uL(this._api),c=this._theme,d=this._model=new im;d.scheduler=this._scheduler,d.ssr=this._ssr,d.init(null,null,null,c,this._locale,h)}this._model.setOption(e,{replaceMerge:s},Rm);var p={seriesTransition:l,optionChanged:!0};if(o)this[Ar]={silent:a,updateParams:p},this[sr]=!1,this.getZr().wakeUp();else{try{ph(this),$a.update.call(this,null,p)}catch(m){throw this[Ar]=null,this[sr]=!1,m}this._ssr||this._zr.flush(),this[Ar]=null,this[sr]=!1,Hu.call(this,a),Vu.call(this,a)}}},i.prototype.setTheme=function(){},i.prototype.getModel=function(){return this._model},i.prototype.getOption=function(){return this._model&&this._model.getOption()},i.prototype.getWidth=function(){return this._zr.getWidth()},i.prototype.getHeight=function(){return this._zr.getHeight()},i.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||at.hasGlobalWindow&&window.devicePixelRatio||1},i.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},i.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},i.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},i.prototype.getSvgDataURL=function(){if(at.svgSupported){var e=this._zr;return F(e.storage.getDisplayList(),function(r){r.stopAnimation(null,!0)}),e.painter.toDataURL()}},i.prototype.getDataURL=function(e){if(!this._disposed){var r=(e=e||{}).excludeComponents,o=this._model,a=[],s=this;F(r,function(h){o.eachComponent({mainType:h},function(c){var d=s._componentsMap[c.__viewId];d.group.ignore||(a.push(d),d.group.ignore=!0)})});var l="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return F(a,function(h){h.group.ignore=!1}),l}},i.prototype.getConnectedDataURL=function(e){if(!this._disposed){var r="svg"===e.type,o=this.group,a=Math.min,s=Math.max,l=1/0;if(ip[o]){var h=l,c=l,d=-1/0,p=-1/0,m=[],y=e&&e.pixelRatio||this.getDevicePixelRatio();F(Ys,function(I,A){if(I.group===o){var P=r?I.getZr().painter.getSvgDom().innerHTML:I.renderToCanvas(H(e)),O=I.getDom().getBoundingClientRect();h=a(O.left,h),c=a(O.top,c),d=s(O.right,d),p=s(O.bottom,p),m.push({dom:P,left:O.left,top:O.top})}});var _=(d*=y)-(h*=y),x=(p*=y)-(c*=y),b=ut.createCanvas(),S=Hf(b,{renderer:r?"svg":"canvas"});if(S.resize({width:_,height:x}),r){var C="";return F(m,function(I){C+='<g transform="translate('+(I.left-h)+","+(I.top-c)+')">'+I.dom+"</g>"}),S.painter.getSvgRoot().innerHTML=C,e.connectedBackgroundColor&&S.painter.setBackgroundColor(e.connectedBackgroundColor),S.refreshImmediately(),S.painter.toDataURL()}return e.connectedBackgroundColor&&S.add(new Si({shape:{x:0,y:0,width:_,height:x},style:{fill:e.connectedBackgroundColor}})),F(m,function(I){var A=new Rn({style:{x:I.left*y-h,y:I.top*y-c,image:I.dom}});S.add(A)}),S.refreshImmediately(),b.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},i.prototype.convertToPixel=function(e,r){return Am(this,"convertToPixel",e,r)},i.prototype.convertFromPixel=function(e,r){return Am(this,"convertFromPixel",e,r)},i.prototype.containPixel=function(e,r){var o;if(!this._disposed)return F(au(this._model,e),function(a,s){s.indexOf("Models")>=0&&F(a,function(l){var h=l.coordinateSystem;if(h&&h.containPoint)o=o||!!h.containPoint(r);else if("seriesModels"===s){var c=this._chartsMap[l.__viewId];c&&c.containPoint&&(o=o||c.containPoint(r,l))}},this)},this),!!o},i.prototype.getVisual=function(e,r){var o=au(this._model,e,{defaultMainType:"series"}),s=o.seriesModel.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return null!=l?xm(s,l,r):Bu(s,r)},i.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},i.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},i.prototype._initEvents=function(){var r,o,a=this;F(_P,function(s){var l=function(h){var c,d=a.getModel(),p=h.target;if("globalout"===s?c={}:p&&Vs(p,function(S){var C=oi(S);if(C&&null!=C.dataIndex){var I=C.dataModel||d.getSeriesByIndex(C.seriesIndex);return c=I&&I.getDataParams(C.dataIndex,C.dataType,p)||{},!0}if(C.eventData)return c=Z({},C.eventData),!0},!0),c){var y=c.componentType,_=c.componentIndex;"markLine"!==y&&"markPoint"!==y&&"markArea"!==y||(y="series",_=c.seriesIndex);var x=y&&null!=_&&d.getComponent(y,_),b=x&&a["series"===x.mainType?"_chartsMap":"_componentsMap"][x.__viewId];c.event=h,c.type=s,a._$eventProcessor.eventInfo={targetEl:p,packedEvent:c,model:x,view:b},a.trigger(s,c)}};l.zrEventfulCallAtLast=!0,a._zr.on(s,l,a)}),F(Fu,function(s,l){a._messageCenter.on(l,function(h){this.trigger(l,h)},a)}),F(["selectchanged"],function(s){a._messageCenter.on(s,function(l){this.trigger(s,l)},a)}),r=this,o=this._api,this._messageCenter.on("selectchanged",function(s){var l=o.getModel();s.isFromClick?(hh("map","selectchanged",r,l,s),hh("pie","selectchanged",r,l,s)):"select"===s.fromAction?(hh("map","selected",r,l,s),hh("pie","selected",r,l,s)):"unselect"===s.fromAction&&(hh("map","unselected",r,l,s),hh("pie","unselected",r,l,s))})},i.prototype.isDisposed=function(){return this._disposed},i.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},i.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,this.getDom()&&O_(this.getDom(),Bm,"");var e=this,r=e._api,o=e._model;F(e._componentsViews,function(a){a.dispose(o,r)}),F(e._chartsViews,function(a){a.dispose(o,r)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete Ys[e.id]}},i.prototype.resize=function(e){if(!this[sr])if(this._disposed);else{this._zr.resize(e);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),r){var o=r.resetOption("media"),a=e&&e.silent;this[Ar]&&(null==a&&(a=this[Ar].silent),o=!0,this[Ar]=null),this[sr]=!0;try{o&&ph(this),$a.update.call(this,{type:"resize",animation:Z({duration:0},e&&e.animation)})}catch(s){throw this[sr]=!1,s}this[sr]=!1,Hu.call(this,a),Vu.call(this,a)}}},i.prototype.showLoading=function(e,r){if(this._disposed);else if(Pe(e)&&(r=e,e=""),e=e||"default",this.hideLoading(),zm[e]){var o=zm[e](this._api,r),a=this._zr;this._loadingFX=o,a.add(o)}},i.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},i.prototype.makeActionFromEvent=function(e){var r=Z({},e);return r.type=Fu[e.type],r},i.prototype.dispatchAction=function(e,r){if(this._disposed);else if(Pe(r)||(r={silent:!!r}),ep[e.type]&&this._model)if(this[sr])this._pendingActions.push(e);else{var o=r.silent;Pm.call(this,e,o);var a=r.flush;a?this._zr.flush():!1!==a&&at.browser.weChat&&this._throttledZrFlush(),Hu.call(this,o),Vu.call(this,o)}},i.prototype.updateLabelLayout=function(){_o.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},i.prototype.appendData=function(e){if(this._disposed);else{var r=e.seriesIndex;this.getModel().getSeriesByIndex(r).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},i.internalField=function(){function e(h){h.clearColorPalette(),h.eachSeries(function(c){c.clearColorPalette()})}function r(h){for(var c=[],d=h.currentStates,p=0;p<d.length;p++){var m=d[p];"emphasis"!==m&&"blur"!==m&&"select"!==m&&c.push(m)}h.selected&&h.states.select&&c.push("select"),2===h.hoverState&&h.states.emphasis?c.push("emphasis"):1===h.hoverState&&h.states.blur&&c.push("blur"),h.useStates(c)}function o(h,c){if(!h.preventAutoZ){var d=h.get("z")||0,p=h.get("zlevel")||0;c.eachRendered(function(m){return a(m,d,p,-1/0),!0})}}function a(h,c,d,p){var m=h.getTextContent(),y=h.getTextGuideLine();if(h.isGroup)for(var _=h.childrenRef(),x=0;x<_.length;x++)p=Math.max(a(_[x],c,d,p),p);else h.z=c,h.zlevel=d,p=Math.max(h.z2,p);if(m&&(m.z=c,m.zlevel=d,isFinite(p)&&(m.z2=p+2)),y){var b=h.textGuideLineConfig;y.z=c,y.zlevel=d,isFinite(p)&&(y.z2=p+(b&&b.showAbove?1:-1))}return p}function s(h,c){c.eachRendered(function(d){if(!Yl(d)){var p=d.getTextContent(),m=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function l(h,c){var d=h.getModel("stateAnimation"),p=h.isAnimationEnabled(),m=d.get("duration"),y=m>0?{duration:m,delay:d.get("delay"),easing:d.get("easing")}:null;c.eachRendered(function(_){if(_.states&&_.states.emphasis){if(Yl(_))return;if(_ instanceof yi&&function(C){var I=c1(C);I.normalFill=C.style.fill,I.normalStroke=C.style.stroke;var A=C.states.select||{};I.selectFill=A.style&&A.style.fill||null,I.selectStroke=A.style&&A.style.stroke||null}(_),_.__dirty){var x=_.prevStates;x&&_.useStates(x)}if(p){_.stateTransition=y;var b=_.getTextContent(),S=_.getTextGuideLine();b&&(b.stateTransition=y),S&&(S.stateTransition=y)}_.__dirty&&r(_)}})}ph=function(h){var c=h._scheduler;c.restorePipelines(h._model),c.prepareStageTasks(),Dm(h,!0),Dm(h,!1),c.plan()},Dm=function(h,c){for(var d=h._model,p=h._scheduler,m=c?h._componentsViews:h._chartsViews,y=c?h._componentsMap:h._chartsMap,_=h._zr,x=h._api,b=0;b<m.length;b++)m[b].__alive=!1;function S(I){var A=I.__requireNewView;I.__requireNewView=!1;var P="_ec_"+I.id+"_"+I.type,O=!A&&y[P];if(!O){var E=Ao(I.type);(O=new(c?Qi.getClass(E.main,E.sub):Hi.getClass(E.sub))).init(d,x),y[P]=O,m.push(O),_.add(O.group)}I.__viewId=O.__id=P,O.__alive=!0,O.__model=I,O.group.__ecComponentInfo={mainType:I.mainType,index:I.componentIndex},!c&&p.prepareView(O,I,d,x)}for(c?d.eachComponent(function(I,A){"series"!==I&&S(A)}):d.eachSeries(S),b=0;b<m.length;){var C=m[b];C.__alive?b++:(!c&&C.renderTask.dispose(),_.remove(C.group),C.dispose(d,x),m.splice(b,1),y[C.__id]===C&&delete y[C.__id],C.__id=C.group.__ecComponentInfo=null)}},Zd=function(h,c,d,p,m){var y=h._model;if(y.setUpdatePayload(d),p){var _={};_[p+"Id"]=d[p+"Id"],_[p+"Index"]=d[p+"Index"],_[p+"Name"]=d[p+"Name"];var x={mainType:p,query:_};m&&(x.subType=m);var b,S=d.excludeSeriesId;null!=S&&(b=xe(),F(Gi(S),function(I){var A=On(I,null);null!=A&&b.set(A,!0)})),y&&y.eachComponent(x,function(I){if(!b||null==b.get(I.id))if(M1(d))if(I instanceof Yi)d.type!==Ls||d.notBlur||I.get(["emphasis","disabled"])||function(E,z,V){var G=E.seriesIndex,Y=E.getData(z.dataType);if(Y){var X=xs(Y,z);X=(ne(X)?X[0]:X)||0;var te=Y.getItemGraphicEl(X);if(!te)for(var ae=Y.count(),he=0;!te&&he<ae;)te=Y.getItemGraphicEl(he++);if(te){var fe=oi(te);yg(G,fe.focus,fe.blurScope,V)}else{var ye=E.get(["emphasis","focus"]),Se=E.get(["emphasis","blurScope"]);null!=ye&&yg(G,ye,Se,V)}}}(I,d,h._api);else{var A=xg(I.mainType,I.componentIndex,d.name,h._api),O=A.dispatchers;d.type===Ls&&A.focusSelf&&!d.notBlur&&_g(I.mainType,I.componentIndex,h._api),O&&F(O,function(E){d.type===Ls?ha(E):ua(E)})}else wg(d)&&I instanceof Yi&&(function(E,z,V){if(wg(z)){var G=z.dataType,Y=xs(E.getData(G),z);ne(Y)||(Y=[Y]),E[z.type===du?"toggleSelect":z.type===cu?"select":"unselect"](Y,G)}}(I,d),k1(I),Kr(h))},h),y&&y.eachComponent(x,function(I){b&&null!=b.get(I.id)||C(h["series"===p?"_chartsMap":"_componentsMap"][I.__viewId])},h)}else F([].concat(h._componentsViews).concat(h._chartsViews),C);function C(I){I&&I.__alive&&I[c]&&I[c](I.__model,y,h._api,d)}},$a={prepareAndUpdate:function(h){ph(this),$a.update.call(this,h,{optionChanged:null!=h.newOption})},update:function(h,c){var d=this._model,p=this._api,m=this._zr,y=this._coordSysMgr,_=this._scheduler;if(d){d.setUpdatePayload(h),_.restoreData(d,h),_.performSeriesTasks(d),y.create(d,p),_.performDataProcessorTasks(d,h),Lm(this,d),y.update(d,p),e(d),_.performVisualTasks(d,h),Om(this,d,p,h,c);var x=d.get("backgroundColor")||"transparent",b=d.get("darkMode");m.setBackgroundColor(x),null!=b&&"auto"!==b&&m.setDarkMode(b),_o.trigger("afterupdate",d,p)}},updateTransform:function(h){var c=this,d=this._model,p=this._api;if(d){d.setUpdatePayload(h);var m=[];d.eachComponent(function(_,x){if("series"!==_){var b=c.getViewOfComponentModel(x);if(b&&b.__alive)if(b.updateTransform){var S=b.updateTransform(x,d,p,h);S&&S.update&&m.push(b)}else m.push(b)}});var y=xe();d.eachSeries(function(_){var x=c._chartsMap[_.__viewId];if(x.updateTransform){var b=x.updateTransform(_,d,p,h);b&&b.update&&y.set(_.uid,1)}else y.set(_.uid,1)}),e(d),this._scheduler.performVisualTasks(d,h,{setDirty:!0,dirtyMap:y}),Qd(this,d,p,h,{},y),_o.trigger("afterupdate",d,p)}},updateView:function(h){var c=this._model;c&&(c.setUpdatePayload(h),Hi.markUpdateMethod(h,"updateView"),e(c),this._scheduler.performVisualTasks(c,h,{setDirty:!0}),Om(this,c,this._api,h,{}),_o.trigger("afterupdate",c,this._api))},updateVisual:function(h){var c=this,d=this._model;d&&(d.setUpdatePayload(h),d.eachSeries(function(p){p.getData().clearAllVisual()}),Hi.markUpdateMethod(h,"updateVisual"),e(d),this._scheduler.performVisualTasks(d,h,{visualType:"visual",setDirty:!0}),d.eachComponent(function(p,m){if("series"!==p){var y=c.getViewOfComponentModel(m);y&&y.__alive&&y.updateVisual(m,d,c._api,h)}}),d.eachSeries(function(p){c._chartsMap[p.__viewId].updateVisual(p,d,c._api,h)}),_o.trigger("afterupdate",d,this._api))},updateLayout:function(h){$a.update.call(this,h)}},Am=function(h,c,d,p){if(h._disposed);else for(var m,y=h._model,_=h._coordSysMgr.getCoordinateSystems(),x=au(y,d),b=0;b<_.length;b++){var S=_[b];if(S[c]&&null!=(m=S[c](y,x,p)))return m}},Lm=function(h,c){var d=h._chartsMap,p=h._scheduler;c.eachSeries(function(m){p.updateStreamModes(m,d[m.__viewId])})},Pm=function(h,c){var d=this,p=this.getModel(),m=h.type,y=h.escapeConnect,_=ep[m],x=_.actionInfo,b=(x.update||"update").split(":"),S=b.pop(),C=null!=b[0]&&Ao(b[0]);this[sr]=!0;var I=[h],A=!1;h.batch&&(A=!0,I=Te(h.batch,function(Y){return(Y=de(Z({},Y),h)).batch=null,Y}));var P,O=[],E=wg(h),z=M1(h);if(z&&C1(this._api),F(I,function(Y){if((P=(P=_.action(Y,d._model,d._api))||Z({},Y)).type=x.event||P.type,O.push(P),z){var X=qf(h),ae=X.mainTypeSpecified?X.queryOptionMap.keys()[0]:"series";Zd(d,S,Y,ae),Kr(d)}else E?(Zd(d,S,Y,"series"),Kr(d)):C&&Zd(d,S,Y,C.main,C.sub)}),"none"!==S&&!z&&!E&&!C)try{this[Ar]?(ph(this),$a.update.call(this,h),this[Ar]=null):$a[S].call(this,h)}catch(Y){throw this[sr]=!1,Y}if(P=A?{type:x.event||m,escapeConnect:y,batch:O}:O[0],this[sr]=!1,!c){var V=this._messageCenter;if(V.trigger(P.type,P),E){var G={type:"selectchanged",escapeConnect:y,selected:A2(p),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};V.trigger(G.type,G)}}},Hu=function(h){for(var c=this._pendingActions;c.length;){var d=c.shift();Pm.call(this,d,h)}},Vu=function(h){!h&&this.trigger("updated")},bw=function(h,c){h.on("rendered",function(d){c.trigger("rendered",d),!h.animation.isFinished()||c[Ar]||c._scheduler.unfinished||c._pendingActions.length||c.trigger("finished")})},ww=function(h,c){h.on("mouseover",function(d){var m,y,_,x,b,S,p=Vs(d.target,pu);p&&(y=d,_=c._api,(S=(b=xg((x=oi(m=p)).componentMainType,x.componentIndex,x.componentHighDownName,_)).dispatchers)?(b.focusSelf&&_g(x.componentMainType,x.componentIndex,_),F(S,function(I){return y1(I,y)})):(yg(x.seriesIndex,x.focus,x.blurScope,_),"self"===x.focus&&_g(x.componentMainType,x.componentIndex,_),y1(m,y)),Kr(c))}).on("mouseout",function(d){var p=Vs(d.target,pu);p&&(function(m,y,_){C1(_);var x=oi(m),b=xg(x.componentMainType,x.componentIndex,x.componentHighDownName,_).dispatchers;b?F(b,function(S){return _1(S,y)}):_1(m,y)}(p,d,c._api),Kr(c))}).on("click",function(d){var p=Vs(d.target,function(_){return null!=oi(_).dataIndex},!0);if(p){var m=p.selected?"unselect":"select",y=oi(p);c._api.dispatchAction({type:m,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})},Om=function(h,c,d,p,m){(function(y){var _=[],x=[],b=!1;if(y.eachComponent(function(A,P){var O=P.get("zlevel")||0,E=P.get("z")||0,z=P.getZLevelKey();b=b||!!z,("series"===A?x:_).push({zlevel:O,z:E,idx:P.componentIndex,type:A,key:z})}),b){var S,C,I=_.concat(x);W(I,function(A,P){return A.zlevel===P.zlevel?A.z-P.z:A.zlevel-P.zlevel}),F(I,function(A){var P=y.getComponent(A.type,A.idx),O=A.zlevel,E=A.key;null!=S&&(O=Math.max(S,O)),E?(O===S&&E!==C&&O++,C=E):C&&(O===S&&O++,C=""),S=O,P.setZLevel(O)})}})(c),Sw(h,c,d,p,m),F(h._chartsViews,function(y){y.__alive=!1}),Qd(h,c,d,p,m),F(h._chartsViews,function(y){y.__alive||y.remove(c,d)})},Sw=function(h,c,d,p,m,y){F(y||h._componentsViews,function(_){var x=_.__model;s(0,_),_.render(x,c,d,p),o(x,_),l(x,_)})},Qd=function(h,c,d,p,m,y){var _=h._scheduler;m=Z(m||{},{updatedSeries:c.getSeries()}),_o.trigger("series:beforeupdate",c,d,m);var b,S,A,x=!1;c.eachSeries(function(b){var S=h._chartsMap[b.__viewId];S.__alive=!0;var A,P,C=S.renderTask;_.updatePayload(C,p),s(0,S),y&&y.get(b.uid)&&C.dirty(),C.perform(_.getPerformArgs(C))&&(x=!0),S.group.silent=!!b.get("silent"),A=S,P=b.get("blendMode")||null,A.eachRendered(function(O){O.isGroup||(O.style.blend=P)}),k1(b)}),_.unfinished=x||_.unfinished,_o.trigger("series:layoutlabels",c,d,m),_o.trigger("series:transition",c,d,m),c.eachSeries(function(b){var S=h._chartsMap[b.__viewId];o(b,S),l(b,S)}),S=c,A=0,(b=h)._zr.storage.traverse(function(P){P.isGroup||A++}),A>S.get("hoverLayerThreshold")&&!at.node&&!at.worker&&S.eachSeries(function(P){if(!P.preventUsingHoverLayer){var O=b._chartsMap[P.__viewId];O.__alive&&O.eachRendered(function(E){E.states.emphasis&&(E.states.emphasis.hoverLayer=!0)})}}),_o.trigger("series:afterupdate",c,d,m)},Kr=function(h){h[Mm]=!0,h.getZr().wakeUp()},Tw=function(h){h[Mm]&&(h.getZr().storage.traverse(function(c){Yl(c)||r(c)}),h[Mm]=!1)},Cw=function(h){return new(function(c){function d(){return null!==c&&c.apply(this,arguments)||this}return Le(d,c),d.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(p){for(;p;){var m=p.__ecComponentInfo;if(null!=m)return h._model.getComponent(m.mainType,m.index);p=p.parent}},d.prototype.enterEmphasis=function(p,m){ha(p,m),Kr(h)},d.prototype.leaveEmphasis=function(p,m){ua(p,m),Kr(h)},d.prototype.enterBlur=function(p){x1(p),Kr(h)},d.prototype.leaveBlur=function(p){vg(p),Kr(h)},d.prototype.enterSelect=function(p){b1(p),Kr(h)},d.prototype.leaveSelect=function(p){w1(p),Kr(h)},d.prototype.getModel=function(){return h.getModel()},d.prototype.getViewOfComponentModel=function(p){return h.getViewOfComponentModel(p)},d.prototype.getViewOfSeriesModel=function(p){return h.getViewOfSeriesModel(p)},d}(Gx))(h)},kw=function(h){function c(d,p){for(var m=0;m<d.length;m++)d[m][Im]=p}F(Fu,function(d,p){h._messageCenter.on(p,function(m){if(ip[h.group]&&0!==h[Im]){if(m&&m.escapeConnect)return;var y=h.makeActionFromEvent(m),_=[];F(Ys,function(x){x!==h&&x.group===h.group&&_.push(x)}),c(_,0),F(_,function(x){1!==x[Im]&&x.dispatchAction(y)}),c(_,2)}})})}}(),i}(Sn),Em=Jd.prototype;Em.on=yw("on"),Em.off=yw("off"),Em.one=function(n,i,e){var r=this;this.on.call(this,n,function o(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];i&&i.apply&&i.apply(this,a),r.off(n,o)},e)};var _P=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],ep={},Fu={},Nm=[],Rm=[],tp=[],Dw={},zm={},Ys={},ip={},xP=+new Date-0,bP=+new Date-0,Bm="_echarts_instance_";function Aw(n){ip[n]=!1}var wP=Aw;function jm(n){return Ys[function(i,e){return i.getAttribute?i.getAttribute(e):i[e]}(n,Bm)]}function Hm(n,i){Dw[n]=i}function Vm(n){ve(Rm,n)<0&&Rm.push(n)}function Fm(n,i){Wm(Nm,n,i,2e3)}function Lw(n){np("afterinit",n)}function Pw(n){np("afterupdate",n)}function np(n,i){_o.on(n,i)}function xo(n,i,e){ee(i)&&(e=i,i="");var r=Pe(n)?n.type:[n,n={event:i}][0];n.event=(n.event||r).toLowerCase(),Fu[i=n.event]||(ge(vw.test(r)&&vw.test(i)),ep[r]||(ep[r]={action:e,actionInfo:n}),Fu[i]=r)}function Ow(n,i){ih.register(n,i)}function Ew(n,i){Wm(tp,n,i,1e3,"layout")}function Ua(n,i){Wm(tp,n,i,3e3,"visual")}var Nw=[];function Wm(n,i,e,r,o){if((ee(i)||Pe(i))&&(e=i,i=r),!(ve(Nw,e)>=0)){Nw.push(e);var a=Wb.wrapStageHandler(e,o);a.__prio=i,a.__raw=e,n.push(a)}}function Gm(n,i){zm[n]=i}function Rw(n,i,e){var r=gw("registerMap");r&&r(n,i,e)}var zw=function(n){var i=(n=H(n)).type;i||zi("");var r=i.split(":");2!==r.length&&zi("");var o=!1;"echarts"===r[0]&&(i=r[1],o=!0),n.__isBuiltIn=o,gb.set(i,n)};Ua(2e3,$L),Ua(4500,UL),Ua(4500,qL),Ua(2e3,aP),Ua(4500,sP),Ua(7e3,function(n,i){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var r=e.getData();r.hasItemVisual()&&r.each(function(a){var s=r.getItemVisual(a,"decal");s&&(r.ensureUniqueItemVisual(a,"style").decal=dh(s,i))});var o=r.getVisual("decal");o&&(r.getVisual("style").decal=dh(o,i))}})}),Vm(Zx),Fm(900,function(n){var i=xe();n.eachSeries(function(e){var r=e.get("stack");if(r){var o=i.get(r)||i.set(r,[]),a=e.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!s.stackedDimension||!s.isStackedByIndex&&!s.stackedByDimension)return;o.length&&a.setCalculationInfo("stackedOnSeries",o[o.length-1].seriesModel),o.push(s)}}),i.each(gL)}),Gm("default",function(n,i){de(i=i||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new ti,r=new Si({style:{fill:i.maskColor},zlevel:i.zlevel,z:1e4});e.add(r);var o,a=new Ci({style:{text:i.text,fill:i.textColor,fontSize:i.fontSize,fontWeight:i.fontWeight,fontStyle:i.fontStyle,fontFamily:i.fontFamily},zlevel:i.zlevel,z:10001}),s=new Si({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:i.zlevel,z:10001});return e.add(s),i.showSpinner&&((o=new yu({shape:{startAngle:-Wd/2,endAngle:-Wd/2+.1,r:i.spinnerRadius},style:{stroke:i.color,lineCap:"round",lineWidth:i.lineWidth},zlevel:i.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Wd/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*Wd/2}).delay(300).start("circularInOut"),e.add(o)),e.resize=function(){var l=a.getBoundingRect().width,h=i.showSpinner?i.spinnerRadius:0,c=(n.getWidth()-2*h-(i.showSpinner&&l?10:0)-l)/2-(i.showSpinner&&l?0:5+l/2)+(i.showSpinner?0:l/2)+(l?0:h),d=n.getHeight()/2;i.showSpinner&&o.setShape({cx:c,cy:d}),s.setShape({x:c-h,y:d-h,width:2*h,height:2*h}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),xo({type:Ls,event:Ls,update:Ls},Ze),xo({type:od,event:od,update:od},Ze),xo({type:cu,event:cu,update:cu},Ze),xo({type:ad,event:ad,update:ad},Ze),xo({type:du,event:du,update:du},Ze),Hm("light",rP),Hm("dark",Kb);var Bw=[],SP={registerPreprocessor:Vm,registerProcessor:Fm,registerPostInit:Lw,registerPostUpdate:Pw,registerUpdateLifecycle:np,registerAction:xo,registerCoordinateSystem:Ow,registerLayout:Ew,registerVisual:Ua,registerTransform:zw,registerLoading:Gm,registerMap:Rw,registerImpl:function(n,i){fw[n]=i},PRIORITY:mw,ComponentModel:_i,ComponentView:Qi,SeriesModel:Yi,ChartView:Hi,registerComponentModel:function(n){_i.registerClass(n)},registerComponentView:function(n){Qi.registerClass(n)},registerSeriesModel:function(n){Yi.registerClass(n)},registerChartView:function(n){Hi.registerClass(n)},registerSubTypeDefaulter:function(n,i){_i.registerSubTypeDefaulter(n,i)},registerPainter:function(n,i){x_(n,i)}};function fi(n){ne(n)?F(n,function(i){fi(i)}):ve(Bw,n)>=0||(Bw.push(n),ee(n)&&(n={install:n}),n.install(SP))}function Wu(n){return null==n?0:n.length||1}function jw(n){return n}var da=function(){function n(i,e,r,o,a,s){this._old=i,this._new=e,this._oldKeyGetter=r||jw,this._newKeyGetter=o||jw,this.context=a,this._diffModeMultiple="multiple"===s}return n.prototype.add=function(i){return this._add=i,this},n.prototype.update=function(i){return this._update=i,this},n.prototype.updateManyToOne=function(i){return this._updateManyToOne=i,this},n.prototype.updateOneToMany=function(i){return this._updateOneToMany=i,this},n.prototype.updateManyToMany=function(i){return this._updateManyToMany=i,this},n.prototype.remove=function(i){return this._remove=i,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var i=this._old,e=this._new,r={},o=new Array(i.length),a=new Array(e.length);this._initIndexMap(i,null,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<i.length;s++){var l=o[s],h=r[l],c=Wu(h);if(c>1){var d=h.shift();1===h.length&&(r[l]=h[0]),this._update&&this._update(d,s)}else 1===c?(r[l]=null,this._update&&this._update(h,s)):this._remove&&this._remove(s)}this._performRestAdd(a,r)},n.prototype._executeMultiple=function(){var e=this._new,r={},o={},a=[],s=[];this._initIndexMap(this._old,r,a,"_oldKeyGetter"),this._initIndexMap(e,o,s,"_newKeyGetter");for(var l=0;l<a.length;l++){var h=a[l],c=r[h],d=o[h],p=Wu(c),m=Wu(d);if(p>1&&1===m)this._updateManyToOne&&this._updateManyToOne(d,c),o[h]=null;else if(1===p&&m>1)this._updateOneToMany&&this._updateOneToMany(d,c),o[h]=null;else if(1===p&&1===m)this._update&&this._update(d,c),o[h]=null;else if(p>1&&m>1)this._updateManyToMany&&this._updateManyToMany(d,c),o[h]=null;else if(p>1)for(var y=0;y<p;y++)this._remove&&this._remove(c[y]);else this._remove&&this._remove(c)}this._performRestAdd(s,o)},n.prototype._performRestAdd=function(i,e){for(var r=0;r<i.length;r++){var o=i[r],a=e[o],s=Wu(a);if(s>1)for(var l=0;l<s;l++)this._add&&this._add(a[l]);else 1===s&&this._add&&this._add(a);e[o]=null}},n.prototype._initIndexMap=function(i,e,r,o){for(var a=this._diffModeMultiple,s=0;s<i.length;s++){var l="_ec_"+this[o](i[s],s);if(a||(r[s]=l),e){var h=e[l],c=Wu(h);0===c?(e[l]=s,a&&r.push(l)):1===c?e[l]=[h,s]:h.push(s)}}},n}(),CP=function(){function n(i,e){this._encode=i,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function Ym(n,i){return n.hasOwnProperty(i)||(n[i]=[]),n[i]}function rp(n){return"category"===n?"ordinal":"time"===n?"time":"float"}var op=function(n){this.otherDims={},null!=n&&Z(this,n)},kP=Mi(),TP={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Hw=function(){function n(i){this.dimensions=i.dimensions,this._dimOmitted=i.dimensionOmitted,this.source=i.source,this._fullDimCount=i.fullDimensionCount,this._updateDimOmitted(i.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(i){this._dimOmitted=i,i&&(this._dimNameMap||(this._dimNameMap=Ww(this.source)))},n.prototype.getSourceDimensionIndex=function(i){return nt(this._dimNameMap.get(i),-1)},n.prototype.getSourceDimension=function(i){var e=this.source.dimensionsDefine;if(e)return e[i]},n.prototype.makeStoreSchema=function(){for(var i=this._fullDimCount,e=nb(this.source),r=!Gw(i),o="",a=[],s=0,l=0;s<i;s++){var h=void 0,c=void 0,d=void 0,p=this.dimensions[l];if(p&&p.storeDimIndex===s)h=e?p.name:null,c=p.type,d=p.ordinalMeta,l++;else{var m=this.getSourceDimension(s);m&&(h=e?m.name:null,c=m.type)}a.push({property:h,type:c,ordinalMeta:d}),!e||null==h||p&&p.isCalculationCoord||(o+=r?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),o+="$",o+=TP[c]||"f",d&&(o+=d.uid),o+="$"}var y=this.source;return{dimensions:a,hash:[y.seriesLayoutBy,y.startIndex,o].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var i=[],e=0,r=0;e<this._fullDimCount;e++){var o=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(o=a.name),r++;else{var s=this.getSourceDimension(e);s&&(o=s.name)}i.push(o)}return i},n.prototype.appendCalculationDimension=function(i){this.dimensions.push(i),i.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function Vw(n){return n instanceof Hw}function Fw(n){for(var i=xe(),e=0;e<(n||[]).length;e++){var r=n[e],o=Pe(r)?r.name:r;null!=o&&null==i.get(o)&&i.set(o,e)}return i}function Ww(n){var i=kP(n);return i.dimNameMap||(i.dimNameMap=Fw(n.dimensionsDefine))}function Gw(n){return n>30}var Yw,ap,Gu,Yu,$m,sp,Um,$u=Pe,qa=Te,MP="undefined"==typeof Int32Array?Array:Int32Array,IP=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],DP=["_approximateExtent"],lr=function(){function n(i,e){var r;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o=!1;Vw(i)?(r=i.dimensions,this._dimOmitted=i.isDimensionOmitted(),this._schema=i):(o=!0,r=i),r=r||["x","y"];for(var a={},s=[],l={},h=!1,c={},d=0;d<r.length;d++){var p=r[d],m=J(p)?new op({name:p}):p instanceof op?p:new op(p),y=m.name;m.type=m.type||"float",m.coordDim||(m.coordDim=y,m.coordDimIndex=0);var _=m.otherDims=m.otherDims||{};s.push(y),a[y]=m,null!=c[y]&&(h=!0),m.createInvertedIndices&&(l[y]=[]),0===_.itemName&&(this._nameDimIdx=d),0===_.itemId&&(this._idDimIdx=d),o&&(m.storeDimIndex=d)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(h),this.hostModel=e,this._invertedIndicesMap=l,this._dimOmitted){var x=this._dimIdxToName=xe();F(s,function(b){x.set(a[b].storeDimIndex,b)})}}return n.prototype.getDimension=function(i){var e=this._recognizeDimIndex(i);if(null==e)return i;if(e=i,!this._dimOmitted)return this.dimensions[e];var r=this._dimIdxToName.get(e);if(null!=r)return r;var o=this._schema.getSourceDimension(e);return o?o.name:void 0},n.prototype.getDimensionIndex=function(i){var e=this._recognizeDimIndex(i);if(null!=e)return e;if(null==i)return-1;var r=this._getDimInfo(i);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(i):-1},n.prototype._recognizeDimIndex=function(i){if(Ge(i)||null!=i&&!isNaN(i)&&!this._getDimInfo(i)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(i)<0))return+i},n.prototype._getStoreDimIndex=function(i){return this.getDimensionIndex(i)},n.prototype.getDimensionInfo=function(i){return this._getDimInfo(this.getDimension(i))},n.prototype._initGetDimensionInfo=function(i){var e=this._dimInfos;this._getDimInfo=i?function(r){return e.hasOwnProperty(r)?e[r]:void 0}:function(r){return e[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(i,e){var r=this._dimSummary;if(null==e)return r.encodeFirstDimNotExtra[i];var o=r.encode[i];return o?o[e]:null},n.prototype.mapDimensionsAll=function(i){return(this._dimSummary.encode[i]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(i,e,r){var o,a=this;if(i instanceof fm&&(o=i),!o){var s=this.dimensions,l=am(i)||Ne(i)?new rb(i,s.length):i;o=new fm;var h=qa(s,function(c){return{type:a._dimInfos[c].type,property:c}});o.initData(l,h,r)}this._store=o,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=function(c,d){var p={},m=p.encode={},y=xe(),_=[],x=[],b={};F(c.dimensions,function(P){var O,E=c.getDimensionInfo(P),z=E.coordDim;if(z){var V=E.coordDimIndex;Ym(m,z)[V]=P,E.isExtraCoord||(y.set(z,1),"ordinal"!==(O=E.type)&&"time"!==O&&(_[0]=P),Ym(b,z)[V]=c.getDimensionIndex(E.name)),E.defaultTooltip&&x.push(P)}Ax.each(function(G,Y){var X=Ym(m,Y),te=E.otherDims[Y];null!=te&&!1!==te&&(X[te]=E.name)})});var S=[],C={};y.each(function(P,O){var E=m[O];C[O]=E[0],S=S.concat(E)}),p.dataDimsOnCoord=S,p.dataDimIndicesOnCoord=Te(S,function(P){return c.getDimensionInfo(P).storeDimIndex}),p.encodeFirstDimNotExtra=C;var I=m.label;I&&I.length&&(_=I.slice());var A=m.tooltip;return A&&A.length?x=A.slice():x.length||(x=_.slice()),m.defaultedLabel=_,m.defaultedTooltip=x,p.userOutput=new CP(b,d),p}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(i){var e=this._store.appendData(i);this._doInit(e[0],e[1])},n.prototype.appendValues=function(i,e){var r=this._store.appendValues(i,e.length),o=r.start,a=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var l=o;l<a;l++)this._nameList[l]=e[l-o],s&&Um(this,l)},n.prototype._updateOrdinalMeta=function(){for(var i=this._store,e=this.dimensions,r=0;r<e.length;r++){var o=this._dimInfos[e[r]];o.ordinalMeta&&i.collectOrdinalMeta(o.storeDimIndex,o.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var i=this._store.getProvider();return null==this._idDimIdx&&i.getSource().sourceFormat!==Wa&&!i.fillStorage},n.prototype._doInit=function(i,e){if(!(i>=e)){var r=this._store.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList;if(r.getSource().sourceFormat===Ur&&!r.pure)for(var s=[],l=i;l<e;l++){var h=r.getItem(l,s);if(!this.hasItemOption&&XA(h)&&(this.hasItemOption=!0),h){var c=h.name;null==o[l]&&null!=c&&(o[l]=On(c,null));var d=h.id;null==a[l]&&null!=d&&(a[l]=On(d,null))}}if(this._shouldMakeIdFromName())for(l=i;l<e;l++)Um(this,l);Yw(this)}},n.prototype.getApproximateExtent=function(i){return this._approximateExtent[i]||this._store.getDataExtent(this._getStoreDimIndex(i))},n.prototype.setApproximateExtent=function(i,e){e=this.getDimension(e),this._approximateExtent[e]=i.slice()},n.prototype.getCalculationInfo=function(i){return this._calculationInfo[i]},n.prototype.setCalculationInfo=function(i,e){$u(i)?Z(this._calculationInfo,i):this._calculationInfo[i]=e},n.prototype.getName=function(i){var e=this.getRawIndex(i),r=this._nameList[e];return null==r&&null!=this._nameDimIdx&&(r=Gu(this,this._nameDimIdx,e)),null==r&&(r=""),r},n.prototype._getCategory=function(i,e){var r=this._store.get(i,e),o=this._store.getOrdinalMeta(i);return o?o.categories[r]:r},n.prototype.getId=function(i){return ap(this,this.getRawIndex(i))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(i,e){var o=this._dimInfos[i];if(o)return this._store.get(o.storeDimIndex,e)},n.prototype.getByRawIndex=function(i,e){var o=this._dimInfos[i];if(o)return this._store.getByRawIndex(o.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(i){return this._store.getDataExtent(this._getStoreDimIndex(i))},n.prototype.getSum=function(i){return this._store.getSum(this._getStoreDimIndex(i))},n.prototype.getMedian=function(i){return this._store.getMedian(this._getStoreDimIndex(i))},n.prototype.getValues=function(i,e){var r=this,o=this._store;return ne(i)?o.getValues(qa(i,function(a){return r._getStoreDimIndex(a)}),e):o.getValues(i)},n.prototype.hasValue=function(i){for(var e=this._dimSummary.dataDimIndicesOnCoord,r=0,o=e.length;r<o;r++)if(isNaN(this._store.get(e[r],i)))return!1;return!0},n.prototype.indexOfName=function(i){for(var e=0,r=this._store.count();e<r;e++)if(this.getName(e)===i)return e;return-1},n.prototype.getRawIndex=function(i){return this._store.getRawIndex(i)},n.prototype.indexOfRawIndex=function(i){return this._store.indexOfRawIndex(i)},n.prototype.rawIndexOf=function(i,e){var o=(i&&this._invertedIndicesMap[i])[e];return null==o||isNaN(o)?-1:o},n.prototype.indicesOfNearest=function(i,e,r){return this._store.indicesOfNearest(this._getStoreDimIndex(i),e,r)},n.prototype.each=function(i,e,r){ee(i)&&(r=e,e=i,i=[]);var o=r||this,a=qa(Yu(i),this._getStoreDimIndex,this);this._store.each(a,o?De(e,o):e)},n.prototype.filterSelf=function(i,e,r){ee(i)&&(r=e,e=i,i=[]);var o=r||this,a=qa(Yu(i),this._getStoreDimIndex,this);return this._store=this._store.filter(a,o?De(e,o):e),this},n.prototype.selectRange=function(i){var e=this,r={};return F(ft(i),function(o){var a=e._getStoreDimIndex(o);r[a]=i[o]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(i,e,r){ee(i)&&(r=e,e=i,i=[]);var o=[];return this.each(i,function(){o.push(e&&e.apply(this,arguments))},r=r||this),o},n.prototype.map=function(i,e,r,o){var a=r||o||this,s=qa(Yu(i),this._getStoreDimIndex,this),l=sp(this);return l._store=this._store.map(s,a?De(e,a):e),l},n.prototype.modify=function(i,e,r,o){var a=r||o||this,s=qa(Yu(i),this._getStoreDimIndex,this);this._store.modify(s,a?De(e,a):e)},n.prototype.downSample=function(i,e,r,o){var a=sp(this);return a._store=this._store.downSample(this._getStoreDimIndex(i),e,r,o),a},n.prototype.lttbDownSample=function(i,e){var r=sp(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(i),e),r},n.prototype.getRawDataItem=function(i){return this._store.getRawDataItem(i)},n.prototype.getItemModel=function(i){var e=this.hostModel,r=this.getRawDataItem(i);return new Li(r,e,e&&e.ecModel)},n.prototype.diff=function(i){var e=this;return new da(i?i.getStore().getIndices():[],this.getStore().getIndices(),function(r){return ap(i,r)},function(r){return ap(e,r)})},n.prototype.getVisual=function(i){var e=this._visual;return e&&e[i]},n.prototype.setVisual=function(i,e){this._visual=this._visual||{},$u(i)?Z(this._visual,i):this._visual[i]=e},n.prototype.getItemVisual=function(i,e){var r=this._itemVisuals[i],o=r&&r[e];return null==o?this.getVisual(e):o},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(i,e){var r=this._itemVisuals,o=r[i];o||(o=r[i]={});var a=o[e];return null==a&&(ne(a=this.getVisual(e))?a=a.slice():$u(a)&&(a=Z({},a)),o[e]=a),a},n.prototype.setItemVisual=function(i,e,r){var o=this._itemVisuals[i]||{};this._itemVisuals[i]=o,$u(e)?Z(o,e):o[e]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(i,e){$u(i)?Z(this._layout,i):this._layout[i]=e},n.prototype.getLayout=function(i){return this._layout[i]},n.prototype.getItemLayout=function(i){return this._itemLayouts[i]},n.prototype.setItemLayout=function(i,e,r){this._itemLayouts[i]=r?Z(this._itemLayouts[i]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(i,e){pg(this.hostModel&&this.hostModel.seriesIndex,this.dataType,i,e),this._graphicEls[i]=e},n.prototype.getItemGraphicEl=function(i){return this._graphicEls[i]},n.prototype.eachItemGraphicEl=function(i,e){F(this._graphicEls,function(r,o){r&&i&&i.call(e,r,o)})},n.prototype.cloneShallow=function(i){return i||(i=new n(this._schema?this._schema:qa(this.dimensions,this._getDimInfo,this),this.hostModel)),$m(i,this),i._store=this._store,i},n.prototype.wrapMethod=function(i,e){var r=this[i];ee(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(i),this[i]=function(){var o=r.apply(this,arguments);return e.apply(this,[o].concat(oe(arguments)))})},n.internalField=(Yw=function(i){var e=i._invertedIndicesMap;F(e,function(r,o){var a=i._dimInfos[o],s=a.ordinalMeta,l=i._store;if(s){r=e[o]=new MP(s.categories.length);for(var h=0;h<r.length;h++)r[h]=-1;for(h=0;h<l.count();h++)r[l.get(a.storeDimIndex,h)]=h}})},Gu=function(i,e,r){return On(i._getCategory(e,r),null)},ap=function(i,e){var r=i._idList[e];return null==r&&null!=i._idDimIdx&&(r=Gu(i,i._idDimIdx,e)),null==r&&(r="e\0\0"+e),r},Yu=function(i){return ne(i)||(i=null!=i?[i]:[]),i},sp=function(i){var e=new n(i._schema?i._schema:qa(i.dimensions,i._getDimInfo,i),i.hostModel);return $m(e,i),e},$m=function(i,e){F(IP.concat(e.__wrappedMethods||[]),function(r){e.hasOwnProperty(r)&&(i[r]=e[r])}),i.__wrappedMethods=e.__wrappedMethods,F(DP,function(r){i[r]=H(e[r])}),i._calculationInfo=Z({},e._calculationInfo)},void(Um=function(i,e){var r=i._nameList,o=i._idList,a=i._nameDimIdx,s=i._idDimIdx,l=r[e],h=o[e];if(null==l&&null!=a&&(r[e]=l=Gu(i,a,e)),null==h&&null!=s&&(o[e]=h=Gu(i,s,e)),null==h&&null!=l){var c=i._nameRepeatCount,d=c[l]=(c[l]||0)+1;h=l,d>1&&(h+="__ec__"+d),o[e]=h}})),n}();function fh(n,i){am(n)||(n=lm(n));var V,X,e=(i=i||{}).coordDimensions||[],r=i.dimensionsDefine||n.dimensionsDefine||[],o=xe(),a=[],s=(V=e,X=Math.max(n.dimensionsDetectedCount||1,V.length,r.length,i.dimensionsCount||0),F(V,function(te){var ae;Pe(te)&&(ae=te.dimsDef)&&(X=Math.max(X,ae.length))}),X),l=i.canOmitUnusedDimensions&&Gw(s),h=r===n.dimensionsDefine,c=h?Ww(n):Fw(r),d=i.encodeDefine;!d&&i.encodeDefaulter&&(d=i.encodeDefaulter(n,s));for(var p=xe(d),m=new mb(s),y=0;y<m.length;y++)m[y]=-1;function _(z){var V=m[z];if(V<0){var G=r[z],Y=Pe(G)?G:{name:G},X=new op,te=Y.name;return null!=te&&null!=c.get(te)&&(X.name=X.displayName=te),null!=Y.type&&(X.type=Y.type),null!=Y.displayName&&(X.displayName=Y.displayName),m[z]=a.length,X.storeDimIndex=z,a.push(X),X}return a[V]}if(!l)for(y=0;y<s;y++)_(y);p.each(function(z,V){var G=Gi(z).slice();if(1===G.length&&!J(G[0])&&G[0]<0)p.set(V,!1);else{var Y=p.set(V,[]);F(G,function(X,te){var ae=J(X)?c.get(X):X;null!=ae&&ae<s&&(Y[te]=ae,b(_(ae),V,te))})}});var x=0;function b(z,V,G){null!=Ax.get(V)?z.otherDims[V]=G:(z.coordDim=V,z.coordDimIndex=G,o.set(V,!0))}F(e,function(z){var V,G,Y,X;if(J(z))V=z,X={};else{V=(X=z).name;var te=X.ordinalMeta;X.ordinalMeta=null,(X=Z({},X)).ordinalMeta=te,G=X.dimsDef,Y=X.otherDims,X.name=X.coordDim=X.coordDimIndex=X.dimsDef=X.otherDims=null}var ae=p.get(V);if(!1!==ae){if(!(ae=Gi(ae)).length)for(var he=0;he<(G&&G.length||1);he++){for(;x<s&&null!=_(x).coordDim;)x++;x<s&&ae.push(x++)}F(ae,function(fe,ye){var Se=_(fe);if(h&&null!=X.type&&(Se.type=X.type),b(de(Se,X),V,ye),null==Se.name&&G){var Ee=G[ye];!Pe(Ee)&&(Ee={name:Ee}),Se.name=Se.displayName=Ee.name,Se.defaultTooltip=Ee.defaultTooltip}Y&&de(Se.otherDims,Y)})}});var S=i.generateCoord,C=i.generateCoordCount,I=null!=C;C=S?C||1:0;var A=S||"value";function P(z){null==z.name&&(z.name=z.coordDim)}if(l)F(a,function(z){P(z)}),a.sort(function(z,V){return z.storeDimIndex-V.storeDimIndex});else for(var O=0;O<s;O++){var E=_(O);null==E.coordDim&&(E.coordDim=AP(A,o,I),E.coordDimIndex=0,(!S||C<=0)&&(E.isExtraCoord=!0),C--),P(E),null!=E.type||1!==Nx(n,O)&&(!E.isExtraCoord||null==E.otherDims.itemName&&null==E.otherDims.seriesName)||(E.type="ordinal")}return function(z){for(var V=xe(),G=0;G<z.length;G++){var Y=z[G],X=Y.name,te=V.get(X)||0;te>0&&(Y.name=X+(te-1)),te++,V.set(X,te)}}(a),new Hw({source:n,dimensions:a,fullDimensionCount:s,dimensionOmitted:l})}function AP(n,i,e){if(e||i.hasKey(n)){for(var r=0;i.hasKey(n+r);)r++;n+=r}return i.set(n,!0),n}var LP=function(n){this.coordSysDims=[],this.axisMap=xe(),this.categoryAxisMap=xe(),this.coordSysName=n},PP={cartesian2d:function(n,i,e,r){var o=n.getReferringComponents("xAxis",kn).models[0],a=n.getReferringComponents("yAxis",kn).models[0];i.coordSysDims=["x","y"],e.set("x",o),e.set("y",a),gh(o)&&(r.set("x",o),i.firstCategoryDimIndex=0),gh(a)&&(r.set("y",a),null==i.firstCategoryDimIndex&&(i.firstCategoryDimIndex=1))},singleAxis:function(n,i,e,r){var o=n.getReferringComponents("singleAxis",kn).models[0];i.coordSysDims=["single"],e.set("single",o),gh(o)&&(r.set("single",o),i.firstCategoryDimIndex=0)},polar:function(n,i,e,r){var o=n.getReferringComponents("polar",kn).models[0],a=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");i.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",s),gh(a)&&(r.set("radius",a),i.firstCategoryDimIndex=0),gh(s)&&(r.set("angle",s),null==i.firstCategoryDimIndex&&(i.firstCategoryDimIndex=1))},geo:function(n,i,e,r){i.coordSysDims=["lng","lat"]},parallel:function(n,i,e,r){var o=n.ecModel,a=o.getComponent("parallel",n.get("parallelIndex")),s=i.coordSysDims=a.dimensions.slice();F(a.parallelAxisIndex,function(l,h){var c=o.getComponent("parallelAxis",l),d=s[h];e.set(d,c),gh(c)&&(r.set(d,c),null==i.firstCategoryDimIndex&&(i.firstCategoryDimIndex=h))})}};function gh(n){return"category"===n.get("type")}function $w(n,i,e){var r,o,a,s=(e=e||{}).byIndex,l=e.stackedCoordDimension;Vw(i.schema)?(r=(o=i.schema).dimensions,a=i.store):r=i;var h,c,d,p,m=!(!n||!n.get("stack"));if(F(r,function(C,I){J(C)&&(r[I]=C={name:C}),m&&!C.isExtraCoord&&(s||h||!C.ordinalMeta||(h=C),c||"ordinal"===C.type||"time"===C.type||l&&l!==C.coordDim||(c=C))}),!c||s||h||(s=!0),c){d="__\0ecstackresult_"+n.id,p="__\0ecstackedover_"+n.id,h&&(h.createInvertedIndices=!0);var y=c.coordDim,_=c.type,x=0;F(r,function(C){C.coordDim===y&&x++});var b={name:d,coordDim:y,coordDimIndex:x,type:_,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},S={name:p,coordDim:p,coordDimIndex:x+1,type:_,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};o?(a&&(b.storeDimIndex=a.ensureCalculationDimension(p,_),S.storeDimIndex=a.ensureCalculationDimension(d,_)),o.appendCalculationDimension(b),o.appendCalculationDimension(S)):(r.push(b),r.push(S))}return{stackedDimension:c&&c.name,stackedByDimension:h&&h.name,isStackedByIndex:s,stackedOverDimension:p,stackResultDimension:d}}function pa(n,i){return!!i&&i===n.getCalculationInfo("stackedDimension")}function qm(n,i){return pa(n,i)?n.getCalculationInfo("stackResultDimension"):i}function Bo(n,i,e){e=e||{};var r,o=i.getSourceManager(),a=!1;n?(a=!0,r=lm(n)):a=(r=o.getSource()).sourceFormat===Ur;var S,C,I,A,s=function(b){var S=b.get("coordinateSystem"),C=new LP(S),I=PP[S];if(I)return I(b,C,C.axisMap,C.categoryAxisMap),C}(i),l=(S=s,I=i.get("coordinateSystem"),A=ih.get(I),S&&S.coordSysDims&&(C=Te(S.coordSysDims,function(P){var O={name:P},E=S.axisMap.get(P);if(E){var z=E.get("type");O.type=rp(z)}return O})),C||(C=A&&(A.getDimensionsInfo?A.getDimensionsInfo():A.dimensions.slice())||["x","y"]),C),h=e.useEncodeDefaulter,c=ee(h)?h:h?Q(Ex,l,i):null,d=fh(r,{coordDimensions:l,generateCoord:e.generateCoord,encodeDefine:i.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a}),p=function(b,S,C){var I,A;return C&&F(b,function(P,O){var z=C.categoryAxisMap.get(P.coordDim);z&&(null==I&&(I=O),P.ordinalMeta=z.getOrdinalMeta(),S&&(P.createInvertedIndices=!0)),null!=P.otherDims.itemName&&(A=!0)}),A||null==I||(b[I].otherDims.itemName=0),I}(d.dimensions,e.createInvertedIndices,s),m=a?null:o.getSharedDataStore(d),y=$w(i,{schema:d,store:m}),_=new lr(d,i);_.setCalculationInfo(y);var x=null!=p&&function(b){if(b.sourceFormat===Ur){var S=function(C){for(var I=0;I<C.length&&null==C[I];)I++;return C[I]}(b.data||[]);return!ne(Nl(S))}}(r)?function(b,S,C,I){return I===p?C:this.defaultDimValueGetter(b,S,C,I)}:null;return _.hasItemOption=!1,_.initData(a?r:m,null,x),_}var jo=function(){function n(i){this._setting=i||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(i){return this._setting[i]},n.prototype.unionExtent=function(i){var e=this._extent;i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])},n.prototype.unionExtentFromData=function(i,e){this.unionExtent(i.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(i,e){var r=this._extent;isNaN(i)||(r[0]=i),isNaN(e)||(r[1]=e)},n.prototype.isInExtentRange=function(i){return this._extent[0]<=i&&this._extent[1]>=i},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(i){this._isBlank=i},n}();Zc(jo);var OP=0,Xm=function(){function n(i){this.categories=i.categories||[],this._needCollect=i.needCollect,this._deduplication=i.deduplication,this.uid=++OP}return n.createByAxisModel=function(i){var e=i.option,r=e.data,o=r&&Te(r,EP);return new n({categories:o,needCollect:!o,deduplication:!1!==e.dedplication})},n.prototype.getOrdinal=function(i){return this._getOrCreateMap().get(i)},n.prototype.parseAndCollect=function(i){var e,r=this._needCollect;if(!J(i)&&!r)return i;if(r&&!this._deduplication)return this.categories[e=this.categories.length]=i,e;var o=this._getOrCreateMap();return null==(e=o.get(i))&&(r?(this.categories[e=this.categories.length]=i,o.set(i,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=xe(this.categories))},n}();function EP(n){return Pe(n)&&null!=n.value?n.value:n+""}function Km(n){return"interval"===n.type||"log"===n.type}function Zm(n){var i=Math.pow(10,Xc(n)),e=n/i;return e?2===e?e=3:3===e?e=5:e*=2:e=1,cn(e*i)}function Uw(n){return co(n)+2}function qw(n,i,e){n[i]=Math.max(Math.min(n[i],e[1]),e[0])}function lp(n,i){return n>=i[0]&&n<=i[1]}function hp(n,i){return i[1]===i[0]?.5:(n-i[0])/(i[1]-i[0])}function up(n,i){return n*(i[1]-i[0])+i[0]}var cp=function(n){function i(e){var r=n.call(this,e)||this;r.type="ordinal";var o=r.getSetting("ordinalMeta");return o||(o=new Xm({})),ne(o)&&(o=new Xm({categories:Te(o,function(a){return Pe(a)?a.value:a})})),r._ordinalMeta=o,r._extent=r.getSetting("extent")||[0,o.categories.length-1],r}return Le(i,n),i.prototype.parse=function(e){return null==e?NaN:J(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},i.prototype.contain=function(e){return lp(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},i.prototype.normalize=function(e){return hp(e=this._getTickNumber(this.parse(e)),this._extent)},i.prototype.scale=function(e){return e=Math.round(up(e,this._extent)),this.getRawOrdinalNumber(e)},i.prototype.getTicks=function(){for(var e=[],r=this._extent,o=r[0];o<=r[1];)e.push({value:o}),o++;return e},i.prototype.getMinorTicks=function(e){},i.prototype.setSortInfo=function(e){if(null!=e){for(var r=e.ordinalNumbers,o=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,l=this._ordinalMeta.categories.length,h=Math.min(l,r.length);s<h;++s){var c=r[s];o[s]=c,a[c]=s}for(var d=0;s<l;++s){for(;null!=a[d];)d++;o.push(d),a[d]=s}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},i.prototype._getTickNumber=function(e){var r=this._ticksByOrdinalNumber;return r&&e>=0&&e<r.length?r[e]:e},i.prototype.getRawOrdinalNumber=function(e){var r=this._ordinalNumbersByTick;return r&&e>=0&&e<r.length?r[e]:e},i.prototype.getLabel=function(e){if(!this.isBlank()){var r=this.getRawOrdinalNumber(e.value),o=this._ordinalMeta.categories[r];return null==o?"":o+""}},i.prototype.count=function(){return this._extent[1]-this._extent[0]+1},i.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},i.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},i.prototype.getOrdinalMeta=function(){return this._ordinalMeta},i.prototype.calcNiceTicks=function(){},i.prototype.calcNiceExtent=function(){},i.type="ordinal",i}(jo);jo.registerClass(cp);var $s=cn,fa=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Le(i,n),i.prototype.parse=function(e){return e},i.prototype.contain=function(e){return lp(e,this._extent)},i.prototype.normalize=function(e){return hp(e,this._extent)},i.prototype.scale=function(e){return up(e,this._extent)},i.prototype.setExtent=function(e,r){var o=this._extent;isNaN(e)||(o[0]=parseFloat(e)),isNaN(r)||(o[1]=parseFloat(r))},i.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1]),this.setExtent(r[0],r[1])},i.prototype.getInterval=function(){return this._interval},i.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Uw(e)},i.prototype.getTicks=function(e){var r=this._interval,o=this._extent,a=this._niceExtent,s=this._intervalPrecision,l=[];if(!r)return l;o[0]<a[0]&&l.push(e?{value:$s(a[0]-r,s)}:{value:o[0]});for(var h=a[0];h<=a[1]&&(l.push({value:h}),(h=$s(h+r,s))!==l[l.length-1].value);)if(l.length>1e4)return[];var c=l.length?l[l.length-1].value:a[1];return o[1]>c&&l.push(e?{value:$s(c+r,s)}:{value:o[1]}),l},i.prototype.getMinorTicks=function(e){for(var r=this.getTicks(!0),o=[],a=this.getExtent(),s=1;s<r.length;s++){for(var h=r[s-1],c=0,d=[],p=(r[s].value-h.value)/e;c<e-1;){var m=$s(h.value+(c+1)*p);m>a[0]&&m<a[1]&&d.push(m),c++}o.push(d)}return o},i.prototype.getLabel=function(e,r){if(null==e)return"";var o=r&&r.precision;return null==o?o=co(e.value)||0:"auto"===o&&(o=this._intervalPrecision),Yg($s(e.value,o,!0))},i.prototype.calcNiceTicks=function(e,r,o){e=e||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var l=function NP(n,i,e,r){var o={},s=o.interval=Gf((n[1]-n[0])/i,!0);null!=e&&s<e&&(s=o.interval=e),null!=r&&s>r&&(s=o.interval=r);var h,c,l=o.intervalPrecision=Uw(s);return h=o.niceTickExtent=[cn(Math.ceil(n[0]/s)*s,l),cn(Math.floor(n[1]/s)*s,l)],c=n,!isFinite(h[0])&&(h[0]=c[0]),!isFinite(h[1])&&(h[1]=c[1]),qw(h,0,c),qw(h,1,c),h[0]>h[1]&&(h[0]=h[1]),o}(a,e,r,o);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},i.prototype.calcNiceExtent=function(e){var r=this._extent;if(r[0]===r[1])if(0!==r[0]){var o=Math.abs(r[0]);e.fixMax||(r[1]+=o/2),r[0]-=o/2}else r[1]=1;isFinite(r[1]-r[0])||(r[0]=0,r[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var s=this._interval;e.fixMin||(r[0]=$s(Math.floor(r[0]/s)*s)),e.fixMax||(r[1]=$s(Math.ceil(r[1]/s)*s))},i.prototype.setNiceExtent=function(e,r){this._niceExtent=[e,r]},i.type="interval",i}(jo);jo.registerClass(fa);var Xw="undefined"!=typeof Float32Array,RP=Xw?Float32Array:Array;function Ho(n){return ne(n)?Xw?new Float32Array(n):n:new RP(n)}var Qm="__ec_stack_";function Jm(n){return n.get("stack")||Qm+n.seriesIndex}function ev(n){return n.dim+n.index}function Kw(n,i){var e=[];return i.eachSeriesByType(n,function(r){tS(r)&&e.push(r)}),e}function Zw(n){var i=function(r){var o={};F(r,function(p){var m=p.coordinateSystem.getBaseAxis();if("time"===m.type||"value"===m.type)for(var y=p.getData(),_=m.dim+"_"+m.index,x=y.getDimensionIndex(y.mapDimension(m.dim)),b=y.getStore(),S=0,C=b.count();S<C;++S){var I=b.get(x,S);o[_]?o[_].push(I):o[_]=[I]}});var a={};for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];if(l){l.sort(function(p,m){return p-m});for(var h=null,c=1;c<l.length;++c){var d=l[c]-l[c-1];d>0&&(h=null===h?d:Math.min(h,d))}a[s]=h}}return a}(n),e=[];return F(n,function(r){var o,a=r.coordinateSystem.getBaseAxis(),s=a.getExtent();if("category"===a.type)o=a.getBandWidth();else if("value"===a.type||"time"===a.type){var h=i[a.dim+"_"+a.index],c=Math.abs(s[1]-s[0]),d=a.scale.getExtent(),p=Math.abs(d[1]-d[0]);o=h?c/p*h:c}else{var m=r.getData();o=Math.abs(s[1]-s[0])/m.count()}var y=Bt(r.get("barWidth"),o),_=Bt(r.get("barMaxWidth"),o),x=Bt(r.get("barMinWidth")||(iS(r)?.5:1),o),b=r.get("barGap"),S=r.get("barCategoryGap");e.push({bandWidth:o,barWidth:y,barMaxWidth:_,barMinWidth:x,barGap:b,barCategoryGap:S,axisKey:ev(a),stackId:Jm(r)})}),Qw(e)}function Qw(n){var i={};F(n,function(r,o){var a=r.axisKey,s=r.bandWidth,l=i[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},h=l.stacks;i[a]=l;var c=r.stackId;h[c]||l.autoWidthCount++,h[c]=h[c]||{width:0,maxWidth:0};var d=r.barWidth;d&&!h[c].width&&(h[c].width=d,d=Math.min(l.remainedWidth,d),l.remainedWidth-=d);var p=r.barMaxWidth;p&&(h[c].maxWidth=p);var m=r.barMinWidth;m&&(h[c].minWidth=m);var y=r.barGap;null!=y&&(l.gap=y);var _=r.barCategoryGap;null!=_&&(l.categoryGap=_)});var e={};return F(i,function(r,o){e[o]={};var a=r.stacks,s=r.bandWidth,l=r.categoryGap;if(null==l){var h=ft(a).length;l=Math.max(35-4*h,15)+"%"}var c=Bt(l,s),d=Bt(r.gap,1),p=r.remainedWidth,m=r.autoWidthCount,y=(p-c)/(m+(m-1)*d);y=Math.max(y,0),F(a,function(S){var C=S.maxWidth,I=S.minWidth;if(S.width)A=S.width,C&&(A=Math.min(A,C)),I&&(A=Math.max(A,I)),S.width=A,p-=A+d*A,m--;else{var A=y;C&&C<A&&(A=Math.min(C,p)),I&&I>A&&(A=I),A!==y&&(S.width=A,p-=A+d*A,m--)}}),y=(p-c)/(m+(m-1)*d),y=Math.max(y,0);var _,x=0;F(a,function(S,C){S.width||(S.width=y),_=S,x+=S.width*(1+d)}),_&&(x-=_.width*d);var b=-x/2;F(a,function(S,C){e[o][C]=e[o][C]||{bandWidth:s,offset:b,width:S.width},b+=S.width*(1+d)})}),e}function Jw(n,i){var e=Kw(n,i),r=Zw(e);F(e,function(o){var a=o.getData(),s=o.coordinateSystem.getBaseAxis(),l=Jm(o),h=r[ev(s)][l];a.setLayout({bandWidth:h.bandWidth,offset:h.offset,size:h.width})})}function eS(n){return{seriesType:n,plan:sh(),reset:function(i){if(tS(i)){var e=i.getData(),r=i.coordinateSystem,o=r.getBaseAxis(),a=r.getOtherAxis(o),s=e.getDimensionIndex(e.mapDimension(a.dim)),l=e.getDimensionIndex(e.mapDimension(o.dim)),h=i.get("showBackground",!0),c=e.mapDimension(a.dim),d=e.getCalculationInfo("stackResultDimension"),p=pa(e,c)&&!!e.getCalculationInfo("stackedOnSeries"),m=a.isHorizontal(),y=(A=a).toGlobalCoord(A.dataToCoord("log"===A.type?1:0)),_=iS(i),x=i.get("barMinHeight")||0,b=d&&e.getDimensionIndex(d),S=e.getLayout("size"),C=e.getLayout("offset");return{progress:function(I,A){for(var P,O=I.count,E=_&&Ho(3*O),z=_&&h&&Ho(3*O),V=_&&Ho(O),G=r.master.getRect(),Y=m?G.width:G.height,X=A.getStore(),te=0;null!=(P=I.next());){var ae=X.get(p?b:s,P),he=X.get(l,P),fe=y,ye=void 0;p&&(ye=+ae-X.get(s,P));var Se=void 0,Ee=void 0,Re=void 0,ze=void 0;if(m){var ot=r.dataToPoint([ae,he]);p&&(fe=r.dataToPoint([ye,he])[0]),Se=fe,Ee=ot[1]+C,Re=ot[0]-fe,ze=S,Math.abs(Re)<x&&(Re=(Re<0?-1:1)*x)}else ot=r.dataToPoint([he,ae]),p&&(fe=r.dataToPoint([he,ye])[1]),Se=ot[0]+C,Ee=fe,Re=S,ze=ot[1]-fe,Math.abs(ze)<x&&(ze=(ze<=0?-1:1)*x);_?(E[te]=Se,E[te+1]=Ee,E[te+2]=m?Re:ze,z&&(z[te]=m?G.x:Se,z[te+1]=m?Ee:G.y,z[te+2]=Y),V[P]=P):A.setItemLayout(P,{x:Se,y:Ee,width:Re,height:ze}),te+=3}_&&A.setLayout({largePoints:E,largeDataIndices:V,largeBackgroundPoints:z,valueAxisHorizontal:m})}}}var A}}}function tS(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function iS(n){return n.pipelineContext&&n.pipelineContext.large}var tv=function(n){function i(e){var r=n.call(this,e)||this;return r.type="time",r}return Le(i,n),i.prototype.getLabel=function(e){var r=this.getSetting("useUTC");return Tu(e.value,fx[function(o){switch(o){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Zl(this._minLevelUnit))]||fx.second,r,this.getSetting("locale"))},i.prototype.getFormattedLabel=function(e,r,o){var a=this.getSetting("useUTC");return function(s,l,h,c,d){var p=null;if(J(h))p=h;else if(ee(h))p=h(s.value,l,{level:s.level});else{var m=Z({},ku);if(s.level>0)for(var y=0;y<Wg.length;++y)m[Wg[y]]="{primary|"+m[Wg[y]]+"}";var _=h?!1===h.inherit?h:de(h,m):m,x=mx(s.value,d);if(_[x])p=_[x];else if(_.inherit){for(y=gx.indexOf(x)-1;y>=0;--y)if(_[x]){p=_[x];break}p=p||m.none}if(ne(p)){var b=null==s.level?0:s.level>=0?s.level:p.length+s.level;p=p[b=Math.min(b,p.length-1)]}}return Tu(new Date(s.value),p,d,c)}(e,r,o,this.getSetting("locale"),a)},i.prototype.getTicks=function(){var r=this._extent,o=[];if(!this._interval)return o;o.push({value:r[0],level:0});var a=this.getSetting("useUTC"),s=function(l,h,c,d){var m=gx,y=0;function _(fe,ye,Se,Ee,Re,ze,ot){for(var xt=new Date(ye),Ue=ye,pt=xt[Ee]();Ue<Se&&Ue<=d[1];)ot.push({value:Ue}),xt[Re](pt+=fe),Ue=xt.getTime();ot.push({value:Ue,notAdd:!0})}function x(fe,ye,Se){var Ee=[],Re=!ye.length;if(!function(yt,Dt,St,Ot){var Ft=Br(Dt),ni=Br(St),si=function(Lr){return vx(Ft,Lr,Ot)===vx(ni,Lr,Ot)},Ni=function(){return si("year")},di=function(){return Ni()&&si("month")},wi=function(){return di()&&si("day")},Di=function(){return wi()&&si("hour")},Ki=function(){return Di()&&si("minute")},en=function(){return Ki()&&si("second")};switch(yt){case"year":return Ni();case"month":return di();case"day":return wi();case"hour":return Di();case"minute":return Ki();case"second":return en();case"millisecond":return en()&&si("millisecond")}}(Zl(fe),d[0],d[1],c)){Re&&(ye=[{value:VP(new Date(d[0]),fe,c)},{value:d[1]}]);for(var ze=0;ze<ye.length-1;ze++){var ot=ye[ze].value,xt=ye[ze+1].value;if(ot!==xt){var Ue=void 0,pt=void 0,bt=void 0;switch(fe){case"year":Ue=Math.max(1,Math.round(h/Cu/365)),pt=Gg(c),bt=rL(c);break;case"half-year":case"quarter":case"month":Ue=BP(h),pt=Ql(c),bt=yx(c);break;case"week":case"half-week":case"day":Ue=zP(h),pt=Md(c),bt=_x(c);break;case"half-day":case"quarter-day":case"hour":Ue=jP(h),pt=Mu(c),bt=xx(c);break;case"minute":Ue=nS(h,!0),pt=Id(c),bt=bx(c);break;case"second":Ue=nS(h,!1),pt=Dd(c),bt=Sx(c);break;case"millisecond":Ue=HP(h),pt=Ad(c),bt=Cx(c)}_(Ue,ot,xt,pt,bt,0,Ee),"year"===fe&&Se.length>1&&0===ze&&Se.unshift({value:Se[0].value-Ue})}}for(ze=0;ze<Ee.length;ze++)Se.push(Ee[ze]);return Ee}}for(var b=[],S=[],C=0,I=0,A=0;A<m.length&&y++<1e4;++A){var P=Zl(m[A]);if(nL(m[A])&&(x(m[A],b[b.length-1]||[],S),P!==(m[A+1]?Zl(m[A+1]):null))){if(S.length){I=C,S.sort(function(fe,ye){return fe.value-ye.value});for(var O=[],E=0;E<S.length;++E){var z=S[E].value;0!==E&&S[E-1].value===z||(O.push(S[E]),z>=d[0]&&z<=d[1]&&C++)}var V=(d[1]-d[0])/h;if(C>1.5*V&&I>V/1.5||(b.push(O),C>V||l===m[A]))break}S=[]}}var G=tt(Te(b,function(fe){return tt(fe,function(ye){return ye.value>=d[0]&&ye.value<=d[1]&&!ye.notAdd})}),function(fe){return fe.length>0}),Y=[],X=G.length-1;for(A=0;A<G.length;++A)for(var te=G[A],ae=0;ae<te.length;++ae)Y.push({value:te[ae].value,level:X-A});Y.sort(function(fe,ye){return fe.value-ye.value});var he=[];for(A=0;A<Y.length;++A)0!==A&&Y[A].value===Y[A-1].value||he.push(Y[A]);return he}(this._minLevelUnit,this._approxInterval,a,r);return(o=o.concat(s)).push({value:r[1],level:0}),o},i.prototype.calcNiceExtent=function(e){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Cu,r[1]+=Cu),r[1]===-1/0&&r[0]===1/0){var o=new Date;r[1]=+new Date(o.getFullYear(),o.getMonth(),o.getDate()),r[0]=r[1]-Cu}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},i.prototype.calcNiceTicks=function(e,r,o){var a=this._extent;this._approxInterval=(a[1]-a[0])/(e=e||10),null!=r&&this._approxInterval<r&&(this._approxInterval=r),null!=o&&this._approxInterval>o&&(this._approxInterval=o);var l=dp.length,h=Math.min(function(c,d,p,m){for(;p<m;){var y=p+m>>>1;c[y][1]<d?p=y+1:m=y}return p}(dp,this._approxInterval,0,l),l-1);this._interval=dp[h][1],this._minLevelUnit=dp[Math.max(h-1,0)][0]},i.prototype.parse=function(e){return Ge(e)?e:+Br(e)},i.prototype.contain=function(e){return lp(this.parse(e),this._extent)},i.prototype.normalize=function(e){return hp(this.parse(e),this._extent)},i.prototype.scale=function(e){return up(e,this._extent)},i.type="time",i}(fa),dp=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",px/2],["year",px]];function zP(n,i){return(n/=Cu)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function BP(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function jP(n){return(n/=36e5)>12?12:n>6?6:n>3.5?4:n>2?2:1}function nS(n,i){return(n/=i?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function HP(n){return Gf(n,!0)}function VP(n,i,e){var r=new Date(n);switch(Zl(i)){case"year":case"month":r[yx(e)](0);case"day":r[_x(e)](1);case"hour":r[xx(e)](0);case"minute":r[bx(e)](0);case"second":r[Sx(e)](0),r[Cx(e)](0)}return r.getTime()}jo.registerClass(tv);var rS=jo.prototype,Uu=fa.prototype,FP=cn,WP=Math.floor,GP=Math.ceil,pp=Math.pow,bo=Math.log,iv=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new fa,e._interval=0,e}return Le(i,n),i.prototype.getTicks=function(e){var o=this._extent,a=this._originalScale.getExtent();return Te(Uu.getTicks.call(this,e),function(s){var l=s.value,h=cn(pp(this.base,l));return h=l===o[0]&&this._fixMin?fp(h,a[0]):h,{value:h=l===o[1]&&this._fixMax?fp(h,a[1]):h}},this)},i.prototype.setExtent=function(e,r){var o=bo(this.base);e=bo(Math.max(0,e))/o,r=bo(Math.max(0,r))/o,Uu.setExtent.call(this,e,r)},i.prototype.getExtent=function(){var e=this.base,r=rS.getExtent.call(this);r[0]=pp(e,r[0]),r[1]=pp(e,r[1]);var o=this._originalScale.getExtent();return this._fixMin&&(r[0]=fp(r[0],o[0])),this._fixMax&&(r[1]=fp(r[1],o[1])),r},i.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var r=this.base;e[0]=bo(e[0])/bo(r),e[1]=bo(e[1])/bo(r),rS.unionExtent.call(this,e)},i.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},i.prototype.calcNiceTicks=function(e){e=e||10;var r=this._extent,o=r[1]-r[0];if(!(o===1/0||o<=0)){var a=S_(o);for(e/o*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[cn(GP(r[0]/a)*a),cn(WP(r[1]/a)*a)];this._interval=a,this._niceExtent=s}},i.prototype.calcNiceExtent=function(e){Uu.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},i.prototype.parse=function(e){return e},i.prototype.contain=function(e){return lp(e=bo(e)/bo(this.base),this._extent)},i.prototype.normalize=function(e){return hp(e=bo(e)/bo(this.base),this._extent)},i.prototype.scale=function(e){return e=up(e,this._extent),pp(this.base,e)},i.type="log",i}(jo),oS=iv.prototype;function fp(n,i){return FP(n,co(i))}oS.getMinorTicks=Uu.getMinorTicks,oS.getLabel=Uu.getLabel,jo.registerClass(iv);var YP=function(){function n(i,e,r){this._prepareParams(i,e,r)}return n.prototype._prepareParams=function(i,e,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var o=this._isOrdinal="ordinal"===i.type;this._needCrossZero="interval"===i.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",!0);ee(a)?this._modelMinNum=gp(i,a({min:r[0],max:r[1]})):"dataMin"!==a&&(this._modelMinNum=gp(i,a));var s=this._modelMaxRaw=e.get("max",!0);if(ee(s)?this._modelMaxNum=gp(i,s({min:r[0],max:r[1]})):"dataMax"!==s&&(this._modelMaxNum=gp(i,s)),o)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),h=ne(l)?l:[l||0,l||0];this._boundaryGapInner="boolean"==typeof h[0]||"boolean"==typeof h[1]?[0,0]:[uo(h[0],1),uo(h[1],1)]}},n.prototype.calculate=function(){var i=this._isOrdinal,e=this._dataMin,r=this._dataMax,o=this._axisDataLen,a=this._boundaryGapInner,s=i?null:r-e||Math.abs(e),l="dataMin"===this._modelMinRaw?e:this._modelMinNum,h="dataMax"===this._modelMaxRaw?r:this._modelMaxNum,c=null!=l,d=null!=h;null==l&&(l=i?o?0:NaN:e-a[0]*s),null==h&&(h=i?o?o-1:NaN:r+a[1]*s),(null==l||!isFinite(l))&&(l=NaN),(null==h||!isFinite(h))&&(h=NaN);var p=Ht(l)||Ht(h)||i&&!o;this._needCrossZero&&(l>0&&h>0&&!c&&(l=0),l<0&&h<0&&!d&&(h=0));var m=this._determinedMin,y=this._determinedMax;return null!=m&&(l=m,c=!0),null!=y&&(h=y,d=!0),{min:l,max:h,minFixed:c,maxFixed:d,isBlank:p}},n.prototype.modifyDataMinMax=function(i,e){this[UP[i]]=e},n.prototype.setDeterminedMinMax=function(i,e){this[$P[i]]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),$P={min:"_determinedMin",max:"_determinedMax"},UP={min:"_dataMin",max:"_dataMax"};function aS(n,i,e){var r=n.rawExtentInfo;return r||(r=new YP(n,i,e),n.rawExtentInfo=r,r)}function gp(n,i){return null==i?null:Ht(i)?NaN:n.parse(i)}function sS(n,i){var e=n.type,r=aS(n,i,n.getExtent()).calculate();n.setBlank(r.isBlank);var o=r.min,a=r.max,s=i.ecModel;if(s&&"time"===e){var l=Kw("bar",s),h=!1;if(F(l,function(p){h=h||p.getBaseAxis()===i.axis}),h){var c=Zw(l),d=function(p,m,y,_){var x=y.axis.getExtent(),b=x[1]-x[0],S=function(E,z,V){if(E&&z)return E[ev(z)]}(_,y.axis);if(void 0===S)return{min:p,max:m};var C=1/0;F(S,function(E){C=Math.min(E.offset,C)});var I=-1/0;F(S,function(E){I=Math.max(E.offset+E.width,I)}),C=Math.abs(C),I=Math.abs(I);var A=C+I,P=m-p,O=P/(1-(C+I)/b)-P;return{min:p-=O*(C/A),max:m+=O*(I/A)}}(o,a,i,c);o=d.min,a=d.max}}return{extent:[o,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function Us(n,i){var e=i,r=sS(n,e),o=r.extent,a=e.get("splitNumber");n instanceof iv&&(n.base=e.get("logBase"));var s=n.type,l=e.get("interval"),h="interval"===s||"time"===s;n.setExtent(o[0],o[1]),n.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:h?e.get("minInterval"):null,maxInterval:h?e.get("maxInterval"):null}),null!=l&&n.setInterval&&n.setInterval(l)}function qu(n,i){if(i=i||n.get("type"))switch(i){case"category":return new cp({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new tv({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(jo.getClass(i)||fa)}}function Xu(n){var i,e,a,r=n.getLabelModel().get("formatter"),o="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(e=r,function(a,s){return n.scale.getFormattedLabel(a,s,e)}):J(r)?(a=r,function(s){var l=n.scale.getLabel(s);return a.replace("{value}",null!=l?l:"")}):ee(r)?(i=r,function(a,s){return null!=o&&(s=a.value-o),i(nv(n,a),s,null!=a.level?{level:a.level}:null)}):function(a){return n.scale.getLabel(a)}}function nv(n,i){return"category"===n.type?n.scale.getLabel(i):i.value}function qP(n,i){var e=i*Math.PI/180,r=n.width,o=n.height,a=r*Math.abs(Math.cos(e))+Math.abs(o*Math.sin(e)),s=r*Math.abs(Math.sin(e))+Math.abs(o*Math.cos(e));return new ai(n.x,n.y,a,s)}function rv(n){var i=n.get("interval");return null==i?"auto":i}function lS(n){return"category"===n.type&&0===rv(n.getLabelModel())}function mp(n,i){var e={};return F(n.mapDimensionsAll(i),function(r){e[qm(n,r)]=!0}),ft(e)}var mh=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),KP=Object.freeze({__proto__:null,createList:function(n){return Bo(null,n)},getLayoutRect:Tn,dataStack:{isDimensionStacked:pa,enableDataStack:$w,getStackedDimension:qm},createScale:function(n,i){var e=i;i instanceof Li||(e=new Li(i));var r=qu(e);return r.setExtent(n[0],n[1]),Us(r,e),r},mixinAxisModelCommonMethods:function(n){Ie(n,mh)},getECData:oi,createTextStyle:function(n,i){return Xi(n,null,null,"normal"!==(i=i||{}).state)},createDimensions:function(n,i){return fh(n,i).dimensions},createSymbol:vn,enableHoverEmphasis:za});function hS(n,i){return Math.abs(n-i)<1e-8}function qs(n,i,e){var r=0,o=n[0];if(!o)return!1;for(var a=1;a<n.length;a++){var s=n[a];r+=sa(o[0],o[1],s[0],s[1],i,e),o=s}var l=n[0];return hS(o[0],l[0])&&hS(o[1],l[1])||(r+=sa(o[0],o[1],l[0],l[1],i,e)),0!==r}var ZP=[];function ov(n,i){for(var e=0;e<n.length;e++)bi(n[e],n[e],i)}function uS(n,i,e,r){for(var o=0;o<n.length;o++){var a=n[o];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(pn(i,i,a),Ln(e,e,a))}}var cS=function(){function n(i){this.name=i}return n.prototype.setCenter=function(i){this._center=i},n.prototype.getCenter=function(){var i=this._center;return i||(i=this._center=this.calcCenter()),i},n}(),dS=function(n,i){this.type="polygon",this.exterior=n,this.interiors=i},pS=function(n){this.type="linestring",this.points=n},fS=function(n){function i(e,r,o){var a=n.call(this,e)||this;return a.type="geoJSON",a.geometries=r,a._center=o&&[o[0],o[1]],a}return Le(i,n),i.prototype.calcCenter=function(){for(var e,r=this.geometries,o=0,a=0;a<r.length;a++){var s=r[a],l=s.exterior,h=l&&l.length;h>o&&(e=s,o=h)}if(e)return function(d){for(var p=0,m=0,y=0,_=d.length,x=d[_-1][0],b=d[_-1][1],S=0;S<_;S++){var C=d[S][0],I=d[S][1],A=x*I-C*b;p+=A,m+=(x+C)*A,y+=(b+I)*A,x=C,b=I}return p?[m/p/3,y/p/3,p]:[d[0][0]||0,d[0][1]||0]}(e.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},i.prototype.getBoundingRect=function(e){var r=this._rect;if(r&&!e)return r;var o=[1/0,1/0],a=[-1/0,-1/0];return F(this.geometries,function(s){"polygon"===s.type?uS(s.exterior,o,a,e):F(s.points,function(l){uS(l,o,a,e)})}),isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])||(o[0]=o[1]=a[0]=a[1]=0),r=new ai(o[0],o[1],a[0]-o[0],a[1]-o[1]),e||(this._rect=r),r},i.prototype.contain=function(e){var r=this.getBoundingRect(),o=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var a=0,s=o.length;a<s;a++){var l=o[a];if("polygon"===l.type){var c=l.interiors;if(qs(l.exterior,e[0],e[1])){for(var d=0;d<(c?c.length:0);d++)if(qs(c[d],e[0],e[1]))continue e;return!0}}}return!1},i.prototype.transformTo=function(e,r,o,a){var s=this.getBoundingRect(),l=s.width/s.height;o?a||(a=o/l):o=l*a;for(var h=new ai(e,r,o,a),c=s.calculateTransform(h),d=this.geometries,p=0;p<d.length;p++){var m=d[p];"polygon"===m.type?(ov(m.exterior,c),F(m.interiors,function(y){ov(y,c)})):F(m.points,function(y){ov(y,c)})}(s=this._rect).copy(h),this._center=[s.x+s.width/2,s.y+s.height/2]},i.prototype.cloneShallow=function(e){null==e&&(e=this.name);var r=new i(e,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},i}(cS),QP=function(n){function i(e,r){var o=n.call(this,e)||this;return o.type="geoSVG",o._elOnlyForCalculate=r,o}return Le(i,n),i.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,r=e.getBoundingRect(),o=[r.x+r.width/2,r.y+r.height/2],a=ls(ZP),s=e;s&&!s.isGeoSVGGraphicRoot;)Pr(a,s.getLocalTransform(),a),s=s.parent;return Xo(a,a),bi(o,o,a),o},i}(cS);function gS(n,i,e){for(var r=0;r<n.length;r++)n[r]=mS(n[r],i[r],e)}function mS(n,i,e){for(var r=[],o=i[0],a=i[1],s=0;s<n.length;s+=2){var l=n.charCodeAt(s)-64,h=n.charCodeAt(s+1)-64;l=l>>1^-(1&l),h=h>>1^-(1&h),o=l+=o,a=h+=a,r.push([l/e,h/e])}return r}function av(n,i){return Te(tt((n=function(e){if(!e.UTF8Encoding)return e;var r=e,o=r.UTF8Scale;return null==o&&(o=1024),F(r.features,function(a){var s=a.geometry,l=s.encodeOffsets,h=s.coordinates;if(l)switch(s.type){case"LineString":s.coordinates=mS(h,l,o);break;case"Polygon":case"MultiLineString":gS(h,l,o);break;case"MultiPolygon":F(h,function(c,d){return gS(c,l[d],o)})}}),r.UTF8Encoding=!1,r}(n)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var r=e.properties,o=e.geometry,a=[];switch(o.type){case"Polygon":var s=o.coordinates;a.push(new dS(s[0],s.slice(1)));break;case"MultiPolygon":F(o.coordinates,function(h){h[0]&&a.push(new dS(h[0],h.slice(1)))});break;case"LineString":a.push(new pS([o.coordinates]));break;case"MultiLineString":a.push(new pS(o.coordinates))}var l=new fS(r[i||"name"],a,r.cp);return l.properties=r,l})}var JP=Object.freeze({__proto__:null,linearMap:Bi,round:cn,asc:zr,getPrecision:co,getPrecisionSafe:b_,getPixelPrecision:Vf,getPercentWithPrecision:function(n,i,e){return n[i]&&w_(n,e)[i]||0},MAX_SAFE_INTEGER:Ff,remRadian:Wf,isRadianAroundZero:nu,parseDate:Br,quantity:S_,quantityExponent:Xc,nice:Gf,quantile:Kc,reformIntervals:Yf,isNumeric:$f,numericToNumber:Do}),eO=Object.freeze({__proto__:null,parse:Br,format:Tu}),tO=Object.freeze({__proto__:null,extendShape:Y1,extendPath:$1,makePath:xu,makeImage:Ag,mergePath:jr,resizePath:Lg,createIcon:Ul,updateProps:Ii,initProps:nn,getTransform:ja,clipPointsByRect:Pg,clipRectByRect:X1,registerShape:$r,getShapeClass:yd,Group:ti,Image:Rn,Text:Ci,Circle:Yr,Ellipse:gu,Sector:ir,Ring:Vl,Polygon:nr,Polyline:rr,Rect:Si,Line:En,BezierCurve:Fl,Arc:yu,IncrementalDisplayable:F1,CompoundPath:dd,LinearGradient:Wl,RadialGradient:Mg,BoundingRect:ai}),iO=Object.freeze({__proto__:null,addCommas:Yg,toCamelCase:$g,normalizeCssArray:zs,encodeHTML:Vn,formatTpl:Xg,getTooltipMarker:Tx,formatTime:function(n,i,e){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var r=Br(i),o=e?"getUTC":"get",a=r[o+"FullYear"](),s=r[o+"Month"]()+1,l=r[o+"Date"](),h=r[o+"Hours"](),c=r[o+"Minutes"](),d=r[o+"Seconds"](),p=r[o+"Milliseconds"]();return n.replace("MM",fr(s,2)).replace("M",s).replace("yyyy",a).replace("yy",fr(a%100+"",2)).replace("dd",fr(l,2)).replace("d",l).replace("hh",fr(h,2)).replace("h",h).replace("mm",fr(c,2)).replace("m",c).replace("ss",fr(d,2)).replace("s",d).replace("SSS",fr(p,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:B_,getTextRect:function(n,i,e,r,o,a,s,l){return new Ci({style:{text:n,font:i,align:e,verticalAlign:r,padding:o,rich:a,overflow:s?"truncate":null,lineHeight:l}}).getBoundingRect()}}),nO=Object.freeze({__proto__:null,map:Te,each:F,indexOf:ve,inherits:We,reduce:ht,filter:tt,bind:De,curry:Q,isArray:ne,isString:J,isObject:Pe,isFunction:ee,extend:Z,defaults:de,clone:H,merge:q}),Ku=Mi();function vS(n,i){var r,l,h,o=yS(n,"labels"),a=rv(i);return _S(o,a)||xS(o,a,{labels:ee(a)?wS(n,a):bS(n,r="auto"===a?null!=(h=Ku(l=n).autoInterval)?h:Ku(l).autoInterval=l.calculateCategoryInterval():a),labelCategoryInterval:r})}function yS(n,i){return Ku(n)[i]||(Ku(n)[i]=[])}function _S(n,i){for(var e=0;e<n.length;e++)if(n[e].key===i)return n[e].value}function xS(n,i,e){return n.push({key:i,value:e}),e}function bS(n,i,e){var r=Xu(n),o=n.scale,a=o.getExtent(),s=n.getLabelModel(),l=[],h=Math.max((i||0)+1,1),c=a[0],d=o.count();0!==c&&h>1&&d/h>2&&(c=Math.round(Math.ceil(c/h)*h));var p=lS(n),m=s.get("showMinLabel")||p,y=s.get("showMaxLabel")||p;m&&c!==a[0]&&x(a[0]);for(var _=c;_<=a[1];_+=h)x(_);function x(b){var S={value:b};l.push(e?b:{formattedLabel:r(S),rawLabel:o.getLabel(S),tickValue:b})}return y&&_-h!==a[1]&&x(a[1]),l}function wS(n,i,e){var r=n.scale,o=Xu(n),a=[];return F(r.getTicks(),function(s){var l=r.getLabel(s),h=s.value;i(s.value,l)&&a.push(e?h:{formattedLabel:o(s),rawLabel:l,tickValue:h})}),a}var SS=[0,1],Zr=function(){function n(i,e,r){this.onBand=!1,this.inverse=!1,this.dim=i,this.scale=e,this._extent=r||[0,0]}return n.prototype.contain=function(i){var e=this._extent,r=Math.min(e[0],e[1]),o=Math.max(e[0],e[1]);return i>=r&&i<=o},n.prototype.containData=function(i){return this.scale.contain(i)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(i){return Vf(i||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(i,e){var r=this._extent;r[0]=i,r[1]=e},n.prototype.dataToCoord=function(i,e){var r=this._extent,o=this.scale;return i=o.normalize(i),this.onBand&&"ordinal"===o.type&&CS(r=r.slice(),o.count()),Bi(i,SS,r,e)},n.prototype.coordToData=function(i,e){var r=this._extent,o=this.scale;this.onBand&&"ordinal"===o.type&&CS(r=r.slice(),o.count());var a=Bi(i,r,SS,e);return this.scale.scale(a)},n.prototype.pointToData=function(i,e){},n.prototype.getTicksCoords=function(i){var e=(i=i||{}).tickModel||this.getTickModel(),r=Te(function oO(n,i){return"category"===n.type?function(e,r){var o,a,s=yS(e,"ticks"),l=rv(r),h=_S(s,l);if(h)return h;if(r.get("show")&&!e.scale.isBlank()||(o=[]),ee(l))o=wS(e,l,!0);else if("auto"===l){var c=vS(e,e.getLabelModel());a=c.labelCategoryInterval,o=Te(c.labels,function(d){return d.tickValue})}else o=bS(e,a=l,!0);return xS(s,l,{ticks:o,tickCategoryInterval:a})}(n,i):{ticks:Te(n.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(o){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this);return function(o,a,s,l){var h=a.length;if(o.onBand&&!s&&h){var c,d,p=o.getExtent();if(1===h)a[0].coord=p[0],c=a[1]={coord:p[1]};else{var y=(a[h-1].coord-a[0].coord)/(a[h-1].tickValue-a[0].tickValue);F(a,function(b){b.coord-=y/2}),d=1+o.scale.getExtent()[1]-a[h-1].tickValue,a.push(c={coord:a[h-1].coord+y*d})}var _=p[0]>p[1];x(a[0].coord,p[0])&&(l?a[0].coord=p[0]:a.shift()),l&&x(p[0],a[0].coord)&&a.unshift({coord:p[0]}),x(p[1],c.coord)&&(l?c.coord=p[1]:a.pop()),l&&x(c.coord,p[1])&&a.push({coord:p[1]})}function x(b,S){return b=cn(b),S=cn(S),_?b>S:b<S}}(this,r,e.get("alignWithLabel"),i.clamp),r},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var i=this.model.getModel("minorTick").get("splitNumber");return i>0&&i<100||(i=5),Te(this.scale.getMinorTicks(i),function(e){return Te(e,function(r){return{coord:this.dataToCoord(r),tickValue:r}},this)},this)},n.prototype.getViewLabels=function(){return function rO(n){return"category"===n.type?function(i){var e=i.getLabelModel(),r=vS(i,e);return!e.get("show")||i.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}(n):function(i){var e=i.scale.getTicks(),r=Xu(i);return{labels:Te(e,function(o,a){return{level:o.level,formattedLabel:r(o,a),rawLabel:i.scale.getLabel(o),tickValue:o.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var i=this._extent,e=this.scale.getExtent(),r=e[1]-e[0]+(this.onBand?1:0);0===r&&(r=1);var o=Math.abs(i[1]-i[0]);return Math.abs(o)/r},n.prototype.calculateCategoryInterval=function(){return function(i){var V,G,e=(G=(V=i).getLabelModel(),{axisRotate:V.getRotate?V.getRotate():V.isHorizontal&&!V.isHorizontal()?90:0,labelRotate:G.get("rotate")||0,font:G.getFont()}),r=Xu(i),o=(e.axisRotate-e.labelRotate)/180*Math.PI,a=i.scale,s=a.getExtent(),l=a.count();if(s[1]-s[0]<1)return 0;var h=1;l>40&&(h=Math.max(1,Math.floor(l/40)));for(var c=s[0],d=i.dataToCoord(c+1)-i.dataToCoord(c),p=Math.abs(d*Math.cos(o)),m=Math.abs(d*Math.sin(o)),y=0,_=0;c<=s[1];c+=h){var b,S=tu(r({value:c}),e.font,"center","top");b=1.3*S.height,y=Math.max(y,1.3*S.width,7),_=Math.max(_,b,7)}var C=y/p,I=_/m;isNaN(C)&&(C=1/0),isNaN(I)&&(I=1/0);var A=Math.max(0,Math.floor(Math.min(C,I))),P=Ku(i.model),O=i.getExtent(),E=P.lastAutoInterval,z=P.lastTickCount;return null!=E&&null!=z&&Math.abs(E-A)<=1&&Math.abs(z-l)<=1&&E>A&&P.axisExtent0===O[0]&&P.axisExtent1===O[1]?A=E:(P.lastTickCount=l,P.lastAutoInterval=A,P.axisExtent0=O[0],P.axisExtent1=O[1]),A}(this)},n}();function CS(n,i){var e=(n[1]-n[0])/i/2;n[0]+=e,n[1]-=e}var Zu=2*Math.PI,Xs=Eo.CMD,aO=["top","right","bottom","left"];function sO(n,i,e,r,o){var a=e.width,s=e.height;switch(n){case"top":r.set(e.x+a/2,e.y-i),o.set(0,-1);break;case"bottom":r.set(e.x+a/2,e.y+s+i),o.set(0,1);break;case"left":r.set(e.x-i,e.y+s/2),o.set(-1,0);break;case"right":r.set(e.x+a+i,e.y+s/2),o.set(1,0)}}function lO(n,i,e,r,o,a,s,l,h){s-=n,l-=i;var c=Math.sqrt(s*s+l*l),d=(s/=c)*e+n,p=(l/=c)*e+i;if(Math.abs(r-o)%Zu<1e-4)return h[0]=d,h[1]=p,c-e;if(a){var m=r;r=po(o),o=po(m)}else r=po(r),o=po(o);r>o&&(o+=Zu);var y=Math.atan2(l,s);if(y<0&&(y+=Zu),y>=r&&y<=o||y+Zu>=r&&y+Zu<=o)return h[0]=d,h[1]=p,c-e;var _=e*Math.cos(r)+n,x=e*Math.sin(r)+i,b=e*Math.cos(o)+n,S=e*Math.sin(o)+i,C=(_-s)*(_-s)+(x-l)*(x-l),I=(b-s)*(b-s)+(S-l)*(S-l);return C<I?(h[0]=_,h[1]=x,Math.sqrt(C)):(h[0]=b,h[1]=S,Math.sqrt(I))}function vp(n,i,e,r,o,a,s,l){var h=o-n,c=a-i,d=e-n,p=r-i,m=Math.sqrt(d*d+p*p),y=(h*(d/=m)+c*(p/=m))/m;l&&(y=Math.min(Math.max(y,0),1));var _=s[0]=n+(y*=m)*d,x=s[1]=i+y*p;return Math.sqrt((_-o)*(_-o)+(x-a)*(x-a))}function kS(n,i,e,r,o,a,s){e<0&&(n+=e,e=-e),r<0&&(i+=r,r=-r);var l=n+e,h=i+r,c=s[0]=Math.min(Math.max(o,n),l),d=s[1]=Math.min(Math.max(a,i),h);return Math.sqrt((c-o)*(c-o)+(d-a)*(d-a))}var wo=[];function hO(n,i,e){var r=kS(i.x,i.y,i.width,i.height,n.x,n.y,wo);return e.set(wo[0],wo[1]),r}function uO(n,i,e){for(var r,o,a=0,s=0,l=0,h=0,c=1/0,d=i.data,p=n.x,m=n.y,y=0;y<d.length;){var _=d[y++];1===y&&(l=a=d[y],h=s=d[y+1]);var x=c;switch(_){case Xs.M:a=l=d[y++],s=h=d[y++];break;case Xs.L:x=vp(a,s,d[y],d[y+1],p,m,wo,!0),a=d[y++],s=d[y++];break;case Xs.C:x=Ma(a,s,d[y++],d[y++],d[y++],d[y++],d[y],d[y+1],p,m,wo),a=d[y++],s=d[y++];break;case Xs.Q:x=ta(a,s,d[y++],d[y++],d[y],d[y+1],p,m,wo),a=d[y++],s=d[y++];break;case Xs.A:var b=d[y++],S=d[y++],C=d[y++],I=d[y++],A=d[y++],P=d[y++];y+=1;var O=!!(1-d[y++]);r=Math.cos(A)*C+b,o=Math.sin(A)*I+S,y<=1&&(l=r,h=o),x=lO(b,S,I,A,A+P,O,(p-b)*I/C+b,m,wo),a=Math.cos(A+P)*C+b,s=Math.sin(A+P)*I+S;break;case Xs.R:x=kS(l=a=d[y++],h=s=d[y++],d[y++],d[y++],p,m,wo);break;case Xs.Z:x=vp(a,s,l,h,p,m,wo,!0),a=l,s=h}x<c&&(c=x,e.set(wo[0],wo[1]))}return c}var So=new li,Ji=new li,yn=new li,Vo=new li,Fo=new li;function TS(n,i){if(n){var e=n.getTextGuideLine(),r=n.getTextContent();if(r&&e){var o=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=o.candidates||aO,l=r.getBoundingRect().clone();l.applyTransform(r.getComputedTransform());var h=1/0,c=o.anchor,d=n.getComputedTransform(),p=d&&Xo([],d),m=i.get("length2")||0;c&&yn.copy(c);for(var y=0;y<s.length;y++){sO(s[y],0,l,So,Vo),li.scaleAndAdd(Ji,So,Vo,m),Ji.transform(p);var _=n.getBoundingRect(),x=c?c.distance(Ji):n instanceof yi?uO(Ji,n.path,yn):hO(Ji,_,yn);x<h&&(h=x,Ji.transform(d),yn.transform(d),yn.toArray(a[0]),Ji.toArray(a[1]),So.toArray(a[2]))}MS(a,i.get("minTurnAngle")),e.setShape({points:a})}}}var yp=[],mr=new li;function MS(n,i){if(i<=180&&i>0){i=i/180*Math.PI,So.fromArray(n[0]),Ji.fromArray(n[1]),yn.fromArray(n[2]),li.sub(Vo,So,Ji),li.sub(Fo,yn,Ji);var e=Vo.len(),r=Fo.len();if(!(e<.001||r<.001)){Vo.scale(1/e),Fo.scale(1/r);var o=Vo.dot(Fo);if(Math.cos(i)<o){var a=vp(Ji.x,Ji.y,yn.x,yn.y,So.x,So.y,yp,!1);mr.fromArray(yp),mr.scaleAndAdd(Fo,a/Math.tan(Math.PI-i));var s=yn.x!==Ji.x?(mr.x-Ji.x)/(yn.x-Ji.x):(mr.y-Ji.y)/(yn.y-Ji.y);if(isNaN(s))return;s<0?li.copy(mr,Ji):s>1&&li.copy(mr,yn),mr.toArray(n[1])}}}}function cO(n,i,e){if(e<=180&&e>0){e=e/180*Math.PI,So.fromArray(n[0]),Ji.fromArray(n[1]),yn.fromArray(n[2]),li.sub(Vo,Ji,So),li.sub(Fo,yn,Ji);var r=Vo.len(),o=Fo.len();if(!(r<.001||o<.001)&&(Vo.scale(1/r),Fo.scale(1/o),Vo.dot(i)<Math.cos(e))){var a=vp(Ji.x,Ji.y,yn.x,yn.y,So.x,So.y,yp,!1);mr.fromArray(yp);var s=Math.PI/2,l=s+Math.acos(Fo.dot(i))-e;if(l>=s)li.copy(mr,yn);else{mr.scaleAndAdd(Fo,a/Math.tan(Math.PI/2-l));var h=yn.x!==Ji.x?(mr.x-Ji.x)/(yn.x-Ji.x):(mr.y-Ji.y)/(yn.y-Ji.y);if(isNaN(h))return;h<0?li.copy(mr,Ji):h>1&&li.copy(mr,yn)}mr.toArray(n[1])}}}function IS(n,i,e,r){var o="normal"===e,a=o?n:n.ensureState(e);a.ignore=i;var s=r.get("smooth");s&&!0===s&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var l=r.getModel("lineStyle").getLineStyle();o?n.useStyle(l):a.style=l}function dO(n,i){var e=i.smooth,r=i.points;if(r)if(n.moveTo(r[0][0],r[0][1]),e>0&&r.length>=3){var o=An(r[0],r[1]),a=An(r[1],r[2]);if(!o||!a)return n.lineTo(r[1][0],r[1][1]),void n.lineTo(r[2][0],r[2][1]);var s=Math.min(o,a)*e,l=ji([],r[1],r[0],s/o),h=ji([],r[1],r[2],s/a),c=ji([],l,h,.5);n.bezierCurveTo(l[0],l[1],l[0],l[1],c[0],c[1]),n.bezierCurveTo(h[0],h[1],h[0],h[1],r[2][0],r[2][1])}else for(var d=1;d<r.length;d++)n.lineTo(r[d][0],r[d][1])}function sv(n,i,e){var r=n.getTextGuideLine(),o=n.getTextContent();if(o){for(var a=i.normal,s=a.get("show"),l=o.ignore,h=0;h<uu.length;h++){var c=uu[h],d=i[c],p="normal"===c;if(d){var m=d.get("show");if((p?l:nt(o.states[c]&&o.states[c].ignore,l))||!nt(m,s)){var y=p?r:r&&r.states[c];y&&(y.ignore=!0);continue}r||(r=new rr,n.setTextGuideLine(r),p||!l&&s||IS(r,!0,"normal",i.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),IS(r,!1,c,d)}}if(r){de(r.style,e),r.style.fill=null;var _=a.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=_||!1,r.buildPath=dO}}else r&&n.removeTextGuideLine()}function lv(n,i){for(var e={normal:n.getModel(i=i||"labelLine")},r=0;r<pr.length;r++){var o=pr[r];e[o]=n.getModel([o,i])}return e}function DS(n){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(!r.defaultAttr.ignore){var o=r.label,a=o.getComputedTransform(),s=o.getBoundingRect(),l=!a||a[1]<1e-5&&a[2]<1e-5,h=o.style.margin||0,c=s.clone();c.applyTransform(a),c.x-=h/2,c.y-=h/2,c.width+=h,c.height+=h;var d=l?new gd(s,a):null;i.push({label:o,labelLine:r.labelLine,rect:c,localRect:s,obb:d,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:l,transform:a})}}return i}function AS(n,i,e,r,o,a){var s=n.length;if(!(s<2)){n.sort(function(E,z){return E.rect[i]-z.rect[i]});for(var l,h=0,c=!1,d=0,p=0;p<s;p++){var m=n[p],y=m.rect;(l=y[i]-h)<0&&(y[i]-=l,m.label[i]-=l,c=!0),d+=Math.max(-l,0),h=y[i]+y[e]}d>0&&a&&A(-d/s,0,s);var _,x,b=n[0],S=n[s-1];return C(),_<0&&P(-_,.8),x<0&&P(x,.8),C(),I(_,x,1),I(x,_,-1),C(),_<0&&O(-_),x<0&&O(x),c}function C(){_=b.rect[i]-r,x=o-S.rect[i]-S.rect[e]}function I(E,z,V){if(E<0){var G=Math.min(z,-E);if(G>0){A(G*V,0,s);var Y=G+E;Y<0&&P(-Y*V,1)}else P(-E*V,1)}}function A(E,z,V){0!==E&&(c=!0);for(var G=z;G<V;G++){var Y=n[G];Y.rect[i]+=E,Y.label[i]+=E}}function P(E,z){for(var V=[],G=0,Y=1;Y<s;Y++){var X=n[Y-1].rect,te=Math.max(n[Y].rect[i]-X[i]-X[e],0);V.push(te),G+=te}if(G){var ae=Math.min(Math.abs(E)/G,z);if(E>0)for(Y=0;Y<s-1;Y++)A(V[Y]*ae,0,Y+1);else for(Y=s-1;Y>0;Y--)A(-V[Y-1]*ae,Y,s)}}function O(E){var z=E<0?-1:1;E=Math.abs(E);for(var V=Math.ceil(E/(s-1)),G=0;G<s-1;G++)if(z>0?A(V,0,G+1):A(-V,s-G-1,s),(E-=V)<=0)return}}function LS(n,i,e,r){return AS(n,"y","height",i,e,r)}function PS(n){var i=[];n.sort(function(x,b){return b.priority-x.priority});var e=new ai(0,0,0,0);function r(x){if(!x.ignore){var b=x.ensureState("emphasis");null==b.ignore&&(b.ignore=!1)}x.ignore=!0}for(var o=0;o<n.length;o++){var a=n[o],s=a.axisAligned,l=a.localRect,h=a.transform,c=a.label,d=a.labelLine;e.copy(a.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var p=a.obb,m=!1,y=0;y<i.length;y++){var _=i[y];if(e.intersect(_.rect)){if(s&&_.axisAligned){m=!0;break}if(_.obb||(_.obb=new gd(_.localRect,_.transform)),p||(p=new gd(l,h)),p.intersect(_.obb)){m=!0;break}}}m?(r(c),d&&r(d)):(c.attr("ignore",a.defaultAttr.ignore),d&&d.attr("ignore",a.defaultAttr.labelGuideIgnore),i.push(a))}}function pO(n){if(n){for(var i=[],e=0;e<n.length;e++)i.push(n[e].slice());return i}}function fO(n,i){var e=n.label,r=i&&i.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:pO(r&&r.shape.points)}}var OS=["align","verticalAlign","width","height","fontSize"],vr=new oa,hv=Mi(),gO=Mi();function _p(n,i,e){for(var r=0;r<e.length;r++){var o=e[r];null!=i[o]&&(n[o]=i[o])}}var xp=["x","y","rotation"],mO=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(i,e,r,o,a){var s=o.style,l=o.__hostTarget.textConfig||{},h=o.getComputedTransform(),c=o.getBoundingRect().plain();ai.applyTransform(c,c,h),h?vr.setLocalTransform(h):(vr.x=vr.y=vr.rotation=vr.originX=vr.originY=0,vr.scaleX=vr.scaleY=1),vr.rotation=po(vr.rotation);var d,p=o.__hostTarget;if(p){d=p.getBoundingRect().plain();var m=p.getComputedTransform();ai.applyTransform(d,d,m)}var y=d&&p.getTextGuideLine();this._labelList.push({label:o,labelLine:y,seriesModel:r,dataIndex:i,dataType:e,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:o.ignore,labelGuideIgnore:y&&y.ignore,x:vr.x,y:vr.y,scaleX:vr.scaleX,scaleY:vr.scaleY,rotation:vr.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:o.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(i){var e=this;this._chartViewList.push(i);var r=i.__model,o=r.get("labelLayout");(ee(o)||ft(o).length)&&i.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),l=oi(a);s&&!s.disableLabelLayout&&e._addLabel(l.dataIndex,l.dataType,r,s,o)})},n.prototype.updateLayoutConfig=function(i){var e=i.getWidth(),r=i.getHeight();function o(S,C){return function(){TS(S,C)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],l=s.label,h=l.__hostTarget,c=s.defaultAttr,d=void 0;d=(d=ee(s.layoutOption)?s.layoutOption(fO(s,h)):s.layoutOption)||{},s.computedLayoutOption=d;var p=Math.PI/180;h&&h.setTextConfig({local:!1,position:null!=d.x||null!=d.y?null:c.attachedPos,rotation:null!=d.rotate?d.rotate*p:c.attachedRot,offset:[d.dx||0,d.dy||0]});var m=!1;if(null!=d.x?(l.x=Bt(d.x,e),l.setStyle("x",0),m=!0):(l.x=c.x,l.setStyle("x",c.style.x)),null!=d.y?(l.y=Bt(d.y,r),l.setStyle("y",0),m=!0):(l.y=c.y,l.setStyle("y",c.style.y)),d.labelLinePoints){var y=h.getTextGuideLine();y&&(y.setShape({points:d.labelLinePoints}),m=!1)}hv(l).needsUpdateLabelLine=m,l.rotation=null!=d.rotate?d.rotate*p:c.rotation,l.scaleX=c.scaleX,l.scaleY=c.scaleY;for(var _=0;_<OS.length;_++){var x=OS[_];l.setStyle(x,null!=d[x]?d[x]:c.style[x])}if(d.draggable){if(l.draggable=!0,l.cursor="move",h){var b=s.seriesModel;null!=s.dataIndex&&(b=s.seriesModel.getData(s.dataType).getItemModel(s.dataIndex)),l.on("drag",o(h,b.getModel("labelLine")))}}else l.off("drag"),l.cursor=c.cursor}},n.prototype.layout=function(i){var r=i.getWidth(),o=i.getHeight(),a=DS(this._labelList),s=tt(a,function(h){return"shiftX"===h.layoutOption.moveOverlap}),l=tt(a,function(h){return"shiftY"===h.layoutOption.moveOverlap});AS(s,"x","width",0,r,void 0),LS(l,0,o),PS(tt(a,function(h){return h.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var i=this;F(this._chartViewList,function(e){var r=e.__model,o=e.ignoreLabelLineUpdate,a=r.isAnimationEnabled();e.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var l=!o,h=s.getTextContent();!l&&h&&(l=hv(h).needsUpdateLabelLine),l&&i._updateLabelLine(s,r),a&&i._animateLabels(s,r)})})},n.prototype._updateLabelLine=function(i,e){var r=i.getTextContent(),o=oi(i),a=o.dataIndex;if(r&&null!=a){var s=e.getData(o.dataType),l=s.getItemModel(a),h={},c=s.getItemVisual(a,"style");if(c){var d=s.getVisual("drawType");h.stroke=c[d]}var p=l.getModel("labelLine");sv(i,lv(l),h),TS(i,p)}},n.prototype._animateLabels=function(i,e){var r=i.getTextContent(),o=i.getTextGuideLine();if(r&&(i.forceLabelAnimation||!r.ignore&&!r.invisible&&!i.disableLabelAnimation&&!Yl(i))){var a=(_=hv(r)).oldLayout,s=oi(i),l=s.dataIndex,h={x:r.x,y:r.y,rotation:r.rotation},c=e.getData(s.dataType);if(a){r.attr(a);var d=i.prevStates;d&&(ve(d,"select")>=0&&r.attr(_.oldLayoutSelect),ve(d,"emphasis")>=0&&r.attr(_.oldLayoutEmphasis)),Ii(r,h,e,l)}else if(r.attr(h),!Xl(r).valueAnimation){var p=nt(r.style.opacity,1);r.style.opacity=0,nn(r,{style:{opacity:p}},e,l)}if(_.oldLayout=h,r.states.select){var m=_.oldLayoutSelect={};_p(m,h,xp),_p(m,r.states.select,xp)}if(r.states.emphasis){var y=_.oldLayoutEmphasis={};_p(y,h,xp),_p(y,r.states.emphasis,xp)}ox(r,l,c,e,e)}if(o&&!o.ignore&&!o.invisible){a=(_=gO(o)).oldLayout;var _,x={points:o.shape.points};a?(o.attr({shape:a}),Ii(o,{shape:x},e)):(o.setShape(x),o.style.strokePercent=0,nn(o,{style:{strokePercent:1}},e)),_.oldLayout=x}},n}(),uv=Mi(),cv=Math.sin,dv=Math.cos,ES=Math.PI,Ks=2*Math.PI,vO=180/ES,NS=function(){function n(){}return n.prototype.reset=function(i){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,i||4)},n.prototype.moveTo=function(i,e){this._add("M",i,e)},n.prototype.lineTo=function(i,e){this._add("L",i,e)},n.prototype.bezierCurveTo=function(i,e,r,o,a,s){this._add("C",i,e,r,o,a,s)},n.prototype.quadraticCurveTo=function(i,e,r,o){this._add("Q",i,e,r,o)},n.prototype.arc=function(i,e,r,o,a,s){this.ellipse(i,e,r,r,0,o,a,s)},n.prototype.ellipse=function(i,e,r,o,a,s,l,h){var _,c=l-s,d=!h,p=Math.abs(c),m=lo(p-Ks)||(d?c>=Ks:-c>=Ks),y=c>0?c%Ks:c%Ks+Ks;_=!!m||!lo(p)&&y>=ES==!!d;var x=i+r*dv(s),b=e+o*cv(s);this._start&&this._add("M",x,b);var S=Math.round(a*vO);if(m){var C=1/this._p,I=(d?1:-1)*(Ks-C);this._add("A",r,o,S,1,+d,i+r*dv(s+I),e+o*cv(s+I)),C>.01&&this._add("A",r,o,S,0,+d,x,b)}else{var A=i+r*dv(l),P=e+o*cv(l);this._add("A",r,o,S,+_,+d,A,P)}},n.prototype.rect=function(i,e,r,o){this._add("M",i,e),this._add("l",r,0),this._add("l",0,o),this._add("l",-r,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(i,e,r,o,a,s,l,h,c){for(var d=[],p=this._p,m=1;m<arguments.length;m++){var y=arguments[m];if(isNaN(y))return void(this._invalid=!0);d.push(Math.round(y*p)/p)}this._d.push(i+d.join(" ")),this._start="Z"===i},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),Qu="none",yO=Math.round,pv=["lineCap","miterLimit","lineJoin"],_O=Te(pv,function(n){return"stroke-"+n.toLowerCase()}),RS="http://www.w3.org/2000/svg",zS="http://www.w3.org/1999/xlink";function BS(n){return document.createElementNS(RS,n)}function jn(n,i,e,r,o){return{tag:n,attrs:e||{},children:r,text:o,key:i}}function fv(n,i){var e=(i=i||{}).newline?"\n":"";return function r(o){var a=o.children,s=o.tag,h=o.text;return function(c,d){var p=[];if(d)for(var m in d){var y=d[m],_=m;!1!==y&&(!0!==y&&null!=y&&(_+='="'+y+'"'),p.push(_))}return"<"+c+" "+p.join(" ")+">"}(s,o.attrs)+("style"!==s?Vn(h):h||"")+(a?""+e+Te(a,function(c){return r(c)}).join(e)+e:"")+"</"+s+">"}(n)}function gv(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function jS(n,i,e,r){return jn("svg","root",{width:n,height:i,xmlns:RS,"xmlns:xlink":zS,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+n+" "+i},e)}var HS={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Zs="transform-origin";function bO(n,i,e){var r=Z({},n.shape);Z(r,i),n.buildPath(e,r);var o=new NS;return o.reset(gs(n)),e.rebuildPath(o,1),o.generateStr(),o.getStr()}function wO(n,i){var e=i.originX,r=i.originY;(e||r)&&(n[Zs]=e+"px "+r+"px")}var SO={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function VS(n,i){var e=i.zrId+"-ani-"+i.cssAnimIdx++;return i.cssAnims[e]=n,e}function FS(n){return J(n)?HS[n]?"cubic-bezier("+HS[n]+")":Yn(n)?n:"":""}function bp(n,i,e,r){var o=n.animators,a=o.length,s=[];if(n instanceof dd){var l=function(C,I,A){var P,O,z={};if(F(C.shape.paths,function(G){var Y=gv(A.zrId);Y.animation=!0,bp(G,{},Y,!0);var X=Y.cssAnims,te=Y.cssNodes,ae=ft(X),he=ae.length;if(he){var fe=X[O=ae[he-1]];for(var ye in fe){var Se=fe[ye];z[ye]=z[ye]||{d:""},z[ye].d+=Se.d||""}for(var Ee in te){var Re=te[Ee].animation;Re.indexOf(O)>=0&&(P=Re)}}}),P){I.d=!1;var V=VS(z,A);return P.replace(O,V)}}(n,i,e);if(l)s.push(l);else if(!a)return}else if(!a)return;for(var h={},c=0;c<a;c++){var d=o[c],p=[d.getMaxTime()/1e3+"s"],m=FS(d.getClip().easing),y=d.getDelay();p.push(m||"linear"),y&&p.push(y/1e3+"s"),d.getLoop()&&p.push("infinite");var _=p.join(" ");h[_]=h[_]||[_,[]],h[_][1].push(d)}function x(C){var I,A=C[1],P=A.length,O={},E={},z={},V="animation-timing-function";function G(Mt,yt,Dt){for(var St=Mt.getTracks(),Ot=Mt.getMaxTime(),Ft=0;Ft<St.length;Ft++){var ni=St[Ft];if(ni.needsAnimate()){var si=ni.keyframes,Ni=ni.propName;if(Dt&&(Ni=Dt(Ni)),Ni)for(var di=0;di<si.length;di++){var wi=si[di],Di=Math.round(wi.time/Ot*100)+"%",Ki=FS(wi.easing),en=wi.rawValue;(J(en)||Ge(en))&&(yt[Di]=yt[Di]||{},yt[Di][Ni]=wi.rawValue,Ki&&(yt[Di][V]=Ki))}}}}for(var Y=0;Y<P;Y++)(ze=(Re=A[Y]).targetName)?"shape"===ze&&G(Re,E):!r&&G(Re,O);for(var X in O){var te={};m_(te,n),Z(te,O[X]);var ae=Al(te),he=O[X][V];z[X]=ae?{transform:ae}:{},wO(z[X],te),he&&(z[X][V]=he)}var fe=!0;for(var X in E){z[X]=z[X]||{};var ye=!I;he=E[X][V],ye&&(I=new Eo);var Se=I.len();I.reset(),z[X].d=bO(n,E[X],I);var Ee=I.len();if(!ye&&Se!==Ee){fe=!1;break}he&&(z[X][V]=he)}if(!fe)for(var X in z)delete z[X].d;if(!r)for(Y=0;Y<P;Y++){var Re,ze;"style"===(ze=(Re=A[Y]).targetName)&&G(Re,z,function(Mt){return SO[Mt]})}var ot,xt=ft(z),Ue=!0;for(Y=1;Y<xt.length;Y++){var pt=xt[Y-1];if(z[pt][Zs]!==z[xt[Y]][Zs]){Ue=!1;break}ot=z[pt][Zs]}if(Ue&&ot){for(var X in z)z[X][Zs]&&delete z[X][Zs];i[Zs]=ot}if(tt(xt,function(Mt){return ft(z[Mt]).length>0}).length)return VS(z,e)+" "+C[0]+" both"}for(var b in h)(l=x(h[b]))&&s.push(l);if(s.length){var S=e.zrId+"-cls-"+e.cssClassIdx++;e.cssNodes["."+S]={animation:s.join(",")},i.class=S}}var Ju=Math.round;function WS(n){return n&&J(n.src)}function GS(n){return n&&ee(n.toDataURL)}function mv(n,i,e,r){(function xO(n,i,e,r){var I,o=null==i.opacity?1:i.opacity;if(e instanceof Rn)n("opacity",o);else{if(null!=(I=i.fill)&&I!==Qu){var a=Fn(i.fill);n("fill",a.color);var s=null!=i.fillOpacity?i.fillOpacity*a.opacity*o:a.opacity*o;(r||s<1)&&n("fill-opacity",s)}else n("fill",Qu);if(function(C){var I=C.stroke;return null!=I&&I!==Qu}(i)){var l=Fn(i.stroke);n("stroke",l.color);var h=i.strokeNoScale?e.getLineScale():1,c=h?(i.lineWidth||0)/h:0,d=null!=i.strokeOpacity?i.strokeOpacity*l.opacity*o:l.opacity*o,p=i.strokeFirst;if((r||1!==c)&&n("stroke-width",c),(r||p)&&n("paint-order",p?"stroke":"fill"),(r||d<1)&&n("stroke-opacity",d),i.lineDash){var m=wm(e),y=m[0],_=m[1];y&&(_=yO(_||0),n("stroke-dasharray",y.join(",")),(_||r)&&n("stroke-dashoffset",_))}else r&&n("stroke-dasharray",Qu);for(var x=0;x<pv.length;x++){var b=pv[x];if(r||i[b]!==rd[b]){var S=i[b]||rd[b];S&&n(_O[x],S)}}}else r&&n("stroke",Qu)}})(function(o,a){var s="fill"===o||"stroke"===o;s&&fs(a)?ZS(i,n,o,r):s&&ds(a)?QS(e,n,o,r):n[o]=a},i,e,!1),function(o,a,s){var P,l=o.style;if((P=l)&&(P.shadowBlur||P.shadowOffsetX||P.shadowOffsetY)){var h=function(P){var O=P.style,E=P.getGlobalScale();return[O.shadowColor,(O.shadowBlur||0).toFixed(2),(O.shadowOffsetX||0).toFixed(2),(O.shadowOffsetY||0).toFixed(2),E[0],E[1]].join(",")}(o),c=s.shadowCache,d=c[h];if(!d){var p=o.getGlobalScale(),m=p[0],y=p[1];if(!m||!y)return;var _=l.shadowOffsetX||0,x=l.shadowOffsetY||0,b=l.shadowBlur,S=Fn(l.shadowColor),C=S.opacity,I=S.color,A=b/2/m+" "+b/2/y;d=s.zrId+"-s"+s.shadowIdx++,s.defs[d]=jn("filter",d,{id:d,x:"-100%",y:"-100%",width:"300%",height:"300%"},[jn("feDropShadow","",{dx:_/m,dy:x/y,stdDeviation:A,"flood-color":I,"flood-opacity":C})]),c[h]=d}a.filter=La(d)}}(e,n,r)}function YS(n){return lo(n[0]-1)&&lo(n[1])&&lo(n[2])&&lo(n[3]-1)}function vv(n,i,e){if(i&&(!lo((o=i)[4])||!lo(o[5])||!YS(i))){var r=e?10:1e4;n.transform=YS(i)?"translate("+Ju(i[4]*r)/r+" "+Ju(i[5]*r)/r+")":function(o){return"matrix("+Dl(o[0])+","+Dl(o[1])+","+Dl(o[2])+","+Dl(o[3])+","+Zh(o[4])+","+Zh(o[5])+")"}(i)}var o}function $S(n,i,e){for(var r=n.points,o=[],a=0;a<r.length;a++)o.push(Ju(r[a][0]*e)/e),o.push(Ju(r[a][1]*e)/e);i.points=o.join(" ")}function US(n){return!n.smooth}var qS,yv,CO={circle:[(qS=["cx","cy","r"],yv=Te(qS,function(n){return"string"==typeof n?[n,n]:n}),function(n,i,e){for(var r=0;r<yv.length;r++){var o=yv[r],a=n[o[0]];null!=a&&(i[o[1]]=Ju(a*e)/e)}})],polyline:[$S,US],polygon:[$S,US]};function XS(n,i){var e=n.style,r=n.shape,o=CO[n.type],a={},s=i.animation,l="path",h=n.style.strokePercent,c=i.compress&&gs(n)||4;if(!o||i.willUpdate||o[1]&&!o[1](r)||s&&function(b){for(var S=b.animators,C=0;C<S.length;C++)if("shape"===S[C].targetName)return!0;return!1}(n)||h<1){var d=!n.path||n.shapeChanged();n.path||n.createPathProxy();var p=n.path;d&&(p.beginPath(),n.buildPath(p,n.shape),n.pathUpdated());var m=p.getVersion(),y=n,_=y.__svgPathBuilder;y.__svgPathVersion===m&&_&&h===y.__svgPathStrokePercent||(_||(_=y.__svgPathBuilder=new NS),_.reset(c),p.rebuildPath(_,h),_.generateStr(),y.__svgPathVersion=m,y.__svgPathStrokePercent=h),a.d=_.getStr()}else{l=n.type;var x=Math.pow(10,c);o[0](r,a,x)}return vv(a,n.transform),mv(a,e,n,i),i.animation&&bp(n,a,i),jn(l,n.id+"",a)}function KS(n,i){return n instanceof yi?XS(n,i):n instanceof Rn?function(e,r){var o=e.style,a=o.image;if(a&&!J(a)&&(WS(a)?a=a.src:GS(a)&&(a=a.toDataURL())),a){var s=o.x||0,l=o.y||0,h={href:a,width:o.width,height:o.height};return s&&(h.x=s),l&&(h.y=l),vv(h,e.transform),mv(h,o,e,r),r.animation&&bp(e,h,r),jn("image",e.id+"",h)}}(n,i):n instanceof Rl?function(e,r){var x,b,S,o=e.style,a=o.text;if(null!=a&&(a+=""),a&&!isNaN(o.x)&&!isNaN(o.y)){var s=o.font||Pt,l=o.x||0,h=(x=o.y||0,b=Yc(s),"top"===(S=o.textBaseline)?x+=b/2:"bottom"===S&&(x-=b/2),x),c={"dominant-baseline":"central","text-anchor":Fc[o.textAlign]||o.textAlign};if(n1(o)){var d="",p=o.fontStyle,m=t1(o.fontSize);if(!parseFloat(m))return;var _=o.fontWeight;d+="font-size:"+m+";font-family:"+(o.fontFamily||vt)+";",p&&"normal"!==p&&(d+="font-style:"+p+";"),_&&"normal"!==_&&(d+="font-weight:"+_+";"),c.style=d}else c.style="font: "+s;return a.match(/\s/)&&(c["xml:space"]="preserve"),l&&(c.x=l),h&&(c.y=h),vv(c,e.transform),mv(c,o,e,r),r.animation&&bp(e,c,r),jn("text",e.id+"",c,void 0,a)}}(n,i):void 0}function ZS(n,i,e,r){var o,a=n[e],s={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Qh(a))o="linearGradient",s.x1=a.x,s.y1=a.y,s.x2=a.x2,s.y2=a.y2;else{if(!ps(a))return;o="radialGradient",s.cx=nt(a.x,.5),s.cy=nt(a.y,.5),s.r=nt(a.r,.5)}for(var l=a.colorStops,h=[],c=0,d=l.length;c<d;++c){var p=100*Zh(l[c].offset)+"%",m=Fn(l[c].color),_=m.opacity,x={offset:p};x["stop-color"]=m.color,_<1&&(x["stop-opacity"]=_),h.push(jn("stop",c+"",x))}var b=fv(jn(o,"",s,h)),S=r.gradientCache,C=S[b];C||(C=r.zrId+"-g"+r.gradientIdx++,S[b]=C,s.id=C,r.defs[C]=jn(o,C,s,h)),i[e]=La(C)}function QS(n,i,e,r){var o,a=n.style[e],s=n.getBoundingRect(),l={},h=a.repeat,c="no-repeat"===h,d="repeat-x"===h,p="repeat-y"===h;if(Mo(a)){var m=a.imageWidth,y=a.imageHeight,_=void 0,x=a.image;if(J(x)?_=x:WS(x)?_=x.src:GS(x)&&(_=x.toDataURL()),"undefined"==typeof Image){var b="Image width/height must been given explictly in svg-ssr renderer.";ge(m,b),ge(y,b)}else if(null==m||null==y){var S=function(G,Y){if(G){var X=G.elm,te=m||Y.width,ae=y||Y.height;"pattern"===G.tag&&(d?(ae=1,te/=s.width):p&&(te=1,ae/=s.height)),G.attrs.width=te,G.attrs.height=ae,X&&(X.setAttribute("width",te),X.setAttribute("height",ae))}},C=Qf(_,null,n,function(G){c||S(O,G),S(o,G)});C&&C.width&&C.height&&(m=m||C.width,y=y||C.height)}o=jn("image","img",{href:_,width:m,height:y}),l.width=m,l.height=y}else a.svgElement&&(o=H(a.svgElement),l.width=a.svgWidth,l.height=a.svgHeight);if(o){var I,A;c?I=A=1:d?(A=1,I=l.width/s.width):p?(I=1,A=l.height/s.height):l.patternUnits="userSpaceOnUse",null==I||isNaN(I)||(l.width=I),null==A||isNaN(A)||(l.height=A);var P=Al(a);P&&(l.patternTransform=P);var O=jn("pattern","",l,[o]),E=fv(O),z=r.patternCache,V=z[E];V||(V=r.zrId+"-p"+r.patternIdx++,z[E]=V,l.id=V,O=r.defs[V]=jn("pattern",V,l,[o])),i[e]=La(V)}}function kO(n,i,e){var r=e.clipPathCache,o=e.defs,a=r[n.id];if(!a){var s={id:a=e.zrId+"-c"+e.clipPathIdx++};r[n.id]=a,o[a]=jn("clipPath",a,s,[XS(n,e)])}i["clip-path"]=La(a)}function JS(n){return document.createTextNode(n)}function vh(n,i,e){n.insertBefore(i,e)}function eC(n,i){n.removeChild(i)}function tC(n,i){n.appendChild(i)}function iC(n){return n.parentNode}function nC(n){return n.nextSibling}function _v(n,i){n.textContent=i}var TO=jn("","");function xv(n){return void 0===n}function Wo(n){return void 0!==n}function MO(n,i,e){for(var r={},o=i;o<=e;++o){var a=n[o].key;void 0!==a&&(r[a]=o)}return r}function ec(n,i){return n.tag===i.tag&&n.key===i.key}function wp(n){var i,e=n.children,r=n.tag;if(Wo(r)){var o=n.elm=BS(r);if(bv(TO,n),ne(e))for(i=0;i<e.length;++i){var a=e[i];null!=a&&tC(o,wp(a))}else Wo(n.text)&&!Pe(n.text)&&tC(o,JS(n.text))}else n.elm=JS(n.text);return n.elm}function rC(n,i,e,r,o){for(;r<=o;++r){var a=e[r];null!=a&&vh(n,wp(a),i)}}function Sp(n,i,e,r){for(;e<=r;++e){var o=i[e];null!=o&&(Wo(o.tag)?eC(iC(o.elm),o.elm):eC(n,o.elm))}}function bv(n,i){var e,r=i.elm,o=n&&n.attrs||{},a=i.attrs||{};if(o!==a){for(e in a){var s=a[e];o[e]!==s&&(!0===s?r.setAttribute(e,""):!1===s?r.removeAttribute(e):120!==e.charCodeAt(0)?r.setAttribute(e,s):"xmlns:xlink"===e||"xmlns"===e?r.setAttributeNS("http://www.w3.org/2000/xmlns/",e,s):58===e.charCodeAt(3)?r.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,s):58===e.charCodeAt(5)?r.setAttributeNS(zS,e,s):r.setAttribute(e,s))}for(e in o)e in a||r.removeAttribute(e)}}function yh(n,i){var e=i.elm=n.elm,r=n.children,o=i.children;n!==i&&(bv(n,i),xv(i.text)?Wo(r)&&Wo(o)?r!==o&&function(a,s,l){for(var h,c,d,p=0,m=0,y=s.length-1,_=s[0],x=s[y],b=l.length-1,S=l[0],C=l[b];p<=y&&m<=b;)null==_?_=s[++p]:null==x?x=s[--y]:null==S?S=l[++m]:null==C?C=l[--b]:ec(_,S)?(yh(_,S),_=s[++p],S=l[++m]):ec(x,C)?(yh(x,C),x=s[--y],C=l[--b]):ec(_,C)?(yh(_,C),vh(a,_.elm,nC(x.elm)),_=s[++p],C=l[--b]):ec(x,S)?(yh(x,S),vh(a,x.elm,_.elm),x=s[--y],S=l[++m]):(xv(h)&&(h=MO(s,p,y)),xv(c=h[S.key])||(d=s[c]).tag!==S.tag?vh(a,wp(S),_.elm):(yh(d,S),s[c]=void 0,vh(a,d.elm,_.elm)),S=l[++m]);(p<=y||m<=b)&&(p>y?rC(a,null==l[b+1]?null:l[b+1].elm,l,m,b):Sp(a,s,p,y))}(e,r,o):Wo(o)?(Wo(n.text)&&_v(e,""),rC(e,null,o,0,o.length-1)):Wo(r)?Sp(e,r,0,r.length-1):Wo(n.text)&&_v(e,""):n.text!==i.text&&(Wo(r)&&Sp(e,r,0,r.length-1),_v(e,i.text)))}var IO=0,DO=function(){function n(i,e,r){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=r=Z({},r),this.root=i,this._id="zr"+IO++,this._oldVNode=jS(r.width,r.height),i&&!r.ssr){var o=this._viewport=document.createElement("div");o.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=BS("svg");bv(null,this._oldVNode),o.appendChild(a),i.appendChild(o)}this.resize(r.width,r.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var i=this.getViewportRoot();if(i)return{offsetLeft:i.offsetLeft||0,offsetTop:i.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var i=this.renderToVNode({willUpdate:!0});i.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,r){if(ec(e,r))yh(e,r);else{var o=e.elm,a=iC(o);wp(r),null!==a&&(vh(a,r.elm,nC(o)),Sp(a,[e],0,0))}}(this._oldVNode,i),this._oldVNode=i}},n.prototype.renderOneToVNode=function(i){return KS(i,gv(this._id))},n.prototype.renderToVNode=function(i){i=i||{};var e=this.storage.getDisplayList(!0),r=this._width,o=this._height,a=gv(this._id);a.animation=i.animation,a.willUpdate=i.willUpdate,a.compress=i.compress;var s=[],l=this._bgVNode=function(m,y,_,x){var b;if(_&&"none"!==_)if(b=jn("rect","bg",{width:m,height:y,x:"0",y:"0",id:"0"}),fs(_))ZS({fill:_},b.attrs,"fill",x);else if(ds(_))QS({style:{fill:_},dirty:Ze,getBoundingRect:function(){return{width:m,height:y}}},b.attrs,"fill",x);else{var S=Fn(_),I=S.opacity;b.attrs.fill=S.color,I<1&&(b.attrs["fill-opacity"]=I)}return b}(r,o,this._backgroundColor,a);l&&s.push(l);var h=i.compress?null:this._mainVNode=jn("g","main",{},[]);this._paintList(e,a,h?h.children:s),h&&s.push(h);var m,y,x,b,S,C,I,c=Te(ft(a.defs),function(m){return a.defs[m]});if(c.length&&s.push(jn("defs","defs",{},c)),i.animation){var d=(y=a.cssAnims,b=" {"+(x=({newline:!0}||{}).newline?"\n":""),S=x+"}",C=Te(ft(m=a.cssNodes),function(A){return A+b+Te(ft(m[A]),function(P){return P+":"+m[A][P]+";"}).join(x)+S}).join(x),I=Te(ft(y),function(A){return"@keyframes "+A+b+Te(ft(y[A]),function(P){return P+b+Te(ft(y[A][P]),function(O){var E=y[A][P][O];return"d"===O&&(E='path("'+E+'")'),O+":"+E+";"}).join(x)+S}).join(x)+S}).join(x),C||I?["<![CDATA[",C,I,"]]>"].join(x):"");if(d){var p=jn("style","stl",{},[],d);s.push(p)}}return jS(r,o,s,i.useViewBox)},n.prototype.renderToString=function(i){return fv(this.renderToVNode({animation:nt((i=i||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:nt(i.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(i){this._backgroundColor=i},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(i,e,r){for(var o,a,s=i.length,l=[],h=0,c=0,d=0;d<s;d++){var p=i[d];if(!p.invisible){var m=p.__clipPaths,y=m&&m.length||0,_=a&&a.length||0,x=void 0;for(x=Math.max(y-1,_-1);x>=0&&(!m||!a||m[x]!==a[x]);x--);for(var b=_-1;b>x;b--)o=l[--h-1];for(var S=x+1;S<y;S++){var C={};kO(m[S],C,e);var I=jn("g","clip-g-"+c++,C,[]);(o?o.children:r).push(I),l[h++]=I,o=I}a=m;var A=KS(p,e);A&&(o?o.children:r).push(A)}}},n.prototype.resize=function(i,e){var r=this._opts,o=this.root,a=this._viewport;if(null!=i&&(r.width=i),null!=e&&(r.height=e),o&&a&&(a.style.display="none",i=ch(o,0,r),e=ch(o,1,r),a.style.display=""),this._width!==i||this._height!==e){if(this._width=i,this._height=e,a){var s=a.style;s.width=i+"px",s.height=e+"px"}if(ds(this._backgroundColor))this.refresh();else{var l=this._svgDom;l&&(l.setAttribute("width",i),l.setAttribute("height",e));var h=this._bgVNode&&this._bgVNode.elm;h&&(h.setAttribute("width",i),h.setAttribute("height",e))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(i){var e=this.renderToString(),r="data:image/svg+xml;";return i?(e=Jh(e))&&r+"base64,"+e:r+"charset=UTF-8,"+encodeURIComponent(e)},n}();function aC(n,i,e){var r=ut.createCanvas(),o=i.getWidth(),a=i.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=o+"px",s.height=a+"px",r.setAttribute("data-zr-dom-id",n)),r.width=o*e,r.height=a*e,r}var wv=function(n){function i(e,r,o){var a,s=n.call(this)||this;s.motionBlur=!1,s.lastFrameAlpha=.7,s.dpr=1,s.virtual=!1,s.config={},s.incremental=!1,s.zlevel=0,s.maxRepaintRectCount=5,s.__dirty=!0,s.__firstTimePaint=!0,s.__used=!1,s.__drawIndex=0,s.__startIndex=0,s.__endIndex=0,s.__prevStartIndex=null,s.__prevEndIndex=null,o=o||Gc,"string"==typeof e?a=aC(e,r,o):Pe(e)&&(e=(a=e).id),s.id=e,s.dom=a;var l=a.style;return l&&($e(a),a.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),s.painter=r,s.dpr=o,s}return Le(i,n),i.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},i.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},i.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},i.prototype.setUnpainted=function(){this.__firstTimePaint=!0},i.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=aC("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},i.prototype.createRepaintRects=function(e,r,o,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s,l=[],h=this.maxRepaintRectCount,c=!1,d=new ai(0,0,0,0);function p(C){if(C.isFinite()&&!C.isZero())if(0===l.length)(I=new ai(0,0,0,0)).copy(C),l.push(I);else{for(var I,A=!1,P=1/0,O=0,E=0;E<l.length;++E){var z=l[E];if(z.intersect(C)){var V=new ai(0,0,0,0);V.copy(z),V.union(C),l[E]=V,A=!0;break}if(c){d.copy(C),d.union(z);var X=d.width*d.height-C.width*C.height-z.width*z.height;X<P&&(P=X,O=E)}}c&&(l[O].union(C),A=!0),!A&&((I=new ai(0,0,0,0)).copy(C),l.push(I)),c||(c=l.length>=h)}}for(var m=this.__startIndex;m<this.__endIndex;++m)if(x=e[m]){var y=x.shouldBePainted(o,a,!0,!0);(b=x.__isRendered&&(1&x.__dirty||!y)?x.getPrevPaintRect():null)&&p(b);var _=y&&(1&x.__dirty||!x.__isRendered)?x.getPaintRect():null;_&&p(_)}for(m=this.__prevStartIndex;m<this.__prevEndIndex;++m){var x,b;y=(x=r[m]).shouldBePainted(o,a,!0,!0),x&&(!y||!x.__zr)&&x.__isRendered&&(b=x.getPrevPaintRect())&&p(b)}do{for(s=!1,m=0;m<l.length;)if(l[m].isZero())l.splice(m,1);else{for(var S=m+1;S<l.length;)l[m].intersect(l[S])?(s=!0,l[m].union(l[S]),l.splice(S,1)):S++;m++}}while(s);return this._paintRects=l,l},i.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},i.prototype.resize=function(e,r){var o=this.dpr,a=this.dom,s=a.style,l=this.domBack;s&&(s.width=e+"px",s.height=r+"px"),a.width=e*o,a.height=r*o,l&&(l.width=e*o,l.height=r*o,1!==o&&this.ctxBack.scale(o,o))},i.prototype.clear=function(e,r,o){var a=this.dom,s=this.ctx,l=a.width,h=a.height;r=r||this.clearColor;var c=this.motionBlur&&!e,d=this.lastFrameAlpha,p=this.dpr,m=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,l/p,h/p));var y=this.domBack;function _(x,b,S,C){if(s.clearRect(x,b,S,C),r&&"transparent"!==r){var I=void 0;wt(r)?(I=(r.global||r.__width===S&&r.__height===C)&&r.__canvasGradient||bm(s,r,{x:0,y:0,width:S,height:C}),r.__canvasGradient=I,r.__width=S,r.__height=C):Yt(r)&&(r.scaleX=r.scaleX||p,r.scaleY=r.scaleY||p,I=Sm(s,r,{dirty:function(){m.setUnpainted(),m.__painter.refresh()}})),s.save(),s.fillStyle=I||r,s.fillRect(x,b,S,C),s.restore()}c&&(s.save(),s.globalAlpha=d,s.drawImage(y,x,b,S,C),s.restore())}!o||c?_(0,0,l,h):o.length&&F(o,function(x){_(x.x*p,x.y*p,x.width*p,x.height*p)})},i}(Sn),tc=314159,AO=function(){function n(i,e,r,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!i.nodeName||"CANVAS"===i.nodeName.toUpperCase();this._opts=r=Z({},r||{}),this.dpr=r.devicePixelRatio||Gc,this._singleCanvas=a,this.root=i,i.style&&($e(i),i.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var y,_,x,l=this._layers;if(a){var h=i,c=h.width,d=h.height;null!=r.width&&(c=r.width),null!=r.height&&(d=r.height),this.dpr=r.devicePixelRatio||1,h.width=c*this.dpr,h.height=d*this.dpr,this._width=c,this._height=d;var p=new wv(h,this,this.dpr);p.__builtin__=!0,p.initContext(),l[314159]=p,p.zlevel=tc,s.push(tc),this._domRoot=i}else{this._width=ch(i,0,r),this._height=ch(i,1,r);var m=this._domRoot=(y=this._width,_=this._height,(x=document.createElement("div")).style.cssText=["position:relative","width:"+y+"px","height:"+_+"px","padding:0","margin:0","border-width:0"].join(";")+";",x);i.appendChild(m)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var i=this.getViewportRoot();if(i)return{offsetLeft:i.offsetLeft||0,offsetTop:i.offsetTop||0}},n.prototype.refresh=function(i){var e=this.storage.getDisplayList(!0),r=this._prevDisplayList,o=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,r,i,this._redrawId);for(var a=0;a<o.length;a++){var l=this._layers[o[a]];!l.__builtin__&&l.refresh&&l.refresh(0===a?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(i){var e=i.length,r=this._hoverlayer;if(r&&r.clear(),e){for(var o,a={inHover:!0,viewWidth:this._width,viewHeight:this._height},s=0;s<e;s++){var l=i[s];l.__inHover&&(r||(r=this._hoverlayer=this.getLayer(1e5)),o||(o=r.ctx).save(),Gs(o,l,a,s===e-1))}o&&o.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(i,e){Cm(i,e)},n.prototype._paintList=function(i,e,r,o){if(this._redrawId===o){r=r||!1,this._updateLayerStatus(i);var a=this._doPaintList(i,e,r),s=a.finished,l=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(i),s)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var h=this;qe(function(){h._paintList(i,e,r,o)})}}},n.prototype._compositeManually=function(){var i=this.getLayer(tc).ctx,e=this._domRoot.width,r=this._domRoot.height;i.clearRect(0,0,e,r),this.eachBuiltinLayer(function(o){o.virtual&&i.drawImage(o.dom,0,0,e,r)})},n.prototype._doPaintList=function(i,e,r){for(var o=this,a=[],s=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var c=this._layers[this._zlevelList[l]];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||r)&&a.push(c)}for(var d=!0,p=!1,m=function(x){var b,S=a[x],C=S.ctx,I=s&&S.createRepaintRects(i,e,y._width,y._height),A=r?S.__startIndex:S.__drawIndex,P=!r&&S.incremental&&Date.now,O=P&&Date.now(),E=S.zlevel===y._zlevelList[0]?y._backgroundColor:null;if(S.__startIndex===S.__endIndex)S.clear(!1,E,I);else if(A===S.__startIndex){var z=i[A];z.incremental&&z.notClear&&!r||S.clear(!1,E,I)}-1===A&&(console.error("For some unknown reason. drawIndex is -1"),A=S.__startIndex);var V=function(te){var ae={inHover:!1,allClipped:!1,prevEl:null,viewWidth:o._width,viewHeight:o._height};for(b=A;b<S.__endIndex;b++){var he=i[b];if(he.__inHover&&(p=!0),o._doPaintEl(he,S,s,te,ae,b===S.__endIndex-1),P&&Date.now()-O>15)break}ae.prevElClipPaths&&C.restore()};if(I)if(0===I.length)b=S.__endIndex;else for(var G=y.dpr,Y=0;Y<I.length;++Y){var X=I[Y];C.save(),C.beginPath(),C.rect(X.x*G,X.y*G,X.width*G,X.height*G),C.clip(),V(X),C.restore()}else C.save(),V(),C.restore();S.__drawIndex=b,S.__drawIndex<S.__endIndex&&(d=!1)},y=this,_=0;_<a.length;_++)m(_);return at.wxa&&F(this._layers,function(x){x&&x.ctx&&x.ctx.draw&&x.ctx.draw()}),{finished:d,needsRefreshHover:p}},n.prototype._doPaintEl=function(i,e,r,o,a,s){var l=e.ctx;if(r){var h=i.getPaintRect();(!o||h&&h.intersect(o))&&(Gs(l,i,a,s),i.setPrevPaintRect(h))}else Gs(l,i,a,s)},n.prototype.getLayer=function(i,e){this._singleCanvas&&!this._needsManuallyCompositing&&(i=tc);var r=this._layers[i];return r||((r=new wv("zr_"+i,this,this.dpr)).zlevel=i,r.__builtin__=!0,this._layerConfig[i]?q(r,this._layerConfig[i],!0):this._layerConfig[i-.01]&&q(r,this._layerConfig[i-.01],!0),e&&(r.virtual=e),this.insertLayer(i,r),r.initContext()),r},n.prototype.insertLayer=function(i,e){var d,r=this._layers,o=this._zlevelList,a=o.length,s=this._domRoot,l=null,h=-1;if(!r[i]&&(d=e)&&(d.__builtin__||"function"==typeof d.resize&&"function"==typeof d.refresh)){if(a>0&&i>o[0]){for(h=0;h<a-1&&!(o[h]<i&&o[h+1]>i);h++);l=r[o[h]]}if(o.splice(h+1,0,i),r[i]=e,!e.virtual)if(l){var c=l.dom;c.nextSibling?s.insertBefore(e.dom,c.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom);e.__painter=this}},n.prototype.eachLayer=function(i,e){for(var r=this._zlevelList,o=0;o<r.length;o++){var a=r[o];i.call(e,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(i,e){for(var r=this._zlevelList,o=0;o<r.length;o++){var a=r[o],s=this._layers[a];s.__builtin__&&i.call(e,s,a)}},n.prototype.eachOtherLayer=function(i,e){for(var r=this._zlevelList,o=0;o<r.length;o++){var a=r[o],s=this._layers[a];s.__builtin__||i.call(e,s,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(i){function e(p){s&&(s.__endIndex!==p&&(s.__dirty=!0),s.__endIndex=p)}if(this.eachBuiltinLayer(function(p,m){p.__dirty=p.__used=!1}),this._singleCanvas)for(var r=1;r<i.length;r++)if((h=i[r]).zlevel!==i[r-1].zlevel||h.incremental){this._needsManuallyCompositing=!0;break}var o,a,s=null,l=0;for(a=0;a<i.length;a++){var h,c=(h=i[a]).zlevel,d=void 0;o!==c&&(o=c,l=0),h.incremental?((d=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,l=1):d=this.getLayer(c+(l>0?.01:0),this._needsManuallyCompositing),d.__builtin__||N("ZLevel "+c+" has been used by unkown layer "+d.id),d!==s&&(d.__used=!0,d.__startIndex!==a&&(d.__dirty=!0),d.__startIndex=a,d.__drawIndex=d.incremental?-1:a,e(a),s=d),1&h.__dirty&&!h.__inHover&&(d.__dirty=!0,d.incremental&&d.__drawIndex<0&&(d.__drawIndex=a))}e(a),this.eachBuiltinLayer(function(p,m){!p.__used&&p.getElementCount()>0&&(p.__dirty=!0,p.__startIndex=p.__endIndex=p.__drawIndex=0),p.__dirty&&p.__drawIndex<0&&(p.__drawIndex=p.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(i){i.clear()},n.prototype.setBackgroundColor=function(i){this._backgroundColor=i,F(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(i,e){if(e){var r=this._layerConfig;r[i]?q(r[i],e,!0):r[i]=e;for(var o=0;o<this._zlevelList.length;o++){var a=this._zlevelList[o];(a===i||a===i+.01)&&q(this._layers[a],r[i],!0)}}},n.prototype.delLayer=function(i){var e=this._layers,r=this._zlevelList,o=e[i];o&&(o.dom.parentNode.removeChild(o.dom),delete e[i],r.splice(ve(r,i),1))},n.prototype.resize=function(i,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var o=this._opts,a=this.root;if(null!=i&&(o.width=i),null!=e&&(o.height=e),i=ch(a,0,o),e=ch(a,1,o),r.style.display="",this._width!==i||e!==this._height){for(var s in r.style.width=i+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(i,e);this.refresh(!0)}this._width=i,this._height=e}else{if(null==i||null==e)return;this._width=i,this._height=e,this.getLayer(tc).resize(i,e)}return this},n.prototype.clearLayer=function(i){var e=this._layers[i];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(i){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new wv("image",this,(i=i||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,i.backgroundColor||this._backgroundColor);var r=e.ctx;if(i.pixelRatio<=this.dpr){this.refresh();var o=e.dom.width,a=e.dom.height;this.eachLayer(function(p){p.__builtin__?r.drawImage(p.dom,0,0,o,a):p.renderToCanvas&&(r.save(),p.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),h=0,c=l.length;h<c;h++)Gs(r,l[h],s,h===c-1);return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}(),LO=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.hasSymbolVisual=!0,e}return Le(i,n),i.prototype.getInitialData=function(e){return Bo(null,this,{useEncodeDefaulter:!0})},i.prototype.getLegendIcon=function(e){var r=new ti,o=vn("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);r.add(o),o.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),l="none"===a?"circle":a,h=.8*e.itemHeight,c=vn(l,(e.itemWidth-h)/2,(e.itemHeight-h)/2,h,h,e.itemStyle.fill);return r.add(c),c.setStyle(e.itemStyle),c.rotation=("inherit"===e.iconRotate?s:e.iconRotate||0)*Math.PI/180,c.setOrigin([e.itemWidth/2,e.itemHeight/2]),l.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),r},i.type="series.line",i.dependencies=["grid","polar"],i.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},i}(Yi);function _h(n,i){var e=n.mapDimensionsAll("defaultedLabel"),r=e.length;if(1===r){var o=ah(n,i,e[0]);return null!=o?o+"":null}if(r){for(var a=[],s=0;s<e.length;s++)a.push(ah(n,i,e[s]));return a.join(" ")}}function lC(n,i){var e=n.mapDimensionsAll("defaultedLabel");if(!ne(i))return i+"";for(var r=[],o=0;o<e.length;o++){var a=n.getDimensionIndex(e[o]);a>=0&&r.push(i[a])}return r.join(" ")}var ic=function(n){function i(e,r,o,a){var s=n.call(this)||this;return s.updateData(e,r,o,a),s}return Le(i,n),i.prototype._createSymbol=function(e,r,o,a,s){this.removeAll();var l=vn(e,-1,-1,2,2,null,s);l.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=PO,this._symbolType=e,this.add(l)},i.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},i.prototype.getSymbolType=function(){return this._symbolType},i.prototype.getSymbolPath=function(){return this.childAt(0)},i.prototype.highlight=function(){ha(this.childAt(0))},i.prototype.downplay=function(){ua(this.childAt(0))},i.prototype.setZ=function(e,r){var o=this.childAt(0);o.zlevel=e,o.z=r},i.prototype.setDraggable=function(e,r){var o=this.childAt(0);o.draggable=e,o.cursor=!r&&e?"move":o.cursor},i.prototype.updateData=function(e,r,o,a){this.silent=!1;var s=e.getItemVisual(r,"symbol")||"circle",l=e.hostModel,h=i.getSymbolSize(e,r),c=s!==this._symbolType,d=a&&a.disableAnimation;if(c){var p=e.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,e,r,h,p)}else{(y=this.childAt(0)).silent=!1;var m={scaleX:h[0]/2,scaleY:h[1]/2};d?y.attr(m):Ii(y,m,l,r),go(y)}if(this._updateCommon(e,r,h,o,a),c){var y=this.childAt(0);d||(m={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:y.style.opacity}},y.scaleX=y.scaleY=0,y.style.opacity=0,nn(y,m,l,r))}d&&this.childAt(0).stopAnimation("leave")},i.prototype._updateCommon=function(e,r,o,a,s){var l,h,c,d,p,m,y,_,x,b=this.childAt(0),S=e.hostModel;if(a&&(l=a.emphasisItemStyle,h=a.blurItemStyle,c=a.selectItemStyle,d=a.focus,p=a.blurScope,y=a.labelStatesModels,_=a.hoverScale,x=a.cursorStyle,m=a.emphasisDisabled),!a||e.hasItemOption){var C=a&&a.itemModel?a.itemModel:e.getItemModel(r),I=C.getModel("emphasis");l=I.getModel("itemStyle").getItemStyle(),c=C.getModel(["select","itemStyle"]).getItemStyle(),h=C.getModel(["blur","itemStyle"]).getItemStyle(),d=I.get("focus"),p=I.get("blurScope"),m=I.get("disabled"),y=zn(C),_=I.getShallow("scale"),x=C.getShallow("cursor")}var A=e.getItemVisual(r,"symbolRotate");b.attr("rotation",(A||0)*Math.PI/180||0);var P=Fs(e.getItemVisual(r,"symbolOffset"),o);P&&(b.x=P[0],b.y=P[1]),x&&b.attr("cursor",x);var O=e.getItemVisual(r,"style"),E=O.fill;if(b instanceof Rn){var z=b.style;b.useStyle(Z({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},O))}else b.useStyle(b.__isEmptyBrush?Z({},O):O),b.style.decal=null,b.setColor(E,s&&s.symbolInnerColor),b.style.strokeNoScale=!0;var V=e.getItemVisual(r,"liftZ"),G=this._z2;null!=V?null==G&&(this._z2=b.z2,b.z2+=V):null!=G&&(b.z2=G,this._z2=null);var Y=s&&s.useNameLabel;Kn(b,y,{labelFetcher:S,labelDataIndex:r,defaultText:function(ae){return Y?e.getName(ae):_h(e,ae)},inheritColor:E,defaultOpacity:O.opacity}),this._sizeX=o[0]/2,this._sizeY=o[1]/2;var X=b.ensureState("emphasis");X.style=l,b.ensureState("select").style=c,b.ensureState("blur").style=h;var te=null==_||!0===_?Math.max(1.1,3/this._sizeY):isFinite(_)&&_>0?+_:1;X.scaleX=this._sizeX*te,X.scaleY=this._sizeY*te,this.setSymbolScale(1),dn(this,d,p,m)},i.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},i.prototype.fadeOut=function(e,r,o){var a=this.childAt(0),s=oi(this).dataIndex,l=o&&o.animation;if(this.silent=a.silent=!0,o&&o.fadeLabel){var h=a.getTextContent();h&&Ba(h,{style:{opacity:0}},r,{dataIndex:s,removeOpt:l,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Ba(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:s,cb:e,removeOpt:l})},i.getSymbolSize=function(e,r){return uh(e.getItemVisual(r,"symbolSize"))},i}(ti);function PO(n,i){this.parent.drift(n,i)}function Sv(n,i,e,r){return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(r.isIgnore&&r.isIgnore(e))&&!(r.clipShape&&!r.clipShape.contain(i[0],i[1]))&&"none"!==n.getItemVisual(e,"symbol")}function hC(n){return null==n||Pe(n)||(n={isIgnore:n}),n||{}}function uC(n){var i=n.hostModel,e=i.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:i.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:i.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:zn(i),cursorStyle:i.get("cursor")}}var nc=function(){function n(i){this.group=new ti,this._SymbolCtor=i||ic}return n.prototype.updateData=function(i,e){this._progressiveEls=null,e=hC(e);var r=this.group,o=i.hostModel,a=this._data,s=this._SymbolCtor,l=e.disableAnimation,h=uC(i),c={disableAnimation:l},d=e.getSymbolPoint||function(p){return i.getItemLayout(p)};a||r.removeAll(),i.diff(a).add(function(p){var m=d(p);if(Sv(i,m,p,e)){var y=new s(i,p,h,c);y.setPosition(m),i.setItemGraphicEl(p,y),r.add(y)}}).update(function(p,m){var y=a.getItemGraphicEl(m),_=d(p);if(Sv(i,_,p,e)){var x=i.getItemVisual(p,"symbol")||"circle",b=y&&y.getSymbolType&&y.getSymbolType();if(!y||b&&b!==x)r.remove(y),(y=new s(i,p,h,c)).setPosition(_);else{y.updateData(i,p,h,c);var S={x:_[0],y:_[1]};l?y.attr(S):Ii(y,S,o)}r.add(y),i.setItemGraphicEl(p,y)}else r.remove(y)}).remove(function(p){var m=a.getItemGraphicEl(p);m&&m.fadeOut(function(){r.remove(m)},o)}).execute(),this._getSymbolPoint=d,this._data=i},n.prototype.updateLayout=function(){var i=this,e=this._data;e&&e.eachItemGraphicEl(function(r,o){var a=i._getSymbolPoint(o);r.setPosition(a),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(i){this._seriesScope=uC(i),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(i,e,r){function o(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],r=hC(r);for(var a=i.start;a<i.end;a++){var s=e.getItemLayout(a);if(Sv(e,s,a,r)){var l=new this._SymbolCtor(e,a,this._seriesScope);l.traverse(o),l.setPosition(s),this.group.add(l),e.setItemGraphicEl(a,l),this._progressiveEls.push(l)}}},n.prototype.eachRendered=function(i){Ha(this._progressiveEls||this.group,i)},n.prototype.remove=function(i){var e=this.group,r=this._data;r&&i?r.eachItemGraphicEl(function(o){o.fadeOut(function(){e.remove(o)},r.hostModel)}):e.removeAll()},n}();function cC(n,i,e){var x,b,S,r=n.getBaseAxis(),o=n.getOtherAxis(r),a=(x=e,b=0,S=o.scale.getExtent(),"start"===x?b=S[0]:"end"===x?b=S[1]:Ge(x)&&!isNaN(x)?b=x:S[0]>0?b=S[0]:S[1]<0&&(b=S[1]),b),s=r.dim,l=o.dim,h=i.mapDimension(l),c=i.mapDimension(s),d="x"===l||"radius"===l?1:0,p=Te(n.dimensions,function(_){return i.mapDimension(_)}),m=!1,y=i.getCalculationInfo("stackResultDimension");return pa(i,p[0])&&(m=!0,p[0]=y),pa(i,p[1])&&(m=!0,p[1]=y),{dataDimsForPoint:p,valueStart:a,valueAxisDim:l,baseAxisDim:s,stacked:!!m,valueDim:h,baseDim:c,baseDataOffset:d,stackedOverDimension:i.getCalculationInfo("stackedOverDimension")}}function dC(n,i,e,r){var o=NaN;n.stacked&&(o=e.get(e.getCalculationInfo("stackedOverDimension"),r)),isNaN(o)&&(o=n.valueStart);var a=n.baseDataOffset,s=[];return s[a]=e.get(n.baseDim,r),s[1-a]=o,i.dataToPoint(s)}var Xa=Math.min,Ka=Math.max;function Qs(n,i){return isNaN(n)||isNaN(i)}function Cv(n,i,e,r,o,a,s,l,h){for(var c,d,p,m,y,_,x=e,b=0;b<r;b++){var S=i[2*x],C=i[2*x+1];if(x>=o||x<0)break;if(Qs(S,C)){if(h){x+=a;continue}break}if(x===e)n[a>0?"moveTo":"lineTo"](S,C),p=S,m=C;else{var I=S-c,A=C-d;if(I*I+A*A<.5){x+=a;continue}if(s>0){for(var P=x+a,O=i[2*P],E=i[2*P+1];O===S&&E===C&&b<r;)b++,O=i[2*(P+=a)],E=i[2*P+1],I=(S=i[2*(x+=a)])-c,A=(C=i[2*x+1])-d;var z=b+1;if(h)for(;Qs(O,E)&&z<r;)z++,O=i[2*(P+=a)],E=i[2*P+1];var V=.5,G=0,Y=0,X=void 0,te=void 0;if(z>=r||Qs(O,E))y=S,_=C;else{G=O-c,Y=E-d;var ae=S-c,he=O-S,fe=C-d,ye=E-C,Se=void 0,Ee=void 0;if("x"===l){var Re=G>0?1:-1;y=S-Re*(Se=Math.abs(ae))*s,_=C,X=S+Re*(Ee=Math.abs(he))*s,te=C}else if("y"===l){var ze=Y>0?1:-1;y=S,_=C-ze*(Se=Math.abs(fe))*s,X=S,te=C+ze*(Ee=Math.abs(ye))*s}else Se=Math.sqrt(ae*ae+fe*fe),y=S-G*s*(1-(V=(Ee=Math.sqrt(he*he+ye*ye))/(Ee+Se))),_=C-Y*s*(1-V),te=C+Y*s*V,X=Xa(X=S+G*s*V,Ka(O,S)),te=Xa(te,Ka(E,C)),X=Ka(X,Xa(O,S)),_=C-(Y=(te=Ka(te,Xa(E,C)))-C)*Se/Ee,y=Xa(y=S-(G=X-S)*Se/Ee,Ka(c,S)),_=Xa(_,Ka(d,C)),X=S+(G=S-(y=Ka(y,Xa(c,S))))*Ee/Se,te=C+(Y=C-(_=Ka(_,Xa(d,C))))*Ee/Se}n.bezierCurveTo(p,m,y,_,S,C),p=X,m=te}else n.lineTo(S,C)}c=S,d=C,x+=a}return b}var pC=function(){this.smooth=0,this.smoothConstraint=!0},OO=function(n){function i(e){var r=n.call(this,e)||this;return r.type="ec-polyline",r}return Le(i,n),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new pC},i.prototype.buildPath=function(e,r){var o=r.points,a=0,s=o.length/2;if(r.connectNulls){for(;s>0&&Qs(o[2*s-2],o[2*s-1]);s--);for(;a<s&&Qs(o[2*a],o[2*a+1]);a++);}for(;a<s;)a+=Cv(e,o,a,s,s,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},i.prototype.getPointOn=function(e,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var o,a,s=this.path.data,l=Eo.CMD,h="x"===r,c=[],d=0;d<s.length;){var p=void 0,m=void 0,y=void 0,_=void 0,x=void 0,b=void 0,S=void 0;switch(s[d++]){case l.M:o=s[d++],a=s[d++];break;case l.L:if(p=s[d++],m=s[d++],(S=h?(e-o)/(p-o):(e-a)/(m-a))<=1&&S>=0){var C=h?(m-a)*S+a:(p-o)*S+o;return h?[e,C]:[C,e]}o=p,a=m;break;case l.C:p=s[d++],m=s[d++],y=s[d++],_=s[d++],x=s[d++],b=s[d++];var I=h?Nn(o,p,y,x,e,c):Nn(a,m,_,b,e,c);if(I>0)for(var A=0;A<I;A++){var P=c[A];if(P<=1&&P>=0)return C=h?mi(a,m,_,b,P):mi(o,p,y,x,P),h?[e,C]:[C,e]}o=x,a=b}}},i}(yi),EO=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i}(pC),fC=function(n){function i(e){var r=n.call(this,e)||this;return r.type="ec-polygon",r}return Le(i,n),i.prototype.getDefaultShape=function(){return new EO},i.prototype.buildPath=function(e,r){var o=r.points,a=r.stackedOnPoints,s=0,l=o.length/2,h=r.smoothMonotone;if(r.connectNulls){for(;l>0&&Qs(o[2*l-2],o[2*l-1]);l--);for(;s<l&&Qs(o[2*s],o[2*s+1]);s++);}for(;s<l;){var c=Cv(e,o,s,l,l,1,r.smooth,h,r.connectNulls);Cv(e,a,s+c-1,c,l,-1,r.stackedOnSmooth,h,r.connectNulls),s+=c+1,e.closePath()}},i}(yi);function gC(n,i,e,r,o){var a=n.getArea(),s=a.x,l=a.y,h=a.width,c=a.height,d=e.get(["lineStyle","width"])||2;s-=d/2,l-=d/2,h+=d,c+=d,s=Math.floor(s),h=Math.round(h);var p=new Si({shape:{x:s,y:l,width:h,height:c}});if(i){var m=n.getBaseAxis(),y=m.isHorizontal(),_=m.inverse;y?(_&&(p.shape.x+=h),p.shape.width=0):(_||(p.shape.y+=c),p.shape.height=0);var x=ee(o)?function(b){o(b,p)}:null;nn(p,{shape:{width:h,height:c,x:s,y:l}},e,null,r,x)}return p}function mC(n,i,e){var r=n.getArea(),o=cn(r.r0,1),a=cn(r.r,1),s=new ir({shape:{cx:cn(n.cx,1),cy:cn(n.cy,1),r0:o,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return i&&("angle"===n.getBaseAxis().dim?s.shape.endAngle=r.startAngle:s.shape.r=o,nn(s,{shape:{endAngle:r.endAngle,r:a}},e)),s}function kp(n,i,e,r,o){return n?"polar"===n.type?mC(n,i,e):"cartesian2d"===n.type?gC(n,i,e,r,o):null:null}function Js(n,i){return n.type===i}function vC(n,i){if(n.length===i.length){for(var e=0;e<n.length;e++)if(n[e]!==i[e])return;return!0}}function yC(n){for(var i=1/0,e=1/0,r=-1/0,o=-1/0,a=0;a<n.length;){var s=n[a++],l=n[a++];isNaN(s)||(i=Math.min(s,i),r=Math.max(s,r)),isNaN(l)||(e=Math.min(l,e),o=Math.max(l,o))}return[[i,e],[r,o]]}function _C(n,i){var e=yC(n),r=e[0],o=e[1],a=yC(i),s=a[0],l=a[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(o[0]-l[0]),Math.abs(o[1]-l[1]))}function xC(n){return Ge(n)?n:n?.5:0}function Za(n,i,e,r){var o=i.getBaseAxis(),a="x"===o.dim||"radius"===o.dim?0:1,s=[],l=0,h=[],c=[],d=[],p=[];if(r){for(l=0;l<n.length;l+=2)isNaN(n[l])||isNaN(n[l+1])||p.push(n[l],n[l+1]);n=p}for(l=0;l<n.length-2;l+=2)switch(d[0]=n[l+2],d[1]=n[l+3],c[0]=n[l],c[1]=n[l+1],s.push(c[0],c[1]),e){case"end":h[a]=d[a],h[1-a]=c[1-a],s.push(h[0],h[1]);break;case"middle":var y=[];h[a]=y[a]=(c[a]+d[a])/2,h[1-a]=c[1-a],y[1-a]=d[1-a],s.push(h[0],h[1]),s.push(y[0],y[1]);break;default:h[a]=c[a],h[1-a]=d[1-a],s.push(h[0],h[1])}return s.push(n[l++],n[l++]),s}function bC(n,i){return[n[2*i],n[2*i+1]]}function wC(n){if(n.get(["endLabel","show"]))return!0;for(var i=0;i<pr.length;i++)if(n.get([pr[i],"endLabel","show"]))return!0;return!1}function kv(n,i,e,r){if(Js(i,"cartesian2d")){var o=r.getModel("endLabel"),a=o.get("valueAnimation"),s=r.getData(),l={lastFrameIndex:0},h=wC(r)?function(y,_){n._endLabelOnDuring(y,_,s,l,a,o,i)}:null,c=i.getBaseAxis().isHorizontal(),d=gC(i,e,r,function(){var y=n._endLabel;y&&e&&null!=l.originalX&&y.attr({x:l.originalX,y:l.originalY})},h);if(!r.get("clip",!0)){var p=d.shape,m=Math.max(p.width,p.height);c?(p.y-=m,p.height+=2*m):(p.x-=m,p.width+=2*m)}return h&&h(1,d),d}return mC(i,e,r)}var zO=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.init=function(){var e=new ti,r=new nc;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=e},i.prototype.render=function(e,r,o){var a=this,s=e.coordinateSystem,l=this.group,h=e.getData(),c=e.getModel("lineStyle"),d=e.getModel("areaStyle"),p=h.getLayout("points")||[],m="polar"===s.type,y=this._coordSys,_=this._symbolDraw,x=this._polyline,b=this._polygon,S=this._lineGroup,C=!r.ssr&&e.isAnimationEnabled(),I=!d.isEmpty(),A=d.get("origin"),P=cC(s,h,A),O=I&&function(Ue,pt,bt){if(!bt.valueDim)return[];for(var Mt=pt.count(),yt=Ho(2*Mt),Dt=0;Dt<Mt;Dt++){var St=dC(bt,Ue,pt,Dt);yt[2*Dt]=St[0],yt[2*Dt+1]=St[1]}return yt}(s,h,P),E=e.get("showSymbol"),z=e.get("connectNulls"),V=E&&!m&&function RO(n,i,e){var r=n.get("showAllSymbol"),o="auto"===r;if(!r||o){var a=e.getAxesByScale("ordinal")[0];if(a&&(!o||!function(h,c){var d=h.getExtent(),p=Math.abs(d[1]-d[0])/h.scale.count();isNaN(p)&&(p=0);for(var m=c.count(),y=Math.max(1,Math.round(m/5)),_=0;_<m;_+=y)if(1.5*ic.getSymbolSize(c,_)[h.isHorizontal()?1:0]>p)return!1;return!0}(a,i))){var s=i.mapDimension(a.dim),l={};return F(a.getViewLabels(),function(h){var c=a.scale.getRawOrdinalNumber(h.tickValue);l[c]=1}),function(h){return!l.hasOwnProperty(i.get(s,h))}}}}(e,h,s),G=this._data;G&&G.eachItemGraphicEl(function(Ue,pt){Ue.__temp&&(l.remove(Ue),G.setItemGraphicEl(pt,null))}),E||_.remove(),l.add(S);var Y,X=!m&&e.get("step");s&&s.getArea&&e.get("clip",!0)&&(null!=(Y=s.getArea()).width?(Y.x-=.1,Y.y-=.1,Y.width+=.2,Y.height+=.2):Y.r0&&(Y.r0-=.5,Y.r+=.5)),this._clipShapeForSymbol=Y;var te=function NO(n,i,e){var r=n.getVisual("visualMeta");if(r&&r.length&&n.count()&&"cartesian2d"===i.type){for(var o,a,s=r.length-1;s>=0;s--){var l=n.getDimensionInfo(r[s].dimension);if("x"===(o=l&&l.coordDim)||"y"===o){a=r[s];break}}if(a){var h=i.getAxis(o),c=Te(a.stops,function(C){return{coord:h.toGlobalCoord(h.dataToCoord(C.value)),color:C.color}}),d=c.length,p=a.outerColors.slice();d&&c[0].coord>c[d-1].coord&&(c.reverse(),p.reverse());var m=function(C,I){var A,P,O=[],E=C.length;function z(X,te,ae){var he=X.coord;return{coord:ae,color:Er((ae-he)/(te.coord-he),[X.color,te.color])}}for(var V=0;V<E;V++){var G=C[V],Y=G.coord;if(Y<0)A=G;else{if(Y>I){P?O.push(z(P,G,I)):A&&O.push(z(A,G,0),z(A,G,I));break}A&&(O.push(z(A,G,0)),A=null),O.push(G),P=G}}return O}(c,"x"===o?e.getWidth():e.getHeight()),y=m.length;if(!y&&d)return c[0].coord<0?p[1]?p[1]:c[d-1].color:p[0]?p[0]:c[0].color;var _=m[0].coord-10,x=m[y-1].coord+10,b=x-_;if(b<.001)return"transparent";F(m,function(C){C.offset=(C.coord-_)/b}),m.push({offset:y?m[y-1].offset:.5,color:p[1]||"transparent"}),m.unshift({offset:y?m[0].offset:.5,color:p[0]||"transparent"});var S=new Wl(0,0,0,0,m,!0);return S[o]=_,S[o+"2"]=x,S}}}(h,s,o)||h.getVisual("style")[h.getVisual("drawType")];if(x&&y.type===s.type&&X===this._step){I&&!b?b=this._newPolygon(p,O):b&&!I&&(S.remove(b),b=this._polygon=null),m||this._initOrUpdateEndLabel(e,s,Bs(te));var ae=S.getClipPath();ae?nn(ae,{shape:kv(this,s,!1,e).shape},e):S.setClipPath(kv(this,s,!0,e)),E&&_.updateData(h,{isIgnore:V,clipShape:Y,disableAnimation:!0,getSymbolPoint:function(Ue){return[p[2*Ue],p[2*Ue+1]]}}),vC(this._stackedOnPoints,O)&&vC(this._points,p)||(C?this._doUpdateAnimation(h,O,s,o,X,A,z):(X&&(p=Za(p,s,X,z),O&&(O=Za(O,s,X,z))),x.setShape({points:p}),b&&b.setShape({points:p,stackedOnPoints:O})))}else E&&_.updateData(h,{isIgnore:V,clipShape:Y,disableAnimation:!0,getSymbolPoint:function(Ue){return[p[2*Ue],p[2*Ue+1]]}}),C&&this._initSymbolLabelAnimation(h,s,Y),X&&(p=Za(p,s,X,z),O&&(O=Za(O,s,X,z))),x=this._newPolyline(p),I?b=this._newPolygon(p,O):b&&(S.remove(b),b=this._polygon=null),m||this._initOrUpdateEndLabel(e,s,Bs(te)),S.setClipPath(kv(this,s,!0,e));var he=e.getModel("emphasis"),fe=he.get("focus"),ye=he.get("blurScope"),Se=he.get("disabled");x.useStyle(de(c.getLineStyle(),{fill:"none",stroke:te,lineJoin:"bevel"})),Xn(x,e,"lineStyle"),x.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(x.getState("emphasis").style.lineWidth=+x.style.lineWidth+1),oi(x).seriesIndex=e.seriesIndex,dn(x,fe,ye,Se);var Ee=xC(e.get("smooth")),Re=e.get("smoothMonotone");if(x.setShape({smooth:Ee,smoothMonotone:Re,connectNulls:z}),b){var ze=h.getCalculationInfo("stackedOnSeries"),ot=0;b.useStyle(de(d.getAreaStyle(),{fill:te,opacity:.7,lineJoin:"bevel",decal:h.getVisual("style").decal})),ze&&(ot=xC(ze.get("smooth"))),b.setShape({smooth:Ee,stackedOnSmooth:ot,smoothMonotone:Re,connectNulls:z}),Xn(b,e,"areaStyle"),oi(b).seriesIndex=e.seriesIndex,dn(b,fe,ye,Se)}var xt=function(Ue){a._changePolyState(Ue)};h.eachItemGraphicEl(function(Ue){Ue&&(Ue.onHoverStateChange=xt)}),this._polyline.onHoverStateChange=xt,this._data=h,this._coordSys=s,this._stackedOnPoints=O,this._points=p,this._step=X,this._valueOrigin=A,e.get("triggerLineEvent")&&(this.packEventData(e,x),b&&this.packEventData(e,b))},i.prototype.packEventData=function(e,r){oi(r).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},i.prototype.highlight=function(e,r,o,a){var s=e.getData(),l=xs(s,a);if(this._changePolyState("emphasis"),!(l instanceof Array)&&null!=l&&l>=0){var h=s.getLayout("points"),c=s.getItemGraphicEl(l);if(!c){var d=h[2*l],p=h[2*l+1];if(isNaN(d)||isNaN(p)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(d,p))return;var m=e.get("zlevel")||0,y=e.get("z")||0;(c=new ic(s,l)).x=d,c.y=p,c.setZ(m,y);var _=c.getSymbolPath().getTextContent();_&&(_.zlevel=m,_.z=y,_.z2=this._polyline.z2+1),c.__temp=!0,s.setItemGraphicEl(l,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else Hi.prototype.highlight.call(this,e,r,o,a)},i.prototype.downplay=function(e,r,o,a){var s=e.getData(),l=xs(s,a);if(this._changePolyState("normal"),null!=l&&l>=0){var h=s.getItemGraphicEl(l);h&&(h.__temp?(s.setItemGraphicEl(l,null),this.group.remove(h)):h.downplay())}else Hi.prototype.downplay.call(this,e,r,o,a)},i.prototype._changePolyState=function(e){var r=this._polygon;ld(this._polyline,e),r&&ld(r,e)},i.prototype._newPolyline=function(e){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new OO({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},i.prototype._newPolygon=function(e,r){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new fC({shape:{points:e,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},i.prototype._initSymbolLabelAnimation=function(e,r,o){var a,s,l=r.getBaseAxis(),h=l.inverse;"cartesian2d"===r.type?(a=l.isHorizontal(),s=!1):"polar"===r.type&&(a="angle"===l.dim,s=!0);var c=e.hostModel,d=c.get("animationDuration");ee(d)&&(d=d(null));var p=c.get("animationDelay")||0,m=ee(p)?p(null):p;e.eachItemGraphicEl(function(y,_){var x=y;if(x){var S=void 0,C=void 0,I=void 0;if(o)if(s){var A=o,P=r.pointToCoord([y.x,y.y]);a?(S=A.startAngle,C=A.endAngle,I=-P[1]/180*Math.PI):(S=A.r0,C=A.r,I=P[0])}else a?(S=o.x,C=o.x+o.width,I=y.x):(S=o.y+o.height,C=o.y,I=y.y);var E=C===S?0:(I-S)/(C-S);h&&(E=1-E);var z=ee(p)?p(_):d*E+m,V=x.getSymbolPath(),G=V.getTextContent();x.attr({scaleX:0,scaleY:0}),x.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:z}),G&&G.animateFrom({style:{opacity:0}},{duration:300,delay:z}),V.disableLabelAnimation=!0}})},i.prototype._initOrUpdateEndLabel=function(e,r,o){var p,y,_,x,b,S,a=e.getModel("endLabel");if(wC(e)){var s=e.getData(),l=this._polyline,h=s.getLayout("points");if(!h)return l.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new Ci({z2:200})).ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var d=function(p){for(var y,_=p.length/2;_>0&&(y=p[2*_-1],isNaN(p[2*_-2])||isNaN(y));_--);return _-1}(h);d>=0&&(Kn(l,zn(e,"endLabel"),{inheritColor:o,labelFetcher:e,labelDataIndex:d,defaultText:function(p,m,y){return null!=y?lC(s,y):_h(s,p)},enableTextSetter:!0},(p=a,_=(y=r.getBaseAxis()).isHorizontal(),x=y.inverse,b=_?x?"right":"left":"center",S=_?"middle":x?"top":"bottom",{normal:{align:p.get("align")||b,verticalAlign:p.get("verticalAlign")||S}})),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},i.prototype._endLabelOnDuring=function(e,r,o,a,s,l,h){var c=this._endLabel,d=this._polyline;if(c){e<1&&null==a.originalX&&(a.originalX=c.x,a.originalY=c.y);var p=o.getLayout("points"),m=o.hostModel,y=m.get("connectNulls"),_=l.get("precision"),x=l.get("distance")||0,b=h.getBaseAxis(),S=b.isHorizontal(),C=b.inverse,I=r.shape,A=C?S?I.x:I.y+I.height:S?I.x+I.width:I.y,P=(S?x:0)*(C?-1:1),O=(S?0:-x)*(C?-1:1),E=S?"x":"y",z=function(ye,Se,Ee){for(var Re,ze,ot=ye.length/2,xt="x"===Ee?0:1,Ue=0,pt=-1,bt=0;bt<ot;bt++)if(ze=ye[2*bt+xt],!isNaN(ze)&&!isNaN(ye[2*bt+1-xt]))if(0!==bt){if(Re<=Se&&ze>=Se||Re>=Se&&ze<=Se){pt=bt;break}Ue=bt,Re=ze}else Re=ze;return{range:[Ue,pt],t:(Se-Re)/(ze-Re)}}(p,A,E),V=z.range,G=V[1]-V[0],Y=void 0;if(G>=1){if(G>1&&!y){var X=bC(p,V[0]);c.attr({x:X[0]+P,y:X[1]+O}),s&&(Y=m.getRawValue(V[0]))}else{(X=d.getPointOn(A,E))&&c.attr({x:X[0]+P,y:X[1]+O});var te=m.getRawValue(V[0]),ae=m.getRawValue(V[1]);s&&(Y=E_(o,_,te,ae,z.t))}a.lastFrameIndex=V[0]}else{var he=1===e||a.lastFrameIndex>0?V[0]:0;X=bC(p,he),s&&(Y=m.getRawValue(he)),c.attr({x:X[0]+P,y:X[1]+O})}if(s){var fe=Xl(c);"function"==typeof fe.setLabelText&&fe.setLabelText(Y)}}},i.prototype._doUpdateAnimation=function(e,r,o,a,s,l,h){var c=this._polyline,d=this._polygon,p=e.hostModel,m=function(O,E,z,V,G,Y,X,te){for(var ae=function(Zi,an){var _n=[];return an.diff(Zi).add(function(xn){_n.push({cmd:"+",idx:xn})}).update(function(xn,bn){_n.push({cmd:"=",idx:bn,idx1:xn})}).remove(function(xn){_n.push({cmd:"-",idx:xn})}).execute(),_n}(O,E),he=[],fe=[],ye=[],Se=[],Ee=[],Re=[],ze=[],ot=cC(G,E,X),xt=O.getLayout("points")||[],Ue=E.getLayout("points")||[],pt=0;pt<ae.length;pt++){var bt=ae[pt],Mt=!0,yt=void 0,Dt=void 0;switch(bt.cmd){case"=":var St=xt[yt=2*bt.idx],Ot=xt[yt+1],Ft=Ue[Dt=2*bt.idx1],ni=Ue[Dt+1];(isNaN(St)||isNaN(Ot))&&(St=Ft,Ot=ni),he.push(St,Ot),fe.push(Ft,ni),ye.push(z[yt],z[yt+1]),Se.push(V[Dt],V[Dt+1]),ze.push(E.getRawIndex(bt.idx1));break;case"+":var si=bt.idx,Ni=ot.dataDimsForPoint,di=G.dataToPoint([E.get(Ni[0],si),E.get(Ni[1],si)]);Dt=2*si,he.push(di[0],di[1]),fe.push(Ue[Dt],Ue[Dt+1]);var wi=dC(ot,G,E,si);ye.push(wi[0],wi[1]),Se.push(V[Dt],V[Dt+1]),ze.push(E.getRawIndex(si));break;case"-":Mt=!1}Mt&&(Ee.push(bt),Re.push(Re.length))}Re.sort(function(Zi,an){return ze[Zi]-ze[an]});var Di=he.length,Ki=Ho(Di),en=Ho(Di),In=Ho(Di),Lr=Ho(Di),Uo=[];for(pt=0;pt<Re.length;pt++){var Ai=Re[pt],ci=2*pt,ri=2*Ai;Ki[ci]=he[ri],Ki[ci+1]=he[ri+1],en[ci]=fe[ri],en[ci+1]=fe[ri+1],In[ci]=ye[ri],In[ci+1]=ye[ri+1],Lr[ci]=Se[ri],Lr[ci+1]=Se[ri+1],Uo[pt]=Ee[Ai]}return{current:Ki,next:en,stackedOnCurrent:In,stackedOnNext:Lr,status:Uo}}(this._data,e,this._stackedOnPoints,r,this._coordSys,0,this._valueOrigin),y=m.current,_=m.stackedOnCurrent,x=m.next,b=m.stackedOnNext;if(s&&(y=Za(m.current,o,s,h),_=Za(m.stackedOnCurrent,o,s,h),x=Za(m.next,o,s,h),b=Za(m.stackedOnNext,o,s,h)),_C(y,x)>3e3||d&&_C(_,b)>3e3)return c.stopAnimation(),c.setShape({points:x}),void(d&&(d.stopAnimation(),d.setShape({points:x,stackedOnPoints:b})));c.shape.__points=m.current,c.shape.points=y;var S={shape:{points:x}};m.current!==y&&(S.shape.__points=m.next),c.stopAnimation(),Ii(c,S,p),d&&(d.setShape({points:y,stackedOnPoints:_}),d.stopAnimation(),Ii(d,{shape:{stackedOnPoints:b}},p),c.shape.points!==d.shape.points&&(d.shape.points=c.shape.points));for(var C=[],I=m.status,A=0;A<I.length;A++)if("="===I[A].cmd){var P=e.getItemGraphicEl(I[A].idx1);P&&C.push({el:P,ptIdx:A})}c.animators&&c.animators.length&&c.animators[0].during(function(){d&&d.dirtyShape();for(var O=c.shape.__points,E=0;E<C.length;E++){var z=C[E].el,V=2*C[E].ptIdx;z.x=O[V],z.y=O[V+1],z.markRedraw()}})},i.prototype.remove=function(e){var r=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(a,s){a.__temp&&(r.remove(a),o.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},i.type="line",i}(Hi);function rc(n,i){return{seriesType:n,plan:sh(),reset:function(e){var r=e.getData(),o=e.coordinateSystem,s=i||e.pipelineContext.large;if(o){var l=Te(o.dimensions,function(y){return r.mapDimension(y)}).slice(0,2),h=l.length,c=r.getCalculationInfo("stackResultDimension");pa(r,l[0])&&(l[0]=c),pa(r,l[1])&&(l[1]=c);var d=r.getStore(),p=r.getDimensionIndex(l[0]),m=r.getDimensionIndex(l[1]);return h&&{progress:function(y,_){for(var b=s&&Ho((y.end-y.start)*h),S=[],C=[],I=y.start,A=0;I<y.end;I++){var P=void 0;if(1===h){var O=d.get(p,I);P=o.dataToPoint(O,null,C)}else S[0]=d.get(p,I),S[1]=d.get(m,I),P=o.dataToPoint(S,null,C);s?(b[A++]=P[0],b[A++]=P[1]):_.setItemLayout(I,P.slice())}s&&_.setLayout("points",b)}}}}}}var BO={average:function(n){for(var i=0,e=0,r=0;r<n.length;r++)isNaN(n[r])||(i+=n[r],e++);return 0===e?NaN:i/e},sum:function(n){for(var i=0,e=0;e<n.length;e++)i+=n[e]||0;return i},max:function(n){for(var i=-1/0,e=0;e<n.length;e++)n[e]>i&&(i=n[e]);return isFinite(i)?i:NaN},min:function(n){for(var i=1/0,e=0;e<n.length;e++)n[e]<i&&(i=n[e]);return isFinite(i)?i:NaN},nearest:function(n){return n[0]}},jO=function(n){return Math.round(n.length/2)};function SC(n){return{seriesType:n,reset:function(i,e,r){var o=i.getData(),a=i.get("sampling"),s=i.coordinateSystem,l=o.count();if(l>10&&"cartesian2d"===s.type&&a){var h=s.getBaseAxis(),c=s.getOtherAxis(h),d=h.getExtent(),p=r.getDevicePixelRatio(),m=Math.abs(d[1]-d[0])*(p||1),y=Math.round(l/m);if(isFinite(y)&&y>1){"lttb"===a&&i.setData(o.lttbDownSample(o.mapDimension(c.dim),1/y));var _=void 0;J(a)?_=BO[a]:ee(a)&&(_=a),_&&i.setData(o.downSample(o.mapDimension(c.dim),1/y,_,jO))}}}}}var oc=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.getInitialData=function(e,r){return Bo(null,this,{useEncodeDefaulter:!0})},i.prototype.getMarkerPosition=function(e,r,o){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(e),l=a.dataToPoint(s);if(o)F(a.getAxes(),function(m,y){if("category"===m.type&&null!=r){var _=m.getTicksCoords(),x=s[y],b="x1"===r[y]||"y1"===r[y];if(b&&(x+=1),_.length<2)return;if(2===_.length)return void(l[y]=m.toGlobalCoord(m.getExtent()[b?1:0]));for(var S=void 0,C=void 0,I=1,A=0;A<_.length;A++){var P=_[A].coord,O=A===_.length-1?_[A-1].tickValue+I:_[A].tickValue;if(O===x){C=P;break}if(O<x)S=P;else if(null!=S&&O>x){C=(P+S)/2;break}1===A&&(I=O-_[0].tickValue)}null==C&&(S?S&&(C=_[_.length-1].coord):C=_[0].coord),l[y]=m.toGlobalCoord(C)}});else{var h=this.getData(),c=h.getLayout("offset"),d=h.getLayout("size"),p=a.getBaseAxis().isHorizontal()?0:1;l[p]+=c+d/2}return l}return[NaN,NaN]},i.type="series.__base_bar__",i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},i}(Yi);Yi.registerClass(oc);var HO=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.getInitialData=function(){return Bo(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},i.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},i.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},i.prototype.brushSelector=function(e,r,o){return o.rect(r.getItemLayout(e))},i.type="series.bar",i.dependencies=["grid","polar"],i.defaultOption=Va(oc.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),i}(oc),VO=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Tp=function(n){function i(e){var r=n.call(this,e)||this;return r.type="sausage",r}return Le(i,n),i.prototype.getDefaultShape=function(){return new VO},i.prototype.buildPath=function(e,r){var o=r.cx,a=r.cy,s=Math.max(r.r0||0,0),l=Math.max(r.r,0),h=.5*(l-s),c=s+h,d=r.startAngle,p=r.endAngle,m=r.clockwise,y=2*Math.PI,_=m?p-d<y:d-p<y;_||(d=p-(m?y:-y));var x=Math.cos(d),b=Math.sin(d),S=Math.cos(p),C=Math.sin(p);_?(e.moveTo(x*s+o,b*s+a),e.arc(x*c+o,b*c+a,h,-Math.PI+d,d,!m)):e.moveTo(x*l+o,b*l+a),e.arc(o,a,l,d,p,!m),e.arc(S*c+o,C*c+a,h,p-2*Math.PI,p-Math.PI,!m),0!==s&&e.arc(o,a,s,p,d,m)},i}(yi);function Mp(n,i,e){return i*Math.sin(n)*(e?-1:1)}function Ip(n,i,e){return i*Math.cos(n)*(e?1:-1)}function tl(n,i,e){var r=n.get("borderRadius");if(null==r)return e?{cornerRadius:0}:null;ne(r)||(r=[r,r,r,r]);var o=Math.abs(i.r||0-i.r0||0);return{cornerRadius:Te(r,function(a){return uo(a,o)})}}var Tv=Math.max,Mv=Math.min,FO=function(n){function i(){var e=n.call(this)||this;return e.type=i.type,e._isFirstFrame=!0,e}return Le(i,n),i.prototype.render=function(e,r,o,a){this._model=e,this._removeOnRenderedListener(o),this._updateDrawMode(e);var s=e.get("coordinateSystem");("cartesian2d"===s||"polar"===s)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,o):this._renderNormal(e,r,o,a))},i.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},i.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},i.prototype.eachRendered=function(e){Ha(this._progressiveEls||this.group,e)},i.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;null!=this._isLargeDraw&&r===this._isLargeDraw||(this._isLargeDraw=r,this._clear())},i.prototype._renderNormal=function(e,r,o,a){var s,l=this.group,h=e.getData(),c=this._data,d=e.coordinateSystem,p=d.getBaseAxis();"cartesian2d"===d.type?s=p.isHorizontal():"polar"===d.type&&(s="angle"===p.dim);var m=e.isAnimationEnabled()?e:null,y=function(Y,X){var te=Y.get("realtimeSort",!0),ae=X.getBaseAxis();if(te&&"category"===ae.type&&"cartesian2d"===X.type)return{baseAxis:ae,otherAxis:X.getOtherAxis(ae)}}(e,d);y&&this._enableRealtimeSort(y,h,o);var _=e.get("clip",!0)||y,x=function(Y,X){var te=Y.getArea&&Y.getArea();if(Js(Y,"cartesian2d")){var ae=Y.getBaseAxis();if("category"!==ae.type||!ae.onBand){var he=X.getLayout("bandWidth");ae.isHorizontal()?(te.x-=he,te.width+=2*he):(te.y-=he,te.height+=2*he)}}return te}(d,h);l.removeClipPath();var b=e.get("roundCap",!0),S=e.get("showBackground",!0),C=e.getModel("backgroundStyle"),I=C.get("borderRadius")||0,A=[],P=this._backgroundEls,O=a&&a.isInitSort,E=a&&"changeAxisOrder"===a.type;function z(Y){var ae,X=Dp[d.type](h,Y),te=new("polar"===(ae=d).type?ir:Si)({shape:EC(s,X,ae),silent:!0,z2:0});return te.useStyle(C.getItemStyle()),te.setShape("cartesian2d"===d.type?"r":"cornerRadius",I),A[Y]=te,te}h.diff(c).add(function(Y){var X=h.getItemModel(Y),te=Dp[d.type](h,Y,X);if(S&&z(Y),h.hasValue(Y)&&IC[d.type](te)){var ae=!1;_&&(ae=CC[d.type](x,te));var he=kC[d.type](e,h,Y,te,s,m,p.model,!1,b);y&&(he.forceLabelAnimation=!0),AC(he,h,Y,X,te,e,s,"polar"===d.type),O?he.attr({shape:te}):y?TC(y,m,he,te,Y,s,!1,!1):nn(he,{shape:te},e,Y),h.setItemGraphicEl(Y,he),l.add(he),he.ignore=ae}}).update(function(Y,X){var te=h.getItemModel(Y),ae=Dp[d.type](h,Y,te);if(S){var he=void 0;0===P.length?he=z(X):((he=P[X]).useStyle(C.getItemStyle()),he.setShape("cartesian2d"===d.type?"r":"cornerRadius",I),A[Y]=he);var fe=Dp[d.type](h,Y);Ii(he,{shape:EC(s,fe,d)},m,Y)}var ye=c.getItemGraphicEl(X);if(h.hasValue(Y)&&IC[d.type](ae)){var Se=!1;if(_&&(Se=CC[d.type](x,ae))&&l.remove(ye),ye?go(ye):ye=kC[d.type](e,h,Y,ae,s,m,p.model,!!ye,b),y&&(ye.forceLabelAnimation=!0),E){var Ee=ye.getTextContent();if(Ee){var Re=Xl(Ee);null!=Re.prevValue&&(Re.prevValue=Re.value)}}else AC(ye,h,Y,te,ae,e,s,"polar"===d.type);O?ye.attr({shape:ae}):y?TC(y,m,ye,ae,Y,s,!0,E):Ii(ye,{shape:ae},e,Y,null),h.setItemGraphicEl(Y,ye),ye.ignore=Se,l.add(ye)}else l.remove(ye)}).remove(function(Y){var X=c.getItemGraphicEl(Y);X&&_u(X,e,Y)}).execute();var V=this._backgroundGroup||(this._backgroundGroup=new ti);V.removeAll();for(var G=0;G<A.length;++G)V.add(A[G]);l.add(V),this._backgroundEls=A,this._data=h},i.prototype._renderLarge=function(e,r,o){this._clear(),PC(e,this.group),this._updateLargeClip(e)},i.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),PC(r,this.group,this._progressiveEls,!0)},i.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&kp(e.coordinateSystem,!1,e),o=this.group;r?o.setClipPath(r):o.removeClipPath()},i.prototype._enableRealtimeSort=function(e,r,o){var a=this;if(r.count()){var s=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,o),this._isFirstFrame=!1;else{var l=function(h){var c=r.getItemGraphicEl(h),d=c&&c.shape;return d&&Math.abs(s.isHorizontal()?d.height:d.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,l,s,o)},o.getZr().on("rendered",this._onRendered)}}},i.prototype._dataSort=function(e,r,o){var a=[];return e.each(e.mapDimension(r.dim),function(s,l){var h=o(l);a.push({dataIndex:l,mappedValue:h=null==h?NaN:h,ordinalNumber:s})}),a.sort(function(s,l){return l.mappedValue-s.mappedValue}),{ordinalNumbers:Te(a,function(s){return s.ordinalNumber})}},i.prototype._isOrderChangedWithinSameData=function(e,r,o){for(var a=o.scale,s=e.mapDimension(o.dim),l=Number.MAX_VALUE,h=0,c=a.getOrdinalMeta().categories.length;h<c;++h){var d=e.rawIndexOf(s,a.getRawOrdinalNumber(h)),p=d<0?Number.MIN_VALUE:r(e.indexOfRawIndex(d));if(p>l)return!0;l=p}return!1},i.prototype._isOrderDifferentInView=function(e,r){for(var o=r.scale,a=o.getExtent(),s=Math.max(0,a[0]),l=Math.min(a[1],o.getOrdinalMeta().categories.length-1);s<=l;++s)if(e.ordinalNumbers[s]!==o.getRawOrdinalNumber(s))return!0},i.prototype._updateSortWithinSameData=function(e,r,o,a){if(this._isOrderChangedWithinSameData(e,r,o)){var s=this._dataSort(e,o,r);this._isOrderDifferentInView(s,o)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",axisId:o.index,sortInfo:s}))}},i.prototype._dispatchInitSort=function(e,r,o){var a=r.baseAxis,s=this._dataSort(e,a,function(l){return e.get(e.mapDimension(r.otherAxis.dim),l)});o.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},i.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},i.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},i.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},i.prototype._clear=function(e){var r=this.group,o=this._data;e&&e.isAnimationEnabled()&&o&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],o.eachItemGraphicEl(function(a){_u(a,e,oi(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},i.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},i.type="bar",i}(Hi),CC={cartesian2d:function(n,i){var e=i.width<0?-1:1,r=i.height<0?-1:1;e<0&&(i.x+=i.width,i.width=-i.width),r<0&&(i.y+=i.height,i.height=-i.height);var o=n.x+n.width,a=n.y+n.height,s=Tv(i.x,n.x),l=Mv(i.x+i.width,o),h=Tv(i.y,n.y),c=Mv(i.y+i.height,a),d=l<s,p=c<h;return i.x=d&&s>o?l:s,i.y=p&&h>a?c:h,i.width=d?0:l-s,i.height=p?0:c-h,e<0&&(i.x+=i.width,i.width=-i.width),r<0&&(i.y+=i.height,i.height=-i.height),d||p},polar:function(n,i){var e=i.r0<=i.r?1:-1;if(e<0){var r=i.r;i.r=i.r0,i.r0=r}var o=Mv(i.r,n.r),a=Tv(i.r0,n.r0);i.r=o,i.r0=a;var s=o-a<0;return e<0&&(r=i.r,i.r=i.r0,i.r0=r),s}},kC={cartesian2d:function(n,i,e,r,o,a,s,l,h){var c=new Si({shape:Z({},r),z2:1});return c.__dataIndex=e,c.name="item",a&&(c.shape[o?"height":"width"]=0),c},polar:function(n,i,e,r,o,a,s,l,h){var c=!o&&h?Tp:ir,d=new c({shape:r,z2:1});d.name="item";var p,m,y=DC(o);if(d.calculateTextPosition=(p=y,m=c===Tp,function(b,S,C){var I=S.position;if(!I||I instanceof Array)return $c(b,S,C);var A=p(I),P=null!=S.distance?S.distance:5,O=this.shape,E=O.cx,z=O.cy,V=O.r,G=O.r0,Y=(V+G)/2,X=O.startAngle,te=O.endAngle,ae=(X+te)/2,he=m?Math.abs(V-G)/2:0,fe=Math.cos,ye=Math.sin,Se=E+V*fe(X),Ee=z+V*ye(X),Re="left",ze="top";switch(A){case"startArc":Se=E+(G-P)*fe(ae),Ee=z+(G-P)*ye(ae),Re="center",ze="top";break;case"insideStartArc":Se=E+(G+P)*fe(ae),Ee=z+(G+P)*ye(ae),Re="center",ze="bottom";break;case"startAngle":Se=E+Y*fe(X)+Mp(X,P+he,!1),Ee=z+Y*ye(X)+Ip(X,P+he,!1),Re="right",ze="middle";break;case"insideStartAngle":Se=E+Y*fe(X)+Mp(X,-P+he,!1),Ee=z+Y*ye(X)+Ip(X,-P+he,!1),Re="left",ze="middle";break;case"middle":Se=E+Y*fe(ae),Ee=z+Y*ye(ae),Re="center",ze="middle";break;case"endArc":Se=E+(V+P)*fe(ae),Ee=z+(V+P)*ye(ae),Re="center",ze="bottom";break;case"insideEndArc":Se=E+(V-P)*fe(ae),Ee=z+(V-P)*ye(ae),Re="center",ze="top";break;case"endAngle":Se=E+Y*fe(te)+Mp(te,P+he,!0),Ee=z+Y*ye(te)+Ip(te,P+he,!0),Re="left",ze="middle";break;case"insideEndAngle":Se=E+Y*fe(te)+Mp(te,-P+he,!0),Ee=z+Y*ye(te)+Ip(te,-P+he,!0),Re="right",ze="middle";break;default:return $c(b,S,C)}return(b=b||{}).x=Se,b.y=Ee,b.align=Re,b.verticalAlign=ze,b}),a){var _=o?"r":"endAngle",x={};d.shape[_]=o?r.r0:r.startAngle,x[_]=r[_],(l?Ii:nn)(d,{shape:x},a)}return d}};function TC(n,i,e,r,o,a,s,l){var h,c;a?(c={x:r.x,width:r.width},h={y:r.y,height:r.height}):(c={y:r.y,height:r.height},h={x:r.x,width:r.width}),l||(s?Ii:nn)(e,{shape:h},i,o,null),(s?Ii:nn)(e,{shape:c},i?n.baseAxis.model:null,o)}function MC(n,i){for(var e=0;e<i.length;e++)if(!isFinite(n[i[e]]))return!0;return!1}var WO=["x","y","width","height"],GO=["cx","cy","r","startAngle","endAngle"],IC={cartesian2d:function(n){return!MC(n,WO)},polar:function(n){return!MC(n,GO)}},Dp={cartesian2d:function(n,i,e){var r=n.getItemLayout(i),o=e?function(l,h){var c=l.get(["itemStyle","borderColor"]);if(!c||"none"===c)return 0;var d=l.get(["itemStyle","borderWidth"])||0,p=isNaN(h.width)?Number.MAX_VALUE:Math.abs(h.width),m=isNaN(h.height)?Number.MAX_VALUE:Math.abs(h.height);return Math.min(d,p,m)}(e,r):0,a=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+a*o/2,y:r.y+s*o/2,width:r.width-a*o,height:r.height-s*o}},polar:function(n,i,e){var r=n.getItemLayout(i);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function DC(n){return function(i){var e=i?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(n)}function AC(n,i,e,r,o,a,s,l){var h=i.getItemVisual(e,"style");if(l){if(!a.get("roundCap")){var c=n.shape;Z(c,tl(r.getModel("itemStyle"),c,!0)),n.setShape(c)}}else{var d=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",d)}n.useStyle(h);var p=r.getShallow("cursor");p&&n.attr("cursor",p);var m=l?s?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":s?o.height>=0?"bottom":"top":o.width>=0?"right":"left",y=zn(r);Kn(n,y,{labelFetcher:a,labelDataIndex:e,defaultText:_h(a.getData(),e),inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:m});var _=n.getTextContent();if(l&&_){var x=r.get(["label","position"]);n.textConfig.inside="middle"===x||null,function(S,C,I,A){if(Ge(A))S.setTextConfig({rotation:A});else if(ne(C))S.setTextConfig({rotation:0});else{var P,O=S.shape,E=O.clockwise?O.startAngle:O.endAngle,z=O.clockwise?O.endAngle:O.startAngle,V=(E+z)/2,G=I(C);switch(G){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":P=V;break;case"startAngle":case"insideStartAngle":P=E;break;case"endAngle":case"insideEndAngle":P=z;break;default:return void S.setTextConfig({rotation:0})}var Y=1.5*Math.PI-P;"middle"===G&&Y>Math.PI/2&&Y<1.5*Math.PI&&(Y-=Math.PI),S.setTextConfig({rotation:Y})}}(n,"outside"===x?m:x,DC(s),r.get(["label","rotate"]))}rx(_,y,a.getRawValue(e),function(S){return lC(i,S)});var S,b=r.getModel(["emphasis"]);dn(n,b.get("focus"),b.get("blurScope"),b.get("disabled")),Xn(n,r),null!=(S=o).startAngle&&null!=S.endAngle&&S.startAngle===S.endAngle&&(n.style.fill="none",n.style.stroke="none",F(n.states,function(S){S.style&&(S.style.fill=S.style.stroke="none")}))}var YO=function(){},LC=function(n){function i(e){var r=n.call(this,e)||this;return r.type="largeBar",r}return Le(i,n),i.prototype.getDefaultShape=function(){return new YO},i.prototype.buildPath=function(e,r){for(var o=r.points,a=this.baseDimIdx,s=1-this.baseDimIdx,l=[],h=[],c=this.barWidth,d=0;d<o.length;d+=3)h[a]=c,h[s]=o[d+2],l[a]=o[d+a],l[s]=o[d+s],e.rect(l[0],l[1],h[0],h[1])},i}(yi);function PC(n,i,e,r){var o=n.getData(),a=o.getLayout("valueAxisHorizontal")?1:0,s=o.getLayout("largeDataIndices"),l=o.getLayout("size"),h=n.getModel("backgroundStyle"),c=o.getLayout("largeBackgroundPoints");if(c){var d=new LC({shape:{points:c},incremental:!!r,silent:!0,z2:0});d.baseDimIdx=a,d.largeDataIndices=s,d.barWidth=l,d.useStyle(h.getItemStyle()),i.add(d),e&&e.push(d)}var p=new LC({shape:{points:o.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});p.baseDimIdx=a,p.largeDataIndices=s,p.barWidth=l,i.add(p),p.useStyle(o.getVisual("style")),oi(p).seriesIndex=n.seriesIndex,n.get("silent")||(p.on("mousedown",OC),p.on("mousemove",OC)),e&&e.push(p)}var OC=Fd(function(n){var i=function(e,r,o){for(var a=e.baseDimIdx,s=1-a,l=e.shape.points,h=e.largeDataIndices,c=[],d=[],p=e.barWidth,m=0,y=l.length/3;m<y;m++){var _=3*m;if(d[a]=p,d[s]=l[_+2],c[a]=l[_+a],c[s]=l[_+s],d[s]<0&&(c[s]+=d[s],d[s]=-d[s]),r>=c[0]&&r<=c[0]+d[0]&&o>=c[1]&&o<=c[1]+d[1])return h[m]}return-1}(this,n.offsetX,n.offsetY);oi(this).dataIndex=i>=0?i:null},30,!1);function EC(n,i,e){if(Js(e,"cartesian2d")){var r=i,o=e.getArea();return{x:n?r.x:o.x,y:n?o.y:r.y,width:n?r.width:o.width,height:n?o.height:r.height}}var a=i;return{cx:(o=e.getArea()).cx,cy:o.cy,r0:n?o.r0:a.r0,r:n?o.r:a.r,startAngle:n?a.startAngle:0,endAngle:n?a.endAngle:2*Math.PI}}var Ap=2*Math.PI,NC=Math.PI/180;function RC(n,i){return Tn(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function zC(n,i){var e=RC(n,i),r=n.get("center"),o=n.get("radius");ne(o)||(o=[0,o]);var a,s,l=Bt(e.width,i.getWidth()),h=Bt(e.height,i.getHeight()),c=Math.min(l,h),d=Bt(o[0],c/2),p=Bt(o[1],c/2),m=n.coordinateSystem;if(m){var y=m.dataToPoint(r);a=y[0]||0,s=y[1]||0}else ne(r)||(r=[r,r]),a=Bt(r[0],l)+e.x,s=Bt(r[1],h)+e.y;return{cx:a,cy:s,r0:d,r:p}}function $O(n,i,e){i.eachSeriesByType(n,function(r){var o=r.getData(),a=o.mapDimension("value"),s=RC(r,e),l=zC(r,e),h=l.cx,c=l.cy,d=l.r,p=l.r0,m=-r.get("startAngle")*NC,y=r.get("minAngle")*NC,_=0;o.each(a,function(G){!isNaN(G)&&_++});var x=o.getSum(a),b=Math.PI/(x||_)*2,S=r.get("clockwise"),C=r.get("roseType"),I=r.get("stillShowZeroSum"),A=o.getDataExtent(a);A[0]=0;var P=Ap,O=0,E=m,z=S?1:-1;if(o.setLayout({viewRect:s,r:d}),o.each(a,function(G,Y){var X;if(isNaN(G))o.setItemLayout(Y,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:S,cx:h,cy:c,r0:p,r:C?NaN:d});else{(X="area"!==C?0===x&&I?b:G*b:Ap/_)<y?(X=y,P-=y):O+=G;var te=E+z*X;o.setItemLayout(Y,{angle:X,startAngle:E,endAngle:te,clockwise:S,cx:h,cy:c,r0:p,r:C?Bi(G,A,[p,d]):d}),E=te}}),P<Ap&&_)if(P<=.001){var V=Ap/_;o.each(a,function(G,Y){if(!isNaN(G)){var X=o.getItemLayout(Y);X.angle=V,X.startAngle=m+z*Y*V,X.endAngle=m+z*(Y+1)*V}})}else b=P/O,E=m,o.each(a,function(G,Y){if(!isNaN(G)){var X=o.getItemLayout(Y),te=X.angle===y?y:G*b;X.startAngle=E,X.endAngle=E+z*te,E+=z*te}})})}function ac(n){return{seriesType:n,reset:function(i,e){var r=e.findComponents({mainType:"legend"});if(r&&r.length){var o=i.getData();o.filterSelf(function(a){for(var s=o.getName(a),l=0;l<r.length;l++)if(!r[l].isSelected(s))return!1;return!0})}}}}var UO=Math.PI/180;function BC(n,i,e,r,o,a,s,l,h,c){if(!(n.length<2)){for(var d=n.length,p=0;p<d;p++)"outer"===n[p].position&&"labelLine"===n[p].labelAlignTo&&(n[p].linePoints[1][0]+=n[p].label.x-c,n[p].label.x=c);LS(n,h,h+s)&&function(_){for(var x={list:[],maxY:0},b={list:[],maxY:0},S=0;S<_.length;S++)if("none"===_[S].labelAlignTo){var C=_[S],I=C.label.y>e?b:x,A=Math.abs(C.label.y-e);if(A>=I.maxY){var P=C.label.x-i-C.len2*o,O=r+C.len,E=Math.abs(P)<O?Math.sqrt(A*A/(1-P*P/O/O)):O;I.rB=E,I.maxY=A}I.list.push(C)}y(x),y(b)}(n)}function y(_){for(var x=_.rB,b=x*x,S=0;S<_.list.length;S++){var C=_.list[S],I=Math.abs(C.label.y-e),A=r+C.len,P=A*A,O=Math.sqrt((1-Math.abs(I*I/b))*P),E=i+(O+C.len2)*o;jC(C,C.targetTextWidth-(E-C.label.x)*o,!0),C.label.x=E}}}function jC(n,i,e){if(void 0===e&&(e=!1),null==n.labelStyleWidth){var r=n.label,o=r.style,a=n.rect,s=o.backgroundColor,l=o.padding,h=l?l[1]+l[3]:0,c=o.overflow,d=a.width+(s?0:h);if(i<d||e){var p=a.height;if(c&&c.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",i-h);var m=r.getBoundingRect();r.setStyle("width",Math.ceil(m.width)),r.setStyle("backgroundColor",s)}else{var y=i-h;r.setStyle("width",i<d?y:e?y>n.unconstrainedWidth?null:y:null)}var x=r.getBoundingRect();a.width=x.width,a.height=x.height+((r.style.margin||0)+2.1),a.y-=(a.height-p)/2}}}function Iv(n){return"center"===n.position}var XO=function(n){function i(e,r,o){var a=n.call(this)||this;a.z2=2;var s=new Ci;return a.setTextContent(s),a.updateData(e,r,o,!0),a}return Le(i,n),i.prototype.updateData=function(e,r,o,a){var s=this,l=e.hostModel,h=e.getItemModel(r),c=h.getModel("emphasis"),d=e.getItemLayout(r),p=Z(tl(h.getModel("itemStyle"),d,!0),d);if(isNaN(p.startAngle))s.setShape(p);else{if(a){s.setShape(p);var m=l.getShallow("animationType");l.ecModel.ssr?(nn(s,{scaleX:0,scaleY:0},l,{dataIndex:r,isFrom:!0}),s.originX=p.cx,s.originY=p.cy):"scale"===m?(s.shape.r=d.r0,nn(s,{shape:{r:d.r}},l,r)):null!=o?(s.setShape({startAngle:o,endAngle:o}),nn(s,{shape:{startAngle:d.startAngle,endAngle:d.endAngle}},l,r)):(s.shape.endAngle=d.startAngle,Ii(s,{shape:{endAngle:d.endAngle}},l,r))}else go(s),Ii(s,{shape:p},l,r);s.useStyle(e.getItemVisual(r,"style")),Xn(s,h);var y=(d.startAngle+d.endAngle)/2,_=l.get("selectedOffset"),x=Math.cos(y)*_,b=Math.sin(y)*_,S=h.getShallow("cursor");S&&s.attr("cursor",S),this._updateLabel(l,e,r),s.ensureState("emphasis").shape=Z({r:d.r+(c.get("scale")&&c.get("scaleSize")||0)},tl(c.getModel("itemStyle"),d)),Z(s.ensureState("select"),{x,y:b,shape:tl(h.getModel(["select","itemStyle"]),d)}),Z(s.ensureState("blur"),{shape:tl(h.getModel(["blur","itemStyle"]),d)});var C=s.getTextGuideLine(),I=s.getTextContent();C&&Z(C.ensureState("select"),{x,y:b}),Z(I.ensureState("select"),{x,y:b}),dn(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))}},i.prototype._updateLabel=function(e,r,o){var a=this,s=r.getItemModel(o),l=s.getModel("labelLine"),h=r.getItemVisual(o,"style"),c=h&&h.fill,d=h&&h.opacity;Kn(a,zn(s),{labelFetcher:r.hostModel,labelDataIndex:o,inheritColor:c,defaultOpacity:d,defaultText:e.getFormattedLabel(o,"normal")||r.getName(o)});var p=a.getTextContent();a.setTextConfig({position:null,rotation:null}),p.attr({z2:10});var m=e.get(["label","position"]);if("outside"!==m&&"outer"!==m)a.removeTextGuideLine();else{var y=this.getTextGuideLine();y||(y=new rr,this.setTextGuideLine(y)),sv(this,lv(s),{stroke:c,opacity:ie(l.get(["lineStyle","opacity"]),d,1)})}},i}(ir),KO=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return Le(i,n),i.prototype.render=function(e,r,o,a){var s,l=e.getData(),h=this._data,c=this.group;if(!h&&l.count()>0){for(var d=l.getItemLayout(0),p=1;isNaN(d&&d.startAngle)&&p<l.count();++p)d=l.getItemLayout(p);d&&(s=d.startAngle)}if(this._emptyCircleSector&&c.remove(this._emptyCircleSector),0===l.count()&&e.get("showEmptyCircle")){var m=new ir({shape:zC(e,o)});m.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=m,c.add(m)}l.diff(h).add(function(y){var _=new XO(l,y,s);l.setItemGraphicEl(y,_),c.add(_)}).update(function(y,_){var x=h.getItemGraphicEl(_);x.updateData(l,y,s),x.off("click"),c.add(x),l.setItemGraphicEl(y,x)}).remove(function(y){_u(h.getItemGraphicEl(y),e,y)}).execute(),function qO(n){var i,e,r=n.getData(),o=[],a=!1,s=(n.get("minShowLabelAngle")||0)*UO,l=r.getLayout("viewRect"),h=r.getLayout("r"),c=l.width,d=l.x,p=l.y,m=l.height;function y(P){P.ignore=!0}r.each(function(P){var O=r.getItemGraphicEl(P),E=O.shape,z=O.getTextContent(),V=O.getTextGuideLine(),G=r.getItemModel(P),Y=G.getModel("label"),X=Y.get("position")||G.get(["emphasis","label","position"]),te=Y.get("distanceToLabelLine"),ae=Y.get("alignTo"),he=Bt(Y.get("edgeDistance"),c),fe=Y.get("bleedMargin"),ye=G.getModel("labelLine"),Se=ye.get("length");Se=Bt(Se,c);var Ee=ye.get("length2");if(Ee=Bt(Ee,c),Math.abs(E.endAngle-E.startAngle)<s)return F(z.states,y),z.ignore=!0,void(V&&(F(V.states,y),V.ignore=!0));if(function(en){if(!en.ignore)return!0;for(var In in en.states)if(!1===en.states[In].ignore)return!0;return!1}(z)){var Re,ze,ot,xt,Ue=(E.startAngle+E.endAngle)/2,pt=Math.cos(Ue),bt=Math.sin(Ue);i=E.cx,e=E.cy;var Mt="inside"===X||"inner"===X;if("center"===X)Re=E.cx,ze=E.cy,xt="center";else{var yt=(Mt?(E.r+E.r0)/2*pt:E.r*pt)+i,Dt=(Mt?(E.r+E.r0)/2*bt:E.r*bt)+e;if(Re=yt+3*pt,ze=Dt+3*bt,!Mt){var St=yt+pt*(Se+h-E.r),Ot=Dt+bt*(Se+h-E.r),Ft=St+(pt<0?-1:1)*Ee;Re="edge"===ae?pt<0?d+he:d+c-he:Ft+(pt<0?-te:te),ze=Ot,ot=[[yt,Dt],[St,Ot],[Ft,Ot]]}xt=Mt?"center":"edge"===ae?pt>0?"right":"left":pt>0?"left":"right"}var ni=Math.PI,si=0,Ni=Y.get("rotate");if(Ge(Ni))si=Ni*(ni/180);else if("center"===X)si=0;else if("radial"===Ni||!0===Ni)si=pt<0?-Ue+ni:-Ue;else if("tangential"===Ni&&"outside"!==X&&"outer"!==X){var di=Math.atan2(pt,bt);di<0&&(di=2*ni+di),bt>0&&(di=ni+di),si=di-ni}if(a=!!si,z.x=Re,z.y=ze,z.rotation=si,z.setStyle({verticalAlign:"middle"}),Mt){z.setStyle({align:xt});var wi=z.states.select;wi&&(wi.x+=z.x,wi.y+=z.y)}else{var Di=z.getBoundingRect().clone();Di.applyTransform(z.getComputedTransform());var Ki=(z.style.margin||0)+2.1;Di.y-=Ki/2,Di.height+=Ki,o.push({label:z,labelLine:V,position:X,len:Se,len2:Ee,minTurnAngle:ye.get("minTurnAngle"),maxSurfaceAngle:ye.get("maxSurfaceAngle"),surfaceNormal:new li(pt,bt),linePoints:ot,textAlign:xt,labelDistance:te,labelAlignTo:ae,edgeDistance:he,bleedMargin:fe,rect:Di,unconstrainedWidth:Di.width,labelStyleWidth:z.style.width})}O.setTextConfig({inside:Mt})}}),!a&&n.get("avoidLabelOverlap")&&function(P,O,E,z,V,G,Y,X){for(var te=[],ae=[],he=Number.MAX_VALUE,fe=-Number.MAX_VALUE,ye=0;ye<P.length;ye++){var Se=P[ye].label;Iv(P[ye])||(Se.x<O?(he=Math.min(he,Se.x),te.push(P[ye])):(fe=Math.max(fe,Se.x),ae.push(P[ye])))}for(ye=0;ye<P.length;ye++)if(!Iv(ze=P[ye])&&ze.linePoints){if(null!=ze.labelStyleWidth)continue;Se=ze.label;var Re,Ee=ze.linePoints;ze.targetTextWidth=Re="edge"===ze.labelAlignTo?Se.x<O?Ee[2][0]-ze.labelDistance-Y-ze.edgeDistance:Y+V-ze.edgeDistance-Ee[2][0]-ze.labelDistance:"labelLine"===ze.labelAlignTo?Se.x<O?he-Y-ze.bleedMargin:Y+V-fe-ze.bleedMargin:Se.x<O?Se.x-Y-ze.bleedMargin:Y+V-Se.x-ze.bleedMargin,jC(ze,Re)}for(BC(ae,O,E,z,1,0,G,0,X,fe),BC(te,O,E,z,-1,0,G,0,X,he),ye=0;ye<P.length;ye++){var ze;if(!Iv(ze=P[ye])&&ze.linePoints){var xt=(Se=ze.label).style.padding,bt=ze.rect.width+(Se.style.backgroundColor?0:xt?xt[1]+xt[3]:0),Mt=(Ee=ze.linePoints)[1][0]-Ee[2][0];"edge"===ze.labelAlignTo?Ee[2][0]=Se.x<O?Y+ze.edgeDistance+bt+ze.labelDistance:Y+V-ze.edgeDistance-bt-ze.labelDistance:(Ee[2][0]=Se.x<O?Se.x+ze.labelDistance:Se.x-ze.labelDistance,Ee[1][0]=Ee[2][0]+Mt),Ee[1][1]=Ee[2][1]=Se.y}}}(o,i,e,h,c,m,d,p);for(var _=0;_<o.length;_++){var x=o[_],b=x.label,S=x.labelLine,C=isNaN(b.x)||isNaN(b.y);if(b){b.setStyle({align:x.textAlign}),C&&(F(b.states,y),b.ignore=!0);var I=b.states.select;I&&(I.x+=b.x,I.y+=b.y)}if(S){var A=x.linePoints;C||!A?(F(S.states,y),S.ignore=!0):(MS(A,x.minTurnAngle),cO(A,x.surfaceNormal,x.maxSurfaceAngle),S.setShape({points:A}),b.__hostTarget.textGuideLineConfig={anchor:new li(A[0][0],A[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=l)},i.prototype.dispose=function(){},i.prototype.containPoint=function(e,r){var o=r.getData().getItemLayout(0);if(o){var a=e[0]-o.cx,s=e[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},i.type="pie",i}(Hi);function xh(n,i,e){i=ne(i)&&{coordDimensions:i}||Z({encodeDefine:n.getEncode()},i);var r=n.getSource(),o=fh(r,i).dimensions,a=new lr(o,n);return a.initData(r,e),a}var sc=function(){function n(i,e){this._getDataWithEncodedVisual=i,this._getRawData=e}return n.prototype.getAllNames=function(){var i=this._getRawData();return i.mapArray(i.getName)},n.prototype.containName=function(i){return this._getRawData().indexOfName(i)>=0},n.prototype.indexOfName=function(i){return this._getDataWithEncodedVisual().indexOfName(i)},n.prototype.getItemVisual=function(i,e){return this._getDataWithEncodedVisual().getItemVisual(i,e)},n}(),ZO=Mi(),QO=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new sc(De(this.getData,this),De(this.getRawData,this)),this._defaultLabelLine(e)},i.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},i.prototype.getInitialData=function(){return xh(this,{coordDimensions:["value"],encodeDefaulter:Q(Zg,this)})},i.prototype.getDataParams=function(e){var r=this.getData(),o=ZO(r),a=o.seats;if(!a){var s=[];r.each(r.mapDimension("value"),function(h){s.push(h)}),a=o.seats=w_(s,r.hostModel.get("percentPrecision"))}var l=n.prototype.getDataParams.call(this,e);return l.percent=a[e]||0,l.$vars.push("percent"),l},i.prototype._defaultLabelLine=function(e){_s(e,"labelLine",["show"]);var r=e.labelLine,o=e.emphasis.labelLine;r.show=r.show&&e.label.show,o.show=o.show&&e.emphasis.label.show},i.type="series.pie",i.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},i}(Yi),JO=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.hasSymbolVisual=!0,e}return Le(i,n),i.prototype.getInitialData=function(e,r){return Bo(null,this,{useEncodeDefaulter:!0})},i.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},i.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},i.prototype.brushSelector=function(e,r,o){return o.point(r.getItemLayout(e))},i.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},i.type="series.scatter",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},i}(Yi),eE=function(){},tE=function(n){function i(e){var r=n.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return Le(i,n),i.prototype.getDefaultShape=function(){return new eE},i.prototype.reset=function(){this.notClear=!1,this._off=0},i.prototype.buildPath=function(e,r){var o,a=r.points,s=r.size,l=this.symbolProxy,h=l.shape,c=e.getContext?e.getContext():e,p=this.softClipShape;if(c&&s[0]<4)this._ctx=c;else{for(this._ctx=null,o=this._off;o<a.length;){var m=a[o++],y=a[o++];isNaN(m)||isNaN(y)||p&&!p.contain(m,y)||(h.x=m-s[0]/2,h.y=y-s[1]/2,h.width=s[0],h.height=s[1],l.buildPath(e,h,!0))}this.incremental&&(this._off=o,this.notClear=!0)}},i.prototype.afterBrush=function(){var e,r=this.shape,o=r.points,a=r.size,s=this._ctx,l=this.softClipShape;if(s){for(e=this._off;e<o.length;){var h=o[e++],c=o[e++];isNaN(h)||isNaN(c)||l&&!l.contain(h,c)||s.fillRect(h-a[0]/2,c-a[1]/2,a[0],a[1])}this.incremental&&(this._off=e,this.notClear=!0)}},i.prototype.findDataIndex=function(e,r){for(var o=this.shape,a=o.points,s=o.size,l=Math.max(s[0],4),h=Math.max(s[1],4),c=a.length/2-1;c>=0;c--){var d=2*c,p=a[d]-l/2,m=a[d+1]-h/2;if(e>=p&&r>=m&&e<=p+l&&r<=m+h)return c}return-1},i.prototype.contain=function(e,r){var o=this.transformCoordToLocal(e,r);return this.getBoundingRect().contain(e=o[0],r=o[1])?(this.hoverDataIdx=this.findDataIndex(e,r))>=0:(this.hoverDataIdx=-1,!1)},i.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var r=this.shape,o=r.points,a=r.size,s=a[0],l=a[1],h=1/0,c=1/0,d=-1/0,p=-1/0,m=0;m<o.length;){var y=o[m++],_=o[m++];h=Math.min(y,h),d=Math.max(y,d),c=Math.min(_,c),p=Math.max(_,p)}e=this._rect=new ai(h-s/2,c-l/2,d-h+s,p-c+l)}return e},i}(yi),iE=function(){function n(){this.group=new ti}return n.prototype.updateData=function(i,e){this._clear();var r=this._create();r.setShape({points:i.getLayout("points")}),this._setCommon(r,i,e)},n.prototype.updateLayout=function(i){var e=i.getLayout("points");this.group.eachChild(function(r){null!=r.startIndex&&(e=new Float32Array(e.buffer,4*r.startIndex*2,2*(r.endIndex-r.startIndex))),r.setShape("points",e),r.reset()})},n.prototype.incrementalPrepareUpdate=function(i){this._clear()},n.prototype.incrementalUpdate=function(i,e,r){var o=this._newAdded[0],a=e.getLayout("points"),s=o&&o.shape.points;if(s&&s.length<2e4){var l=s.length,h=new Float32Array(l+a.length);h.set(s),h.set(a,l),o.endIndex=i.end,o.setShape({points:h})}else{this._newAdded=[];var c=this._create();c.startIndex=i.start,c.endIndex=i.end,c.incremental=!0,c.setShape({points:a}),this._setCommon(c,e,r)}},n.prototype.eachRendered=function(i){this._newAdded[0]&&i(this._newAdded[0])},n.prototype._create=function(){var i=new tE({cursor:"default"});return i.ignoreCoarsePointer=!0,this.group.add(i),this._newAdded.push(i),i},n.prototype._setCommon=function(i,e,r){var o=e.hostModel;r=r||{};var a=e.getVisual("symbolSize");i.setShape("size",a instanceof Array?a:[a,a]),i.softClipShape=r.clipShape||null,i.symbolProxy=vn(e.getVisual("symbol"),0,0,0,0),i.setColor=i.symbolProxy.setColor;var s=i.shape.size[0]<4;i.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),h=l&&l.fill;h&&i.setColor(h);var c=oi(i);c.seriesIndex=o.seriesIndex,i.on("mousemove",function(d){c.dataIndex=null;var p=i.hoverDataIdx;p>=0&&(c.dataIndex=p+(i.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),nE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){var a=e.getData();this._updateSymbolDraw(a,e).updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},i.prototype.incrementalPrepareRender=function(e,r,o){var a=e.getData();this._updateSymbolDraw(a,e).incrementalPrepareUpdate(a),this._finished=!1},i.prototype.incrementalRender=function(e,r,o){this._symbolDraw.incrementalUpdate(e,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=e.end===r.getData().count()},i.prototype.updateTransform=function(e,r,o){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=rc("").reset(e,r,o);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},i.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},i.prototype._getClipShape=function(e){var r=e.coordinateSystem,o=r&&r.getArea&&r.getArea();return e.get("clip",!0)?o:null},i.prototype._updateSymbolDraw=function(e,r){var o=this._symbolDraw,a=r.pipelineContext.large;return o&&a===this._isLargeDraw||(o&&o.remove(),o=this._symbolDraw=a?new iE:new nc,this._isLargeDraw=a,this.group.removeAll()),this.group.add(o.group),o},i.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},i.prototype.dispose=function(){},i.type="scatter",i}(Hi),rE=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.type="grid",i.dependencies=["xAxis","yAxis"],i.layoutMode="box",i.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},i}(_i),Dv=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",kn).models[0]},i.type="cartesian2dAxis",i}(_i);Ie(Dv,mh);var HC={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},oE=q({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},HC),Av=q({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},HC),VC={category:oE,value:Av,time:q({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Av),log:de({logBase:10},Av)},aE={value:1,category:1,time:1,log:1};function bh(n,i,e,r){F(aE,function(o,a){var s=q(q({},VC[a],!0),r,!0),l=function(h){function c(){var d=null!==h&&h.apply(this,arguments)||this;return d.type=i+"Axis."+a,d}return Le(c,h),c.prototype.mergeDefaultAndTheme=function(d,p){var m=Iu(this),y=m?Jl(d):{};q(d,p.getTheme().get(a+"Axis")),q(d,this.getDefaultOption()),d.type=FC(d),m&&Fa(d,y,m)},c.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Xm.createByAxisModel(this))},c.prototype.getCategories=function(d){var p=this.option;if("category"===p.type)return d?p.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=i+"Axis."+a,c.defaultOption=s,c}(e);n.registerComponentModel(l)}),n.registerSubTypeDefaulter(i+"Axis",FC)}function FC(n){return n.type||(n.data?"category":"value")}var sE=function(){function n(i){this.type="cartesian",this._dimList=[],this._axes={},this.name=i||""}return n.prototype.getAxis=function(i){return this._axes[i]},n.prototype.getAxes=function(){return Te(this._dimList,function(i){return this._axes[i]},this)},n.prototype.getAxesByScale=function(i){return i=i.toLowerCase(),tt(this.getAxes(),function(e){return e.scale.type===i})},n.prototype.addAxis=function(i){var e=i.dim;this._axes[e]=i,this._dimList.push(e)},n}(),Lv=["x","y"];function WC(n){return"interval"===n.type||"time"===n.type}var lE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Lv,e}return Le(i,n),i.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,r=this.getAxis("y").scale;if(WC(e)&&WC(r)){var o=e.getExtent(),a=r.getExtent(),s=this.dataToPoint([o[0],a[0]]),l=this.dataToPoint([o[1],a[1]]),h=o[1]-o[0],c=a[1]-a[0];if(h&&c){var d=(l[0]-s[0])/h,p=(l[1]-s[1])/c,_=this._transform=[d,0,0,p,s[0]-o[0]*d,s[1]-a[0]*p];this._invTransform=Xo([],_)}}},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},i.prototype.containPoint=function(e){var r=this.getAxis("x"),o=this.getAxis("y");return r.contain(r.toLocalCoord(e[0]))&&o.contain(o.toLocalCoord(e[1]))},i.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},i.prototype.containZone=function(e,r){var o=this.dataToPoint(e),a=this.dataToPoint(r),s=this.getArea(),l=new ai(o[0],o[1],a[0]-o[0],a[1]-o[1]);return s.intersect(l)},i.prototype.dataToPoint=function(e,r,o){o=o||[];var a=e[0],s=e[1];if(this._transform&&null!=a&&isFinite(a)&&null!=s&&isFinite(s))return bi(o,e,this._transform);var l=this.getAxis("x"),h=this.getAxis("y");return o[0]=l.toGlobalCoord(l.dataToCoord(a,r)),o[1]=h.toGlobalCoord(h.dataToCoord(s,r)),o},i.prototype.clampData=function(e,r){var o=this.getAxis("x").scale,a=this.getAxis("y").scale,s=o.getExtent(),l=a.getExtent(),h=o.parse(e[0]),c=a.parse(e[1]);return(r=r||[])[0]=Math.min(Math.max(Math.min(s[0],s[1]),h),Math.max(s[0],s[1])),r[1]=Math.min(Math.max(Math.min(l[0],l[1]),c),Math.max(l[0],l[1])),r},i.prototype.pointToData=function(e,r){var o=[];if(this._invTransform)return bi(o,e,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return o[0]=a.coordToData(a.toLocalCoord(e[0]),r),o[1]=s.coordToData(s.toLocalCoord(e[1]),r),o},i.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},i.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),o=Math.min(e[0],e[1]),a=Math.min(r[0],r[1]),s=Math.max(e[0],e[1])-o,l=Math.max(r[0],r[1])-a;return new ai(o,a,s,l)},i}(sE),hE=function(n){function i(e,r,o,a,s){var l=n.call(this,e,r,o)||this;return l.index=0,l.type=a||"value",l.position=s||"bottom",l}return Le(i,n),i.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},i.prototype.getGlobalExtent=function(e){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),e&&r[0]>r[1]&&r.reverse(),r},i.prototype.pointToData=function(e,r){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),r)},i.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},i}(Zr);function Pv(n,i,e){e=e||{};var r=n.coordinateSystem,o=i.axis,a={},s=o.getAxesOnZeroOf()[0],l=o.position,h=s?"onZero":l,c=o.dim,d=r.getRect(),p=[d.x,d.x+d.width,d.y,d.y+d.height],m={left:0,right:1,top:0,bottom:1,onZero:2},y=i.get("offset")||0,_="x"===c?[p[2]-y,p[3]+y]:[p[0]-y,p[1]+y];if(s){var x=s.toGlobalCoord(s.dataToCoord(0));_[m.onZero]=Math.max(Math.min(x,_[1]),_[0])}a.position=["y"===c?_[m[h]]:p[0],"x"===c?_[m[h]]:p[3]],a.rotation=Math.PI/2*("x"===c?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],a.labelOffset=s?_[m[l]]-_[m.onZero]:0,i.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Et(e.labelInside,i.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var b=i.get(["axisLabel","rotate"]);return a.labelRotate="top"===h?-b:b,a.z2=1,a}function GC(n){return"cartesian2d"===n.get("coordinateSystem")}function YC(n){var i={xAxisModel:null,yAxisModel:null};return F(i,function(e,r){var o=r.replace(/Model$/,""),a=n.getReferringComponents(o,kn).models[0];i[r]=a}),i}var Ov=Math.log;function $C(n,i,e){var r=fa.prototype,o=r.getTicks.call(e),a=r.getTicks.call(e,!0),s=o.length-1,l=r.getInterval.call(e),h=sS(n,i),c=h.extent,d=h.fixMin,p=h.fixMax;if("log"===n.type){var m=Ov(n.base);c=[Ov(c[0])/m,Ov(c[1])/m]}n.setExtent(c[0],c[1]),n.calcNiceExtent({splitNumber:s,fixMin:d,fixMax:p});var y=r.getExtent.call(n);d&&(c[0]=y[0]),p&&(c[1]=y[1]);var _=r.getInterval.call(n),x=c[0],b=c[1];if(d&&p)_=(b-x)/s;else if(d)for(b=c[0]+_*s;b<c[1]&&isFinite(b)&&isFinite(c[1]);)_=Zm(_),b=c[0]+_*s;else if(p)for(x=c[1]-_*s;x>c[0]&&isFinite(x)&&isFinite(c[0]);)_=Zm(_),x=c[1]-_*s;else{n.getTicks().length-1>s&&(_=Zm(_));var S=_*s;(x=cn((b=Math.ceil(c[1]/_)*_)-S))<0&&c[0]>=0?(x=0,b=cn(S)):b>0&&c[1]<=0&&(b=0,x=-cn(S))}var C=(o[0].value-a[0].value)/l,I=(o[s].value-a[s].value)/l;r.setExtent.call(n,x+_*C,b+_*I),r.setInterval.call(n,_),(C||I)&&r.setNiceExtent.call(n,x+_,b-_)}var uE=function(){function n(i,e,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Lv,this._initCartesian(i,e,r),this.model=i}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(i,e){var r=this._axesMap;function o(s){var l,h=ft(s),c=h.length;if(c){for(var d=[],p=c-1;p>=0;p--){var m=s[+h[p]],y=m.model,_=m.scale;Km(_)&&y.get("alignTicks")&&null==y.get("interval")?d.push(m):(Us(_,y),Km(_)&&(l=m))}d.length&&(l||Us((l=d.pop()).scale,l.model),F(d,function(x){$C(x.scale,x.model,l.scale)}))}}this._updateScale(i,this.model),o(r.x),o(r.y);var a={};F(r.x,function(s){UC(r,"y",s,a)}),F(r.y,function(s){UC(r,"x",s,a)}),this.resize(this.model,e)},n.prototype.resize=function(i,e,r){var o=i.getBoxLayoutParams(),a=!r&&i.get("containLabel"),s=Tn(o,{width:e.getWidth(),height:e.getHeight()});this._rect=s;var l=this._axesList;function h(){F(l,function(c){var y,_,x,b,d=c.isHorizontal(),p=d?[0,s.width]:[0,s.height],m=c.inverse?1:0;c.setExtent(p[m],p[1-m]),_=d?s.x:s.y,x=(y=c).getExtent(),b=x[0]+x[1],y.toGlobalCoord="x"===y.dim?function(S){return S+_}:function(S){return b-S+_},y.toLocalCoord="x"===y.dim?function(S){return S-_}:function(S){return b-S+_}})}h(),a&&(F(l,function(c){if(!c.model.get(["axisLabel","inside"])){var d=function(y){var x=y.scale;if(y.model.get(["axisLabel","show"])&&!x.isBlank()){var b,S,C=x.getExtent();S=x instanceof cp?x.count():(b=x.getTicks()).length;var I,A=y.getLabelModel(),P=Xu(y),O=1;S>40&&(O=Math.ceil(S/40));for(var E=0;E<S;E+=O){var z=P(b?b[E]:{value:C[0]+E},E),V=qP(A.getTextRect(z),A.get("rotate")||0);I?I.union(V):I=V}return I}}(c);if(d){var p=c.isHorizontal()?"height":"width",m=c.model.get(["axisLabel","margin"]);s[p]-=d[p]+m,"top"===c.position?s.y+=d.height+m:"left"===c.position&&(s.x+=d.width+m)}}}),h()),F(this._coordsList,function(c){c.calcAffineTransform()})},n.prototype.getAxis=function(i,e){var r=this._axesMap[i];if(null!=r)return r[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(i,e){if(null!=i&&null!=e)return this._coordsMap["x"+i+"y"+e];Pe(i)&&(e=i.yAxisIndex,i=i.xAxisIndex);for(var o=0,a=this._coordsList;o<a.length;o++)if(a[o].getAxis("x").index===i||a[o].getAxis("y").index===e)return a[o]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(i,e,r){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.dataToPoint(r):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(i,e,r){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.pointToData(r):o.axis?o.axis.coordToData(o.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(i){var e,r,o=i.seriesModel,a=i.xAxisModel||o&&o.getReferringComponents("xAxis",kn).models[0],s=i.yAxisModel||o&&o.getReferringComponents("yAxis",kn).models[0],l=i.gridModel;return o?ve(this._coordsList,e=o.coordinateSystem)<0&&(e=null):a&&s?e=this.getCartesian(a.componentIndex,s.componentIndex):a?r=this.getAxis("x",a.componentIndex):s?r=this.getAxis("y",s.componentIndex):l&&l.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:r}},n.prototype.containPoint=function(i){var e=this._coordsList[0];if(e)return e.containPoint(i)},n.prototype._initCartesian=function(i,e,r){var o=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},h={x:0,y:0};if(e.eachComponent("xAxis",c("x"),this),e.eachComponent("yAxis",c("y"),this),!h.x||!h.y)return this._axesMap={},void(this._axesList=[]);function c(d){return function(p,m){if(Ev(p,i)){var y=p.get("position");"x"===d?"top"!==y&&"bottom"!==y&&(y=s.bottom?"top":"bottom"):"left"!==y&&"right"!==y&&(y=s.left?"right":"left"),s[y]=!0;var _=new hE(d,qu(p),[0,0],p.get("type"),y);_.onBand="category"===_.type&&p.get("boundaryGap"),_.inverse=p.get("inverse"),p.axis=_,_.model=p,_.grid=a,_.index=m,a._axesList.push(_),l[d][m]=_,h[d]++}}}this._axesMap=l,F(l.x,function(d,p){F(l.y,function(m,y){var _="x"+p+"y"+y,x=new lE(_);x.master=o,x.model=i,o._coordsMap[_]=x,o._coordsList.push(x),x.addAxis(d),x.addAxis(m)})})},n.prototype._updateScale=function(i,e){function r(o,a){F(mp(o,a.dim),function(s){a.scale.unionExtentFromData(o,s)})}F(this._axesList,function(o){if(o.scale.setExtent(1/0,-1/0),"category"===o.type){var a=o.model.get("categorySortInfo");o.scale.setSortInfo(a)}}),i.eachSeries(function(o){if(GC(o)){var a=YC(o),s=a.xAxisModel,l=a.yAxisModel;if(!Ev(s,e)||!Ev(l,e))return;var h=this.getCartesian(s.componentIndex,l.componentIndex),c=o.getData(),d=h.getAxis("x"),p=h.getAxis("y");r(c,d),r(c,p)}},this)},n.prototype.getTooltipAxes=function(i){var e=[],r=[];return F(this.getCartesians(),function(o){var a=null!=i&&"auto"!==i?o.getAxis(i):o.getBaseAxis(),s=o.getOtherAxis(a);ve(e,a)<0&&e.push(a),ve(r,s)<0&&r.push(s)}),{baseAxes:e,otherAxes:r}},n.create=function(i,e){var r=[];return i.eachComponent("grid",function(o,a){var s=new n(o,i,e);s.name="grid_"+a,s.resize(o,e,!0),o.coordinateSystem=s,r.push(s)}),i.eachSeries(function(o){if(GC(o)){var a=YC(o),s=a.xAxisModel,l=a.yAxisModel,h=s.getCoordSysModel();o.coordinateSystem=h.coordinateSystem.getCartesian(s.componentIndex,l.componentIndex)}}),r},n.dimensions=Lv,n}();function Ev(n,i){return n.getCoordSysModel()===i}function UC(n,i,e,r){e.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=n[i],s=e.model,l=s.get(["axisLine","onZero"]),h=s.get(["axisLine","onZeroAxisIndex"]);if(l){if(null!=h)qC(a[h])&&(o=a[h]);else for(var c in a)if(a.hasOwnProperty(c)&&qC(a[c])&&!r[d(a[c])]){o=a[c];break}o&&(r[d(o)]=!0)}function d(p){return p.dim+"_"+p.index}}function qC(n){return n&&"category"!==n.type&&"time"!==n.type&&function(i){var e=i.scale.getExtent(),r=e[0],o=e[1];return!(r>0&&o>0||r<0&&o<0)}(n)}var Qa=Math.PI,yr=function(){function n(i,e){this.group=new ti,this.opt=e,this.axisModel=i,de(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new ti({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(i){return!!XC[i]},n.prototype.add=function(i){XC[i](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(i,e,r){var o,a,s=Wf(e-i);return nu(s)?(a=r>0?"top":"bottom",o="center"):nu(s-Qa)?(a=r>0?"bottom":"top",o="center"):(a="middle",o=s>0&&s<Qa?r>0?"right":"left":r>0?"left":"right"),{rotation:s,textAlign:o,textVerticalAlign:a}},n.makeAxisEventDataBase=function(i){var e={componentType:i.mainType,componentIndex:i.componentIndex};return e[i.mainType+"Index"]=i.componentIndex,e},n.isLabelSilent=function(i){var e=i.get("tooltip");return i.get("silent")||!(i.get("triggerEvent")||e&&e.show)},n}(),XC={axisLine:function(n,i,e,r){var o=i.get(["axisLine","show"]);if("auto"===o&&n.handleAutoShown&&(o=n.handleAutoShown("axisLine")),o){var a=i.axis.getExtent(),s=r.transform,l=[a[0],0],h=[a[1],0],c=l[0]>h[0];s&&(bi(l,l,s),bi(h,h,s));var d=Z({lineCap:"round"},i.getModel(["axisLine","lineStyle"]).getLineStyle()),p=new En({shape:{x1:l[0],y1:l[1],x2:h[0],y2:h[1]},style:d,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});$l(p.shape,p.style.lineWidth),p.anid="line",e.add(p);var m=i.get(["axisLine","symbol"]);if(null!=m){var y=i.get(["axisLine","symbolSize"]);J(m)&&(m=[m,m]),(J(y)||Ge(y))&&(y=[y,y]);var _=Fs(i.get(["axisLine","symbolOffset"])||0,y),x=y[0],b=y[1];F([{rotate:n.rotation+Math.PI/2,offset:_[0],r:0},{rotate:n.rotation-Math.PI/2,offset:_[1],r:Math.sqrt((l[0]-h[0])*(l[0]-h[0])+(l[1]-h[1])*(l[1]-h[1]))}],function(S,C){if("none"!==m[C]&&null!=m[C]){var I=vn(m[C],-x/2,-b/2,x,b,d.stroke,!0),A=S.r+S.offset,P=c?h:l;I.attr({rotation:S.rotate,x:P[0]+A*Math.cos(n.rotation),y:P[1]-A*Math.sin(n.rotation),silent:!0,z2:11}),e.add(I)}})}}},axisTickLabel:function(n,i,e,r){var o=function(s,l,h,c){var d=h.axis,p=h.getModel("axisTick"),m=p.get("show");if("auto"===m&&c.handleAutoShown&&(m=c.handleAutoShown("axisTick")),m&&!d.scale.isBlank()){for(var y=p.getModel("lineStyle"),_=c.tickDirection*p.get("length"),x=QC(d.getTicksCoords(),l.transform,_,de(y.getLineStyle(),{stroke:h.get(["axisLine","lineStyle","color"])}),"ticks"),b=0;b<x.length;b++)s.add(x[b]);return x}}(e,r,i,n),a=function(s,l,h,c){var d=h.axis;if(Et(c.axisLabelShow,h.get(["axisLabel","show"]))&&!d.scale.isBlank()){var m=h.getModel("axisLabel"),y=m.get("margin"),_=d.getViewLabels(),x=(Et(c.labelRotate,m.get("rotate"))||0)*Qa/180,b=yr.innerTextLayout(c.rotation,x,c.labelDirection),S=h.getCategories&&h.getCategories(!0),C=[],I=yr.isLabelSilent(h),A=h.get("triggerEvent");return F(_,function(P,O){var E="ordinal"===d.scale.type?d.scale.getRawOrdinalNumber(P.tickValue):P.tickValue,z=P.formattedLabel,V=P.rawLabel,G=m;if(S&&S[E]){var Y=S[E];Pe(Y)&&Y.textStyle&&(G=new Li(Y.textStyle,m,h.ecModel))}var X=G.getTextColor()||h.get(["axisLine","lineStyle","color"]),te=d.dataToCoord(E),ae=new Ci({x:te,y:c.labelOffset+c.labelDirection*y,rotation:b.rotation,silent:I,z2:10+(P.level||0),style:Xi(G,{text:z,align:G.getShallow("align",!0)||b.textAlign,verticalAlign:G.getShallow("verticalAlign",!0)||G.getShallow("baseline",!0)||b.textVerticalAlign,fill:ee(X)?X("category"===d.type?V:"value"===d.type?E+"":E,O):X})});if(ae.anid="label_"+E,A){var he=yr.makeAxisEventDataBase(h);he.targetType="axisLabel",he.value=V,he.tickIndex=O,"category"===d.type&&(he.dataIndex=E),oi(ae).eventData=he}l.add(ae),ae.updateTransform(),C.push(ae),s.add(ae),ae.decomposeTransform()}),C}}(e,r,i,n);(function(s,l,h){if(!lS(s.axis)){var c=s.get(["axisLabel","showMinLabel"]),d=s.get(["axisLabel","showMaxLabel"]),p=(l=l||[])[0],m=l[1],y=l[l.length-1],_=l[l.length-2],x=(h=h||[])[0],b=h[1],S=h[h.length-1],C=h[h.length-2];!1===c?(Qr(p),Qr(x)):KC(p,m)&&(c?(Qr(m),Qr(b)):(Qr(p),Qr(x))),!1===d?(Qr(y),Qr(S)):KC(_,y)&&(d?(Qr(_),Qr(C)):(Qr(y),Qr(S)))}})(i,a,o),function(s,l,h,c){var d=h.axis,p=h.getModel("minorTick");if(p.get("show")&&!d.scale.isBlank()){var m=d.getMinorTicksCoords();if(m.length)for(var y=p.getModel("lineStyle"),_=c*p.get("length"),x=de(y.getLineStyle(),de(h.getModel("axisTick").getLineStyle(),{stroke:h.get(["axisLine","lineStyle","color"])})),b=0;b<m.length;b++)for(var S=QC(m[b],l.transform,_,x,"minorticks_"+b),C=0;C<S.length;C++)s.add(S[C])}}(e,r,i,n.tickDirection),i.get(["axisLabel","hideOverlap"])&&PS(DS(Te(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(n,i,e,r){var O,z,V,G,Y,X,te,o=Et(n.axisName,i.get("name"));if(o){var a,s,l=i.get("nameLocation"),h=n.nameDirection,c=i.getModel("nameTextStyle"),d=i.get("nameGap")||0,p=i.axis.getExtent(),m=p[0]>p[1]?-1:1,y=["start"===l?p[0]-m*d:"end"===l?p[1]+m*d:(p[0]+p[1])/2,ZC(l)?n.labelOffset+h*d:0],_=i.get("nameRotate");null!=_&&(_=_*Qa/180),ZC(l)?a=yr.innerTextLayout(n.rotation,null!=_?_:n.rotation,h):(O=l,z=p,Y=Wf((_||0)-n.rotation),X=z[0]>z[1],te="start"===O&&!X||"start"!==O&&X,nu(Y-Qa/2)?(G=te?"bottom":"top",V="center"):nu(Y-1.5*Qa)?(G=te?"top":"bottom",V="center"):(G="middle",V=Y<1.5*Qa&&Y>Qa/2?te?"left":"right":te?"right":"left"),a={rotation:Y,textAlign:V,textVerticalAlign:G},null!=(s=n.axisNameAvailableWidth)&&(s=Math.abs(s/Math.sin(a.rotation)),!isFinite(s)&&(s=null)));var x=c.getFont(),b=i.get("nameTruncate",!0)||{},S=b.ellipsis,C=Et(n.nameTruncateMaxWidth,b.maxWidth,s),I=new Ci({x:y[0],y:y[1],rotation:a.rotation,silent:yr.isLabelSilent(i),style:Xi(c,{text:o,font:x,overflow:"truncate",width:C,ellipsis:S,fill:c.getTextColor()||i.get(["axisLine","lineStyle","color"]),align:c.get("align")||a.textAlign,verticalAlign:c.get("verticalAlign")||a.textVerticalAlign}),z2:1});if(ql({el:I,componentModel:i,itemName:o}),I.__fullText=o,I.anid="name",i.get("triggerEvent")){var A=yr.makeAxisEventDataBase(i);A.targetType="axisName",A.name=o,oi(I).eventData=A}r.add(I),I.updateTransform(),e.add(I),I.decomposeTransform()}}};function Qr(n){n&&(n.ignore=!0)}function KC(n,i){var e=n&&n.getBoundingRect().clone(),r=i&&i.getBoundingRect().clone();if(e&&r){var o=ls([]);return oo(o,o,-n.rotation),e.applyTransform(Pr([],o,n.getLocalTransform())),r.applyTransform(Pr([],o,i.getLocalTransform())),e.intersect(r)}}function ZC(n){return"middle"===n||"center"===n}function QC(n,i,e,r,o){for(var a=[],s=[],l=[],h=0;h<n.length;h++){var c=n[h].coord;s[0]=c,s[1]=0,l[0]=c,l[1]=e,i&&(bi(s,s,i),bi(l,l,i));var d=new En({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:r,z2:2,autoBatch:!0,silent:!0});$l(d.shape,d.style.lineWidth),d.anid=o+"_"+n[h].tickValue,a.push(d)}return a}function Nv(n,i){return"all"===n||ne(n)&&ve(n,i)>=0||n===i}function dE(n){var i=Rv(n);if(i){var e=i.axisPointerModel,r=i.axis.scale,o=e.option,a=e.get("status"),s=e.get("value");null!=s&&(s=r.parse(s));var l=zv(e);null==a&&(o.status=l?"show":"hide");var h=r.getExtent().slice();h[0]>h[1]&&h.reverse(),(null==s||s>h[1])&&(s=h[1]),s<h[0]&&(s=h[0]),o.value=s,l&&(o.status=i.axis.scale.isBlank()?"hide":"show")}}function Rv(n){var i=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return i&&i.axesInfo[lc(n)]}function zv(n){return!!n.get(["handle","show"])}function lc(n){return n.type+"||"+n.id}var JC={},il=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o,a){this.axisPointerClass&&dE(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,o,!0)},i.prototype.updateAxisPointer=function(e,r,o,a){this._doUpdateAxisPointerClass(e,o,!1)},i.prototype.remove=function(e,r){var o=this._axisPointer;o&&o.remove(r)},i.prototype.dispose=function(e,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},i.prototype._doUpdateAxisPointerClass=function(e,r,o){var h,a=i.getAxisPointerClass(this.axisPointerClass);if(a){var s=(h=Rv(e))&&h.axisPointerModel;s?(this._axisPointer||(this._axisPointer=new a)).render(e,s,r,o):this._disposeAxisPointer(r)}},i.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},i.registerAxisPointerClass=function(e,r){JC[e]=r},i.getAxisPointerClass=function(e){return e&&JC[e]},i.type="axis",i}(Qi),Bv=Mi();function ek(n,i,e,r){var o=e.axis;if(!o.scale.isBlank()){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),h=r.coordinateSystem.getRect(),c=o.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var d=l.length,p=Bv(n).splitAreaColors,m=xe(),y=0;if(p)for(var _=0;_<c.length;_++){var x=p.get(c[_].tickValue);if(null!=x){y=(x+(d-1)*_)%d;break}}var b=o.toGlobalCoord(c[0].coord),S=s.getAreaStyle();for(l=ne(l)?l:[l],_=1;_<c.length;_++){var C=o.toGlobalCoord(c[_].coord),I=void 0,A=void 0,P=void 0,O=void 0;o.isHorizontal()?(A=h.y,O=h.height,b=(I=b)+(P=C-I)):(I=h.x,P=h.width,b=(A=b)+(O=C-A));var E=c[_-1].tickValue;null!=E&&m.set(E,y),i.add(new Si({anid:null!=E?"area_"+E:null,shape:{x:I,y:A,width:P,height:O},style:de({fill:l[y]},S),autoBatch:!0,silent:!0})),y=(y+1)%d}Bv(n).splitAreaColors=m}}}function tk(n){Bv(n).splitAreaColors=null}var pE=["axisLine","axisTickLabel","axisName"],fE=["splitArea","splitLine","minorSplitLine"],ik=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.axisPointerClass="CartesianAxisPointer",e}return Le(i,n),i.prototype.render=function(e,r,o,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new ti,this.group.add(this._axisGroup),e.get("show")){var l=e.getCoordSysModel(),h=Pv(l,e),c=new yr(e,Z({handleAutoShown:function(d){for(var p=l.coordinateSystem.getCartesians(),m=0;m<p.length;m++)if(Km(p[m].getOtherAxis(e.axis).scale))return!0;return!1}},h));F(pE,c.add,c),this._axisGroup.add(c.getGroup()),F(fE,function(d){e.get([d,"show"])&&gE[d](this,this._axisGroup,e,l)},this),a&&"changeAxisOrder"===a.type&&a.isInitSort||bu(s,this._axisGroup,e),n.prototype.render.call(this,e,r,o,a)}},i.prototype.remove=function(){tk(this)},i.type="cartesianAxis",i}(il),gE={splitLine:function(n,i,e,r){var o=e.axis;if(!o.scale.isBlank()){var a=e.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color");l=ne(l)?l:[l];for(var h=r.coordinateSystem.getRect(),c=o.isHorizontal(),d=0,p=o.getTicksCoords({tickModel:a}),m=[],y=[],_=s.getLineStyle(),x=0;x<p.length;x++){var b=o.toGlobalCoord(p[x].coord);c?(m[0]=b,m[1]=h.y,y[0]=b,y[1]=h.y+h.height):(m[0]=h.x,m[1]=b,y[0]=h.x+h.width,y[1]=b);var S=d++%l.length,I=new En({anid:null!=p[x].tickValue?"line_"+p[x].tickValue:null,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:y[0],y2:y[1]},style:de({stroke:l[S]},_),silent:!0});$l(I.shape,_.lineWidth),i.add(I)}}},minorSplitLine:function(n,i,e,r){var o=e.axis,a=e.getModel("minorSplitLine").getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=o.isHorizontal(),h=o.getMinorTicksCoords();if(h.length)for(var c=[],d=[],p=a.getLineStyle(),m=0;m<h.length;m++)for(var y=0;y<h[m].length;y++){var _=o.toGlobalCoord(h[m][y].coord);l?(c[0]=_,c[1]=s.y,d[0]=_,d[1]=s.y+s.height):(c[0]=s.x,c[1]=_,d[0]=s.x+s.width,d[1]=_);var x=new En({anid:"minor_line_"+h[m][y].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:p,silent:!0});$l(x.shape,p.lineWidth),i.add(x)}},splitArea:function(n,i,e,r){ek(n,i,e,r)}},nk=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="xAxis",i}(ik),mE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=nk.type,e}return Le(i,n),i.type="yAxis",i}(ik),vE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="grid",e}return Le(i,n),i.prototype.render=function(e,r){this.group.removeAll(),e.get("show")&&this.group.add(new Si({shape:e.coordinateSystem.getRect(),style:de({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},i.type="grid",i}(Qi),rk={offset:0};function ok(n){n.registerComponentView(vE),n.registerComponentModel(rE),n.registerCoordinateSystem("cartesian2d",uE),bh(n,"x",Dv,rk),bh(n,"y",Dv,rk),n.registerComponentView(nk),n.registerComponentView(mE),n.registerPreprocessor(function(i){i.xAxis&&i.yAxis&&!i.grid&&(i.grid={})})}function yE(n){n.eachSeriesByType("radar",function(i){var e=i.getData(),r=[],o=i.coordinateSystem;if(o){var a=o.getIndicatorAxes();F(a,function(s,l){e.each(e.mapDimension(a[l].dim),function(h,c){r[c]=r[c]||[];var d=o.dataToPoint(h,l);r[c][l]=ak(d)?d:sk(o)})}),e.each(function(s){var l=zt(r[s],function(h){return ak(h)})||sk(o);r[s].push(l.slice()),e.setItemLayout(s,r[s])})}})}function ak(n){return!isNaN(n[0])&&!isNaN(n[1])}function sk(n){return[n.cx,n.cy]}function _E(n){var i=n.polar;if(i){ne(i)||(i=[i]);var e=[];F(i,function(r,o){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],ne(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):e.push(r)}),n.polar=e}F(n.series,function(r){r&&"radar"===r.type&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var xE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){var a=e.coordinateSystem,s=this.group,l=e.getData(),h=this._data;function c(m,y){var _=m.getItemVisual(y,"symbol")||"circle";if("none"!==_){var x=uh(m.getItemVisual(y,"symbolSize")),b=vn(_,-1,-1,2,2),S=m.getItemVisual(y,"symbolRotate")||0;return b.attr({style:{strokeNoScale:!0},z2:100,scaleX:x[0]/2,scaleY:x[1]/2,rotation:S*Math.PI/180||0}),b}}function d(m,y,_,x,b,S){_.removeAll();for(var C=0;C<y.length-1;C++){var I=c(x,b);I&&(I.__dimIdx=C,m[C]?(I.setPosition(m[C]),Su[S?"initProps":"updateProps"](I,{x:y[C][0],y:y[C][1]},e,b)):I.setPosition(y[C]),_.add(I))}}function p(m){return Te(m,function(y){return[a.cx,a.cy]})}l.diff(h).add(function(m){var y=l.getItemLayout(m);if(y){var _=new nr,x=new rr,b={shape:{points:y}};_.shape.points=p(y),x.shape.points=p(y),nn(_,b,e,m),nn(x,b,e,m);var S=new ti,C=new ti;S.add(x),S.add(_),S.add(C),d(x.shape.points,y,C,l,m,!0),l.setItemGraphicEl(m,S)}}).update(function(m,y){var _=h.getItemGraphicEl(y),x=_.childAt(0),b=_.childAt(1),S=_.childAt(2),C={shape:{points:l.getItemLayout(m)}};C.shape.points&&(d(x.shape.points,C.shape.points,S,l,m,!1),go(b),go(x),Ii(x,C,e),Ii(b,C,e),l.setItemGraphicEl(m,_))}).remove(function(m){s.remove(h.getItemGraphicEl(m))}).execute(),l.eachItemGraphicEl(function(m,y){var _=l.getItemModel(y),x=m.childAt(0),b=m.childAt(1),S=m.childAt(2),C=l.getItemVisual(y,"style"),I=C.fill;s.add(m),x.useStyle(de(_.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:I})),Xn(x,_,"lineStyle"),Xn(b,_,"areaStyle");var A=_.getModel("areaStyle"),P=A.isEmpty()&&A.parentModel.isEmpty();b.ignore=P,F(["emphasis","select","blur"],function(z){var V=_.getModel([z,"areaStyle"]),G=V.isEmpty()&&V.parentModel.isEmpty();b.ensureState(z).ignore=G&&P}),b.useStyle(de(A.getAreaStyle(),{fill:I,opacity:.7,decal:C.decal}));var O=_.getModel("emphasis"),E=O.getModel("itemStyle").getItemStyle();S.eachChild(function(z){if(z instanceof Rn){var V=z.style;z.useStyle(Z({image:V.image,x:V.x,y:V.y,width:V.width,height:V.height},C))}else z.useStyle(C),z.setColor(I),z.style.strokeNoScale=!0;z.ensureState("emphasis").style=H(E);var G=l.getStore().get(l.getDimensionIndex(z.__dimIdx),y);(null==G||isNaN(G))&&(G=""),Kn(z,zn(_),{labelFetcher:l.hostModel,labelDataIndex:y,labelDimIndex:z.__dimIdx,defaultText:G,inheritColor:I,defaultOpacity:C.opacity})}),dn(m,O.get("focus"),O.get("blurScope"),O.get("disabled"))}),this._data=l},i.prototype.remove=function(){this.group.removeAll(),this._data=null},i.type="radar",i}(Hi),bE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.hasSymbolVisual=!0,e}return Le(i,n),i.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new sc(De(this.getData,this),De(this.getRawData,this))},i.prototype.getInitialData=function(e,r){return xh(this,{generateCoord:"indicator_",generateCoordCount:1/0})},i.prototype.formatTooltip=function(e,r,o){var a=this.getData(),s=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(e),h=""===l?this.name:l,c=Db(this,e);return Bn("section",{header:h,sortBlocks:!0,blocks:Te(s,function(d){var p=a.get(a.mapDimension(d.dim),e);return Bn("nameValue",{markerType:"subItem",markerColor:c,name:d.name,value:p,sortParam:p})})})},i.prototype.getTooltipPosition=function(e){if(null!=e)for(var r=this.getData(),o=this.coordinateSystem,a=r.getValues(Te(o.dimensions,function(c){return r.mapDimension(c)}),e),s=0,l=a.length;s<l;s++)if(!isNaN(a[s])){var h=o.getIndicatorAxes();return o.coordToPoint(h[s].dataToCoord(a[s]),s)}},i.type="series.radar",i.dependencies=["radar"],i.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},i}(Yi),hc=VC.value;function Lp(n,i){return de({show:i},n)}var wE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),r=this.get("splitNumber"),o=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),l=this.get("axisLabel"),h=this.get("axisName"),c=this.get(["axisName","show"]),d=this.get(["axisName","formatter"]),p=this.get("axisNameGap"),m=this.get("triggerEvent"),y=Te(this.get("indicator")||[],function(_){null!=_.max&&_.max>0&&!_.min?_.min=0:null!=_.min&&_.min<0&&!_.max&&(_.max=0);var x=h;null!=_.color&&(x=de({color:_.color},h));var b=q(H(_),{boundaryGap:e,splitNumber:r,scale:o,axisLine:a,axisTick:s,axisLabel:l,name:_.text,showName:c,nameLocation:"end",nameGap:p,nameTextStyle:x,triggerEvent:m},!1);if(J(d)){var S=b.name;b.name=d.replace("{value}",null!=S?S:"")}else ee(d)&&(b.name=d(b.name,b));var C=new Li(b,null,this.ecModel);return Ie(C,mh.prototype),C.mainType="radar",C.componentIndex=this.componentIndex,C},this);this._indicatorModels=y},i.prototype.getIndicatorModels=function(){return this._indicatorModels},i.type="radar",i.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:q({lineStyle:{color:"#bbb"}},hc.axisLine),axisLabel:Lp(hc.axisLabel,!1),axisTick:Lp(hc.axisTick,!1),splitLine:Lp(hc.splitLine,!0),splitArea:Lp(hc.splitArea,!0),indicator:[]},i}(_i),SE=["axisLine","axisTickLabel","axisName"],CE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},i.prototype._buildAxes=function(e){var r=e.coordinateSystem;F(Te(r.getIndicatorAxes(),function(o){var a=o.model.get("showName")?o.name:"";return new yr(o.model,{axisName:a,position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(o){F(SE,o.add,o),this.group.add(o.getGroup())},this)},i.prototype._buildSplitLineAndArea=function(e){var r=e.coordinateSystem,o=r.getIndicatorAxes();if(o.length){var a=e.get("shape"),s=e.getModel("splitLine"),l=e.getModel("splitArea"),h=s.getModel("lineStyle"),c=l.getModel("areaStyle"),d=s.get("show"),p=l.get("show"),m=h.get("color"),y=c.get("color"),_=ne(m)?m:[m],x=ne(y)?y:[y],b=[],S=[];if("circle"===a)for(var C=o[0].getTicksCoords(),I=r.cx,A=r.cy,P=0;P<C.length;P++)d&&b[te(b,_,P)].push(new Yr({shape:{cx:I,cy:A,r:C[P].coord}})),p&&P<C.length-1&&S[te(S,x,P)].push(new Vl({shape:{cx:I,cy:A,r0:C[P].coord,r:C[P+1].coord}}));else{var O,E=Te(o,function(ae,he){var fe=ae.getTicksCoords();return O=null==O?fe.length-1:Math.min(fe.length-1,O),Te(fe,function(ye){return r.coordToPoint(ye.coord,he)})}),z=[];for(P=0;P<=O;P++){for(var V=[],G=0;G<o.length;G++)V.push(E[G][P]);V[0]&&V.push(V[0].slice()),d&&b[te(b,_,P)].push(new rr({shape:{points:V}})),p&&z&&S[te(S,x,P-1)].push(new nr({shape:{points:V.concat(z)}})),z=V.slice().reverse()}}var Y=h.getLineStyle(),X=c.getAreaStyle();F(S,function(ae,he){this.group.add(jr(ae,{style:de({stroke:"none",fill:x[he%x.length]},X),silent:!0}))},this),F(b,function(ae,he){this.group.add(jr(ae,{style:de({fill:"none",stroke:_[he%_.length]},Y),silent:!0}))},this)}function te(ae,he,fe){var ye=fe%he.length;return ae[ye]=ae[ye]||[],ye}},i.type="radar",i}(Qi),kE=function(n){function i(e,r,o){var a=n.call(this,e,r,o)||this;return a.type="value",a.angle=0,a.name="",a}return Le(i,n),i}(Zr),TE=function(){function n(i,e,r){this.dimensions=[],this._model=i,this._indicatorAxes=Te(i.getIndicatorModels(),function(o,a){var s="indicator_"+a,l=new kE(s,new fa);return l.name=o.get("name"),l.model=o,o.axis=l,this.dimensions.push(s),l},this),this.resize(i,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(i,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(i),e)},n.prototype.coordToPoint=function(i,e){var r=this._indicatorAxes[e].angle;return[this.cx+i*Math.cos(r),this.cy-i*Math.sin(r)]},n.prototype.pointToData=function(i){var e=i[0]-this.cx,r=i[1]-this.cy,o=Math.sqrt(e*e+r*r);e/=o,r/=o;for(var a,s=Math.atan2(-r,e),l=1/0,h=-1,c=0;c<this._indicatorAxes.length;c++){var d=this._indicatorAxes[c],p=Math.abs(s-d.angle);p<l&&(a=d,h=c,l=p)}return[h,+(a&&a.coordToData(o))]},n.prototype.resize=function(i,e){var r=i.get("center"),o=e.getWidth(),a=e.getHeight(),s=Math.min(o,a)/2;this.cx=Bt(r[0],o),this.cy=Bt(r[1],a),this.startAngle=i.get("startAngle")*Math.PI/180;var l=i.get("radius");(J(l)||Ge(l))&&(l=[0,l]),this.r0=Bt(l[0],s),this.r=Bt(l[1],s),F(this._indicatorAxes,function(h,c){h.setExtent(this.r0,this.r);var d=this.startAngle+c*Math.PI*2/this._indicatorAxes.length;d=Math.atan2(Math.sin(d),Math.cos(d)),h.angle=d},this)},n.prototype.update=function(i,e){var r=this._indicatorAxes,o=this._model;F(r,function(l){l.scale.setExtent(1/0,-1/0)}),i.eachSeriesByType("radar",function(l,h){if("radar"===l.get("coordinateSystem")&&i.getComponent("radar",l.get("radarIndex"))===o){var c=l.getData();F(r,function(d){d.scale.unionExtentFromData(c,c.mapDimension(d.dim))})}},this);var a=o.get("splitNumber"),s=new fa;s.setExtent(0,a),s.setInterval(1),F(r,function(l,h){$C(l.scale,l.model,s)})},n.prototype.convertToPixel=function(i,e,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(i,e,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(i){return console.warn("Not implemented."),!1},n.create=function(i,e){var r=[];return i.eachComponent("radar",function(o){var a=new n(o,i,e);r.push(a),o.coordinateSystem=a}),i.eachSeriesByType("radar",function(o){"radar"===o.get("coordinateSystem")&&(o.coordinateSystem=r[o.get("radarIndex")||0])}),r},n.dimensions=[],n}();function ME(n){n.registerCoordinateSystem("radar",TE),n.registerComponentModel(wE),n.registerComponentView(CE),n.registerVisual({seriesType:"radar",reset:function(i){var e=i.getData();e.each(function(r){e.setItemVisual(r,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var lk="\0_ec_interaction_mutex";function hk(n,i){return!!jv(n)[i]}function jv(n){return n[lk]||(n[lk]={})}xo({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ze);var uc=function(n){function i(e){var r=n.call(this)||this;r._zr=e;var o=De(r._mousedownHandler,r),a=De(r._mousemoveHandler,r),s=De(r._mouseupHandler,r),l=De(r._mousewheelHandler,r),h=De(r._pinchHandler,r);return r.enable=function(c,d){this.disable(),this._opt=de(H(d)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==c&&(c=!0),!0!==c&&"move"!==c&&"pan"!==c||(e.on("mousedown",o),e.on("mousemove",a),e.on("mouseup",s)),!0!==c&&"scale"!==c&&"zoom"!==c||(e.on("mousewheel",l),e.on("pinch",h))},r.disable=function(){e.off("mousedown",o),e.off("mousemove",a),e.off("mouseup",s),e.off("mousewheel",l),e.off("pinch",h)},r}return Le(i,n),i.prototype.isDragging=function(){return this._dragging},i.prototype.isPinching=function(){return this._pinching},i.prototype.setPointerChecker=function(e){this.pointerChecker=e},i.prototype.dispose=function(){this.disable()},i.prototype._mousedownHandler=function(e){if(!Rc(e)){for(var r=e.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var o=e.offsetX,a=e.offsetY;this.pointerChecker&&this.pointerChecker(e,o,a)&&(this._x=o,this._y=a,this._dragging=!0)}},i.prototype._mousemoveHandler=function(e){if(this._dragging&&Pp("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!hk(this._zr,"globalPan")){var r=e.offsetX,o=e.offsetY,a=this._x,s=this._y,l=r-a,h=o-s;this._x=r,this._y=o,this._opt.preventDefaultMouseMove&&ur(e.event),uk(this,"pan","moveOnMouseMove",e,{dx:l,dy:h,oldX:a,oldY:s,newX:r,newY:o,isAvailableBehavior:null})}},i.prototype._mouseupHandler=function(e){Rc(e)||(this._dragging=!1)},i.prototype._mousewheelHandler=function(e){var r=Pp("zoomOnMouseWheel",e,this._opt),o=Pp("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,s=Math.abs(a),l=e.offsetX,h=e.offsetY;if(0!==a&&(r||o)){if(r){var c=s>3?1.4:s>1?1.2:1.1;Hv(this,"zoom","zoomOnMouseWheel",e,{scale:a>0?c:1/c,originX:l,originY:h,isAvailableBehavior:null})}if(o){var d=Math.abs(a);Hv(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(a>0?1:-1)*(d>3?.4:d>1?.15:.05),originX:l,originY:h,isAvailableBehavior:null})}}},i.prototype._pinchHandler=function(e){hk(this._zr,"globalPan")||Hv(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},i}(Sn);function Hv(n,i,e,r,o){n.pointerChecker&&n.pointerChecker(r,o.originX,o.originY)&&(ur(r.event),uk(n,i,e,r,o))}function uk(n,i,e,r,o){o.isAvailableBehavior=De(Pp,null,e,r),n.trigger(i,o)}function Pp(n,i,e){var r=e[n];return!n||r&&(!J(r)||i.event[r+"Key"])}function Vv(n,i,e){var r=n.target;r.x+=i,r.y+=e,r.dirty()}function Fv(n,i,e,r){var o=n.target,a=n.zoomLimit,s=n.zoom=n.zoom||1;if(s*=i,a){var l=a.min||0;s=Math.max(Math.min(a.max||1/0,s),l)}var c=s/n.zoom;n.zoom=s,o.x-=(e-o.x)*(c-1),o.y-=(r-o.y)*(c-1),o.scaleX*=c,o.scaleY*=c,o.dirty()}var Wv,IE={axisPointer:1,tooltip:1,brush:1};function Op(n,i,e){var r=i.getComponentByElement(n.topTarget),o=r&&r.coordinateSystem;return r&&r!==e&&!IE.hasOwnProperty(r.mainType)&&o&&o.model!==e}function ck(n){J(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var i=n;for(9===i.nodeType&&(i=i.firstChild);"svg"!==i.nodeName.toLowerCase()||1!==i.nodeType;)i=i.nextSibling;return i}var Ep={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},dk=ft(Ep),Np={"alignment-baseline":"textBaseline","stop-color":"stopColor"},pk=ft(Np),DE=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(i,e){e=e||{};var r=ck(i);this._defsUsePending=[];var o=new ti;this._root=o;var a=[],s=r.getAttribute("viewBox")||"",l=parseFloat(r.getAttribute("width")||e.width),h=parseFloat(r.getAttribute("height")||e.height);isNaN(l)&&(l=null),isNaN(h)&&(h=null),Hr(r,o,null,!0,!1);for(var c,d,p=r.firstChild;p;)this._parseNode(p,o,a,null,!1,!1),p=p.nextSibling;if(function(_,x){for(var b=0;b<x.length;b++){var S=x[b];S[0].style[S[1]]=_[S[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],s){var m=Rp(s);m.length>=4&&(c={x:parseFloat(m[0]||0),y:parseFloat(m[1]||0),width:parseFloat(m[2]),height:parseFloat(m[3])})}if(c&&null!=l&&null!=h&&(d=bk(c,{x:0,y:0,width:l,height:h}),!e.ignoreViewBox)){var y=o;(o=new ti).add(y),y.scaleX=y.scaleY=d.scale,y.x=d.x,y.y=d.y}return e.ignoreRootClip||null==l||null==h||o.setClipPath(new Si({shape:{x:0,y:0,width:l,height:h}})),{root:o,width:l,height:h,viewBoxRect:c,viewBoxTransform:d,named:a}},n.prototype._parseNode=function(i,e,r,o,a,s){var l,h=i.nodeName.toLowerCase(),c=o;if("defs"===h&&(a=!0),"text"===h&&(s=!0),"defs"===h||"switch"===h)l=e;else{if(!a){var d=Wv[h];if(d&&Be(Wv,h)){l=d.call(this,i,e);var p=i.getAttribute("name");if(p){var m={name:p,namedFrom:null,svgNodeTagLower:h,el:l};r.push(m),"g"===h&&(c=m)}else o&&r.push({name:o.name,namedFrom:o,svgNodeTagLower:h,el:l});e.add(l)}}var y=fk[h];if(y&&Be(fk,h)){var _=y.call(this,i),x=i.getAttribute("id");x&&(this._defs[x]=_)}}if(l&&l.isGroup)for(var b=i.firstChild;b;)1===b.nodeType?this._parseNode(b,l,r,c,a,s):3===b.nodeType&&s&&this._parseText(b,l),b=b.nextSibling},n.prototype._parseText=function(i,e){var r=new Rl({style:{text:i.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Jr(e,r),Hr(i,r,this._defsUsePending,!1,!1),function(h,c){var d=c.__selfStyle;if(d){var p=d.textBaseline,m=p;p&&"auto"!==p?"baseline"===p?m="alphabetic":"before-edge"===p||"text-before-edge"===p?m="top":"after-edge"===p||"text-after-edge"===p?m="bottom":"central"!==p&&"mathematical"!==p||(m="middle"):m="alphabetic",h.style.textBaseline=m}var y=c.__inheritedStyle;if(y){var _=y.textAlign,x=_;_&&("middle"===_&&(x="center"),h.style.textAlign=x)}}(r,e);var o=r.style,a=o.fontSize;a&&a<9&&(o.fontSize=9,r.scaleX*=a/9,r.scaleY*=a/9);var s=(o.fontSize||o.fontFamily)&&[o.fontStyle,o.fontWeight,(o.fontSize||12)+"px",o.fontFamily||"sans-serif"].join(" ");o.font=s;var l=r.getBoundingRect();return this._textX+=l.width,e.add(r),r},n.internalField=void(Wv={g:function(i,e){var r=new ti;return Jr(e,r),Hr(i,r,this._defsUsePending,!1,!1),r},rect:function(i,e){var r=new Si;return Jr(e,r),Hr(i,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(i.getAttribute("x")||"0"),y:parseFloat(i.getAttribute("y")||"0"),width:parseFloat(i.getAttribute("width")||"0"),height:parseFloat(i.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(i,e){var r=new Yr;return Jr(e,r),Hr(i,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(i.getAttribute("cx")||"0"),cy:parseFloat(i.getAttribute("cy")||"0"),r:parseFloat(i.getAttribute("r")||"0")}),r.silent=!0,r},line:function(i,e){var r=new En;return Jr(e,r),Hr(i,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(i.getAttribute("x1")||"0"),y1:parseFloat(i.getAttribute("y1")||"0"),x2:parseFloat(i.getAttribute("x2")||"0"),y2:parseFloat(i.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(i,e){var r=new gu;return Jr(e,r),Hr(i,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(i.getAttribute("cx")||"0"),cy:parseFloat(i.getAttribute("cy")||"0"),rx:parseFloat(i.getAttribute("rx")||"0"),ry:parseFloat(i.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(i,e){var r,o=i.getAttribute("points");o&&(r=vk(o));var a=new nr({shape:{points:r||[]},silent:!0});return Jr(e,a),Hr(i,a,this._defsUsePending,!1,!1),a},polyline:function(i,e){var r,o=i.getAttribute("points");o&&(r=vk(o));var a=new rr({shape:{points:r||[]},silent:!0});return Jr(e,a),Hr(i,a,this._defsUsePending,!1,!1),a},image:function(i,e){var r=new Rn;return Jr(e,r),Hr(i,r,this._defsUsePending,!1,!1),r.setStyle({image:i.getAttribute("xlink:href")||i.getAttribute("href"),x:+i.getAttribute("x"),y:+i.getAttribute("y"),width:+i.getAttribute("width"),height:+i.getAttribute("height")}),r.silent=!0,r},text:function(i,e){var r=i.getAttribute("x")||"0",o=i.getAttribute("y")||"0",a=i.getAttribute("dx")||"0",s=i.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(o)+parseFloat(s);var l=new ti;return Jr(e,l),Hr(i,l,this._defsUsePending,!1,!0),l},tspan:function(i,e){var r=i.getAttribute("x"),o=i.getAttribute("y");null!=r&&(this._textX=parseFloat(r)),null!=o&&(this._textY=parseFloat(o));var a=i.getAttribute("dx")||"0",s=i.getAttribute("dy")||"0",l=new ti;return Jr(e,l),Hr(i,l,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),l},path:function(i,e){var r=R1(i.getAttribute("d")||"");return Jr(e,r),Hr(i,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),n}(),fk={lineargradient:function(n){var i=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),o=parseInt(n.getAttribute("y2")||"0",10),a=new Wl(i,e,r,o);return gk(n,a),mk(n,a),a},radialgradient:function(n){var i=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),o=new Mg(i,e,r);return gk(n,o),mk(n,o),o}};function gk(n,i){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(i.global=!0)}function mk(n,i){for(var e=n.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var o,r=e.getAttribute("offset");o=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var a={};xk(e,a,a);var s=a.stopColor||e.getAttribute("stop-color")||"#000000";i.colorStops.push({offset:o,color:s})}e=e.nextSibling}}function Jr(n,i){n&&n.__inheritedStyle&&(i.__inheritedStyle||(i.__inheritedStyle={}),de(i.__inheritedStyle,n.__inheritedStyle))}function vk(n){for(var i=Rp(n),e=[],r=0;r<i.length;r+=2){var o=parseFloat(i[r]),a=parseFloat(i[r+1]);e.push([o,a])}return e}function Hr(n,i,e,r,o){var a=i,s=a.__inheritedStyle=a.__inheritedStyle||{},l={};1===n.nodeType&&(function(h,c){var d=h.getAttribute("transform");if(d){d=d.replace(/,/g," ");var p=[],m=null;d.replace(PE,function(S,C,I){return p.push(C,I),""});for(var y=p.length-1;y>0;y-=2){var x=p[y-1],b=Rp(p[y]);switch(m=m||[1,0,0,1,0,0],x){case"translate":Gn(m,m,[parseFloat(b[0]),parseFloat(b[1]||"0")]);break;case"scale":wa(m,m,[parseFloat(b[0]),parseFloat(b[1]||b[0])]);break;case"rotate":oo(m,m,-parseFloat(b[0])*Gv);break;case"skewX":Pr(m,[1,0,Math.tan(parseFloat(b[0])*Gv),1,0,0],m);break;case"skewY":Pr(m,[1,Math.tan(parseFloat(b[0])*Gv),0,1,0,0],m);break;case"matrix":m[0]=parseFloat(b[0]),m[1]=parseFloat(b[1]),m[2]=parseFloat(b[2]),m[3]=parseFloat(b[3]),m[4]=parseFloat(b[4]),m[5]=parseFloat(b[5])}}c.setLocalTransform(m)}}(n,i),xk(n,s,l),r||function(h,c,d){for(var p=0;p<dk.length;p++){var m=dk[p];null!=(y=h.getAttribute(m))&&(c[Ep[m]]=y)}for(p=0;p<pk.length;p++){var y;null!=(y=h.getAttribute(m=pk[p]))&&(d[Np[m]]=y)}}(n,s,l)),a.style=a.style||{},null!=s.fill&&(a.style.fill=yk(a,"fill",s.fill,e)),null!=s.stroke&&(a.style.stroke=yk(a,"stroke",s.stroke,e)),F(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){null!=s[h]&&(a.style[h]=parseFloat(s[h]))}),F(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(h){null!=s[h]&&(a.style[h]=s[h])}),o&&(a.__selfStyle=l),s.lineDash&&(a.style.lineDash=Te(Rp(s.lineDash),function(h){return parseFloat(h)})),"hidden"!==s.visibility&&"collapse"!==s.visibility||(a.invisible=!0),"none"===s.display&&(a.ignore=!0)}var AE=/^url\(\s*#(.*?)\)/;function yk(n,i,e,r){var o=e&&e.match(AE);if(!o)return"none"===e&&(e=null),e;var a=_e(o[1]);r.push([n,i,a])}var LE=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Rp(n){return n.match(LE)||[]}var PE=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Gv=Math.PI/180,_k=/([^\s:;]+)\s*:\s*([^:;]+)/g;function xk(n,i,e){var r,o=n.getAttribute("style");if(o)for(_k.lastIndex=0;null!=(r=_k.exec(o));){var a=r[1],s=Be(Ep,a)?Ep[a]:null;s&&(i[s]=r[2]);var l=Be(Np,a)?Np[a]:null;l&&(e[l]=r[2])}}function bk(n,i){var o=Math.min(i.width/n.width,i.height/n.height);return{scale:o,x:-(n.x+n.width/2)*o+(i.x+i.width/2),y:-(n.y+n.height/2)*o+(i.y+i.height/2)}}for(var OE=xe(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),EE=function(){function n(i,e){this.type="geoSVG",this._usedGraphicMap=xe(),this._freedGraphics=[],this._mapName=i,this._parsedXML=ck(e)}return n.prototype.load=function(){var a,s,l,i=this._firstGraphic;if(!i){i=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(i),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=(a=i.named,s=[],l=xe(),F(a,function(h){if(null==h.namedFrom){var c=new QP(h.name,h.el);s.push(c),l.set(h.name,c)}}),{regions:s,regionsMap:l}),o=e.regionsMap;this._regions=e.regions,this._regionsMap=o}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(i){var e,r,o,a;try{ge(null!=(r=(e=i&&(o=i,a={ignoreViewBox:!0,ignoreRootClip:!0},(new DE).parse(o,a))||{}).root))}catch(C){throw new Error("Invalid svg format\n"+C.message)}var s=new ti;s.add(r),s.isGeoSVGGraphicRoot=!0;var l=e.width,h=e.height,c=e.viewBoxRect,d=this._boundingRect;if(!d){var p=void 0,m=void 0,y=void 0,_=void 0;if(null!=l?(p=0,y=l):c&&(p=c.x,y=c.width),null!=h?(m=0,_=h):c&&(m=c.y,_=c.height),null==p||null==m){var x=r.getBoundingRect();null==p&&(p=x.x,y=x.width),null==m&&(m=x.y,_=x.height)}d=this._boundingRect=new ai(p,m,y,_)}if(c){var b=bk(c,d);r.scaleX=r.scaleY=b.scale,r.x=b.x,r.y=b.y}s.setClipPath(new Si({shape:d.plain()}));var S=[];return F(e.named,function(C){var I;null!=OE.get(C.svgNodeTagLower)&&(S.push(C),(I=C.el).silent=!1,I.isGroup&&I.traverse(function(A){A.silent=!1}))}),{root:s,boundingRect:d,named:S}},n.prototype.useGraphic=function(i){var e=this._usedGraphicMap,r=e.get(i);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(i,r),r)},n.prototype.freeGraphic=function(i){var e=this._usedGraphicMap,r=e.get(i);r&&(e.removeKey(i),this._freedGraphics.push(r))},n}(),Yv=[126,25],nl=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],rl=0;rl<nl.length;rl++)for(var wh=0;wh<nl[rl].length;wh++)nl[rl][wh][0]/=10.5,nl[rl][wh][1]/=-14,nl[rl][wh][0]+=Yv[0],nl[rl][wh][1]+=Yv[1];var NE={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},RE=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],zE=function(){function n(i,e,r){var o;this.type="geoJSON",this._parsedMap=xe(),this._mapName=i,this._specialAreas=r,this._geoJSON=J(o=e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(o):new Function("return ("+o+");")():o}return n.prototype.load=function(i,e){var r=this._parsedMap.get(e=e||"name");if(!r){var o=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:o,boundingRect:BE(o)})}var a=xe(),s=[];return F(r.regions,function(l){var h=l.name;i&&Be(i,h)&&(l=l.cloneShallow(h=i[h])),s.push(l),a.set(h,l)}),{regions:s,boundingRect:r.boundingRect||new ai(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(i){var e,r=this._mapName,o=this._geoJSON;try{e=o?av(o,i):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return function(a,s){if("china"===a){for(var l=0;l<s.length;l++)if("\u5357\u6d77\u8bf8\u5c9b"===s[l].name)return;s.push(new fS("\u5357\u6d77\u8bf8\u5c9b",Te(nl,function(h){return{type:"polygon",exterior:h}}),Yv))}}(r,e),F(e,function(a){var c,s=a.name;(function(h,c){if("china"===h){var d=NE[c.name];if(d){var p=c.getCenter();p[0]+=d[0]/10.5,p[1]+=-d[1]/14,c.setCenter(p)}}})(r,a),c=a,"china"===r&&"\u53f0\u6e7e"===c.name&&c.geometries.push({type:"polygon",exterior:RE[0]});var l=this._specialAreas&&this._specialAreas[s];l&&a.transformTo(l.left,l.top,l.width,l.height)},this),e},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function BE(n){for(var i,e=0;e<n.length;e++){var r=n[e].getBoundingRect();(i=i||r.clone()).union(r)}return i}var cc=xe(),zp=function(n){return cc.get(n)},$v=function(n,i,e){var r=cc.get(n);if(r)return r.load(i,e)},Uv=["rect","circle","line","ellipse","polygon","polyline","path"],VE=xe(Uv),FE=xe(Uv.concat(["g"])),WE=xe(Uv.concat(["g"])),Sk=Mi();function Bp(n){var i=n.getItemStyle(),e=n.get("areaColor");return null!=e&&(i.fill=e),i}function Ck(n){var i=n.style;i&&(i.stroke=i.stroke||i.fill,i.fill=null)}var kk=function(){function n(i){var e=new ti;this.uid=Kl("ec_map_draw"),this._controller=new uc(i.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new ti),e.add(this._svgGroup=new ti)}return n.prototype.draw=function(i,e,r,o,a){var s="geo"===i.mainType,l=i.getData&&i.getData();s&&e.eachComponent({mainType:"series",subType:"map"},function(b){l||b.getHostGeoModel()!==i||(l=b.getData())});var h=i.coordinateSystem,c=this._regionsGroup,d=this.group,p=h.getTransformInfo(),m=p.raw,y=p.roam;!c.childAt(0)||a?(d.x=y.x,d.y=y.y,d.scaleX=y.scaleX,d.scaleY=y.scaleY,d.dirty()):Ii(d,y,i);var _=l&&l.getVisual("visualMeta")&&l.getVisual("visualMeta").length>0,x={api:r,geo:h,mapOrGeoModel:i,data:l,isVisualEncodedByVisualMap:_,isGeo:s,transformInfoRaw:m};"geoJSON"===h.resourceType?this._buildGeoJSON(x):"geoSVG"===h.resourceType&&this._buildSVG(x),this._updateController(i,e,r),this._updateMapSelectHandler(i,c,r,o)},n.prototype._buildGeoJSON=function(i){var e=this._regionsGroupByName=xe(),r=xe(),o=this._regionsGroup,a=i.transformInfoRaw,s=i.mapOrGeoModel,l=i.data,h=i.geo.projection,c=h&&h.stream;function d(y,_){return _&&(y=_(y)),y&&[y[0]*a.scaleX+a.x,y[1]*a.scaleY+a.y]}function p(y){for(var _=[],x=!c&&h&&h.project,b=0;b<y.length;++b){var S=d(y[b],x);S&&_.push(S)}return _}function m(y){return{shape:{points:p(y)}}}o.removeAll(),F(i.geo.regions,function(y){var _=y.name,x=e.get(_),b=r.get(_)||{},S=b.dataIdx,C=b.regionModel;x||(x=e.set(_,new ti),o.add(x),S=l?l.indexOfName(_):null,C=i.isGeo?s.getRegionModel(_):l?l.getItemModel(S):null,r.set(_,{dataIdx:S,regionModel:C}));var I=[],A=[];F(y.geometries,function(E){if("polygon"===E.type){var z=[E.exterior].concat(E.interiors||[]);c&&(z=Lk(z,c)),F(z,function(G){I.push(new nr(m(G)))})}else{var V=E.points;c&&(V=Lk(V,c,!0)),F(V,function(G){A.push(new rr(m(G)))})}});var P=d(y.getCenter(),h&&h.project);function O(E,z){if(E.length){var V=new dd({culling:!0,segmentIgnoreThreshold:1,shape:{paths:E}});x.add(V),Tk(i,V,S,C),Mk(i,V,_,C,s,S,P),z&&(Ck(V),F(V.states,Ck))}}O(I),O(A,!0)}),e.each(function(y,_){var x=r.get(_),S=x.regionModel;Ik(i,y,_,S,s,x.dataIdx),Dk(i,y,_,S,s),Ak(i,y,_,S,s)},this)},n.prototype._buildSVG=function(i){var e=i.geo.map,r=i.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var o=this._svgDispatcherMap=xe(),a=!1;F(this._svgGraphicRecord.named,function(s){var l=s.name,h=i.mapOrGeoModel,c=i.data,d=s.svgNodeTagLower,p=s.el,m=c?c.indexOfName(l):null,y=h.getRegionModel(l);null!=VE.get(d)&&p instanceof Wr&&Tk(i,p,m,y),p instanceof Wr&&(p.culling=!0),p.z2EmphasisLift=0,s.namedFrom||(null!=WE.get(d)&&Mk(i,p,l,y,h,m,null),Ik(i,p,l,y,h,m),Dk(i,p,l,y,h),null!=FE.get(d)&&("self"===Ak(i,p,l,y,h)&&(a=!0),(o.get(l)||o.set(l,[])).push(p)))},this),this._enableBlurEntireSVG(a,i)},n.prototype._enableBlurEntireSVG=function(i,e){if(i&&e.isGeo){var r=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(o){if(!o.isGroup){Ps(o);var a=o.ensureState("blur").style||{};null==a.opacity&&null!=r&&(a.opacity=r),o.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(i,e){if(null==i)return[];var r=e.coordinateSystem;if("geoJSON"===r.resourceType){var o=this._regionsGroupByName;if(o){var a=o.get(i);return a?[a]:[]}}else if("geoSVG"===r.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(i)||[]},n.prototype._svgResourceChanged=function(i){return this._svgMapName!==i},n.prototype._useSVG=function(i){var e=zp(i);if(e&&"geoSVG"===e.type){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=i}},n.prototype._freeSVG=function(){var i=this._svgMapName;if(null!=i){var e=zp(i);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(i,e,r){var o=i.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=i.get("scaleLimit"),s.zoom=o.getZoom(),a.enable(i.get("roam")||!1);var l=i.mainType;function h(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=i.id,c}a.off("pan").on("pan",function(c){this._mouseDownFlag=!1,Vv(s,c.dx,c.dy),r.dispatchAction(Z(h(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,Fv(s,c.scale,c.originX,c.originY),r.dispatchAction(Z(h(),{zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(c,d,p){return o.containPoint([d,p])&&!Op(c,r,i)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(i){var e=i.getTextContent();e&&(e.ignore=Sk(e).ignore)})},n.prototype._updateMapSelectHandler=function(i,e,r,o){var a=this;e.off("mousedown"),e.off("click"),i.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},n}();function Tk(n,i,e,r){var o=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),s=r.getModel(["blur","itemStyle"]),l=r.getModel(["select","itemStyle"]),h=Bp(o),c=Bp(a),d=Bp(l),p=Bp(s),m=n.data;if(m){var y=m.getItemVisual(e,"style"),_=m.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&y.fill&&(h.fill=y.fill),_&&(h.decal=dh(_,n.api))}i.setStyle(h),i.style.strokeNoScale=!0,i.ensureState("emphasis").style=c,i.ensureState("select").style=d,i.ensureState("blur").style=p,Ps(i)}function Mk(n,i,e,r,o,a,s){var l=n.data,h=n.isGeo,c=l&&isNaN(l.get(l.mapDimension("value"),a)),d=l&&l.getItemLayout(a);if(h||c||d&&d.showLabel){var p=h?e:a,m=void 0;(!l||a>=0)&&(m=o);var y=s?{normal:{align:"center",verticalAlign:"middle"}}:null;Kn(i,zn(r),{labelFetcher:m,labelDataIndex:p,defaultText:e},y);var _=i.getTextContent();if(_&&(Sk(_).ignore=_.ignore,i.textConfig&&s)){var x=i.getBoundingRect().clone();i.textConfig.layoutRect=x,i.textConfig.position=[(s[0]-x.x)/x.width*100+"%",(s[1]-x.y)/x.height*100+"%"]}i.disableLabelAnimation=!0}else i.removeTextContent(),i.removeTextConfig(),i.disableLabelAnimation=null}function Ik(n,i,e,r,o,a){n.data?n.data.setItemGraphicEl(a,i):oi(i).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:e,region:r&&r.option||{}}}function Dk(n,i,e,r,o){n.data||ql({el:i,componentModel:o,itemName:e,itemTooltipOption:r.get("tooltip")})}function Ak(n,i,e,r,o){i.highDownSilentOnTouch=!!o.get("selectedMode");var h,c,d,a=r.getModel("emphasis"),s=a.get("focus");return dn(i,s,a.get("blurScope"),a.get("disabled")),n.isGeo&&(h=o,c=e,(d=oi(i)).componentMainType=h.mainType,d.componentIndex=h.componentIndex,d.componentHighDownName=c),s}function Lk(n,i,e){var r,o=[];function a(){r=[]}function s(){r.length&&(o.push(r),r=[])}var l=i({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(h,c){isFinite(h)&&isFinite(c)&&r.push([h,c])},sphere:function(){}});return!e&&l.polygonStart(),F(n,function(h){l.lineStart();for(var c=0;c<h.length;c++)l.point(h[c][0],h[c][1]);l.lineEnd()}),!e&&l.polygonEnd(),o}var GE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var s=this.group;if(s.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===e.id)(l=this._mapDraw)&&s.add(l.group);else if(e.needsDrawMap){var l=this._mapDraw||new kk(o);s.add(l.group),l.draw(e,r,o,this,a),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(e,r,o)}}},i.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},i.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},i.prototype._renderSymbols=function(e,r,o){var a=e.originalData,s=this.group;a.each(a.mapDimension("value"),function(l,h){if(!isNaN(l)){var c=a.getItemLayout(h);if(c&&c.point){var d=c.point,p=c.offset,m=new Yr({style:{fill:e.getData().getVisual("style").fill},shape:{cx:d[0]+9*p,cy:d[1],r:3},silent:!0,z2:8+(p?0:11)});if(!p){var y=e.mainSeries.getData(),_=a.getName(h),x=y.indexOfName(_),b=a.getItemModel(h),S=b.getModel("label"),C=y.getItemGraphicEl(x);Kn(m,zn(b),{labelFetcher:{getFormattedLabel:function(I,A){return e.getFormattedLabel(x,A)}},defaultText:_}),m.disableLabelAnimation=!0,S.get("position")||m.setTextConfig({position:"bottom"}),C.onHoverStateChange=function(I){ld(m,I)}}s.add(m)}}})},i.type="map",i}(Hi),YE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(r){if(null!=r){var o=this.getData().getName(r),a=this.coordinateSystem,s=a.getRegion(o);return s&&a.dataToPoint(s.getCenter())}},e}return Le(i,n),i.prototype.getInitialData=function(e){for(var r=xh(this,{coordDimensions:["value"],encodeDefaulter:Q(Zg,this)}),o=xe(),a=[],s=0,l=r.count();s<l;s++){var h=r.getName(s);o.set(h,!0)}return F($v(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(c){var d=c.name;o.get(d)||a.push(d)}),r.appendValues([],a),r},i.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},i.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},i.prototype.getRawValue=function(e){var r=this.getData();return r.get(r.mapDimension("value"),e)},i.prototype.getRegionModel=function(e){var r=this.getData();return r.getItemModel(r.indexOfName(e))},i.prototype.formatTooltip=function(e,r,o){for(var a=this.getData(),s=this.getRawValue(e),l=a.getName(e),h=this.seriesGroup,c=[],d=0;d<h.length;d++){var p=h[d].originalData.indexOfName(l),m=a.mapDimension("value");isNaN(h[d].originalData.get(m,p))||c.push(h[d].name)}return Bn("section",{header:c.join(", "),noHeader:!c.length,blocks:[Bn("nameValue",{name:l,value:s})]})},i.prototype.setZoom=function(e){this.option.zoom=e},i.prototype.setCenter=function(e){this.option.center=e},i.prototype.getLegendIcon=function(e){var r=e.icon||"roundRect",o=vn(r,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return o.setStyle(e.itemStyle),o.style.stroke="none",r.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),o},i.type="series.map",i.dependencies=["geo"],i.layoutMode="box",i.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},i}(Yi);function $E(n){var i={};n.eachSeriesByType("map",function(e){var r=e.getHostGeoModel(),o=r?"o"+r.id:"i"+e.getMapType();(i[o]=i[o]||[]).push(e)}),F(i,function(e,r){for(var o,a,s,l=(o=Te(e,function(c){return c.getData()}),a=e[0].get("mapValueCalculation"),s={},F(o,function(c){c.each(c.mapDimension("value"),function(d,p){var m="ec-"+c.getName(p);s[m]=s[m]||[],isNaN(d)||s[m].push(d)})}),o[0].map(o[0].mapDimension("value"),function(c,d){for(var p="ec-"+o[0].getName(d),m=0,y=1/0,_=-1/0,x=s[p].length,b=0;b<x;b++)y=Math.min(y,s[p][b]),_=Math.max(_,s[p][b]),m+=s[p][b];return 0===x?NaN:"min"===a?y:"max"===a?_:"average"===a?m/x:m})),h=0;h<e.length;h++)e[h].originalData=e[h].getData();for(h=0;h<e.length;h++)e[h].seriesGroup=e,e[h].needsDrawMap=0===h&&!e[h].getHostGeoModel(),e[h].setData(l.cloneShallow()),e[h].mainSeries=e[0]})}function UE(n){var i={};n.eachSeriesByType("map",function(e){var r=e.getMapType();if(!e.getHostGeoModel()&&!i[r]){var o={};F(e.seriesGroup,function(s){var l=s.coordinateSystem,h=s.originalData;s.get("showLegendSymbol")&&n.getComponent("legend")&&h.each(h.mapDimension("value"),function(c,d){var p=h.getName(d),m=l.getRegion(p);if(m&&!isNaN(c)){var y=o[p]||0,_=l.dataToPoint(m.getCenter());o[p]=y+1,h.setItemLayout(d,{point:_,offset:y})}})});var a=e.getData();a.each(function(s){var l=a.getName(s),h=a.getItemLayout(s)||{};h.showLabel=!o[l],a.setItemLayout(s,h)}),i[r]=!0}})}var Pk=bi,dc=function(n){function i(e){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new oa,r._rawTransformable=new oa,r.name=e,r}return Le(i,n),i.prototype.setBoundingRect=function(e,r,o,a){return this._rect=new ai(e,r,o,a),this._rect},i.prototype.getBoundingRect=function(){return this._rect},i.prototype.setViewRect=function(e,r,o,a){this._transformTo(e,r,o,a),this._viewRect=new ai(e,r,o,a)},i.prototype._transformTo=function(e,r,o,a){var s=this.getBoundingRect(),l=this._rawTransformable;l.transform=s.calculateTransform(new ai(e,r,o,a));var h=l.parent;l.parent=null,l.decomposeTransform(),l.parent=h,this._updateTransform()},i.prototype.setCenter=function(e,r){e&&(this._center=[Bt(e[0],r.getWidth()),Bt(e[1],r.getHeight())],this._updateCenterAndZoom())},i.prototype.setZoom=function(e){e=e||1;var r=this.zoomLimit;r&&(null!=r.max&&(e=Math.min(r.max,e)),null!=r.min&&(e=Math.max(r.min,e))),this._zoom=e,this._updateCenterAndZoom()},i.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},i.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},i.prototype.getZoom=function(){return this._zoom||1},i.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},i.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,o=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=bi([],a,e),o=bi([],o,e),r.originX=a[0],r.originY=a[1],r.x=o[0]-a[0],r.y=o[1]-a[1],r.scaleX=r.scaleY=s,this._updateTransform()},i.prototype._updateTransform=function(){var e=this._roamTransformable,r=this._rawTransformable;r.parent=e,e.updateTransform(),r.updateTransform(),hs(this.transform||(this.transform=[]),r.transform||[1,0,0,1,0,0]),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],Xo(this.invTransform,this.transform),this.decomposeTransform()},i.prototype.getTransformInfo=function(){var e=this._rawTransformable,r=this._roamTransformable,o=new oa;return o.transform=r.transform,o.decomposeTransform(),{roam:{x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},i.prototype.getViewRect=function(){return this._viewRect},i.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},i.prototype.dataToPoint=function(e,r,o){var a=r?this._rawTransform:this.transform;return o=o||[],a?Pk(o,e,a):Wt(o,e)},i.prototype.pointToData=function(e){var r=this.invTransform;return r?Pk([],e,r):[e[0],e[1]]},i.prototype.convertToPixel=function(e,r,o){var a=Ok(r);return a===this?a.dataToPoint(o):null},i.prototype.convertFromPixel=function(e,r,o){var a=Ok(r);return a===this?a.pointToData(o):null},i.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},i.dimensions=["x","y"],i}(oa);function Ok(n){var i=n.seriesModel;return i?i.coordinateSystem:null}var qE={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Ek=["lng","lat"],qv=function(n){function i(e,r,o){var a=n.call(this,e)||this;a.dimensions=Ek,a.type="geo",a._nameCoordMap=xe(),a.map=r;var s,l=o.projection,h=$v(r,o.nameMap,o.nameProperty),c=zp(r),d=(a.resourceType=c?c.type:null,a.regions=h.regions),p=qE[c.type];if(a._regionsMap=h.regionsMap,a.regions=h.regions,a.projection=l,l)for(var m=0;m<d.length;m++){var y=d[m].getBoundingRect(l);(s=s||y.clone()).union(y)}else s=h.boundingRect;return a.setBoundingRect(s.x,s.y,s.width,s.height),a.aspectScale=l?1:nt(o.aspectScale,p.aspectScale),a._invertLongitute=!l&&p.invertLongitute,a}return Le(i,n),i.prototype._transformTo=function(e,r,o,a){var s=this.getBoundingRect(),l=this._invertLongitute;s=s.clone(),l&&(s.y=-s.y-s.height);var h=this._rawTransformable;h.transform=s.calculateTransform(new ai(e,r,o,a));var c=h.parent;h.parent=null,h.decomposeTransform(),h.parent=c,l&&(h.scaleY=-h.scaleY),this._updateTransform()},i.prototype.getRegion=function(e){return this._regionsMap.get(e)},i.prototype.getRegionByCoord=function(e){for(var r=this.regions,o=0;o<r.length;o++){var a=r[o];if("geoJSON"===a.type&&a.contain(e))return r[o]}},i.prototype.addGeoCoord=function(e,r){this._nameCoordMap.set(e,r)},i.prototype.getGeoCoord=function(e){var r=this._regionsMap.get(e);return this._nameCoordMap.get(e)||r&&r.getCenter()},i.prototype.dataToPoint=function(e,r,o){if(J(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,r,o)}},i.prototype.pointToData=function(e){var r=this.projection;return r&&(e=r.unproject(e)),e&&this.pointToProjected(e)},i.prototype.pointToProjected=function(e){return n.prototype.pointToData.call(this,e)},i.prototype.projectedToPoint=function(e,r,o){return n.prototype.dataToPoint.call(this,e,r,o)},i.prototype.convertToPixel=function(e,r,o){var a=Nk(r);return a===this?a.dataToPoint(o):null},i.prototype.convertFromPixel=function(e,r,o){var a=Nk(r);return a===this?a.pointToData(o):null},i}(dc);function Nk(n){var i=n.geoModel,e=n.seriesModel;return i?i.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",kn).models[0]||{}).coordinateSystem:null}function Rk(n,i){var e=n.get("boundingCoords");if(null!=e){var r=e[0],o=e[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])){var a=this.projection;if(a){var s=r[0],l=r[1],h=o[0],c=o[1];r=[1/0,1/0],o=[-1/0,-1/0];var d=function(O,E,z,V){for(var G=z-O,Y=V-E,X=0;X<=100;X++){var te=X/100,ae=a.project([O+G*te,E+Y*te]);pn(r,r,ae),Ln(o,o,ae)}};d(s,l,h,l),d(h,l,h,c),d(h,c,s,c),d(s,c,h,l)}this.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1])}}var p,m,y,_=this.getBoundingRect(),x=n.get("layoutCenter"),b=n.get("layoutSize"),S=i.getWidth(),C=i.getHeight(),I=_.width/_.height*this.aspectScale,A=!1;if(x&&b&&(p=[Bt(x[0],S),Bt(x[1],C)],m=Bt(b,Math.min(S,C)),isNaN(p[0])||isNaN(p[1])||isNaN(m)||(A=!0)),A)y={},I>1?(y.width=m,y.height=m/I):(y.height=m,y.width=m*I),y.y=p[1]-y.height/2,y.x=p[0]-y.width/2;else{var P=n.getBoxLayoutParams();P.aspect=I,y=Tn(P,{width:S,height:C})}this.setViewRect(y.x,y.y,y.width,y.height),this.setCenter(n.get("center"),i),this.setZoom(n.get("zoom"))}Ie(qv,dc);var XE=function(){function n(){this.dimensions=Ek}return n.prototype.create=function(i,e){var r=[];function o(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}i.eachComponent("geo",function(s,l){var h=s.get("map"),c=new qv(h+l,h,Z({nameMap:s.get("nameMap")},o(s)));c.zoomLimit=s.get("scaleLimit"),r.push(c),s.coordinateSystem=c,c.model=s,c.resize=Rk,c.resize(s,e)}),i.eachSeries(function(s){if("geo"===s.get("coordinateSystem")){var l=s.get("geoIndex")||0;s.coordinateSystem=r[l]}});var a={};return i.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var l=s.getMapType();a[l]=a[l]||[],a[l].push(s)}}),F(a,function(s,l){var h=Te(s,function(d){return d.get("nameMap")}),c=new qv(l,l,Z({nameMap:re(h)},o(s[0])));c.zoomLimit=Et.apply(null,Te(s,function(d){return d.get("scaleLimit")})),r.push(c),c.resize=Rk,c.resize(s[0],e),F(s,function(d){var p;d.coordinateSystem=c,p=c,F(d.get("geoCoord"),function(y,_){p.addGeoCoord(_,y)})})}),r},n.prototype.getFilledRegions=function(i,e,r,o){for(var a=(i||[]).slice(),s=xe(),l=0;l<a.length;l++)s.set(a[l].name,a[l]);return F($v(e,r,o).regions,function(h){var c=h.name;!s.get(c)&&a.push({name:c})}),a},n}(),zk=new XE,KE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(e,r,o){var a=zp(e.map);if(a&&"geoJSON"===a.type){var s=e.itemStyle=e.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(e,o),_s(e,"label",["show"])},i.prototype.optionUpdated=function(){var e=this,r=this.option;r.regions=zk.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var o={};this._optionModelMap=ht(r.regions||[],function(a,s){var l=s.name;return l&&(a.set(l,new Li(s,e,e.ecModel)),s.selected&&(o[l]=!0)),a},xe()),r.selectedMap||(r.selectedMap=o)},i.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Li(null,this,this.ecModel)},i.prototype.getFormattedLabel=function(e,r){var a=this.getRegionModel(e).get("normal"===r?["label","formatter"]:["emphasis","label","formatter"]),s={name:e};return ee(a)?(s.status=r,a(s)):J(a)?a.replace("{a}",null!=e?e:""):void 0},i.prototype.setZoom=function(e){this.option.zoom=e},i.prototype.setCenter=function(e){this.option.center=e},i.prototype.select=function(e){var r=this.option,o=r.selectedMode;o&&("multiple"!==o&&(r.selectedMap=null),(r.selectedMap||(r.selectedMap={}))[e]=!0)},i.prototype.unSelect=function(e){var r=this.option.selectedMap;r&&(r[e]=!1)},i.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},i.prototype.isSelected=function(e){var r=this.option.selectedMap;return!(!r||!r[e])},i.type="geo",i.layoutMode="box",i.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},i}(_i);function Bk(n,i){return n.pointToProjected?n.pointToProjected(i):n.pointToData(i)}function Xv(n,i,e,r){var o=n.getZoom(),a=n.getCenter(),s=i.zoom,l=n.projectedToPoint?n.projectedToPoint(a):n.dataToPoint(a);if(null!=i.dx&&null!=i.dy&&(l[0]-=i.dx,l[1]-=i.dy,n.setCenter(Bk(n,l),r)),null!=s){if(e){var h=e.min||0;s=Math.max(Math.min(o*s,e.max||1/0),h)/o}n.scaleX*=s,n.scaleY*=s;var p=(i.originY-n.y)*(s-1);n.x-=(i.originX-n.x)*(s-1),n.y-=p,n.updateTransform(),n.setCenter(Bk(n,l),r),n.setZoom(s*o)}return{center:n.getCenter(),zoom:n.getZoom()}}var ZE=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.focusBlurEnabled=!0,e}return Le(i,n),i.prototype.init=function(e,r){this._api=r},i.prototype.render=function(e,r,o,a){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new kk(o));var s=this._mapDraw;s.draw(e,r,o,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=e.get("silent"),this.group.add(s.group),this.updateSelectStatus(e,r,o)},i.prototype._handleRegionClick=function(e){var r;Vs(e.target,function(o){return null!=(r=oi(o).eventData)},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},i.prototype.updateSelectStatus=function(e,r,o){var a=this;this._mapDraw.group.traverse(function(s){var l=oi(s).eventData;if(l)return a._model.isSelected(l.name)?o.enterSelect(s):o.leaveSelect(s),!0})},i.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},i.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},i.type="geo",i}(Qi);function QE(n,i,e){!function(n,i,e){if(i.svg){var r=new EE(n,i.svg);cc.set(n,r)}else{var o=i.geoJson||i.geoJSON;o&&!i.features?e=i.specialAreas:o=i,r=new zE(n,o,e),cc.set(n,r)}}(n,i,e)}function jk(n){function i(e,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(o,a){var s={},l=[];return a.eachComponent({mainType:"geo",query:o},function(h){h[e](o.name),F(h.coordinateSystem.regions,function(d){s[d.name]=h.isSelected(d.name)||!1});var c=[];F(s,function(d,p){s[p]&&c.push(p)}),l.push({geoIndex:h.componentIndex,name:c})}),{selected:s,allSelected:l,name:o.name}})}n.registerCoordinateSystem("geo",zk),n.registerComponentModel(KE),n.registerComponentView(ZE),n.registerImpl("registerMap",QE),n.registerImpl("getMap",function(e){return function(n){var i=cc.get(n);return i&&"geoJSON"===i.type&&i.getMapForUser()}(e)}),i("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),i("select",{type:"geoSelect",event:"geoselected"}),i("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,r,o){var a=e.componentType||"series";r.eachComponent({mainType:a,query:e},function(s){var l=s.coordinateSystem;if("geo"===l.type){var h=Xv(l,e,s.get("scaleLimit"),o);s.setCenter&&s.setCenter(h.center),s.setZoom&&s.setZoom(h.zoom),"series"===a&&F(s.seriesGroup,function(c){c.setCenter(h.center),c.setZoom(h.zoom)})}})})}function JE(n,i){var e=n.isExpand?n.children:[],r=n.parentNode.children,o=n.hierNode.i?r[n.hierNode.i-1]:null;if(e.length){!function(s){for(var l=s.children,h=l.length,c=0,d=0;--h>=0;){var p=l[h];p.hierNode.prelim+=c,p.hierNode.modifier+=c,c+=p.hierNode.shift+(d+=p.hierNode.change)}}(n);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;o?(n.hierNode.prelim=o.hierNode.prelim+i(n,o),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else o&&(n.hierNode.prelim=o.hierNode.prelim+i(n,o));n.parentNode.hierNode.defaultAncestor=function(s,l,h,c){if(l){for(var d=s,p=s,m=p.parentNode.children[0],y=l,_=d.hierNode.modifier,x=p.hierNode.modifier,b=m.hierNode.modifier,S=y.hierNode.modifier;y=Kv(y),p=Zv(p),y&&p;){d=Kv(d),m=Zv(m),d.hierNode.ancestor=s;var C=y.hierNode.prelim+S-p.hierNode.prelim-x+c(y,p);C>0&&(iN(tN(y,s,h),s,C),x+=C,_+=C),S+=y.hierNode.modifier,x+=p.hierNode.modifier,_+=d.hierNode.modifier,b+=m.hierNode.modifier}y&&!Kv(d)&&(d.hierNode.thread=y,d.hierNode.modifier+=S-_),p&&!Zv(m)&&(m.hierNode.thread=p,m.hierNode.modifier+=x-b,h=s)}return h}(n,o,n.parentNode.hierNode.defaultAncestor||r[0],i)}function eN(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function Hk(n){return arguments.length?n:nN}function pc(n,i){return n-=Math.PI/2,{x:i*Math.cos(n),y:i*Math.sin(n)}}function Kv(n){var i=n.children;return i.length&&n.isExpand?i[i.length-1]:n.hierNode.thread}function Zv(n){var i=n.children;return i.length&&n.isExpand?i[0]:n.hierNode.thread}function tN(n,i,e){return n.hierNode.ancestor.parentNode===i.parentNode?n.hierNode.ancestor:e}function iN(n,i,e){var r=e/(i.hierNode.i-n.hierNode.i);i.hierNode.change-=r,i.hierNode.shift+=e,i.hierNode.modifier+=e,i.hierNode.prelim+=e,n.hierNode.change+=r}function nN(n,i){return n.parentNode===i.parentNode?1:2}var rN=function(){this.parentPoint=[],this.childPoints=[]},oN=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new rN},i.prototype.buildPath=function(e,r){var o=r.childPoints,a=o.length,s=r.parentPoint,l=o[0],h=o[a-1];if(1===a)return e.moveTo(s[0],s[1]),void e.lineTo(l[0],l[1]);var c=r.orient,d="TB"===c||"BT"===c?0:1,p=1-d,m=Bt(r.forkPosition,1),y=[];y[d]=s[d],y[p]=s[p]+(h[p]-s[p])*m,e.moveTo(s[0],s[1]),e.lineTo(y[0],y[1]),e.moveTo(l[0],l[1]),y[d]=l[d],e.lineTo(y[0],y[1]),y[d]=h[d],e.lineTo(y[0],y[1]),e.lineTo(h[0],h[1]);for(var _=1;_<a-1;_++){var x=o[_];e.moveTo(x[0],x[1]),y[d]=x[d],e.lineTo(y[0],y[1])}},i}(yi),aN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e._mainGroup=new ti,e}return Le(i,n),i.prototype.init=function(e,r){this._controller=new uc(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},i.prototype.render=function(e,r,o){var a=e.getData(),s=e.layoutInfo,l=this._mainGroup;"radial"===e.get("layout")?(l.x=s.x+s.width/2,l.y=s.y+s.height/2):(l.x=s.x,l.y=s.y),this._updateViewCoordSys(e,o),this._updateController(e,r,o);var h=this._data;a.diff(h).add(function(c){Vk(a,c)&&Fk(a,c,null,l,e)}).update(function(c,d){var p=h.getItemGraphicEl(d);Vk(a,c)?Fk(a,c,p,l,e):p&&Yk(h,d,p,l,e)}).remove(function(c){var d=h.getItemGraphicEl(c);d&&Yk(h,c,d,l,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&a.eachItemGraphicEl(function(c,d){c.off("click").on("click",function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:d})})}),this._data=a},i.prototype._updateViewCoordSys=function(e,r){var o=e.getData(),a=[];o.each(function(p){var m=o.getItemLayout(p);!m||isNaN(m.x)||isNaN(m.y)||a.push([+m.x,+m.y])});var s=[],l=[];nd(a,s,l);var h=this._min,c=this._max;l[0]-s[0]==0&&(s[0]=h?h[0]:s[0]-1,l[0]=c?c[0]:l[0]+1),l[1]-s[1]==0&&(s[1]=h?h[1]:s[1]-1,l[1]=c?c[1]:l[1]+1);var d=e.coordinateSystem=new dc;d.zoomLimit=e.get("scaleLimit"),d.setBoundingRect(s[0],s[1],l[0]-s[0],l[1]-s[1]),d.setCenter(e.get("center"),r),d.setZoom(e.get("zoom")),this.group.attr({x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY}),this._min=s,this._max=l},i.prototype._updateController=function(e,r,o){var a=this,s=this._controller,l=this._controllerHost,h=this.group;s.setPointerChecker(function(c,d,p){var m=h.getBoundingRect();return m.applyTransform(h.transform),m.contain(d,p)&&!Op(c,o,e)}),s.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(c){Vv(l,c.dx,c.dy),o.dispatchAction({seriesId:e.id,type:"treeRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){Fv(l,c.scale,c.originX,c.originY),o.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(e),o.updateLabelLayout()})},i.prototype._updateNodeAndLinkScale=function(e){var r=e.getData(),o=this._getNodeGlobalScale(e);r.eachItemGraphicEl(function(a,s){a.setSymbolScale(o)})},i.prototype._getNodeGlobalScale=function(e){var r=e.coordinateSystem;if("view"!==r.type)return 1;var o=this._nodeScaleRatio,a=r.scaleX||1;return((r.getZoom()-1)*o+1)/a},i.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},i.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},i.type="tree",i}(Hi);function Vk(n,i){var e=n.getItemLayout(i);return e&&!isNaN(e.x)&&!isNaN(e.y)}function Fk(n,i,e,r,o){var a=!e,s=n.tree.getNodeByDataIndex(i),l=s.getModel(),h=s.getVisual("style").fill,c=!1===s.isExpand&&0!==s.children.length?h:"#fff",d=n.tree.root,p=s.parentNode===d?s:s.parentNode||s,m=n.getItemGraphicEl(p.dataIndex),y=p.getLayout(),_=m?{x:m.__oldX,y:m.__oldY,rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:y,x=s.getLayout();a?((e=new ic(n,i,null,{symbolInnerColor:c,useNameLabel:!0})).x=_.x,e.y=_.y):e.updateData(n,i,null,{symbolInnerColor:c,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=x.rawX,e.__radialRawY=x.rawY,r.add(e),n.setItemGraphicEl(i,e),e.__oldX=e.x,e.__oldY=e.y,Ii(e,{x:x.x,y:x.y},o);var b=e.getSymbolPath();if("radial"===o.get("layout")){var S=d.children[0],C=S.getLayout(),I=S.children.length,A=void 0,P=void 0;if(x.x===C.x&&!0===s.isExpand&&S.children.length){var O={x:(S.children[0].getLayout().x+S.children[I-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[I-1].getLayout().y)/2};(A=Math.atan2(O.y-C.y,O.x-C.x))<0&&(A=2*Math.PI+A),(P=O.x<C.x)&&(A-=Math.PI)}else(A=Math.atan2(x.y-C.y,x.x-C.x))<0&&(A=2*Math.PI+A),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(P=x.x<C.x)&&(A-=Math.PI):(P=x.x>C.x)||(A-=Math.PI);var E=P?"left":"right",z=l.getModel("label"),V=z.get("rotate"),G=V*(Math.PI/180),Y=b.getTextContent();Y&&(b.setTextConfig({position:z.get("position")||E,rotation:null==V?-A:G,origin:"center"}),Y.setStyle("verticalAlign","middle"))}var X=l.get(["emphasis","focus"]),te="relative"===X?He(s.getAncestorsIndices(),s.getDescendantIndices()):"ancestor"===X?s.getAncestorsIndices():"descendant"===X?s.getDescendantIndices():null;te&&(oi(e).focus=te),function(ae,he,fe,ye,Se,Ee,Re,ze){var ot=he.getModel(),xt=ae.get("edgeShape"),Ue=ae.get("layout"),pt=ae.getOrient(),bt=ae.get(["lineStyle","curveness"]),Mt=ae.get("edgeForkPosition"),yt=ot.getModel("lineStyle").getLineStyle(),Dt=ye.__edge;if("curve"===xt)he.parentNode&&he.parentNode!==fe&&(Dt||(Dt=ye.__edge=new Fl({shape:Qv(Ue,pt,bt,Se,Se)})),Ii(Dt,{shape:Qv(Ue,pt,bt,Ee,Re)},ae));else if("polyline"===xt&&"orthogonal"===Ue&&he!==fe&&he.children&&0!==he.children.length&&!0===he.isExpand){for(var St=he.children,Ot=[],Ft=0;Ft<St.length;Ft++){var ni=St[Ft].getLayout();Ot.push([ni.x,ni.y])}Dt||(Dt=ye.__edge=new oN({shape:{parentPoint:[Re.x,Re.y],childPoints:[[Re.x,Re.y]],orient:pt,forkPosition:Mt}})),Ii(Dt,{shape:{parentPoint:[Re.x,Re.y],childPoints:Ot}},ae)}Dt&&("polyline"!==xt||he.isExpand)&&(Dt.useStyle(de({strokeNoScale:!0,fill:null},yt)),Xn(Dt,ot,"lineStyle"),Ps(Dt),ze.add(Dt))}(o,s,d,e,_,y,x,r),e.__edge&&(e.onHoverStateChange=function(ae){if("blur"!==ae){var he=s.parentNode&&n.getItemGraphicEl(s.parentNode.dataIndex);he&&1===he.hoverState||ld(e.__edge,ae)}})}function Wk(n,i,e,r,o){var a=Gk(i.tree.root,n),s=a.source,l=a.sourceLayout,h=i.getItemGraphicEl(n.dataIndex);if(h){var c=i.getItemGraphicEl(s.dataIndex).__edge,d=h.__edge||(!1===s.isExpand||1===s.children.length?c:void 0),p=r.get("edgeShape"),m=r.get("layout"),y=r.get("orient"),_=r.get(["lineStyle","curveness"]);d&&("curve"===p?Ba(d,{shape:Qv(m,y,_,l,l),style:{opacity:0}},r,{cb:function(){e.remove(d)},removeOpt:o}):"polyline"===p&&"orthogonal"===r.get("layout")&&Ba(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){e.remove(d)},removeOpt:o}))}}function Gk(n,i){for(var e,r=i.parentNode===n?i:i.parentNode||i;null==(e=r.getLayout());)r=r.parentNode===n?r:r.parentNode||r;return{source:r,sourceLayout:e}}function Yk(n,i,e,r,o){var a=n.tree.getNodeByDataIndex(i),s=Gk(n.tree.root,a).sourceLayout,l={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};Ba(e,{x:s.x+1,y:s.y+1},o,{cb:function(){r.remove(e),n.setItemGraphicEl(i,null)},removeOpt:l}),e.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(h){Wk(h,n,r,o,l)}),Wk(a,n,r,o,l)}function Qv(n,i,e,r,o){var a,s,l,h,c,d,p,m;if("radial"===n){d=o.rawX,m=o.rawY;var y=pc(c=r.rawX,p=r.rawY),_=pc(c,p+(m-p)*e),x=pc(d,m+(p-m)*e),b=pc(d,m);return{x1:y.x||0,y1:y.y||0,x2:b.x||0,y2:b.y||0,cpx1:_.x||0,cpy1:_.y||0,cpx2:x.x||0,cpy2:x.y||0}}return c=r.x,p=r.y,d=o.x,m=o.y,"LR"!==i&&"RL"!==i||(a=c+(d-c)*e,s=p,l=d+(c-d)*e,h=m),"TB"!==i&&"BT"!==i||(a=c,s=p+(m-p)*e,l=d,h=m+(p-m)*e),{x1:c,y1:p,x2:d,y2:m,cpx1:a,cpy1:s,cpx2:l,cpy2:h}}var eo=Mi();function $k(n){var i=n.mainData,e=n.datas;e||(e={main:i},n.datasAttr={main:"data"}),n.datas=n.mainData=null,Uk(i,e,n),F(e,function(r){F(i.TRANSFERABLE_METHODS,function(o){r.wrapMethod(o,Q(sN,n))})}),i.wrapMethod("cloneShallow",Q(hN,n)),F(i.CHANGABLE_METHODS,function(r){i.wrapMethod(r,Q(lN,n))}),ge(e[i.dataType]===i)}function sN(n,i){if(eo(this).mainData===this){var e=Z({},eo(this).datas);e[this.dataType]=i,Uk(i,e,n)}else Jv(i,this.dataType,eo(this).mainData,n);return i}function lN(n,i){return n.struct&&n.struct.update(),i}function hN(n,i){return F(eo(i).datas,function(e,r){e!==i&&Jv(e.cloneShallow(),r,i,n)}),i}function uN(n){var i=eo(this).mainData;return null==n||null==i?i:eo(i).datas[n]}function cN(){var n=eo(this).mainData;return null==n?[{data:n}]:Te(ft(eo(n).datas),function(i){return{type:i,data:eo(n).datas[i]}})}function Uk(n,i,e){eo(n).datas={},F(i,function(r,o){Jv(r,o,n,e)})}function Jv(n,i,e,r){eo(e).datas[i]=n,eo(n).mainData=e,n.dataType=i,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[i]]=n),n.getLinkedData=uN,n.getLinkedDataAll=cN}var dN=function(){function n(i,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=i||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(i,e,r){ee(i)&&(r=e,e=i,i=null),J(i=i||{})&&(i={order:i});var o,a=i.order||"preorder",s=this[i.attr||"children"];"preorder"===a&&(o=e.call(r,this));for(var l=0;!o&&l<s.length;l++)s[l].eachNode(i,e,r);"postorder"===a&&e.call(r,this)},n.prototype.updateDepthAndHeight=function(i){var e=0;this.depth=i;for(var r=0;r<this.children.length;r++){var o=this.children[r];o.updateDepthAndHeight(i+1),o.height>e&&(e=o.height)}this.height=e+1},n.prototype.getNodeById=function(i){if(this.getId()===i)return this;for(var e=0,r=this.children,o=r.length;e<o;e++){var a=r[e].getNodeById(i);if(a)return a}},n.prototype.contains=function(i){if(i===this)return!0;for(var e=0,r=this.children,o=r.length;e<o;e++){var a=r[e].contains(i);if(a)return a}},n.prototype.getAncestors=function(i){for(var e=[],r=i?this:this.parentNode;r;)e.push(r),r=r.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var i=[],e=this;e;)i.push(e.dataIndex),e=e.parentNode;return i.reverse(),i},n.prototype.getDescendantIndices=function(){var i=[];return this.eachNode(function(e){i.push(e.dataIndex)}),i},n.prototype.getValue=function(i){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(i||"value"),this.dataIndex)},n.prototype.setLayout=function(i,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,i,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(i){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(i)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(i,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,i,e)},n.prototype.getVisual=function(i){return this.hostTree.data.getItemVisual(this.dataIndex,i)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var i=this.parentNode.children,e=0;e<i.length;++e)if(i[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(i){for(var e=i.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(i){return i!==this&&i.isAncestorOf(this)},n}(),ey=function(){function n(i){this.type="tree",this._nodes=[],this.hostModel=i}return n.prototype.eachNode=function(i,e,r){this.root.eachNode(i,e,r)},n.prototype.getNodeByDataIndex=function(i){var e=this.data.getRawIndex(i);return this._nodes[e]},n.prototype.getNodeById=function(i){return this.root.getNodeById(i)},n.prototype.update=function(){for(var i=this.data,e=this._nodes,r=0,o=e.length;r<o;r++)e[r].dataIndex=-1;for(r=0,o=i.count();r<o;r++)e[i.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(i,e,r){var o=new n(e),a=[],s=1;(function c(d,p){var m=d.value;s=Math.max(s,ne(m)?m.length:1),a.push(d);var b,S,y=new dN(On(d.name,""),o);p?(b=y).parentNode!==(S=p)&&(S.children.push(b),b.parentNode=S):o.root=y,o._nodes.push(y);var _=d.children;if(_)for(var x=0;x<_.length;x++)c(_[x],y)})(i),o.root.updateDepthAndHeight(0);var l=fh(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,h=new lr(l,e);return h.initData(a),r&&r(h),$k({mainData:h,struct:o,structAttr:"tree"}),o.update(),o},n}();function fc(n,i,e){if(n&&ve(i,n.type)>=0){var r=e.getData().tree.root,o=n.targetNode;if(J(o)&&(o=r.getNodeById(o)),o&&r.contains(o))return{node:o};var a=n.targetNodeId;if(null!=a&&(o=r.getNodeById(a)))return{node:o}}}function qk(n){for(var i=[];n;)(n=n.parentNode)&&i.push(n);return i.reverse()}function ty(n,i){return ve(qk(n),i)>=0}function jp(n,i){for(var e=[];n;){var r=n.dataIndex;e.push({name:n.name,dataIndex:r,value:i.getRawValue(r)}),n=n.parentNode}return e.reverse(),e}var pN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return Le(i,n),i.prototype.getInitialData=function(e){var r={name:e.name,children:e.data},a=new Li(e.leaves||{},this,this.ecModel),s=ey.createTree(r,this,function(c){c.wrapMethod("getItemModel",function(d,p){var m=s.getNodeByDataIndex(p);return m&&m.children.length&&m.isExpand||(d.parentModel=a),d})}),l=0;s.eachNode("preorder",function(c){c.depth>l&&(l=c.depth)});var h=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:l;return s.root.eachNode("preorder",function(c){var d=c.hostTree.data.getRawDataItem(c.dataIndex);c.isExpand=d&&null!=d.collapsed?!d.collapsed:c.depth<=h}),s.data},i.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},i.prototype.setZoom=function(e){this.option.zoom=e},i.prototype.setCenter=function(e){this.option.center=e},i.prototype.formatTooltip=function(e,r,o){for(var a=this.getData().tree,s=a.root.children[0],l=a.getNodeByDataIndex(e),h=l.getValue(),c=l.name;l&&l!==s;)c=l.parentNode.name+"."+c,l=l.parentNode;return Bn("nameValue",{name:c,value:h,noValue:isNaN(h)||null==h})},i.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=jp(o,this),r.collapsed=!o.isExpand,r},i.type="series.tree",i.layoutMode="box",i.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},i}(Yi);function gc(n,i){for(var e,r=[n];e=r.pop();)if(i(e),e.isExpand){var o=e.children;if(o.length)for(var a=o.length-1;a>=0;a--)r.push(o[a])}}function fN(n,i){n.eachSeriesByType("tree",function(e){!function(r,o){var E,a=(E=o,Tn(r.getBoxLayoutParams(),{width:E.getWidth(),height:E.getHeight()}));r.layoutInfo=a;var s=r.get("layout"),l=0,h=0,c=null;"radial"===s?(l=2*Math.PI,h=Math.min(a.height,a.width)/2,c=Hk(function(O,E){return(O.parentNode===E.parentNode?1:2)/O.depth})):(l=a.width,h=a.height,c=Hk());var d=r.getData().tree.root,p=d.children[0];if(p){(function(O){var E=O;E.hierNode={defaultAncestor:null,ancestor:E,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var z,V,G=[E];z=G.pop();)if(V=z.children,z.isExpand&&V.length)for(var Y=V.length-1;Y>=0;Y--){var X=V[Y];X.hierNode={defaultAncestor:null,ancestor:X,prelim:0,modifier:0,change:0,shift:0,i:Y,thread:null},G.push(X)}})(d),function(O,E,z){for(var V,G=[O],Y=[];V=G.pop();)if(Y.push(V),V.isExpand){var X=V.children;if(X.length)for(var te=0;te<X.length;te++)G.push(X[te])}for(;V=Y.pop();)E(V,z)}(p,JE,c),d.hierNode.modifier=-p.hierNode.prelim,gc(p,eN);var m=p,y=p,_=p;gc(p,function(O){var E=O.getLayout().x;E<m.getLayout().x&&(m=O),E>y.getLayout().x&&(y=O),O.depth>_.depth&&(_=O)});var x=m===y?1:c(m,y)/2,b=x-m.getLayout().x,S=0,C=0,I=0,A=0;if("radial"===s)S=l/(y.getLayout().x+x+b),C=h/(_.depth-1||1),gc(p,function(O){var E=pc(I=(O.getLayout().x+b)*S,A=(O.depth-1)*C);O.setLayout({x:E.x,y:E.y,rawX:I,rawY:A},!0)});else{var P=r.getOrient();"RL"===P||"LR"===P?(C=h/(y.getLayout().x+x+b),S=l/(_.depth-1||1),gc(p,function(O){A=(O.getLayout().x+b)*C,O.setLayout({x:I="LR"===P?(O.depth-1)*S:l-(O.depth-1)*S,y:A},!0)})):"TB"!==P&&"BT"!==P||(S=l/(y.getLayout().x+x+b),C=h/(_.depth-1||1),gc(p,function(O){I=(O.getLayout().x+b)*S,O.setLayout({x:I,y:A="TB"===P?(O.depth-1)*C:h-(O.depth-1)*C},!0)}))}}}(e,i)})}function gN(n){n.eachSeriesByType("tree",function(i){var e=i.getData();e.tree.eachNode(function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();Z(e.ensureUniqueItemVisual(r.dataIndex,"style"),o)})})}var Xk=["treemapZoomToNode","treemapRender","treemapMove"];function Kk(n){var i=n.getData().tree,e={};i.eachNode(function(r){for(var o=r;o&&o.depth>1;)o=o.parentNode;var a=tm(n.ecModel,o.name||o.dataIndex+"",e);r.setVisual("decal",a)})}var mN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.preventUsingHoverLayer=!0,e}return Le(i,n),i.prototype.getInitialData=function(e,r){var o={name:e.name,children:e.data};Zk(o);var a=e.levels||[],s=this.designatedVisualItemStyle={},l=new Li({itemStyle:s},this,r),h=Te((a=e.levels=function(d,p){var m,y,_=Gi(p.get("color")),x=Gi(p.get(["aria","decal","decals"]));if(_){F(d=d||[],function(S){var C=new Li(S),I=C.get("color"),A=C.get("decal");(C.get(["itemStyle","color"])||I&&"none"!==I)&&(m=!0),(C.get(["itemStyle","decal"])||A&&"none"!==A)&&(y=!0)});var b=d[0]||(d[0]={});return m||(b.color=_.slice()),!y&&x&&(b.decal=x.slice()),d}}(a,r))||[],function(d){return new Li(d,l,r)},this),c=ey.createTree(o,this,function(d){d.wrapMethod("getItemModel",function(p,m){var y=c.getNodeByDataIndex(m);return p.parentModel=(y?h[y.depth]:null)||l,p})});return c.data},i.prototype.optionUpdated=function(){this.resetViewRoot()},i.prototype.formatTooltip=function(e,r,o){var a=this.getData(),s=this.getRawValue(e);return Bn("nameValue",{name:a.getName(e),value:s})},i.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=jp(o,this),r.treePathInfo=r.treeAncestors,r},i.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Z(this.layoutInfo,e)},i.prototype.mapIdToIndex=function(e){var r=this._idIndexMap;r||(r=this._idIndexMap=xe(),this._idIndexMapCount=0);var o=r.get(e);return null==o&&r.set(e,o=this._idIndexMapCount++),o},i.prototype.getViewRoot=function(){return this._viewRoot},i.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;e&&(e===r||r.contains(e))||(this._viewRoot=r)},i.prototype.enableAriaDecal=function(){Kk(this)},i.type="series.treemap",i.layoutMode="box",i.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},i}(Yi);function Zk(n){var i=0;F(n.children,function(r){Zk(r);var o=r.value;ne(o)&&(o=o[0]),i+=o});var e=n.value;ne(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=i),e<0&&(e=0),ne(n.value)?n.value[0]=e:n.value=e}var vN=function(){function n(i){this.group=new ti,i.add(this.group)}return n.prototype.render=function(i,e,r,o){var a=i.getModel("breadcrumb"),s=this.group;if(s.removeAll(),a.get("show")&&r){var l=a.getModel("itemStyle"),h=a.getModel("emphasis"),c=l.getModel("textStyle"),d=h.getModel(["itemStyle","textStyle"]),p={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,p,c),this._renderContent(i,p,l,h,c,d,o),Od(s,p.pos,p.box)}},n.prototype._prepare=function(i,e,r){for(var o=i;o;o=o.parentNode){var a=On(o.getModel().get("name"),""),s=r.getTextRect(a),l=Math.max(s.width+16,e.emptyItemWidth);e.totalWidth+=l+8,e.renderList.push({node:o,text:a,width:l})}},n.prototype._renderContent=function(i,e,r,o,a,s,l){for(var h,c,d,p,m,y,_,x,b,S=0,C=e.emptyItemWidth,I=i.get(["breadcrumb","height"]),A=(m=(c=e.box).height,y=Bt((h=e.pos).left,p=c.width),_=Bt(h.top,m),x=Bt(h.right,p),b=Bt(h.bottom,m),(isNaN(y)||isNaN(parseFloat(h.left)))&&(y=0),(isNaN(x)||isNaN(parseFloat(h.right)))&&(x=p),(isNaN(_)||isNaN(parseFloat(h.top)))&&(_=0),(isNaN(b)||isNaN(parseFloat(h.bottom)))&&(b=m),d=zs(d||0),{width:Math.max(x-y-d[1]-d[3],0),height:Math.max(b-_-d[0]-d[2],0)}),P=e.totalWidth,O=e.renderList,E=o.getModel("itemStyle").getItemStyle(),z=O.length-1;z>=0;z--){var V=O[z],G=V.node,Y=V.width,X=V.text;P>A.width&&(P-=Y-C,Y=C,X=null);var te=new nr({shape:{points:yN(S,0,Y,I,z===O.length-1,0===z)},style:de(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new Ci({style:Xi(a,{text:X})}),textConfig:{position:"inside"},z2:1e5,onclick:Q(l,G)});te.disableLabelAnimation=!0,te.getTextContent().ensureState("emphasis").style=Xi(s,{text:X}),te.ensureState("emphasis").style=E,dn(te,o.get("focus"),o.get("blurScope"),o.get("disabled")),this.group.add(te),_N(te,i,G),S+=Y+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function yN(n,i,e,r,o,a){var s=[[o?n:n-5,i],[n+e,i],[n+e,i+r],[o?n:n-5,i+r]];return!a&&s.splice(2,0,[n+e+5,i+r/2]),!o&&s.push([n,i+r/2]),s}function _N(n,i,e){oi(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:i.componentIndex,seriesIndex:i.seriesIndex,seriesName:i.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&jp(e,i)}}var xN=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(i,e,r,o,a){return!this._elExistsMap[i.id]&&(this._elExistsMap[i.id]=!0,this._storage.push({el:i,target:e,duration:r,delay:o,easing:a}),!0)},n.prototype.finished=function(i){return this._finishedCallback=i,this},n.prototype.start=function(){for(var i=this,e=this._storage.length,r=function(){--e<=0&&(i._storage.length=0,i._elExistsMap={},i._finishedCallback&&i._finishedCallback())},o=0,a=this._storage.length;o<a;o++){var s=this._storage[o];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:r,aborted:r})}return this},n}(),iy=ti,Qk=Si,eT="upperLabel",ol=ws([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),tT=function(n){var i=ol(n);return i.stroke=i.fill=i.lineWidth=null,i},Hp=Mi(),bN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return Le(i,n),i.prototype.render=function(e,r,o,a){if(!(ve(r.findComponents({mainType:"series",subType:"treemap",query:a}),e)<0)){this.seriesModel=e,this.api=o,this.ecModel=r;var s=fc(a,["treemapZoomToNode","treemapRootToNode"],e),l=a&&a.type,h=e.layoutInfo,c=!this._oldTree,d=this._storage,p="treemapRootToNode"===l&&s&&d?{rootNodeGroup:d.nodeGroup[s.node.getRawIndex()],direction:a.direction}:null,m=this._giveContainerGroup(h),y=e.get("animation"),_=this._doRender(m,e,p);!y||c||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?_.renderFinally():this._doAnimation(m,_,e,p),this._resetController(o),this._renderBreadcrumb(e,o,s)}},i.prototype._giveContainerGroup=function(e){var r=this._containerGroup;return r||(r=this._containerGroup=new iy,this._initEvents(r),this.group.add(r)),r.x=e.x,r.y=e.y,r},i.prototype._doRender=function(e,r,o){var a=r.getData().tree,s=this._oldTree,l={nodeGroup:[],background:[],content:[]},h={nodeGroup:[],background:[],content:[]},c=this._storage,d=[];!function y(_,x,b,S,C){function I(P){return P.getId()}function A(P,O){var E=null!=P?_[P]:null,z=null!=O?x[O]:null,V=function p(y,_,x,b){return function(S,C,I,A,P,O,E,z,V,G){if(E){var Y=E.getLayout(),X=S.getData(),te=E.getModel();if(X.setItemGraphicEl(E.dataIndex,null),Y&&Y.isInView){var ae=Y.width,he=Y.height,fe=Y.borderWidth,ye=Y.invisible,Se=E.getRawIndex(),Ee=z&&z.getRawIndex(),Re=E.viewChildren,ze=Y.upperHeight,ot=Re&&Re.length,xt=te.getModel("itemStyle"),Ue=te.getModel(["emphasis","itemStyle"]),pt=te.getModel(["blur","itemStyle"]),bt=te.getModel(["select","itemStyle"]),Mt=xt.get("borderRadius")||0,yt=In("nodeGroup",iy);if(yt){if(V.add(yt),yt.x=Y.x||0,yt.y=Y.y||0,yt.markRedraw(),Hp(yt).nodeWidth=ae,Hp(yt).nodeHeight=he,Y.isAboveViewRoot)return yt;var Dt=In("background",Qk,G,20);Dt&&function di(Ai,ci,ri){var Zi=oi(ci);if(Zi.dataIndex=E.dataIndex,Zi.seriesIndex=S.seriesIndex,ci.setShape({x:0,y:0,width:ae,height:he,r:Mt}),ye)Di(ci);else{ci.invisible=!1;var an=E.getVisual("style"),_n=an.stroke,xn=tT(xt);xn.fill=_n;var bn=ol(Ue);bn.fill=Ue.get("borderColor");var Co=ol(pt);Co.fill=pt.get("borderColor");var xa=ol(bt);xa.fill=bt.get("borderColor"),ri?Ki(ci,_n,an.opacity,{x:fe,y:0,width:ae-2*fe,height:ze}):ci.removeTextContent(),ci.setStyle(xn),ci.ensureState("emphasis").style=bn,ci.ensureState("blur").style=Co,ci.ensureState("select").style=xa,Ps(ci)}Ai.add(ci)}(yt,Dt,ot&&Y.upperLabelHeight);var St=te.getModel("emphasis"),Ot=St.get("focus"),Ft=St.get("blurScope"),ni=St.get("disabled"),si="ancestor"===Ot?E.getAncestorsIndices():"descendant"===Ot?E.getDescendantIndices():Ot;if(ot)pu(yt)&&Os(yt,!1),Dt&&(Os(Dt,!ni),X.setItemGraphicEl(E.dataIndex,Dt),bg(Dt,si,Ft));else{var Ni=In("content",Qk,G,30);Ni&&function wi(Ai,ci){var ri=oi(ci);ri.dataIndex=E.dataIndex,ri.seriesIndex=S.seriesIndex;var Zi=Math.max(ae-2*fe,0),an=Math.max(he-2*fe,0);if(ci.culling=!0,ci.setShape({x:fe,y:fe,width:Zi,height:an,r:Mt}),ye)Di(ci);else{ci.invisible=!1;var _n=E.getVisual("style"),xn=_n.fill,bn=tT(xt);bn.fill=xn,bn.decal=_n.decal;var Co=ol(Ue),xa=ol(pt),zh=ol(bt);Ki(ci,xn,_n.opacity,null),ci.setStyle(bn),ci.ensureState("emphasis").style=Co,ci.ensureState("blur").style=xa,ci.ensureState("select").style=zh,Ps(ci)}Ai.add(ci)}(yt,Ni),Dt.disableMorphing=!0,Dt&&pu(Dt)&&Os(Dt,!1),Os(yt,!ni),X.setItemGraphicEl(E.dataIndex,yt),bg(yt,si,Ft)}return yt}}}function Di(Ai){!Ai.invisible&&O.push(Ai)}function Ki(Ai,ci,ri,Zi){var an=te.getModel(Zi?eT:"label"),_n=On(te.get("name"),null),xn=an.getShallow("show");Kn(Ai,zn(te,Zi?eT:"label"),{defaultText:xn?_n:null,inheritColor:ci,defaultOpacity:ri,labelFetcher:S,labelDataIndex:E.dataIndex});var bn=Ai.getTextContent();if(bn){var Co=bn.style,xa=ue(Co.padding||0);Zi&&(Ai.setTextConfig({layoutRect:Zi}),bn.disableLabelLayout=!0),bn.beforeUpdate=function(){var NA=Math.max((Zi?Zi.width:Ai.shape.width)-xa[1]-xa[3],0),RA=Math.max((Zi?Zi.height:Ai.shape.height)-xa[0]-xa[2],0);Co.width===NA&&Co.height===RA||bn.setStyle({width:NA,height:RA})},Co.truncateMinChar=2,Co.lineOverflow="truncate",en(Co,Zi,Y);var zh=bn.getState("emphasis");en(zh?zh.style:null,Zi,Y)}}function en(Ai,ci,ri){var Zi=Ai?Ai.text:null;if(!ci&&ri.isLeafRoot&&null!=Zi){var an=S.get("drillDownIcon",!0);Ai.text=an?an+" "+Zi:Zi}}function In(Ai,ci,ri,Zi){var an=null!=Ee&&I[Ai][Ee],_n=P[Ai];return an?(I[Ai][Ee]=null,function Lr(Ai,ci){var ri=Ai[Se]={};ci instanceof iy?(ri.oldX=ci.x,ri.oldY=ci.y):ri.oldShape=Z({},ci.shape)}(_n,an)):ye||((an=new ci)instanceof Wr&&(an.z2=100*ri+Zi),function Uo(Ai,ci){var ri=Ai[Se]={},Zi=E.parentNode,an=ci instanceof ti;if(Zi&&(!A||"drillDown"===A.direction)){var _n=0,xn=0,bn=P.background[Zi.getRawIndex()];!A&&bn&&bn.oldShape&&(_n=bn.oldShape.width,xn=bn.oldShape.height),an?(ri.oldX=0,ri.oldY=xn):ri.oldShape={x:_n,y:xn,width:0,height:0}}ri.fadein=!an}(_n,an)),C[Ai][Se]=an}}(r,h,c,o,l,d,y,_,x,b)}(E,z,b,C);V&&y(E&&E.viewChildren||[],z&&z.viewChildren||[],V,S,C+1)}S?(x=_,F(_,function(P,O){!P.isRemoved()&&A(O,O)})):new da(x,_,I,I).add(A).update(A).remove(Q(A,null)).execute()}(a.root?[a.root]:[],s&&s.root?[s.root]:[],e,a===s||!s,0);var y,_,m=(_={nodeGroup:[],background:[],content:[]},(y=c)&&F(y,function(x,b){var S=_[b];F(x,function(C){C&&(S.push(C),Hp(C).willDelete=!0)})}),_);return this._oldTree=a,this._storage=h,{lastsForAnimation:l,willDeleteEls:m,renderFinally:function(){F(m,function(y){F(y,function(_){_.parent&&_.parent.remove(_)})}),F(d,function(y){y.invisible=!0,y.dirty()})}}},i.prototype._doAnimation=function(e,r,o,a){var s=o.get("animationDurationUpdate"),l=o.get("animationEasing"),h=(ee(s)?0:s)||0,c=(ee(l)?null:l)||"cubicOut",d=new xN;F(r.willDeleteEls,function(p,m){F(p,function(y,_){if(!y.invisible){var x,b=y.parent,S=Hp(b);if(a&&"drillDown"===a.direction)x=b===a.rootNodeGroup?{shape:{x:0,y:0,width:S.nodeWidth,height:S.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var C=0,I=0;S.willDelete||(C=S.nodeWidth/2,I=S.nodeHeight/2),x="nodeGroup"===m?{x:C,y:I,style:{opacity:0}}:{shape:{x:C,y:I,width:0,height:0},style:{opacity:0}}}x&&d.add(y,x,h,0,c)}})}),F(this._storage,function(p,m){F(p,function(y,_){var x=r.lastsForAnimation[m][_],b={};x&&(y instanceof ti?null!=x.oldX&&(b.x=y.x,b.y=y.y,y.x=x.oldX,y.y=x.oldY):(x.oldShape&&(b.shape=Z({},y.shape),y.setShape(x.oldShape)),x.fadein?(y.setStyle("opacity",0),b.style={opacity:1}):1!==y.style.opacity&&(b.style={opacity:1})),d.add(y,b,h,0,c))})},this),this._state="animating",d.finished(De(function(){this._state="ready",r.renderFinally()},this)).start()},i.prototype._resetController=function(e){var r=this._controller;r||((r=this._controller=new uc(e.getZr())).enable(this.seriesModel.get("roam")),r.on("pan",De(this._onPan,this)),r.on("zoom",De(this._onZoom,this)));var o=new ai(0,0,e.getWidth(),e.getHeight());r.setPointerChecker(function(a,s,l){return o.contain(s,l)})},i.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},i.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var r=this.seriesModel.getData().tree.root;if(!r)return;var o=r.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},i.prototype._onZoom=function(e){var r=e.originX,o=e.originY;if("animating"!==this._state){var a=this.seriesModel.getData().tree.root;if(!a)return;var s=a.getLayout();if(!s)return;var l=new ai(s.x,s.y,s.width,s.height),h=this.seriesModel.layoutInfo,c=[1,0,0,1,0,0];Gn(c,c,[-(r-=h.x),-(o-=h.y)]),wa(c,c,[e.scale,e.scale]),Gn(c,c,[r,o]),l.applyTransform(c),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},i.prototype._initEvents=function(e){var r=this;e.on("click",function(o){if("ready"===r._state){var a=r.seriesModel.get("nodeClick",!0);if(a){var s=r.findTarget(o.offsetX,o.offsetY);if(s){var l=s.node;if(l.getLayout().isLeafRoot)r._rootToNode(s);else if("zoomToNode"===a)r._zoomToNode(s);else if("link"===a){var h=l.hostTree.data.getItemModel(l.dataIndex),c=h.get("link",!0),d=h.get("target",!0)||"blank";c&&Ld(c,d)}}}}},this)},i.prototype._renderBreadcrumb=function(e,r,o){var a=this;o||(o=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2))||(o={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new vN(this.group))).render(e,r,o.node,function(s){"animating"!==a._state&&(ty(e.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},i.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},i.prototype.dispose=function(){this._clearController()},i.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},i.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},i.prototype.findTarget=function(e,r){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(a){var s=this._storage.background[a.getRawIndex()];if(s){var l=s.transformCoordToLocal(e,r),h=s.shape;if(!(h.x<=l[0]&&l[0]<=h.x+h.width&&h.y<=l[1]&&l[1]<=h.y+h.height))return!1;o={node:a,offsetX:l[0],offsetY:l[1]}}},this),o},i.type="treemap",i}(Hi),mc=F,wN=Pe,Hn=function(){function n(i){var e=i.mappingMethod,r=i.type,o=this.option=H(i);this.type=r,this.mappingMethod=e,this._normalizeData=SN[e];var s,l,a=n.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],"piecewise"===e?(ry(o),l=(s=o).pieceList,s.hasSpecialVisual=!1,F(l,function(h,c){h.originIndex=c,null!=h.visual&&(s.hasSpecialVisual=!0)})):"category"===e?o.categories?function(s){var l=s.categories,h=s.categoryMap={},c=s.visual;if(mc(l,function(m,y){h[m]=y}),!ne(c)){var d=[];Pe(c)?mc(c,function(m,y){var _=h[y];d[null!=_?_:-1]=m}):d[-1]=c,c=nT(s,d)}for(var p=l.length-1;p>=0;p--)null==c[p]&&(delete h[l[p]],l.pop())}(o):ry(o,!0):(ge("linear"!==e||o.dataExtent),ry(o))}return n.prototype.mapValueToVisual=function(i){var e=this._normalizeData(i);return this._normalizedToVisual(e,i)},n.prototype.getNormalizer=function(){return De(this._normalizeData,this)},n.listVisualTypes=function(){return ft(n.visualHandlers)},n.isValidType=function(i){return n.visualHandlers.hasOwnProperty(i)},n.eachVisual=function(i,e,r){Pe(i)?F(i,e,r):e.call(r,i)},n.mapVisual=function(i,e,r){var o,a=ne(i)?[]:Pe(i)?{}:(o=!0,null);return n.eachVisual(i,function(s,l){var h=e.call(r,s,l);o?a=h:a[l]=h}),a},n.retrieveVisuals=function(i){var e,r={};return i&&mc(n.visualHandlers,function(o,a){i.hasOwnProperty(a)&&(r[a]=i[a],e=!0)}),e?r:null},n.prepareVisualTypes=function(i){if(ne(i))i=i.slice();else{if(!wN(i))return[];var e=[];mc(i,function(r,o){e.push(o)}),i=e}return i.sort(function(r,o){return"color"===o&&"color"!==r&&0===r.indexOf("color")?1:-1}),i},n.dependsOn=function(i,e){return"color"===e?!(!i||0!==i.indexOf(e)):i===e},n.findPieceIndex=function(i,e,r){for(var o,a=1/0,s=0,l=e.length;s<l;s++){var h=e[s].value;if(null!=h){if(h===i||J(h)&&h===i+"")return s;r&&m(h,s)}}for(s=0,l=e.length;s<l;s++){var c=e[s],d=c.interval,p=c.close;if(d){if(d[0]===-1/0){if(Fp(p[1],i,d[1]))return s}else if(d[1]===1/0){if(Fp(p[0],d[0],i))return s}else if(Fp(p[0],d[0],i)&&Fp(p[1],i,d[1]))return s;r&&m(d[0],s),r&&m(d[1],s)}}if(r)return i===1/0?e.length-1:i===-1/0?0:o;function m(y,_){var x=Math.abs(y-i);x<a&&(a=x,o=_)}},n.visualHandlers={color:{applyVisual:vc("color"),getColorMapper:function(){var i=this.option;return De("category"===i.mappingMethod?function(e,r){return!r&&(e=this._normalizeData(e)),yc.call(this,e)}:function(e,r,o){var a=!!o;return!r&&(e=this._normalizeData(e)),o=na(e,i.parsedVisual,o),a?o:Nr(o,"rgba")},this)},_normalizedToVisual:{linear:function(i){return Nr(na(i,this.option.parsedVisual),"rgba")},category:yc,piecewise:function(i,e){var r=ay.call(this,e);return null==r&&(r=Nr(na(i,this.option.parsedVisual),"rgba")),r},fixed:al}},colorHue:Vp(function(i,e){return ra(i,e)}),colorSaturation:Vp(function(i,e){return ra(i,null,e)}),colorLightness:Vp(function(i,e){return ra(i,null,null,e)}),colorAlpha:Vp(function(i,e){return Aa(i,e)}),decal:{applyVisual:vc("decal"),_normalizedToVisual:{linear:null,category:yc,piecewise:null,fixed:null}},opacity:{applyVisual:vc("opacity"),_normalizedToVisual:oy([0,1])},liftZ:{applyVisual:vc("liftZ"),_normalizedToVisual:{linear:al,category:al,piecewise:al,fixed:al}},symbol:{applyVisual:function(i,e,r){r("symbol",this.mapValueToVisual(i))},_normalizedToVisual:{linear:iT,category:yc,piecewise:function(i,e){var r=ay.call(this,e);return null==r&&(r=iT.call(this,i)),r},fixed:al}},symbolSize:{applyVisual:vc("symbolSize"),_normalizedToVisual:oy([0,1])}},n}();function ry(n,i){var e=n.visual,r=[];Pe(e)?mc(e,function(o){r.push(o)}):null!=e&&r.push(e),i||1!==r.length||{color:1,symbol:1}.hasOwnProperty(n.type)||(r[1]=r[0]),nT(n,r)}function Vp(n){return{applyVisual:function(i,e,r){var o=this.mapValueToVisual(i);r("color",n(e("color"),o))},_normalizedToVisual:oy([0,1])}}function iT(n){var i=this.option.visual;return i[Math.round(Bi(n,[0,1],[0,i.length-1],!0))]||{}}function vc(n){return function(i,e,r){r(n,this.mapValueToVisual(i))}}function yc(n){var i=this.option.visual;return i[this.option.loop&&-1!==n?n%i.length:n]}function al(){return this.option.visual[0]}function oy(n){return{linear:function(i){return Bi(i,n,this.option.visual,!0)},category:yc,piecewise:function(i,e){var r=ay.call(this,e);return null==r&&(r=Bi(i,n,this.option.visual,!0)),r},fixed:al}}function ay(n){var i=this.option,e=i.pieceList;if(i.hasSpecialVisual){var r=e[Hn.findPieceIndex(n,e)];if(r&&r.visual)return r.visual[this.type]}}function nT(n,i){return n.visual=i,"color"===n.type&&(n.parsedVisual=Te(i,function(e){return Un(e)||[0,0,0,1]})),i}var SN={linear:function(n){return Bi(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var i=this.option.pieceList,e=Hn.findPieceIndex(n,i,!0);if(null!=e)return Bi(e,[0,i.length-1],[0,1],!0)},category:function(n){var i=this.option.categories?this.option.categoryMap[n]:n;return null==i?-1:i},fixed:Ze};function Fp(n,i,e){return n?i<=e:i<e}var rT=Mi(),CN={seriesType:"treemap",reset:function(n){var i=n.getData().tree.root;i.isRemoved()||oT(i,{},n.getViewRoot().getAncestors(),n)}};function oT(n,i,e,r){var x,b,S,C,I,o=n.getModel(),a=n.getLayout(),s=n.hostTree.data;if(a&&!a.invisible&&a.isInView){var l,h=o.getModel("itemStyle"),c=(x=h,S=r,C=Z({},b=i),I=S.designatedVisualItemStyle,F(["color","colorAlpha","colorSaturation"],function(A){I[A]=b[A];var P=x.get(A);I[A]=null,null!=P&&(C[A]=P)}),C),d=s.ensureUniqueItemVisual(n.dataIndex,"style"),p=h.get("borderColor"),m=h.get("borderColorSaturation");null!=m&&(p=function(x,b){return null!=b?ra(b,null,null,x):null}(m,l=aT(c))),d.stroke=p;var y=n.viewChildren;if(y&&y.length){var _=function(x,b,S,C,I,A){if(A&&A.length){var P=ly(b,"color")||null!=I.color&&"none"!==I.color&&(ly(b,"colorAlpha")||ly(b,"colorSaturation"));if(P){var O=b.get("visualMin"),E=b.get("visualMax"),z=S.dataExtent.slice();null!=O&&O<z[0]&&(z[0]=O),null!=E&&E>z[1]&&(z[1]=E);var V=b.get("colorMappingBy"),G={type:P.name,dataExtent:z,visual:P.range};"color"!==G.type||"index"!==V&&"id"!==V?G.mappingMethod="linear":(G.mappingMethod="category",G.loop=!0);var Y=new Hn(G);return rT(Y).drColorMappingBy=V,Y}}}(0,o,a,0,c,y);F(y,function(x,b){if(x.depth>=e.length||x===e[x.depth]){var S=function(C,I,A,P,O,E){var z=Z({},I);if(O){var V=O.type,G="color"===V&&rT(O).drColorMappingBy,Y="index"===G?P:"id"===G?E.mapIdToIndex(A.getId()):A.getValue(C.get("visualDimension"));z[V]=O.mapValueToVisual(Y)}return z}(o,c,x,b,_,r);oT(x,S,e,r)}})}else l=aT(c),d.fill=l}}function aT(n){var i=sy(n,"color");if(i){var e=sy(n,"colorAlpha"),r=sy(n,"colorSaturation");return r&&(i=ra(i,null,null,r)),e&&(i=Aa(i,e)),i}}function sy(n,i){var e=n[i];if(null!=e&&"none"!==e)return e}function ly(n,i){var e=n.get(i);return ne(e)&&e.length?{name:i,range:e}:null}var _c=Math.max,Wp=Math.min,sT=Et,hy=F,lT=["itemStyle","borderWidth"],kN=["itemStyle","gapWidth"],TN=["upperLabel","show"],MN=["upperLabel","height"],IN={seriesType:"treemap",reset:function(n,i,e,r){var o=e.getWidth(),a=e.getHeight(),s=n.option,l=Tn(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),h=s.size||[],c=Bt(sT(l.width,h[0]),o),d=Bt(sT(l.height,h[1]),a),p=r&&r.type,m=fc(r,["treemapZoomToNode","treemapRootToNode"],n),y="treemapRender"===p||"treemapMove"===p?r.rootRect:null,_=n.getViewRoot(),x=qk(_);if("treemapMove"!==p){var b="treemapZoomToNode"===p?function(P,O,E,z,V){var G,Y=(O||{}).node,X=[z,V];if(!Y||Y===E)return X;for(var te=z*V,ae=te*P.option.zoomToNodeRatio;G=Y.parentNode;){for(var he=0,fe=G.children,ye=0,Se=fe.length;ye<Se;ye++)he+=fe[ye].getValue();var Ee=Y.getValue();if(0===Ee)return X;ae*=he/Ee;var Re=G.getModel(),ze=Re.get(lT);(ae+=4*ze*ze+(3*ze+Math.max(ze,dT(Re)))*Math.pow(ae,.5))>Ff&&(ae=Ff),Y=G}ae<te&&(ae=te);var ot=Math.pow(ae/te,.5);return[z*ot,V*ot]}(n,m,_,c,d):y?[y.width,y.height]:[c,d],S=s.sort;S&&"asc"!==S&&"desc"!==S&&(S="desc");var C={squareRatio:s.squareRatio,sort:S,leafDepth:s.leafDepth};_.hostTree.clearLayouts();var I={x:0,y:0,width:b[0],height:b[1],area:b[0]*b[1]};_.setLayout(I),hT(_,C,!1,0),I=_.getLayout(),hy(x,function(P,O){var E=(x[O+1]||_).getValue();P.setLayout(Z({dataExtent:[E,E],borderWidth:0,upperHeight:0},I))})}var A=n.getData().tree.root;A.setLayout(function(P,O,E){if(O)return{x:O.x,y:O.y};var z={x:0,y:0};if(!E)return z;var V=E.node,G=V.getLayout();if(!G)return z;for(var Y=[G.width/2,G.height/2],X=V;X;){var te=X.getLayout();Y[0]+=te.x,Y[1]+=te.y,X=X.parentNode}return{x:P.width/2-Y[0],y:P.height/2-Y[1]}}(l,y,m),!0),n.setLayoutInfo(l),cT(A,new ai(-l.x,-l.y,o,a),x,_,0)}};function hT(n,i,e,r){var o,a;if(!n.isRemoved()){var s=n.getLayout();o=s.width,a=s.height;var l=n.getModel(),h=l.get(lT),c=l.get(kN)/2,d=dT(l),p=Math.max(h,d),m=h-c,y=p-c;n.setLayout({borderWidth:h,upperHeight:p,upperLabelHeight:d},!0);var _=(o=_c(o-2*m,0))*(a=_c(a-m-y,0)),x=function(V,G,Y,X,te,ae){var he=V.children||[],fe=X.sort;"asc"!==fe&&"desc"!==fe&&(fe=null);var xt,ye=null!=X.leafDepth&&X.leafDepth<=ae;if(te&&!ye)return V.viewChildren=[];he=tt(he,function(ot){return!ot.isRemoved()}),(xt=fe)&&he.sort(function(Ue,pt){var bt="asc"===xt?Ue.getValue()-pt.getValue():pt.getValue()-Ue.getValue();return 0===bt?"asc"===xt?Ue.dataIndex-pt.dataIndex:pt.dataIndex-Ue.dataIndex:bt});var Se=function(ot,xt,Ue){for(var pt=0,bt=0,Mt=xt.length;bt<Mt;bt++)pt+=xt[bt].getValue();var yt,Dt=ot.get("visualDimension");return xt&&xt.length?"value"===Dt&&Ue?(yt=[xt[xt.length-1].getValue(),xt[0].getValue()],"asc"===Ue&&yt.reverse()):(yt=[1/0,-1/0],hy(xt,function(St){var Ot=St.getValue(Dt);Ot<yt[0]&&(yt[0]=Ot),Ot>yt[1]&&(yt[1]=Ot)})):yt=[NaN,NaN],{sum:pt,dataExtent:yt}}(G,he,fe);if(0===Se.sum)return V.viewChildren=[];if(Se.sum=function(ot,xt,Ue,pt,bt){if(!pt)return Ue;for(var Mt=ot.get("visibleMin"),yt=bt.length,Dt=yt,St=yt-1;St>=0;St--){var Ot=bt["asc"===pt?yt-St-1:St].getValue();Ot/Ue*xt<Mt&&(Dt=St,Ue-=Ot)}return bt.splice("asc"===pt?0:Dt,yt-Dt),Ue}(G,Y,Se.sum,fe,he),0===Se.sum)return V.viewChildren=[];for(var Ee=0,Re=he.length;Ee<Re;Ee++){var ze=he[Ee].getValue()/Se.sum*Y;he[Ee].setLayout({area:ze})}return ye&&(he.length&&V.setLayout({isLeafRoot:!0},!0),he.length=0),V.viewChildren=he,V.setLayout({dataExtent:Se.dataExtent},!0),he}(n,l,_,i,e,r);if(x.length){var b={x:m,y,width:o,height:a},S=Wp(o,a),C=1/0,I=[];I.area=0;for(var A=0,P=x.length;A<P;){var O=x[A];I.push(O),I.area+=O.getLayout().area;var E=DN(I,S,i.squareRatio);E<=C?(A++,C=E):(I.area-=I.pop().getLayout().area,uT(I,S,b,c,!1),S=Wp(b.width,b.height),I.length=I.area=0,C=1/0)}if(I.length&&uT(I,S,b,c,!0),!e){var z=l.get("childrenVisibleMin");null!=z&&_<z&&(e=!0)}for(A=0,P=x.length;A<P;A++)hT(x[A],i,e,r+1)}}}function DN(n,i,e){for(var r=0,o=1/0,a=0,s=void 0,l=n.length;a<l;a++)(s=n[a].getLayout().area)&&(s<o&&(o=s),s>r&&(r=s));var h=n.area*n.area,c=i*i*e;return h?_c(c*r/h,h/(c*o)):1/0}function uT(n,i,e,r,o){var a=i===e.width?0:1,s=1-a,l=["x","y"],h=["width","height"],c=e[l[a]],d=i?n.area/i:0;(o||d>e[h[s]])&&(d=e[h[s]]);for(var p=0,m=n.length;p<m;p++){var y=n[p],_={},x=d?y.getLayout().area/d:0,b=_[h[s]]=_c(d-2*r,0),S=e[l[a]]+e[h[a]]-c,C=p===m-1||S<x?S:x,I=_[h[a]]=_c(C-2*r,0);_[l[s]]=e[l[s]]+Wp(r,b/2),_[l[a]]=c+Wp(r,I/2),c+=C,y.setLayout(_,!0)}e[l[s]]+=d,e[h[s]]-=d}function cT(n,i,e,r,o){var a=n.getLayout(),s=e[o],l=s&&s===n;if(!(s&&!l||o===e.length&&n!==r)){n.setLayout({isInView:!0,invisible:!l&&!i.intersect(a),isAboveViewRoot:l},!0);var h=new ai(i.x-a.x,i.y-a.y,i.width,i.height);hy(n.viewChildren||[],function(c){cT(c,h,e,r,o+1)})}}function dT(n){return n.get(TN)?n.get(MN):0}function AN(n){var i=n.findComponents({mainType:"legend"});i&&i.length&&n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),o=e.getGraph().data,a=r.mapArray(r.getName);o.filterSelf(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){Ge(l)&&(l=a[l]);for(var h=0;h<i.length;h++)if(!i[h].isSelected(l))return!1}return!0})})}function LN(n){var i={};n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),o=e.getData(),a={};r.each(function(s){var l=r.getName(s);a["ec-"+l]=s;var h=r.getItemModel(s),c=h.getModel("itemStyle").getItemStyle();c.fill||(c.fill=e.getColorFromPalette(l,i)),r.setItemVisual(s,"style",c);for(var d=["symbol","symbolSize","symbolKeepAspect"],p=0;p<d.length;p++){var m=h.getShallow(d[p],!0);null!=m&&r.setItemVisual(s,d[p],m)}}),r.count()&&o.each(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){J(l)&&(l=a["ec-"+l]);var h=r.getItemVisual(l,"style");Z(o.ensureUniqueItemVisual(s,"style"),h);for(var c=["symbol","symbolSize","symbolKeepAspect"],d=0;d<c.length;d++)o.setItemVisual(s,c[d],r.getItemVisual(l,c[d]))}})})}function Gp(n){return n instanceof Array||(n=[n,n]),n}function PN(n){n.eachSeriesByType("graph",function(i){var e=i.getGraph(),r=i.getEdgeData(),o=Gp(i.get("edgeSymbol")),a=Gp(i.get("edgeSymbolSize"));r.setVisual("fromSymbol",o&&o[0]),r.setVisual("toSymbol",o&&o[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),r.setVisual("style",i.getModel("lineStyle").getLineStyle()),r.each(function(s){var l=r.getItemModel(s),h=e.getEdgeByIndex(s),c=Gp(l.getShallow("symbol",!0)),d=Gp(l.getShallow("symbolSize",!0)),p=l.getModel("lineStyle").getLineStyle(),m=r.ensureUniqueItemVisual(s,"style");switch(Z(m,p),m.stroke){case"source":var y=h.node1.getVisual("style");m.stroke=y&&y.fill;break;case"target":y=h.node2.getVisual("style"),m.stroke=y&&y.fill}c[0]&&h.setVisual("fromSymbol",c[0]),c[1]&&h.setVisual("toSymbol",c[1]),d[0]&&h.setVisual("fromSymbolSize",d[0]),d[1]&&h.setVisual("toSymbolSize",d[1])})})}var Yp=function(n){return n.get("autoCurveness")||null},pT=function(n,i){var e=Yp(n),r=20,o=[];if(Ge(e))r=e;else if(ne(e))return void(n.__curvenessList=e);i>r&&(r=i);var a=r%2?r+2:r+3;o=[];for(var s=0;s<a;s++)o.push((s%2?s+1:s)/10*(s%2?-1:1));n.__curvenessList=o},xc=function(n,i,e){var r=[n.id,n.dataIndex].join("."),o=[i.id,i.dataIndex].join(".");return[e.uid,r,o].join("--\x3e")},fT=function(n){var i=n.split("--\x3e");return[i[0],i[2],i[1]].join("--\x3e")},cy=function(n,i){var e=i.__edgeMap;return e[n]?e[n].length:0};function dy(n,i,e,r){var o=Yp(i),a=ne(o);if(!o)return null;var b,S,C,s=(C=xc((b=n).node1,b.node2,S=i),S.__edgeMap[C]);if(!s)return null;for(var l=-1,h=0;h<s.length;h++)if(s[h]===e){l=h;break}var c=function(b,S){return cy(xc(b.node1,b.node2,S),S)+cy(xc(b.node2,b.node1,S),S)}(n,i);pT(i,c),n.lineStyle=n.lineStyle||{};var d=xc(n.node1,n.node2,i),p=i.__curvenessList,m=a||c%2?0:1;if(s.isForward)return p[m+l];var y=fT(d),_=cy(y,i),x=p[l+_+m];return r?a?o&&0===o[0]?(_+m)%2?x:-x:((_%2?0:1)+m)%2?x:-x:(_+m)%2?x:-x:p[l+_+m]}function gT(n){var i=n.coordinateSystem;if(!i||"view"===i.type){var e=n.getGraph();e.eachNode(function(r){var o=r.getModel();r.setLayout([+o.get("x"),+o.get("y")])}),py(e,n)}}function py(n,i){n.eachEdge(function(e,r){var o=ie(e.getModel().get(["lineStyle","curveness"]),-dy(e,i,r,!0),0),a=$t(e.node1.getLayout()),s=$t(e.node2.getLayout()),l=[a,s];+o&&l.push([(a[0]+s[0])/2-(a[1]-s[1])*o,(a[1]+s[1])/2-(s[0]-a[0])*o]),e.setLayout(l)})}function ON(n,i){n.eachSeriesByType("graph",function(e){var r=e.get("layout"),o=e.coordinateSystem;if(o&&"view"!==o.type){var a=e.getData(),s=[];F(o.dimensions,function(m){s=s.concat(a.mapDimensionsAll(m))});for(var l=0;l<a.count();l++){for(var h=[],c=!1,d=0;d<s.length;d++){var p=a.get(s[d],l);isNaN(p)||(c=!0),h.push(p)}a.setItemLayout(l,c?o.dataToPoint(h):[NaN,NaN])}py(a.graph,e)}else r&&"none"!==r||gT(e)})}function bc(n){var i=n.coordinateSystem;if("view"!==i.type)return 1;var e=n.option.nodeScaleRatio,r=i.scaleX;return((i.getZoom()-1)*e+1)/r}function wc(n){var i=n.getVisual("symbolSize");return i instanceof Array&&(i=(i[0]+i[1])/2),+i}var mT=Math.PI,fy=[];function gy(n,i,e,r){var o=n.coordinateSystem;if(!o||"view"===o.type){var a=o.getBoundingRect(),s=n.getData(),l=s.graph,h=a.width/2+a.x,c=a.height/2+a.y,d=Math.min(a.width,a.height)/2,p=s.count();if(s.setLayout({cx:h,cy:c}),p){if(e){var m=o.pointToData(r),x=[m[0]-h,m[1]-c];wn(x,x),Qn(x,x,d),e.setLayout([h+x[0],c+x[1]],!0),vT(e,n.get(["circular","rotateLabel"]),h,c)}EN[i](n,l,s,d,h,c,p),l.eachEdge(function(b,S){var C,I=ie(b.getModel().get(["lineStyle","curveness"]),dy(b,n,S),0),A=$t(b.node1.getLayout()),P=$t(b.node2.getLayout());+I&&(C=[h*(I*=3)+(A[0]+P[0])/2*(1-I),c*I+(A[1]+P[1])/2*(1-I)]),b.setLayout([A,P,C])})}}}var EN={value:function(n,i,e,r,o,a,s){var l=0,h=e.getSum("value"),c=2*Math.PI/(h||s);i.eachNode(function(d){var p=d.getValue("value"),m=c*(h?p:1)/2;l+=m,d.setLayout([r*Math.cos(l)+o,r*Math.sin(l)+a]),l+=m})},symbolSize:function(n,i,e,r,o,a,s){var l=0;fy.length=s;var h=bc(n);i.eachNode(function(p){var m=wc(p);isNaN(m)&&(m=2),m<0&&(m=0),m*=h;var y=Math.asin(m/2/r);isNaN(y)&&(y=mT/2),fy[p.dataIndex]=y,l+=2*y});var c=(2*mT-l)/s/2,d=0;i.eachNode(function(p){var m=c+fy[p.dataIndex];d+=m,(!p.getLayout()||!p.getLayout().fixed)&&p.setLayout([r*Math.cos(d)+o,r*Math.sin(d)+a]),d+=m})}};function vT(n,i,e,r){var o=n.getGraphicEl();if(o){var a=n.getModel().get(["label","rotate"])||0,s=o.getSymbolPath();if(i){var l=n.getLayout(),h=Math.atan2(l[1]-r,l[0]-e);h<0&&(h=2*Math.PI+h);var c=l[0]<e;c&&(h-=Math.PI);var d=c?"left":"right";s.setTextConfig({rotation:-h,position:d,origin:"center"});var p=s.ensureState("emphasis");Z(p.textConfig||(p.textConfig={}),{position:d})}else s.setTextConfig({rotation:a*=Math.PI/180})}}function NN(n){n.eachSeriesByType("graph",function(i){"circular"===i.get("layout")&&gy(i,"symbolSize")})}var Sh=ei;function RN(n){n.eachSeriesByType("graph",function(i){var e=i.coordinateSystem;if(!e||"view"===e.type)if("force"===i.get("layout")){var r=i.preservedPoints||{},o=i.getGraph(),a=o.data,s=o.edgeData,l=i.getModel("force"),h=l.get("initLayout");i.preservedPoints?a.each(function(I){var A=a.getId(I);a.setItemLayout(I,r[A]||[NaN,NaN])}):h&&"none"!==h?"circular"===h&&gy(i,"value"):gT(i);var c=a.getDataExtent("value"),d=s.getDataExtent("value"),p=l.get("repulsion"),m=l.get("edgeLength"),y=ne(p)?p:[p,p],_=ne(m)?m:[m,m];_=[_[1],_[0]];var x=a.mapArray("value",function(I,A){var P=a.getItemLayout(A),O=Bi(I,c,y);return isNaN(O)&&(O=(y[0]+y[1])/2),{w:O,rep:O,fixed:a.getItemModel(A).get("fixed"),p:!P||isNaN(P[0])||isNaN(P[1])?null:P}}),b=s.mapArray("value",function(I,A){var P=o.getEdgeByIndex(A),O=Bi(I,d,_);isNaN(O)&&(O=(_[0]+_[1])/2);var E=P.getModel(),z=ie(P.getModel().get(["lineStyle","curveness"]),-dy(P,i,A,!0),0);return{n1:x[P.node1.dataIndex],n2:x[P.node2.dataIndex],d:O,curveness:z,ignoreForceLayout:E.get("ignoreForceLayout")}}),S=e.getBoundingRect(),C=function(I,A,P){for(var O=I,E=A,z=P.rect,V=z.width,G=z.height,Y=[z.x+V/2,z.y+G/2],X=null==P.gravity?.1:P.gravity,te=0;te<O.length;te++){var ae=O[te];ae.p||(ae.p=Vt(V*(Math.random()-.5)+Y[0],G*(Math.random()-.5)+Y[1])),ae.pp=$t(ae.p),ae.edges=null}var he,fe,ye=null==P.friction?.6:P.friction,Se=ye;return{warmUp:function(){Se=.8*ye},setFixed:function(Ee){O[Ee].fixed=!0},setUnfixed:function(Ee){O[Ee].fixed=!1},beforeStep:function(Ee){he=Ee},afterStep:function(Ee){fe=Ee},step:function(Ee){he&&he(O,E);for(var Re=[],ze=O.length,ot=0;ot<E.length;ot++){var xt=E[ot];if(!xt.ignoreForceLayout){var Ue=xt.n1;Pi(Re,(yt=xt.n2).p,Ue.p);var pt=Ti(Re)-xt.d,bt=yt.w/(Ue.w+yt.w);isNaN(bt)&&(bt=0),wn(Re,Re),!Ue.fixed&&Sh(Ue.p,Ue.p,Re,bt*pt*Se),!yt.fixed&&Sh(yt.p,yt.p,Re,-(1-bt)*pt*Se)}}for(ot=0;ot<ze;ot++)(Ot=O[ot]).fixed||(Pi(Re,Y,Ot.p),Sh(Ot.p,Ot.p,Re,X*Se));for(ot=0;ot<ze;ot++){Ue=O[ot];for(var Mt=ot+1;Mt<ze;Mt++){var yt;Pi(Re,(yt=O[Mt]).p,Ue.p),0===(pt=Ti(Re))&&(Zt(Re,Math.random()-.5,Math.random()-.5),pt=1);var Dt=(Ue.rep+yt.rep)/pt/pt;!Ue.fixed&&Sh(Ue.pp,Ue.pp,Re,Dt),!yt.fixed&&Sh(yt.pp,yt.pp,Re,-Dt)}}var St=[];for(ot=0;ot<ze;ot++){var Ot;(Ot=O[ot]).fixed||(Pi(St,Ot.p,Ot.pp),Sh(Ot.p,Ot.p,St,Se),Wt(Ot.pp,Ot.p))}var Ft=(Se*=.992)<.01;fe&&fe(O,E,Ft),Ee&&Ee(Ft)}}}(x,b,{rect:S,gravity:l.get("gravity"),friction:l.get("friction")});C.beforeStep(function(I,A){for(var P=0,O=I.length;P<O;P++)I[P].fixed&&Wt(I[P].p,o.getNodeByIndex(P).getLayout())}),C.afterStep(function(I,A,P){for(var O=0,E=I.length;O<E;O++)I[O].fixed||o.getNodeByIndex(O).setLayout(I[O].p),r[a.getId(O)]=I[O].p;for(O=0,E=A.length;O<E;O++){var z=A[O],V=o.getEdgeByIndex(O),G=z.n1.p,Y=z.n2.p,X=V.getLayout();(X=X?X.slice():[])[0]=X[0]||[],X[1]=X[1]||[],Wt(X[0],G),Wt(X[1],Y),+z.curveness&&(X[2]=[(G[0]+Y[0])/2-(G[1]-Y[1])*z.curveness,(G[1]+Y[1])/2-(Y[0]-G[0])*z.curveness]),V.setLayout(X)}}),i.forceLayout=C,i.preservedPoints=r,C.step()}else i.forceLayout=null})}function zN(n,i){var e=[];return n.eachSeriesByType("graph",function(r){var b,S,o=r.get("coordinateSystem");if(!o||"view"===o){var a=r.getData(),s=[],l=[];nd(a.mapArray(function(x){var b=a.getItemModel(x);return[+b.get("x"),+b.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var h=(l[0]-s[0])/(l[1]-s[1]),c=(b=i,S=h,Tn(Z(r.getBoxLayoutParams(),{aspect:S}),{width:b.getWidth(),height:b.getHeight()}));isNaN(h)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var d=l[0]-s[0],p=l[1]-s[1],m=c.width,y=c.height,_=r.coordinateSystem=new dc;_.zoomLimit=r.get("scaleLimit"),_.setBoundingRect(s[0],s[1],d,p),_.setViewRect(c.x,c.y,m,y),_.setCenter(r.get("center"),i),_.setZoom(r.get("zoom")),e.push(_)}}),e}var yT=En.prototype,my=Fl.prototype,_T=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function vy(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){Le(function i(){return null!==n&&n.apply(this,arguments)||this},n)}(_T);var BN=function(n){function i(e){var r=n.call(this,e)||this;return r.type="ec-line",r}return Le(i,n),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new _T},i.prototype.buildPath=function(e,r){vy(r)?yT.buildPath.call(this,e,r):my.buildPath.call(this,e,r)},i.prototype.pointAt=function(e){return vy(this.shape)?yT.pointAt.call(this,e):my.pointAt.call(this,e)},i.prototype.tangentAt=function(e){var r=this.shape,o=vy(r)?[r.x2-r.x1,r.y2-r.y1]:my.tangentAt.call(this,e);return wn(o,o)},i}(yi),yy=["fromSymbol","toSymbol"];function xT(n){return"_"+n+"Type"}function bT(n,i,e){var r=i.getItemVisual(e,n);if(!r||"none"===r)return r;var o=i.getItemVisual(e,n+"Size"),a=i.getItemVisual(e,n+"Rotate"),s=i.getItemVisual(e,n+"Offset"),l=i.getItemVisual(e,n+"KeepAspect"),h=uh(o);return r+h+Fs(s||0,h)+(a||"")+(l||"")}function wT(n,i,e){var r=i.getItemVisual(e,n);if(r&&"none"!==r){var o=i.getItemVisual(e,n+"Size"),a=i.getItemVisual(e,n+"Rotate"),s=i.getItemVisual(e,n+"Offset"),l=i.getItemVisual(e,n+"KeepAspect"),h=uh(o),c=Fs(s||0,h),d=vn(r,-h[0]/2+c[0],-h[1]/2+c[1],h[0],h[1],null,l);return d.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,d.name=n,d}}function _y(n,i){n.x1=i[0][0],n.y1=i[0][1],n.x2=i[1][0],n.y2=i[1][1],n.percent=1;var e=i[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var xy=function(n){function i(e,r,o){var a=n.call(this)||this;return a._createLine(e,r,o),a}return Le(i,n),i.prototype._createLine=function(e,r,o){var l,h,a=e.hostModel,s=(l=e.getItemLayout(r),_y((h=new BN({name:"line",subPixelOptimize:!0})).shape,l),h);s.shape.percent=0,nn(s,{shape:{percent:1}},a,r),this.add(s),F(yy,function(l){var h=wT(l,e,r);this.add(h),this[xT(l)]=bT(l,e,r)},this),this._updateCommonStl(e,r,o)},i.prototype.updateData=function(e,r,o){var a=e.hostModel,s=this.childOfName("line"),l=e.getItemLayout(r),h={shape:{}};_y(h.shape,l),Ii(s,h,a,r),F(yy,function(c){var d=bT(c,e,r),p=xT(c);if(this[p]!==d){this.remove(this.childOfName(c));var m=wT(c,e,r);this.add(m)}this[p]=d},this),this._updateCommonStl(e,r,o)},i.prototype.getLinePath=function(){return this.childAt(0)},i.prototype._updateCommonStl=function(e,r,o){var a=e.hostModel,s=this.childOfName("line"),l=o&&o.emphasisLineStyle,h=o&&o.blurLineStyle,c=o&&o.selectLineStyle,d=o&&o.labelStatesModels,p=o&&o.emphasisDisabled,m=o&&o.focus,y=o&&o.blurScope;if(!o||e.hasItemOption){var _=e.getItemModel(r),x=_.getModel("emphasis");l=x.getModel("lineStyle").getLineStyle(),h=_.getModel(["blur","lineStyle"]).getLineStyle(),c=_.getModel(["select","lineStyle"]).getLineStyle(),p=x.get("disabled"),m=x.get("focus"),y=x.get("blurScope"),d=zn(_)}var b=e.getItemVisual(r,"style"),S=b.stroke;s.useStyle(b),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=l,s.ensureState("blur").style=h,s.ensureState("select").style=c,F(yy,function(O){var E=this.childOfName(O);if(E){E.setColor(S),E.style.opacity=b.opacity;for(var z=0;z<pr.length;z++){var V=pr[z],G=s.getState(V);if(G){var Y=G.style||{},X=E.ensureState(V),te=X.style||(X.style={});null!=Y.stroke&&(te[E.__isEmptyBrush?"stroke":"fill"]=Y.stroke),null!=Y.opacity&&(te.opacity=Y.opacity)}}E.markRedraw()}},this);var C=a.getRawValue(r);Kn(this,d,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(O,E){return a.getFormattedLabel(O,E,e.dataType)}},inheritColor:S||"#000",defaultOpacity:b.opacity,defaultText:(null==C?e.getName(r):isFinite(C)?cn(C):C)+""});var I=this.getTextContent();if(I){var A=d.normal;I.__align=I.style.align,I.__verticalAlign=I.style.verticalAlign,I.__position=A.get("position")||"middle";var P=A.get("distance");ne(P)||(P=[P,P]),I.__labelDistance=P}this.setTextConfig({position:null,local:!0,inside:!1}),dn(this,m,y,p)},i.prototype.highlight=function(){ha(this)},i.prototype.downplay=function(){ua(this)},i.prototype.updateLayout=function(e,r){this.setLinePoints(e.getItemLayout(r))},i.prototype.setLinePoints=function(e){var r=this.childOfName("line");_y(r.shape,e),r.dirty()},i.prototype.beforeUpdate=function(){var e=this,r=e.childOfName("fromSymbol"),o=e.childOfName("toSymbol"),a=e.getTextContent();if(r||o||a&&!a.ignore){for(var s=1,l=this.parent;l;)l.scaleX&&(s/=l.scaleX),l=l.parent;var h=e.childOfName("line");if(this.__dirty||h.__dirty){var c=h.shape.percent,d=h.pointAt(0),p=h.pointAt(c),m=Pi([],p,d);if(wn(m,m),r&&(r.setPosition(d),V(r,0),r.scaleX=r.scaleY=s*c,r.markRedraw()),o&&(o.setPosition(p),V(o,1),o.scaleX=o.scaleY=s*c,o.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var y=void 0,_=void 0,x=a.__labelDistance,b=x[0]*s,S=x[1]*s,C=c/2,I=h.tangentAt(C),A=[I[1],-I[0]],P=h.pointAt(C);A[1]>0&&(A[0]=-A[0],A[1]=-A[1]);var O=I[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var E=-Math.atan2(I[1],I[0]);p[0]<d[0]&&(E=Math.PI+E),a.rotation=E}var z=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":z=-S,_="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":z=S,_="top";break;default:z=0,_="middle"}switch(a.__position){case"end":a.x=m[0]*b+p[0],a.y=m[1]*S+p[1],y=m[0]>.8?"left":m[0]<-.8?"right":"center",_=m[1]>.8?"top":m[1]<-.8?"bottom":"middle";break;case"start":a.x=-m[0]*b+d[0],a.y=-m[1]*S+d[1],y=m[0]>.8?"right":m[0]<-.8?"left":"center",_=m[1]>.8?"bottom":m[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=b*O+d[0],a.y=d[1]+z,y=I[0]<0?"right":"left",a.originX=-b*O,a.originY=-z;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=P[0],a.y=P[1]+z,y="center",a.originY=-z;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-b*O+p[0],a.y=p[1]+z,y=I[0]>=0?"right":"left",a.originX=b*O,a.originY=-z}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||_,align:a.__align||y})}}}function V(G,Y){var X=G.__specifiedRotation;if(null==X){var te=h.tangentAt(Y);G.attr("rotation",(1===Y?-1:1)*Math.PI/2-Math.atan2(te[1],te[0]))}else G.attr("rotation",X)}},i}(ti),by=function(){function n(i){this.group=new ti,this._LineCtor=i||xy}return n.prototype.updateData=function(i){var e=this;this._progressiveEls=null;var r=this,o=r.group,a=r._lineData;r._lineData=i,a||o.removeAll();var s=ST(i);i.diff(a).add(function(l){e._doAdd(i,l,s)}).update(function(l,h){e._doUpdate(a,i,h,l,s)}).remove(function(l){o.remove(a.getItemGraphicEl(l))}).execute()},n.prototype.updateLayout=function(){var i=this._lineData;i&&i.eachItemGraphicEl(function(e,r){e.updateLayout(i,r)},this)},n.prototype.incrementalPrepareUpdate=function(i){this._seriesScope=ST(i),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(i,e){function r(s){var l;s.isGroup||(l=s).animators&&l.animators.length>0||(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var o=i.start;o<i.end;o++)if(wy(e.getItemLayout(o))){var a=new this._LineCtor(e,o,this._seriesScope);a.traverse(r),this.group.add(a),e.setItemGraphicEl(o,a),this._progressiveEls.push(a)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(i){Ha(this._progressiveEls||this.group,i)},n.prototype._doAdd=function(i,e,r){if(wy(i.getItemLayout(e))){var o=new this._LineCtor(i,e,r);i.setItemGraphicEl(e,o),this.group.add(o)}},n.prototype._doUpdate=function(i,e,r,o,a){var s=i.getItemGraphicEl(r);wy(e.getItemLayout(o))?(s?s.updateData(e,o,a):s=new this._LineCtor(e,o,a),e.setItemGraphicEl(o,s),this.group.add(s)):this.group.remove(s)},n}();function ST(n){var i=n.hostModel,e=i.getModel("emphasis");return{lineStyle:i.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:i.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:i.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:zn(i)}}function CT(n){return isNaN(n[0])||isNaN(n[1])}function wy(n){return n&&!CT(n[0])&&!CT(n[1])}var Sy=[],Cy=[],ky=[],Ch=Wi,Ty=ii,kT=Math.abs;function TT(n,i,e){for(var r,o=n[0],a=n[1],s=n[2],l=1/0,h=e*e,c=.1,d=.1;d<=.9;d+=.1)Sy[0]=Ch(o[0],a[0],s[0],d),Sy[1]=Ch(o[1],a[1],s[1],d),(y=kT(Ty(Sy,i)-h))<l&&(l=y,r=d);for(var p=0;p<32;p++){var m=r+c;Cy[0]=Ch(o[0],a[0],s[0],r),Cy[1]=Ch(o[1],a[1],s[1],r),ky[0]=Ch(o[0],a[0],s[0],m),ky[1]=Ch(o[1],a[1],s[1],m);var y=Ty(Cy,i)-h;if(kT(y)<.01)break;var _=Ty(ky,i)-h;c/=2,y<0?_>=0?r+=c:r-=c:_>=0?r-=c:r+=c}return r}function My(n,i){var e=[],r=Pn,o=[[],[],[]],a=[[],[]],s=[];i/=2,n.eachEdge(function(l,h){var c=l.getLayout(),d=l.getVisual("fromSymbol"),p=l.getVisual("toSymbol");c.__original||(c.__original=[$t(c[0]),$t(c[1])],c[2]&&c.__original.push($t(c[2])));var m=c.__original;if(null!=c[2]){if(Wt(o[0],m[0]),Wt(o[1],m[2]),Wt(o[2],m[1]),d&&"none"!==d){var y=wc(l.node1),_=TT(o,m[0],y*i);r(o[0][0],o[1][0],o[2][0],_,e),o[0][0]=e[3],o[1][0]=e[4],r(o[0][1],o[1][1],o[2][1],_,e),o[0][1]=e[3],o[1][1]=e[4]}p&&"none"!==p&&(y=wc(l.node2),_=TT(o,m[1],y*i),r(o[0][0],o[1][0],o[2][0],_,e),o[1][0]=e[1],o[2][0]=e[2],r(o[0][1],o[1][1],o[2][1],_,e),o[1][1]=e[1],o[2][1]=e[2]),Wt(c[0],o[0]),Wt(c[1],o[2]),Wt(c[2],o[1])}else Wt(a[0],m[0]),Wt(a[1],m[1]),Pi(s,a[1],a[0]),wn(s,s),d&&"none"!==d&&(y=wc(l.node1),ei(a[0],a[0],s,y*i)),p&&"none"!==p&&(y=wc(l.node2),ei(a[1],a[1],s,-y*i)),Wt(c[0],a[0]),Wt(c[1],a[1])})}function MT(n){return"view"===n.type}var jN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(e,r){var o=new nc,a=new by,s=this.group;this._controller=new uc(r.getZr()),this._controllerHost={target:s},s.add(o.group),s.add(a.group),this._symbolDraw=o,this._lineDraw=a,this._firstRender=!0},i.prototype.render=function(e,r,o){var a=this,s=e.coordinateSystem;this._model=e;var l=this._symbolDraw,h=this._lineDraw,c=this.group;if(MT(s)){var d={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?c.attr(d):Ii(c,d,e)}My(e.getGraph(),bc(e));var p=e.getData();l.updateData(p);var m=e.getEdgeData();h.updateData(m),this._updateNodeAndLinkScale(),this._updateController(e,r,o),clearTimeout(this._layoutTimeout);var y=e.forceLayout,_=e.get(["force","layoutAnimation"]);y&&this._startForceLayoutIteration(y,_);var x=e.get("layout");p.graph.eachNode(function(I){var A=I.dataIndex,P=I.getGraphicEl(),O=I.getModel();if(P){P.off("drag").off("dragend");var E=O.get("draggable");E&&P.on("drag",function(z){switch(x){case"force":y.warmUp(),!a._layouting&&a._startForceLayoutIteration(y,_),y.setFixed(A),p.setItemLayout(A,[P.x,P.y]);break;case"circular":p.setItemLayout(A,[P.x,P.y]),I.setLayout({fixed:!0},!0),gy(e,"symbolSize",I,[z.offsetX,z.offsetY]),a.updateLayout(e);break;default:p.setItemLayout(A,[P.x,P.y]),py(e.getGraph(),e),a.updateLayout(e)}}).on("dragend",function(){y&&y.setUnfixed(A)}),P.setDraggable(E,!!O.get("cursor")),"adjacency"===O.get(["emphasis","focus"])&&(oi(P).focus=I.getAdjacentDataIndices())}}),p.graph.eachEdge(function(I){var A=I.getGraphicEl(),P=I.getModel().get(["emphasis","focus"]);A&&"adjacency"===P&&(oi(A).focus={edge:[I.dataIndex],node:[I.node1.dataIndex,I.node2.dataIndex]})});var b="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),S=p.getLayout("cx"),C=p.getLayout("cy");p.graph.eachNode(function(I){vT(I,b,S,C)}),this._firstRender=!1},i.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},i.prototype._startForceLayoutIteration=function(e,r){var o=this;!function a(){e.step(function(s){o.updateLayout(o._model),(o._layouting=!s)&&(r?o._layoutTimeout=setTimeout(a,16):a())})}()},i.prototype._updateController=function(e,r,o){var a=this,s=this._controller,l=this._controllerHost,h=this.group;s.setPointerChecker(function(c,d,p){var m=h.getBoundingRect();return m.applyTransform(h.transform),m.contain(d,p)&&!Op(c,o,e)}),MT(e.coordinateSystem)?(s.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(c){Vv(l,c.dx,c.dy),o.dispatchAction({seriesId:e.id,type:"graphRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){Fv(l,c.scale,c.originX,c.originY),o.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(),My(e.getGraph(),bc(e)),a._lineDraw.updateLayout(),o.updateLabelLayout()})):s.disable()},i.prototype._updateNodeAndLinkScale=function(){var e=this._model,r=e.getData(),o=bc(e);r.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(o)})},i.prototype.updateLayout=function(e){My(e.getGraph(),bc(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},i.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},i.type="graph",i}(Hi);function kh(n){return"_EC_"+n}var HN=function(){function n(i){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=i||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(i,e){var r=this._nodesMap;if(!r[kh(i=null==i?""+e:""+i)]){var o=new sl(i,e);return o.hostGraph=this,this.nodes.push(o),r[kh(i)]=o,o}},n.prototype.getNodeByIndex=function(i){var e=this.data.getRawIndex(i);return this.nodes[e]},n.prototype.getNodeById=function(i){return this._nodesMap[kh(i)]},n.prototype.addEdge=function(i,e,r){var o=this._nodesMap,a=this._edgesMap;if(Ge(i)&&(i=this.nodes[i]),Ge(e)&&(e=this.nodes[e]),i instanceof sl||(i=o[kh(i)]),e instanceof sl||(e=o[kh(e)]),i&&e){var s=i.id+"-"+e.id,l=new IT(i,e,r);return l.hostGraph=this,this._directed&&(i.outEdges.push(l),e.inEdges.push(l)),i.edges.push(l),i!==e&&e.edges.push(l),this.edges.push(l),a[s]=l,l}},n.prototype.getEdgeByIndex=function(i){var e=this.edgeData.getRawIndex(i);return this.edges[e]},n.prototype.getEdge=function(i,e){i instanceof sl&&(i=i.id),e instanceof sl&&(e=e.id);var r=this._edgesMap;return this._directed?r[i+"-"+e]:r[i+"-"+e]||r[e+"-"+i]},n.prototype.eachNode=function(i,e){for(var r=this.nodes,o=r.length,a=0;a<o;a++)r[a].dataIndex>=0&&i.call(e,r[a],a)},n.prototype.eachEdge=function(i,e){for(var r=this.edges,o=r.length,a=0;a<o;a++)r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0&&i.call(e,r[a],a)},n.prototype.breadthFirstTraverse=function(i,e,r,o){if(e instanceof sl||(e=this._nodesMap[kh(e)]),e){for(var a="out"===r?"outEdges":"in"===r?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!i.call(o,e,null))for(var l=[e];l.length;){var h=l.shift(),c=h[a];for(s=0;s<c.length;s++){var d=c[s],p=d.node1===h?d.node2:d.node1;if(!p.__visited){if(i.call(o,p,h))return;l.push(p),p.__visited=!0}}}}},n.prototype.update=function(){for(var i=this.data,e=this.edgeData,r=this.nodes,o=this.edges,a=0,s=r.length;a<s;a++)r[a].dataIndex=-1;for(a=0,s=i.count();a<s;a++)r[i.getRawIndex(a)].dataIndex=a;for(e.filterSelf(function(l){var h=o[e.getRawIndex(l)];return h.node1.dataIndex>=0&&h.node2.dataIndex>=0}),a=0,s=o.length;a<s;a++)o[a].dataIndex=-1;for(a=0,s=e.count();a<s;a++)o[e.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var i=new n(this._directed),e=this.nodes,r=this.edges,o=0;o<e.length;o++)i.addNode(e[o].id,e[o].dataIndex);for(o=0;o<r.length;o++){var a=r[o];i.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return i},n}(),sl=function(){function n(i,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==i?"":i,this.dataIndex=null==e?-1:e}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(i){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(i)},n.prototype.getAdjacentDataIndices=function(){for(var i={edge:[],node:[]},e=0;e<this.edges.length;e++){var r=this.edges[e];r.dataIndex<0||(i.edge.push(r.dataIndex),i.node.push(r.node1.dataIndex,r.node2.dataIndex))}return i},n.prototype.getTrajectoryDataIndices=function(){for(var i=xe(),e=xe(),r=0;r<this.edges.length;r++){var o=this.edges[r];if(!(o.dataIndex<0)){i.set(o.dataIndex,!0);for(var a=[o.node1],s=[o.node2],l=0;l<a.length;){var h=a[l];l++,e.set(h.dataIndex,!0);for(var c=0;c<h.inEdges.length;c++)i.set(h.inEdges[c].dataIndex,!0),a.push(h.inEdges[c].node1)}for(l=0;l<s.length;){var d=s[l];for(l++,e.set(d.dataIndex,!0),c=0;c<d.outEdges.length;c++)i.set(d.outEdges[c].dataIndex,!0),s.push(d.outEdges[c].node2)}}}return{edge:i.keys(),node:e.keys()}},n}(),IT=function(){function n(i,e,r){this.dataIndex=-1,this.node1=i,this.node2=e,this.dataIndex=null==r?-1:r}return n.prototype.getModel=function(i){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(i)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var i=xe(),e=xe();i.set(this.dataIndex,!0);for(var r=[this.node1],o=[this.node2],a=0;a<r.length;){var s=r[a];a++,e.set(s.dataIndex,!0);for(var l=0;l<s.inEdges.length;l++)i.set(s.inEdges[l].dataIndex,!0),r.push(s.inEdges[l].node1)}for(a=0;a<o.length;){var h=o[a];for(a++,e.set(h.dataIndex,!0),l=0;l<h.outEdges.length;l++)i.set(h.outEdges[l].dataIndex,!0),o.push(h.outEdges[l].node2)}return{edge:i.keys(),node:e.keys()}},n}();function DT(n,i){return{getValue:function(e){var r=this[n][i];return r.getStore().get(r.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,r){this.dataIndex>=0&&this[n][i].setItemVisual(this.dataIndex,e,r)},getVisual:function(e){return this[n][i].getItemVisual(this.dataIndex,e)},setLayout:function(e,r){this.dataIndex>=0&&this[n][i].setItemLayout(this.dataIndex,e,r)},getLayout:function(){return this[n][i].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][i].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][i].getRawIndex(this.dataIndex)}}}function AT(n,i,e,r,o){for(var a=new HN(r),s=0;s<n.length;s++)a.addNode(Et(n[s].id,n[s].name,s),s);var l=[],h=[],c=0;for(s=0;s<i.length;s++){var d=i[s],p=d.source,m=d.target;a.addEdge(p,m,c)&&(h.push(d),l.push(Et(On(d.id,null),p+" > "+m)),c++)}var y,_=e.get("coordinateSystem");if("cartesian2d"===_||"polar"===_)y=Bo(n,e);else{var x=ih.get(_),b=x&&x.dimensions||[];ve(b,"value")<0&&b.concat(["value"]);var S=fh(n,{coordDimensions:b,encodeDefine:e.getEncode()}).dimensions;(y=new lr(S,e)).initData(n)}var C=new lr(["value"],e);return C.initData(h,l),o&&o(y,C),$k({mainData:y,struct:a,structAttr:"graph",datas:{node:y,edge:C},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}Ie(sl,DT("hostGraph","data")),Ie(IT,DT("hostGraph","edgeData"));var VN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.hasSymbolVisual=!0,e}return Le(i,n),i.prototype.init=function(e){n.prototype.init.apply(this,arguments);var r=this;function o(){return r._categoriesData}this.legendVisualProvider=new sc(o,o),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},i.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},i.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),_s(e,"edgeLabel",["show"])},i.prototype.getInitialData=function(e,r){var o,a=e.edges||e.links||[],s=e.data||e.nodes||[],l=this;if(s&&a){Yp(o=this)&&(o.__curvenessList=[],o.__edgeMap={},pT(o));var h=AT(s,a,this,!0,function(c,d){c.wrapMethod("getItemModel",function(_){var x=l._categoriesModels[_.getShallow("category")];return x&&(x.parentModel=_.parentModel,_.parentModel=x),_});var p=Li.prototype.getModel;function m(_,x){var b=p.call(this,_,x);return b.resolveParentPath=y,b}function y(_){if(_&&("label"===_[0]||"label"===_[1])){var x=_.slice();return"label"===_[0]?x[0]="edgeLabel":"label"===_[1]&&(x[1]="edgeLabel"),x}return _}d.wrapMethod("getItemModel",function(_){return _.resolveParentPath=y,_.getModel=m,_})});return F(h.edges,function(c){!function(d,p,m,y){if(Yp(m)){var _=xc(d,p,m),x=m.__edgeMap,b=x[fT(_)];x[_]&&!b?x[_].isForward=!0:b&&x[_]&&(b.isForward=!0,x[_].isForward=!1),x[_]=x[_]||[],x[_].push(y)}}(c.node1,c.node2,this,c.dataIndex)},this),h.data}},i.prototype.getGraph=function(){return this.getData().graph},i.prototype.getEdgeData=function(){return this.getGraph().edgeData},i.prototype.getCategoriesData=function(){return this._categoriesData},i.prototype.formatTooltip=function(e,r,o){if("edge"===o){var a=this.getData(),s=this.getDataParams(e,o),l=a.graph.getEdgeByIndex(e),h=a.getName(l.node1.dataIndex),c=a.getName(l.node2.dataIndex),d=[];return null!=h&&d.push(h),null!=c&&d.push(c),Bn("nameValue",{name:d.join(" > "),value:s.value,noValue:null==s.value})}return Lb({series:this,dataIndex:e,multipleSeries:r})},i.prototype._updateCategoriesData=function(){var e=Te(this.option.categories||[],function(o){return null!=o.value?o:Z({value:0},o)}),r=new lr(["value"],this);r.initData(e),this._categoriesData=r,this._categoriesModels=r.mapArray(function(o){return r.getItemModel(o)})},i.prototype.setZoom=function(e){this.option.zoom=e},i.prototype.setCenter=function(e){this.option.center=e},i.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},i.type="series.graph",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},i}(Yi),FN={type:"graphRoam",event:"graphRoam",update:"none"},WN=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},GN=function(n){function i(e){var r=n.call(this,e)||this;return r.type="pointer",r}return Le(i,n),i.prototype.getDefaultShape=function(){return new WN},i.prototype.buildPath=function(e,r){var o=Math.cos,a=Math.sin,s=r.r,l=r.width,h=r.angle,c=r.x-o(h)*l*(l>=s/3?1:2),d=r.y-a(h)*l*(l>=s/3?1:2);h=r.angle-Math.PI/2,e.moveTo(c,d),e.lineTo(r.x+o(h)*l,r.y+a(h)*l),e.lineTo(r.x+o(r.angle)*s,r.y+a(r.angle)*s),e.lineTo(r.x-o(h)*l,r.y-a(h)*l),e.lineTo(c,d)},i}(yi);function $p(n,i){var e=null==n?"":n+"";return i&&(J(i)?e=i.replace("{value}",e):ee(i)&&(e=i(n))),e}var YN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){this.group.removeAll();var l,h,c,d,p,m,a=e.get(["axisLine","lineStyle","color"]),s=(h=o,c=(l=e).get("center"),d=h.getWidth(),p=h.getHeight(),m=Math.min(d,p),{cx:Bt(c[0],h.getWidth()),cy:Bt(c[1],h.getHeight()),r:Bt(l.get("radius"),m/2)});this._renderMain(e,r,o,a,s),this._data=e.getData()},i.prototype.dispose=function(){},i.prototype._renderMain=function(e,r,o,a,s){var l=this.group,h=e.get("clockwise"),c=-e.get("startAngle")/180*Math.PI,d=-e.get("endAngle")/180*Math.PI,p=e.getModel("axisLine"),m=p.get("roundCap")?Tp:ir,y=p.get("show"),_=p.getModel("lineStyle"),x=_.get("width"),b=[c,d];U_(b,!h);for(var S=(d=b[1])-(c=b[0]),C=c,I=[],A=0;y&&A<a.length;A++){var P=new m({shape:{startAngle:C,endAngle:d=c+S*Math.min(Math.max(a[A][0],0),1),cx:s.cx,cy:s.cy,clockwise:h,r0:s.r-x,r:s.r},silent:!0});P.setStyle({fill:a[A][1]}),P.setStyle(_.getLineStyle(["color","width"])),I.push(P),C=d}I.reverse(),F(I,function(E){return l.add(E)});var O=function(E){if(E<=0)return a[0][1];var z;for(z=0;z<a.length;z++)if(a[z][0]>=E&&(0===z?0:a[z-1][0])<E)return a[z][1];return a[z-1][1]};this._renderTicks(e,r,o,O,s,c,d,h,x),this._renderTitleAndDetail(e,r,o,O,s),this._renderAnchor(e,s),this._renderPointer(e,r,o,O,s,c,d,h,x)},i.prototype._renderTicks=function(e,r,o,a,s,l,h,c,d){for(var p,m,y=this.group,_=s.cx,x=s.cy,b=s.r,S=+e.get("min"),C=+e.get("max"),I=e.getModel("splitLine"),A=e.getModel("axisTick"),P=e.getModel("axisLabel"),O=e.get("splitNumber"),E=A.get("splitNumber"),z=Bt(I.get("length"),b),V=Bt(A.get("length"),b),G=l,Y=(h-l)/O,X=Y/E,te=I.getModel("lineStyle").getLineStyle(),ae=A.getModel("lineStyle").getLineStyle(),he=I.get("distance"),fe=0;fe<=O;fe++){if(p=Math.cos(G),m=Math.sin(G),I.get("show")){var ye=new En({shape:{x1:p*(b-(Se=he?he+d:d))+_,y1:m*(b-Se)+x,x2:p*(b-z-Se)+_,y2:m*(b-z-Se)+x},style:te,silent:!0});"auto"===te.stroke&&ye.setStyle({stroke:a(fe/O)}),y.add(ye)}if(P.get("show")){var Se=P.get("distance")+he,Ee=$p(cn(fe/O*(C-S)+S),P.get("formatter")),Re=a(fe/O),ze=p*(b-z-Se)+_,ot=m*(b-z-Se)+x,xt=P.get("rotate"),Ue=0;"radial"===xt?(Ue=-G+2*Math.PI)>Math.PI/2&&(Ue+=Math.PI):"tangential"===xt?Ue=-G-Math.PI/2:Ge(xt)&&(Ue=xt*Math.PI/180),y.add(new Ci(0===Ue?{style:Xi(P,{text:Ee,x:ze,y:ot,verticalAlign:m<-.8?"top":m>.8?"bottom":"middle",align:p<-.4?"left":p>.4?"right":"center"},{inheritColor:Re}),silent:!0}:{style:Xi(P,{text:Ee,x:ze,y:ot,verticalAlign:"middle",align:"center"},{inheritColor:Re}),silent:!0,originX:ze,originY:ot,rotation:Ue}))}if(A.get("show")&&fe!==O){Se=(Se=A.get("distance"))?Se+d:d;for(var pt=0;pt<=E;pt++){p=Math.cos(G),m=Math.sin(G);var bt=new En({shape:{x1:p*(b-Se)+_,y1:m*(b-Se)+x,x2:p*(b-V-Se)+_,y2:m*(b-V-Se)+x},silent:!0,style:ae});"auto"===ae.stroke&&bt.setStyle({stroke:a((fe+pt/E)/O)}),y.add(bt),G+=X}G-=X}else G+=Y}},i.prototype._renderPointer=function(e,r,o,a,s,l,h,c,d){var p=this.group,m=this._data,y=this._progressEls,_=[],x=e.get(["pointer","show"]),b=e.getModel("progress"),S=b.get("show"),C=e.getData(),I=C.mapDimension("value"),A=+e.get("min"),P=+e.get("max"),O=[A,P],E=[l,h];function z(G,Y){var X,te=C.getItemModel(G).getModel("pointer"),ae=Bt(te.get("width"),s.r),he=Bt(te.get("length"),s.r),fe=e.get(["pointer","icon"]),ye=te.get("offsetCenter"),Se=Bt(ye[0],s.r),Ee=Bt(ye[1],s.r),Re=te.get("keepAspect");return(X=fe?vn(fe,Se-ae/2,Ee-he,ae,he,null,Re):new GN({shape:{angle:-Math.PI/2,width:ae,r:he,x:Se,y:Ee}})).rotation=-(Y+Math.PI/2),X.x=s.cx,X.y=s.cy,X}function V(G,Y){var X=b.get("roundCap")?Tp:ir,te=b.get("overlap"),ae=te?b.get("width"):d/C.count(),ye=new X({shape:{startAngle:l,endAngle:Y,cx:s.cx,cy:s.cy,clockwise:c,r0:te?s.r-ae:s.r-(G+1)*ae,r:te?s.r:s.r-G*ae}});return te&&(ye.z2=P-C.get(I,G)%P),ye}(S||x)&&(C.diff(m).add(function(G){var Y=C.get(I,G);if(x){var X=z(G,l);nn(X,{rotation:-((isNaN(+Y)?E[0]:Bi(Y,O,E,!0))+Math.PI/2)},e),p.add(X),C.setItemGraphicEl(G,X)}if(S){var te=V(G,l),ae=b.get("clip");nn(te,{shape:{endAngle:Bi(Y,O,E,ae)}},e),p.add(te),pg(e.seriesIndex,C.dataType,G,te),_[G]=te}}).update(function(G,Y){var X=C.get(I,G);if(x){var te=m.getItemGraphicEl(Y),ae=te?te.rotation:l,he=z(G,ae);he.rotation=ae,Ii(he,{rotation:-((isNaN(+X)?E[0]:Bi(X,O,E,!0))+Math.PI/2)},e),p.add(he),C.setItemGraphicEl(G,he)}if(S){var fe=y[Y],ye=V(G,fe?fe.shape.endAngle:l),Se=b.get("clip");Ii(ye,{shape:{endAngle:Bi(X,O,E,Se)}},e),p.add(ye),pg(e.seriesIndex,C.dataType,G,ye),_[G]=ye}}).execute(),C.each(function(G){var Y=C.getItemModel(G),X=Y.getModel("emphasis"),te=X.get("focus"),ae=X.get("blurScope"),he=X.get("disabled");if(x){var fe=C.getItemGraphicEl(G),ye=C.getItemVisual(G,"style"),Se=ye.fill;if(fe instanceof Rn){var Ee=fe.style;fe.useStyle(Z({image:Ee.image,x:Ee.x,y:Ee.y,width:Ee.width,height:Ee.height},ye))}else fe.useStyle(ye),"pointer"!==fe.type&&fe.setColor(Se);fe.setStyle(Y.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===fe.style.fill&&fe.setStyle("fill",a(Bi(C.get(I,G),O,[0,1],!0))),fe.z2EmphasisLift=0,Xn(fe,Y),dn(fe,te,ae,he)}if(S){var Re=_[G];Re.useStyle(C.getItemVisual(G,"style")),Re.setStyle(Y.getModel(["progress","itemStyle"]).getItemStyle()),Re.z2EmphasisLift=0,Xn(Re,Y),dn(Re,te,ae,he)}}),this._progressEls=_)},i.prototype._renderAnchor=function(e,r){var o=e.getModel("anchor");if(o.get("show")){var a=o.get("size"),s=o.get("icon"),l=o.get("offsetCenter"),h=o.get("keepAspect"),c=vn(s,r.cx-a/2+Bt(l[0],r.r),r.cy-a/2+Bt(l[1],r.r),a,a,null,h);c.z2=o.get("showAbove")?1:0,c.setStyle(o.getModel("itemStyle").getItemStyle()),this.group.add(c)}},i.prototype._renderTitleAndDetail=function(e,r,o,a,s){var l=this,h=e.getData(),c=h.mapDimension("value"),d=+e.get("min"),p=+e.get("max"),m=new ti,y=[],_=[],x=e.isAnimationEnabled(),b=e.get(["pointer","showAbove"]);h.diff(this._data).add(function(S){y[S]=new Ci({silent:!0}),_[S]=new Ci({silent:!0})}).update(function(S,C){y[S]=l._titleEls[C],_[S]=l._detailEls[C]}).execute(),h.each(function(S){var C=h.getItemModel(S),I=h.get(c,S),A=new ti,P=a(Bi(I,[d,p],[0,1],!0)),O=C.getModel("title");if(O.get("show")){var E=O.get("offsetCenter"),z=s.cx+Bt(E[0],s.r),V=s.cy+Bt(E[1],s.r);(ye=y[S]).attr({z2:b?0:2,style:Xi(O,{x:z,y:V,text:h.getName(S),align:"center",verticalAlign:"middle"},{inheritColor:P})}),A.add(ye)}var G=C.getModel("detail");if(G.get("show")){var Y=G.get("offsetCenter"),X=s.cx+Bt(Y[0],s.r),te=s.cy+Bt(Y[1],s.r),ae=Bt(G.get("width"),s.r),he=Bt(G.get("height"),s.r),fe=e.get(["progress","show"])?h.getItemVisual(S,"style").fill:P,ye=_[S],Se=G.get("formatter");ye.attr({z2:b?0:2,style:Xi(G,{x:X,y:te,text:$p(I,Se),width:isNaN(ae)?null:ae,height:isNaN(he)?null:he,align:"center",verticalAlign:"middle"},{inheritColor:fe})}),rx(ye,{normal:G},I,function(Ee){return $p(Ee,Se)}),x&&ox(ye,S,h,e,{getFormattedLabel:function(Ee,Re,ze,ot,xt,Ue){return $p(Ue?Ue.interpolatedValue:I,Se)}}),A.add(ye)}m.add(A)}),this.group.add(m),this._titleEls=y,this._detailEls=_},i.type="gauge",i}(Hi),$N=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.visualStyleAccessPath="itemStyle",e}return Le(i,n),i.prototype.getInitialData=function(e,r){return xh(this,["value"])},i.type="series.gauge",i.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},i}(Yi),UN=["itemStyle","opacity"],qN=function(n){function i(e,r){var o=n.call(this)||this,a=o,s=new rr,l=new Ci;return a.setTextContent(l),o.setTextGuideLine(s),o.updateData(e,r,!0),o}return Le(i,n),i.prototype.updateData=function(e,r,o){var a=this,s=e.hostModel,l=e.getItemModel(r),h=e.getItemLayout(r),c=l.getModel("emphasis"),d=l.get(UN);d=null==d?1:d,o||go(a),a.useStyle(e.getItemVisual(r,"style")),a.style.lineJoin="round",o?(a.setShape({points:h.points}),a.style.opacity=0,nn(a,{style:{opacity:d}},s,r)):Ii(a,{style:{opacity:d},shape:{points:h.points}},s,r),Xn(a,l),this._updateLabel(e,r),dn(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},i.prototype._updateLabel=function(e,r){var o=this,a=this.getTextGuideLine(),s=o.getTextContent(),l=e.hostModel,h=e.getItemModel(r),c=e.getItemLayout(r).label,d=e.getItemVisual(r,"style"),p=d.fill;Kn(s,zn(h),{labelFetcher:e.hostModel,labelDataIndex:r,defaultOpacity:d.opacity,defaultText:e.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),o.setTextConfig({local:!0,inside:!!c.inside,insideStroke:p,outsideFill:p});var m=c.linePoints;a.setShape({points:m}),o.textGuideLineConfig={anchor:m?new li(m[0][0],m[0][1]):null},Ii(s,{style:{x:c.x,y:c.y}},l,r),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),sv(o,lv(h),{stroke:p})},i}(nr),XN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.ignoreLabelLineUpdate=!0,e}return Le(i,n),i.prototype.render=function(e,r,o){var a=e.getData(),s=this._data,l=this.group;a.diff(s).add(function(h){var c=new qN(a,h);a.setItemGraphicEl(h,c),l.add(c)}).update(function(h,c){var d=s.getItemGraphicEl(c);d.updateData(a,h),l.add(d),a.setItemGraphicEl(h,d)}).remove(function(h){_u(s.getItemGraphicEl(h),e,h)}).execute(),this._data=a},i.prototype.remove=function(){this.group.removeAll(),this._data=null},i.prototype.dispose=function(){},i.type="funnel",i}(Hi),KN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new sc(De(this.getData,this),De(this.getRawData,this)),this._defaultLabelLine(e)},i.prototype.getInitialData=function(e,r){return xh(this,{coordDimensions:["value"],encodeDefaulter:Q(Zg,this)})},i.prototype._defaultLabelLine=function(e){_s(e,"labelLine",["show"]);var r=e.labelLine,o=e.emphasis.labelLine;r.show=r.show&&e.label.show,o.show=o.show&&e.emphasis.label.show},i.prototype.getDataParams=function(e){var r=this.getData(),o=n.prototype.getDataParams.call(this,e),a=r.mapDimension("value"),s=r.getSum(a);return o.percent=s?+(r.get(a,e)/s*100).toFixed(2):0,o.$vars.push("percent"),o},i.type="series.funnel",i.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},i}(Yi);function ZN(n,i){n.eachSeriesByType("funnel",function(e){var ae,r=e.getData(),o=r.mapDimension("value"),a=e.get("sort"),s=(ae=i,Tn(e.getBoxLayoutParams(),{width:ae.getWidth(),height:ae.getHeight()})),l=e.get("orient"),h=s.width,c=s.height,d=function(te,ae){for(var he=te.mapDimension("value"),fe=te.mapArray(he,function(ze){return ze}),ye=[],Se="ascending"===ae,Ee=0,Re=te.count();Ee<Re;Ee++)ye[Ee]=Ee;return ee(ae)?ye.sort(ae):"none"!==ae&&ye.sort(function(ze,ot){return Se?fe[ze]-fe[ot]:fe[ot]-fe[ze]}),ye}(r,a),p=s.x,m=s.y,y="horizontal"===l?[Bt(e.get("minSize"),c),Bt(e.get("maxSize"),c)]:[Bt(e.get("minSize"),h),Bt(e.get("maxSize"),h)],_=r.getDataExtent(o),x=e.get("min"),b=e.get("max");null==x&&(x=Math.min(_[0],0)),null==b&&(b=_[1]);var S=e.get("funnelAlign"),C=e.get("gap"),I=(("horizontal"===l?h:c)-C*(r.count()-1))/r.count(),A=function(te,ae){if("horizontal"===l){var he=Bi(r.get(o,te)||0,[x,b],y,!0),fe=void 0;switch(S){case"top":fe=m;break;case"center":fe=m+(c-he)/2;break;case"bottom":fe=m+(c-he)}return[[ae,fe],[ae,fe+he]]}var ye,Se=Bi(r.get(o,te)||0,[x,b],y,!0);switch(S){case"left":ye=p;break;case"center":ye=p+(h-Se)/2;break;case"right":ye=p+h-Se}return[[ye,ae],[ye+Se,ae]]};"ascending"===a&&(I=-I,C=-C,"horizontal"===l?p+=h:m+=c,d=d.reverse());for(var P=0;P<d.length;P++){var O=d[P],E=d[P+1],z=r.getItemModel(O);if("horizontal"===l){var V=z.get(["itemStyle","width"]);null==V?V=I:(V=Bt(V,h),"ascending"===a&&(V=-V));var G=A(O,p),Y=A(E,p+V);p+=V+C,r.setItemLayout(O,{points:G.concat(Y.slice().reverse())})}else{var X=z.get(["itemStyle","height"]);null==X?X=I:(X=Bt(X,c),"ascending"===a&&(X=-X)),G=A(O,m),Y=A(E,m+X),m+=X+C,r.setItemLayout(O,{points:G.concat(Y.slice().reverse())})}}!function(te){var ae=te.hostModel.get("orient");te.each(function(he){var fe,ye,Se,Ee,Re=te.getItemModel(he),ze=Re.getModel("label").get("position"),ot=Re.getModel("labelLine"),xt=te.getItemLayout(he),Ue=xt.points,pt="inner"===ze||"inside"===ze||"center"===ze||"insideLeft"===ze||"insideRight"===ze;if(pt)"insideLeft"===ze?(ye=(Ue[0][0]+Ue[3][0])/2+5,Se=(Ue[0][1]+Ue[3][1])/2,fe="left"):"insideRight"===ze?(ye=(Ue[1][0]+Ue[2][0])/2-5,Se=(Ue[1][1]+Ue[2][1])/2,fe="right"):(ye=(Ue[0][0]+Ue[1][0]+Ue[2][0]+Ue[3][0])/4,Se=(Ue[0][1]+Ue[1][1]+Ue[2][1]+Ue[3][1])/4,fe="center"),Ee=[[ye,Se],[ye,Se]];else{var bt=void 0,Mt=void 0,yt=void 0,Dt=void 0,St=ot.get("length");"left"===ze?(Mt=(Ue[3][1]+Ue[0][1])/2,ye=(yt=(bt=(Ue[3][0]+Ue[0][0])/2)-St)-5,fe="right"):"right"===ze?(Mt=(Ue[1][1]+Ue[2][1])/2,ye=(yt=(bt=(Ue[1][0]+Ue[2][0])/2)+St)+5,fe="left"):"top"===ze?(bt=(Ue[3][0]+Ue[0][0])/2,Se=(Dt=(Mt=(Ue[3][1]+Ue[0][1])/2)-St)-5,fe="center"):"bottom"===ze?(bt=(Ue[1][0]+Ue[2][0])/2,Se=(Dt=(Mt=(Ue[1][1]+Ue[2][1])/2)+St)+5,fe="center"):"rightTop"===ze?(bt="horizontal"===ae?Ue[3][0]:Ue[1][0],Mt="horizontal"===ae?Ue[3][1]:Ue[1][1],"horizontal"===ae?(Se=(Dt=Mt-St)-5,fe="center"):(ye=(yt=bt+St)+5,fe="top")):"rightBottom"===ze?(bt=Ue[2][0],Mt=Ue[2][1],"horizontal"===ae?(Se=(Dt=Mt+St)+5,fe="center"):(ye=(yt=bt+St)+5,fe="bottom")):"leftTop"===ze?(bt=Ue[0][0],Mt="horizontal"===ae?Ue[0][1]:Ue[1][1],"horizontal"===ae?(Se=(Dt=Mt-St)-5,fe="center"):(ye=(yt=bt-St)-5,fe="right")):"leftBottom"===ze?(bt="horizontal"===ae?Ue[1][0]:Ue[3][0],Mt="horizontal"===ae?Ue[1][1]:Ue[2][1],"horizontal"===ae?(Se=(Dt=Mt+St)+5,fe="center"):(ye=(yt=bt-St)-5,fe="right")):(bt=(Ue[1][0]+Ue[2][0])/2,Mt=(Ue[1][1]+Ue[2][1])/2,"horizontal"===ae?(Se=(Dt=Mt+St)+5,fe="center"):(ye=(yt=bt+St)+5,fe="left")),"horizontal"===ae?ye=yt=bt:Se=Dt=Mt,Ee=[[bt,Mt],[yt,Dt]]}xt.label={linePoints:Ee,x:ye,y:Se,verticalAlign:"middle",textAlign:fe,inside:pt}})}(r)})}var QN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e._dataGroup=new ti,e._initialized=!1,e}return Le(i,n),i.prototype.init=function(){this.group.add(this._dataGroup)},i.prototype.render=function(e,r,o,a){this._progressiveEls=null;var y,_,b,S,C,I,s=this._dataGroup,l=e.getData(),h=this._data,c=e.coordinateSystem,d=c.dimensions,p=OT(e);if(l.diff(h).add(function(y){Iy(PT(l,s,y,d,c),l,y,p)}).update(function(y,_){var x=h.getItemGraphicEl(_),b=LT(l,y,d,c);l.setItemGraphicEl(y,x),Ii(x,{shape:{points:b}},e,y),go(x),Iy(x,l,y,p)}).remove(function(y){var _=h.getItemGraphicEl(y);s.remove(_)}).execute(),!this._initialized){this._initialized=!0;var m=(_=e,b=(y=c).model,S=y.getRect(),C=new Si({shape:{x:S.x,y:S.y,width:S.width,height:S.height}}),I="horizontal"===b.get("layout")?"width":"height",C.setShape(I,0),nn(C,{shape:{width:S.width,height:S.height}},_,function(){setTimeout(function(){s.removeClipPath()})}),C);s.setClipPath(m)}this._data=l},i.prototype.incrementalPrepareRender=function(e,r,o){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},i.prototype.incrementalRender=function(e,r,o){for(var a=r.getData(),s=r.coordinateSystem,l=s.dimensions,h=OT(r),c=this._progressiveEls=[],d=e.start;d<e.end;d++){var p=PT(a,this._dataGroup,d,l,s);p.incremental=!0,Iy(p,a,d,h),c.push(p)}},i.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},i.type="parallel",i}(Hi);function LT(n,i,e,r){for(var o,a=[],s=0;s<e.length;s++){var l=e[s],h=n.get(n.mapDimension(l),i);o=h,("category"===r.getAxis(l).type?null==o:null==o||isNaN(o))||a.push(r.dataToPoint(h,l))}return a}function PT(n,i,e,r,o){var a=LT(n,e,r,o),s=new rr({shape:{points:a},z2:10});return i.add(s),n.setItemGraphicEl(e,s),s}function OT(n){var i=n.get("smooth",!0);return!0===i&&(i=.3),Ht(i=Do(i))&&(i=0),{smooth:i}}function Iy(n,i,e,r){n.useStyle(i.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",r.smooth);var o=i.getItemModel(e),a=o.getModel("emphasis");Xn(n,o,"lineStyle"),dn(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}var JN=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return Le(i,n),i.prototype.getInitialData=function(e,r){return Bo(null,this,{useEncodeDefaulter:De(eR,null,this)})},i.prototype.getRawIndicesByActiveState=function(e){var r=this.coordinateSystem,o=this.getData(),a=[];return r.eachActiveState(o,function(s,l){e===s&&a.push(o.getRawIndex(l))}),a},i.type="series.parallel",i.dependencies=["parallel"],i.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},i}(Yi);function eR(n){var i=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(i){var e={};return F(i.dimensions,function(r){var o=+r.replace("dim","");e[r]=o}),e}}var tR=["lineStyle","opacity"],iR={seriesType:"parallel",reset:function(n,i){var e=n.coordinateSystem,r={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(o,a){e.eachActiveState(a,function(s,l){var h=r[s];if("normal"===s&&a.hasItemOption){var c=a.getItemModel(l).get(tR,!0);null!=c&&(h=c)}a.ensureUniqueItemVisual(l,"style").opacity=h},o.start,o.end)}}}};function nR(n){(function(i){if(!i.parallel){var e=!1;F(i.series,function(r){r&&"parallel"===r.type&&(e=!0)}),e&&(i.parallel=[{}])}})(n),function(i){F(Gi(i.parallelAxis),function(r){if(Pe(r)){var o=r.parallelIndex||0,a=Gi(i.parallel)[o];a&&a.parallelAxisDefault&&q(r,a.parallelAxisDefault,!1)}})}(n)}var rR=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){this._model=e,this._api=o,this._handlers||(this._handlers={},F(oR,function(a,s){o.getZr().on(s,this._handlers[s]=De(a,this))},this)),lh(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},i.prototype.dispose=function(e,r){Nu(this,"_throttledDispatchExpand"),F(this._handlers,function(o,a){r.getZr().off(a,o)}),this._handlers=null},i.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},i.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Z({type:"parallelAxisExpand"},e))},i.type="parallel",i}(Qi),oR={mousedown:function(n){Dy(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var i=this._mouseDownPoint;if(Dy(this,"click")&&i){var e=[n.offsetX,n.offsetY];if(Math.pow(i[0]-e[0],2)+Math.pow(i[1]-e[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&Dy(this,"mousemove")){var i=this._model,e=i.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=e.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(i.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function Dy(n,i){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===i}var aR=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},i.prototype.mergeOption=function(e){e&&q(this.option,e,!0),this._initDimensions()},i.prototype.contains=function(e,r){var o=e.get("parallelIndex");return null!=o&&r.getComponent("parallel",o)===this},i.prototype.setAxisExpand=function(e){F(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){e.hasOwnProperty(r)&&(this.option[r]=e[r])},this)},i.prototype._initDimensions=function(){var e=this.dimensions=[],r=this.parallelAxisIndex=[];F(tt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this),function(o){e.push("dim"+o.get("dim")),r.push(o.componentIndex)})},i.type="parallel",i.dependencies=["parallelAxis"],i.layoutMode="box",i.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},i}(_i),sR=function(n){function i(e,r,o,a,s){var l=n.call(this,e,r,o)||this;return l.type=a||"value",l.axisIndex=s,l}return Le(i,n),i.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},i}(Zr);function ll(n,i,e,r,o,a){n=n||0;var s=e[1]-e[0];if(null!=o&&(o=Th(o,[0,s])),null!=a&&(a=Math.max(a,null!=o?o:0)),"all"===r){var l=Math.abs(i[1]-i[0]);l=Th(l,[0,s]),o=a=Th(l,[o,a]),r=0}i[0]=Th(i[0],e),i[1]=Th(i[1],e);var h=Ay(i,r);i[r]+=n;var c,d=o||0,p=e.slice();return h.sign<0?p[0]+=d:p[1]-=d,i[r]=Th(i[r],p),c=Ay(i,r),null!=o&&(c.sign!==h.sign||c.span<o)&&(i[1-r]=i[r]+h.sign*o),c=Ay(i,r),null!=a&&c.span>a&&(i[1-r]=i[r]+c.sign*a),i}function Ay(n,i){var e=n[i]-n[1-i];return{span:Math.abs(e),sign:e>0?-1:e<0?1:i?-1:1}}function Th(n,i){return Math.min(null!=i[1]?i[1]:1/0,Math.max(null!=i[0]?i[0]:-1/0,n))}var Ly=F,ET=Math.min,NT=Math.max,RT=Math.floor,lR=Math.ceil,zT=cn,hR=Math.PI,uR=function(){function n(i,e,r){this.type="parallel",this._axesMap=xe(),this._axesLayout={},this.dimensions=i.dimensions,this._model=i,this._init(i,e,r)}return n.prototype._init=function(i,e,r){var a=i.parallelAxisIndex;Ly(i.dimensions,function(s,l){var h=a[l],c=e.getComponent("parallelAxis",h),d=this._axesMap.set(s,new sR(s,qu(c),[0,0],c.get("type"),h));d.onBand="category"===d.type&&c.get("boundaryGap"),d.inverse=c.get("inverse"),c.axis=d,d.model=c,d.coordinateSystem=c.coordinateSystem=this},this)},n.prototype.update=function(i,e){this._updateAxesFromSeries(this._model,i)},n.prototype.containPoint=function(i){var e=this._makeLayoutInfo(),r=e.axisBase,o=e.layoutBase,a=e.pixelDimIndex,s=i[1-a],l=i[a];return s>=r&&s<=r+e.axisLength&&l>=o&&l<=o+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(i,e){e.eachSeries(function(r){if(i.contains(r,e)){var o=r.getData();Ly(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(o,o.mapDimension(a)),Us(s.scale,s.model)},this)}},this)},n.prototype.resize=function(i,e){this._rect=Tn(i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var i,e=this._model,r=this._rect,o=["x","y"],a=["width","height"],s=e.get("layout"),l="horizontal"===s?0:1,h=r[a[l]],c=[0,h],d=this.dimensions.length,p=Up(e.get("axisExpandWidth"),c),m=Up(e.get("axisExpandCount")||0,[0,d]),y=e.get("axisExpandable")&&d>3&&d>m&&m>1&&p>0&&h>0,_=e.get("axisExpandWindow");_?(i=Up(_[1]-_[0],c),_[1]=_[0]+i):(i=Up(p*(m-1),c),(_=[p*(e.get("axisExpandCenter")||RT(d/2))-i/2])[1]=_[0]+i);var x=(h-i)/(d-m);x<3&&(x=0);var b=[RT(zT(_[0]/p,1))+1,lR(zT(_[1]/p,1))-1];return{layout:s,pixelDimIndex:l,layoutBase:r[o[l]],layoutLength:h,axisBase:r[o[1-l]],axisLength:r[a[1-l]],axisExpandable:y,axisExpandWidth:p,axisCollapseWidth:x,axisExpandWindow:_,axisCount:d,winInnerIndices:b,axisExpandWindow0Pos:x/p*_[0]}},n.prototype._layoutAxes=function(){var i=this._rect,e=this._axesMap,r=this.dimensions,o=this._makeLayoutInfo(),a=o.layout;e.each(function(s){var l=[0,o.axisLength],h=s.inverse?1:0;s.setExtent(l[h],l[1-h])}),Ly(r,function(s,l){var h=(o.axisExpandable?dR:cR)(l,o),c={horizontal:{x:h.position,y:o.axisLength},vertical:{x:0,y:h.position}},p=[c[a].x+i.x,c[a].y+i.y],m={horizontal:hR/2,vertical:0}[a],y=[1,0,0,1,0,0];oo(y,y,m),Gn(y,y,p),this._axesLayout[s]={position:p,rotation:m,transform:y,axisNameAvailableWidth:h.axisNameAvailableWidth,axisLabelShow:h.axisLabelShow,nameTruncateMaxWidth:h.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(i){return this._axesMap.get(i)},n.prototype.dataToPoint=function(i,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(i),e)},n.prototype.eachActiveState=function(i,e,r,o){null==r&&(r=0),null==o&&(o=i.count());var a=this._axesMap,s=this.dimensions,l=[],h=[];F(s,function(x){l.push(i.mapDimension(x)),h.push(a.get(x).model)});for(var c=this.hasAxisBrushed(),d=r;d<o;d++){var p=void 0;if(c){p="active";for(var m=i.getValues(l,d),y=0,_=s.length;y<_;y++)if("inactive"===h[y].getActiveState(m[y])){p="inactive";break}}else p="normal";e(p,d)}},n.prototype.hasAxisBrushed=function(){for(var i=this.dimensions,e=this._axesMap,r=!1,o=0,a=i.length;o<a;o++)"normal"!==e.get(i[o]).model.getActiveState()&&(r=!0);return r},n.prototype.axisCoordToPoint=function(i,e){return mo([i,0],this._axesLayout[e].transform)},n.prototype.getAxisLayout=function(i){return H(this._axesLayout[i])},n.prototype.getSlidedAxisExpandWindow=function(i){var e=this._makeLayoutInfo(),r=e.pixelDimIndex,o=e.axisExpandWindow.slice(),a=o[1]-o[0],s=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(i))return{behavior:"none",axisExpandWindow:o};var l,h=i[r]-e.layoutBase-e.axisExpandWindow0Pos,c="slide",d=e.axisCollapseWidth,p=this._model.get("axisExpandSlideTriggerArea"),m=null!=p[0];if(d)m&&d&&h<a*p[0]?(c="jump",l=h-a*p[2]):m&&d&&h>a*(1-p[0])?(c="jump",l=h-a*(1-p[2])):(l=h-a*p[1])>=0&&(l=h-a*(1-p[1]))<=0&&(l=0),(l*=e.axisExpandWidth/d)?ll(l,o,s,"all"):c="none";else{var y=o[1]-o[0];(o=[NT(0,s[1]*h/y-y/2)])[1]=ET(s[1],o[0]+y),o[0]=o[1]-y}return{axisExpandWindow:o,behavior:c}},n}();function Up(n,i){return ET(NT(n,i[0]),i[1])}function cR(n,i){var e=i.layoutLength/(i.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function dR(n,i){var e,r,a=i.axisExpandWidth,l=i.axisCollapseWidth,h=i.winInnerIndices,c=l,d=!1;return n<h[0]?(e=n*l,r=l):n<=h[1]?(e=i.axisExpandWindow0Pos+n*a-i.axisExpandWindow[0],c=a,d=!0):(e=i.layoutLength-(i.axisCount-1-n)*l,r=l),{position:e,axisNameAvailableWidth:c,axisLabelShow:d,nameTruncateMaxWidth:r}}var pR={create:function(n,i){var e=[];return n.eachComponent("parallel",function(r,o){var a=new uR(r,n,i);a.name="parallel_"+o,a.resize(r,i),r.coordinateSystem=a,a.model=r,e.push(a)}),n.eachSeries(function(r){if("parallel"===r.get("coordinateSystem")){var o=r.getReferringComponents("parallel",kn).models[0];r.coordinateSystem=o.coordinateSystem}}),e}},Py=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.activeIntervals=[],e}return Le(i,n),i.prototype.getAreaSelectStyle=function(){return ws([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},i.prototype.setActiveIntervals=function(e){var r=this.activeIntervals=H(e);if(r)for(var o=r.length-1;o>=0;o--)zr(r[o])},i.prototype.getActiveState=function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===r.length){var o=r[0];if(o[0]<=e&&e<=o[1])return"active"}else for(var a=0,s=r.length;a<s;a++)if(r[a][0]<=e&&e<=r[a][1])return"active";return"inactive"},i}(_i);Ie(Py,mh);var hl=!0,Sc=Math.min,Mh=Math.max,fR=Math.pow,gR={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},mR={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},jT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},vR=0,Oy=function(n){function i(e){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=e,r.group=new ti,r._uid="brushController_"+vR++,F(_R,function(o,a){this._handlers[a]=De(o,this)},r),r}return Le(i,n),i.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},i.prototype._doEnableBrush=function(e){var s,r=this._zr;this._enableGlobalPan||(s=this._uid,jv(r).globalPan=s),F(this._handlers,function(o,a){r.on(a,o)}),this._brushType=e.brushType,this._brushOption=q(H(jT),e,!0)},i.prototype._doDisableBrush=function(){var o,a,s,e=this._zr;o="globalPan",a=this._uid,(s=jv(e))[o]===a&&(s[o]=null),F(this._handlers,function(r,o){e.off(o,r)}),this._brushType=this._brushOption=null},i.prototype.setPanels=function(e){if(e&&e.length){var r=this._panels={};F(e,function(o){r[o.panelId]=H(o)})}else this._panels=null;return this},i.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=r.getLocalTransform(),this},i.prototype.updateCovers=function(e){e=Te(e,function(c){return q(H(jT),c,!0)});var r=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new da(r,e,function(c,d){return l(c.__brushOption,d)},l).add(h).update(h).remove(function(c){r[c]!==s&&a.group.remove(r[c])}).execute(),this;function l(c,d){return(null!=c.id?c.id:"\0-brush-index-"+d)+"-"+c.brushType}function h(c,d){var p=e[c];if(null!=d&&r[d]===s)o[c]=r[d];else{var m=o[c]=null!=d?(r[d].__brushOption=p,r[d]):VT(a,HT(a,p));Ey(a,m)}}},i.prototype.unmount=function(){return this.enableBrush(!1),zy(this),this._zr.remove(this.group),this},i.prototype.dispose=function(){this.unmount(),this.off()},i}(Sn);function HT(n,i){var e=qp[i.brushType].createCover(n,i);return e.__brushOption=i,WT(e,i),n.group.add(e),e}function VT(n,i){var e=Ny(i);return e.endCreating&&(e.endCreating(n,i),WT(i,i.__brushOption)),i}function FT(n,i){var e=i.__brushOption;Ny(i).updateCoverShape(n,i,e.range,e)}function WT(n,i){var e=i.z;null==e&&(e=1e4),n.traverse(function(r){r.z=e,r.z2=e})}function Ey(n,i){Ny(i).updateCommon(n,i),FT(n,i)}function Ny(n){return qp[n.__brushOption.brushType]}function Ry(n,i,e){var r,o=n._panels;if(!o)return hl;var a=n._transform;return F(o,function(s){s.isTargetByCursor(i,e,a)&&(r=s)}),r}function GT(n,i){var e=n._panels;if(!e)return hl;var r=i.__brushOption.panelId;return null!=r?e[r]:hl}function zy(n){var i=n._covers,e=i.length;return F(i,function(r){n.group.remove(r)},n),i.length=0,!!e}function ul(n,i){var e=Te(n._covers,function(r){var o=r.__brushOption,a=H(o.range);return{brushType:o.brushType,panelId:o.panelId,range:a}});n.trigger("brush",{areas:e,isEnd:!!i.isEnd,removeOnClick:!!i.removeOnClick})}function YT(n){var i=n.length-1;return i<0&&(i=0),[n[0],n[i]]}function $T(n,i,e,r){var o=new ti;return o.add(new Si({name:"main",style:jy(e),silent:!0,draggable:!0,cursor:"move",drift:Q(XT,n,i,o,["n","s","w","e"]),ondragend:Q(ul,i,{isEnd:!0})})),F(r,function(a){o.add(new Si({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Q(XT,n,i,o,a),ondragend:Q(ul,i,{isEnd:!0})}))}),o}function UT(n,i,e,r){var o=r.brushStyle.lineWidth||0,a=Mh(o,6),s=e[0][0],l=e[1][0],h=s-o/2,c=l-o/2,d=e[0][1],p=e[1][1],m=d-a+o/2,y=p-a+o/2,_=d-s,x=p-l,b=_+o,S=x+o;ga(n,i,"main",s,l,_,x),r.transformable&&(ga(n,i,"w",h,c,a,S),ga(n,i,"e",m,c,a,S),ga(n,i,"n",h,c,b,a),ga(n,i,"s",h,y,b,a),ga(n,i,"nw",h,c,a,a),ga(n,i,"ne",m,c,a,a),ga(n,i,"sw",h,y,a,a),ga(n,i,"se",m,y,a,a))}function By(n,i){var e=i.__brushOption,r=e.transformable,o=i.childAt(0);o.useStyle(jy(e)),o.attr({silent:!r,cursor:r?"move":"default"}),F([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var h,c,d,s=i.childOfName(a.join("")),l=1===a.length?Hy(n,a[0]):(("e"===(d=[Hy(h=n,(c=a)[0]),Hy(h,c[1])])[0]||"w"===d[0])&&d.reverse(),d.join(""));s&&s.attr({silent:!r,invisible:!r,cursor:r?mR[l]+"-resize":null})})}function ga(n,i,e,r,o,a,s){var h,c,d,l=i.childOfName(e);l&&l.setShape((h=Vy(n,i,[[r,o],[r+a,o+s]]),{x:c=Sc(h[0][0],h[1][0]),y:d=Sc(h[0][1],h[1][1]),width:Mh(h[0][0],h[1][0])-c,height:Mh(h[0][1],h[1][1])-d}))}function jy(n){return de({strokeNoScale:!0},n.brushStyle)}function qT(n,i,e,r){var o=[Sc(n,e),Sc(i,r)],a=[Mh(n,e),Mh(i,r)];return[[o[0],a[0]],[o[1],a[1]]]}function Hy(n,i){return{left:"w",right:"e",top:"n",bottom:"s"}[xd({w:"left",e:"right",n:"top",s:"bottom"}[i],ja(n.group))]}function XT(n,i,e,r,o,a){var s=e.__brushOption,l=n.toRectRange(s.range),h=KT(i,o,a);F(r,function(c){var d=gR[c];l[d[0]][d[1]]+=h[d[0]]}),s.range=n.fromRectRange(qT(l[0][0],l[1][0],l[0][1],l[1][1])),Ey(i,e),ul(i,{isEnd:!1})}function yR(n,i,e,r){var o=i.__brushOption.range,a=KT(n,e,r);F(o,function(s){s[0]+=a[0],s[1]+=a[1]}),Ey(n,i),ul(n,{isEnd:!1})}function KT(n,i,e){var r=n.group,o=r.transformCoordToLocal(i,e),a=r.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function Vy(n,i,e){var r=GT(n,i);return r&&r!==hl?r.clipPath(e,n._transform):H(e)}function Fy(n){var i=n.event;i.preventDefault&&i.preventDefault()}function Wy(n,i,e){return n.childOfName("main").contain(i,e)}function ZT(n,i,e,r){var o,a=n._creatingCover,s=n._creatingPanel,l=n._brushOption;if(n._track.push(e.slice()),function(d){var p=d._track;if(!p.length)return!1;var m=p[p.length-1],y=p[0],_=m[0]-y[0],x=m[1]-y[1];return fR(_*_+x*x,.5)>6}(n)||a){if(s&&!a){"single"===l.brushMode&&zy(n);var h=H(l);h.brushType=QT(h.brushType,s),h.panelId=s===hl?null:s.panelId,a=n._creatingCover=HT(n,h),n._covers.push(a)}if(a){var c=qp[QT(n._brushType,s)];a.__brushOption.range=c.getCreatingRange(Vy(n,a,n._track)),r&&(VT(n,a),c.updateCommon(n,a)),FT(n,a),o={isEnd:r}}}else r&&"single"===l.brushMode&&l.removeOnClick&&Ry(n,i,e)&&zy(n)&&(o={isEnd:r,removeOnClick:!0});return o}function QT(n,i){return"auto"===n?i.defaultBrushType:n}var _R={mousedown:function(n){if(this._dragging)JT(this,n);else if(!n.target||!n.target.draggable){Fy(n);var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=Ry(this,n,i))&&(this._dragging=!0,this._track=[i.slice()])}},mousemove:function(n){var r=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(a,s,l){if(a._brushType&&(x=s.offsetY,b=a._zr,!((_=s.offsetX)<0||_>b.getWidth()||x<0||x>b.getHeight()))){var h=a._zr,c=a._covers,d=Ry(a,s,l);if(!a._dragging)for(var p=0;p<c.length;p++){var m=c[p].__brushOption;if(d&&(d===hl||m.panelId===d.panelId)&&qp[m.brushType].contain(c[p],l[0],l[1]))return}d&&h.setCursorStyle("crosshair")}var _,x,b}(this,n,r),this._dragging){Fy(n);var o=ZT(this,n,r,!1);o&&ul(this,o)}},mouseup:function(n){JT(this,n)}};function JT(n,i){if(n._dragging){Fy(i);var o=n.group.transformCoordToLocal(i.offsetX,i.offsetY),a=ZT(n,i,o,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&ul(n,a)}}var qp={lineX:eM(0),lineY:eM(1),rect:{createCover:function(n,i){function e(r){return r}return $T({toRectRange:e,fromRectRange:e},n,i,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var i=YT(n);return qT(i[1][0],i[1][1],i[0][0],i[0][1])},updateCoverShape:function(n,i,e,r){UT(n,i,e,r)},updateCommon:By,contain:Wy},polygon:{createCover:function(n,i){var e=new ti;return e.add(new rr({name:"main",style:jy(i),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,i){i.remove(i.childAt(0)),i.add(new nr({name:"main",draggable:!0,drift:Q(yR,n,i),ondragend:Q(ul,n,{isEnd:!0})}))},updateCoverShape:function(n,i,e,r){i.childAt(0).setShape({points:Vy(n,i,e)})},updateCommon:By,contain:Wy}};function eM(n){return{createCover:function(i,e){return $T({toRectRange:function(r){var o=[r,[0,100]];return n&&o.reverse(),o},fromRectRange:function(r){return r[n]}},i,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(i){var e=YT(i);return[Sc(e[0][n],e[1][n]),Mh(e[0][n],e[1][n])]},updateCoverShape:function(i,e,r,o){var a,s=GT(i,e);if(s!==hl&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(n);else{var l=i._zr;a=[0,[l.getWidth(),l.getHeight()][1-n]]}var h=[r,a];n&&h.reverse(),UT(i,e,h,o)},updateCommon:By,contain:Wy}}function tM(n){return n=Gy(n),function(i){return Pg(i,n)}}function iM(n,i){return n=Gy(n),function(e){var r=null!=i?i:e,a=r?n.x:n.y;return[a,a+((r?n.width:n.height)||0)]}}function nM(n,i,e){var r=Gy(n);return function(o,a){return r.contain(a[0],a[1])&&!Op(o,i,e)}}function Gy(n){return ai.create(n)}var xR=["axisLine","axisTickLabel","axisName"],bR=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(e,r){n.prototype.init.apply(this,arguments),(this._brushController=new Oy(r.getZr())).on("brush",De(this._onBrush,this))},i.prototype.render=function(e,r,o,a){if(_=e,!(b=a)||"axisAreaSelect"!==b.type||r.findComponents({mainType:"parallelAxis",query:b})[0]!==_){this.axisModel=e,this.api=o,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new ti,this.group.add(this._axisGroup),e.get("show")){var l=function(_,x){return x.getComponent("parallel",_.get("parallelIndex"))}(e,r),h=l.coordinateSystem,c=e.getAreaSelectStyle(),d=c.width,m=Z({strokeContainThreshold:d},h.getAxisLayout(e.axis.dim)),y=new yr(e,m);F(xR,y.add,y),this._axisGroup.add(y.getGroup()),this._refreshBrushController(m,c,e,l,d,o),bu(s,this._axisGroup,e)}}var _,b},i.prototype._refreshBrushController=function(e,r,o,a,s,l){var m,y,h=o.axis.getExtent(),c=h[1]-h[0],d=Math.min(30,.1*Math.abs(c)),p=ai.create({x:h[0],y:-s/2,width:c,height:s});p.x-=d,p.width+=2*d,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:tM(p),isTargetByCursor:nM(p,l,a),getLinearBrushOtherExtent:iM(p,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers((y=(m=o).axis,Te(m.activeIntervals,function(_){return{brushType:"lineX",panelId:"pl",range:[y.dataToCoord(_[0],!0),y.dataToCoord(_[1],!0)]}})))},i.prototype._onBrush=function(e){var o=this.axisModel,a=o.axis,s=Te(e.areas,function(l){return[a.coordToData(l.range[0],!0),a.coordToData(l.range[1],!0)]});(!o.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:o.id,intervals:s})},i.prototype.dispose=function(){this._brushController.dispose()},i.type="parallelAxis",i}(Qi),wR={type:"axisAreaSelect",event:"axisAreaSelected"},SR={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function rM(n){n.registerComponentView(rR),n.registerComponentModel(aR),n.registerCoordinateSystem("parallel",pR),n.registerPreprocessor(nR),n.registerComponentModel(Py),n.registerComponentView(bR),bh(n,"parallel",Py,SR),function(i){i.registerAction(wR,function(e,r){r.eachComponent({mainType:"parallelAxis",query:e},function(o){o.axis.model.setActiveIntervals(e.intervals)})}),i.registerAction("parallelAxisExpand",function(e,r){r.eachComponent({mainType:"parallel",query:e},function(o){o.setAxisExpand(e)})})}(n)}var CR=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},kR=function(n){function i(e){return n.call(this,e)||this}return Le(i,n),i.prototype.getDefaultShape=function(){return new CR},i.prototype.buildPath=function(e,r){var o=r.extent;e.moveTo(r.x1,r.y1),e.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),"vertical"===r.orient?(e.lineTo(r.x2+o,r.y2),e.bezierCurveTo(r.cpx2+o,r.cpy2,r.cpx1+o,r.cpy1,r.x1+o,r.y1)):(e.lineTo(r.x2,r.y2+o),e.bezierCurveTo(r.cpx2,r.cpy2+o,r.cpx1,r.cpy1+o,r.x1,r.y1+o)),e.closePath()},i.prototype.highlight=function(){ha(this)},i.prototype.downplay=function(){ua(this)},i}(yi),TR=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e._focusAdjacencyDisabled=!1,e}return Le(i,n),i.prototype.render=function(e,r,o){var _,x,S,a=this,s=e.getGraph(),l=this.group,h=e.layoutInfo,c=h.width,d=h.height,p=e.getData(),m=e.getData("edge"),y=e.get("orient");this._model=e,l.removeAll(),l.x=h.x,l.y=h.y,s.eachEdge(function(_){var x=new kR,b=oi(x);b.dataIndex=_.dataIndex,b.seriesIndex=e.seriesIndex,b.dataType="edge";var S,C,I,A,P,O,E,z,V=_.getModel(),G=V.getModel("lineStyle"),Y=G.get("curveness"),X=_.node1.getLayout(),te=_.node1.getModel(),ae=te.get("localX"),he=te.get("localY"),fe=_.node2.getLayout(),ye=_.node2.getModel(),Se=ye.get("localX"),Ee=ye.get("localY"),Re=_.getLayout();x.shape.extent=Math.max(1,Re.dy),x.shape.orient=y,"vertical"===y?(P=S=(null!=ae?ae*c:X.x)+Re.sy,O=(C=(null!=he?he*d:X.y)+X.dy)*(1-Y)+(A=null!=Ee?Ee*d:fe.y)*Y,E=I=(null!=Se?Se*c:fe.x)+Re.ty,z=C*Y+A*(1-Y)):(P=(S=(null!=ae?ae*c:X.x)+X.dx)*(1-Y)+(I=null!=Se?Se*c:fe.x)*Y,O=C=(null!=he?he*d:X.y)+Re.sy,E=S*Y+I*(1-Y),z=A=(null!=Ee?Ee*d:fe.y)+Re.ty),x.setShape({x1:S,y1:C,x2:I,y2:A,cpx1:P,cpy1:O,cpx2:E,cpy2:z}),x.useStyle(G.getItemStyle()),oM(x.style,y,_);var ze=""+V.get("value"),ot=zn(V,"edgeLabel");Kn(x,ot,{labelFetcher:{getFormattedLabel:function(pt,bt,Mt,yt,Dt,St){return e.getFormattedLabel(pt,bt,"edge",yt,ie(Dt,ot.normal&&ot.normal.get("formatter"),ze),St)}},labelDataIndex:_.dataIndex,defaultText:ze}),x.setTextConfig({position:"inside"});var xt=V.getModel("emphasis");Xn(x,V,"lineStyle",function(pt){var bt=pt.getItemStyle();return oM(bt,y,_),bt}),l.add(x),m.setItemGraphicEl(_.dataIndex,x);var Ue=xt.get("focus");dn(x,"adjacency"===Ue?_.getAdjacentDataIndices():"trajectory"===Ue?_.getTrajectoryDataIndices():Ue,xt.get("blurScope"),xt.get("disabled"))}),s.eachNode(function(_){var x=_.getLayout(),b=_.getModel(),S=b.get("localX"),C=b.get("localY"),I=b.getModel("emphasis"),A=new Si({shape:{x:null!=S?S*c:x.x,y:null!=C?C*d:x.y,width:x.dx,height:x.dy},style:b.getModel("itemStyle").getItemStyle(),z2:10});Kn(A,zn(b),{labelFetcher:{getFormattedLabel:function(O,E){return e.getFormattedLabel(O,E,"node")}},labelDataIndex:_.dataIndex,defaultText:_.id}),A.disableLabelAnimation=!0,A.setStyle("fill",_.getVisual("color")),A.setStyle("decal",_.getVisual("style").decal),Xn(A,b),l.add(A),p.setItemGraphicEl(_.dataIndex,A),oi(A).dataType="node";var P=I.get("focus");dn(A,"adjacency"===P?_.getAdjacentDataIndices():"trajectory"===P?_.getTrajectoryDataIndices():P,I.get("blurScope"),I.get("disabled"))}),p.eachItemGraphicEl(function(_,x){p.getItemModel(x).get("draggable")&&(_.drift=function(b,S){a._focusAdjacencyDisabled=!0,this.shape.x+=b,this.shape.y+=S,this.dirty(),o.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:p.getRawIndex(x),localX:this.shape.x/c,localY:this.shape.y/d})},_.ondragend=function(){a._focusAdjacencyDisabled=!1},_.draggable=!0,_.cursor="move")}),!this._data&&e.isAnimationEnabled()&&l.setClipPath((_=l.getBoundingRect(),x=e,nn(S=new Si({shape:{x:_.x-10,y:_.y-10,width:0,height:_.height+20}}),{shape:{width:_.width+20}},x,function(){l.removeClipPath()}),S)),this._data=e.getData()},i.prototype.dispose=function(){},i.type="sankey",i}(Hi);function oM(n,i,e){switch(n.fill){case"source":n.fill=e.node1.getVisual("color"),n.decal=e.node1.getVisual("style").decal;break;case"target":n.fill=e.node2.getVisual("color"),n.decal=e.node2.getVisual("style").decal;break;case"gradient":var r=e.node1.getVisual("color"),o=e.node2.getVisual("color");J(r)&&J(o)&&(n.fill=new Wl(0,0,+("horizontal"===i),+("vertical"===i),[{color:r,offset:0},{color:o,offset:1}]))}}var MR=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.getInitialData=function(e,r){var o=e.edges||e.links,a=e.data||e.nodes,s=e.levels;this.levelModels=[];for(var l=this.levelModels,h=0;h<s.length;h++)null!=s[h].depth&&s[h].depth>=0&&(l[s[h].depth]=new Li(s[h],this,r));if(a&&o)return AT(a,o,this,!0,function(d,p){d.wrapMethod("getItemModel",function(m,y){var _=m.parentModel,x=_.getData().getItemLayout(y);if(x){var S=_.levelModels[x.depth];S&&(m.parentModel=S)}return m}),p.wrapMethod("getItemModel",function(m,y){var _=m.parentModel,x=_.getGraph().getEdgeByIndex(y).node1.getLayout();if(x){var S=_.levelModels[x.depth];S&&(m.parentModel=S)}return m})}).data},i.prototype.setNodePosition=function(e,r){var o=(this.option.data||this.option.nodes)[e];o.localX=r[0],o.localY=r[1]},i.prototype.getGraph=function(){return this.getData().graph},i.prototype.getEdgeData=function(){return this.getGraph().edgeData},i.prototype.formatTooltip=function(e,r,o){function a(p){return isNaN(p)||null==p}if("edge"===o){var s=this.getDataParams(e,o),l=s.data,h=s.value;return Bn("nameValue",{name:l.source+" -- "+l.target,value:h,noValue:a(h)})}var c=this.getGraph().getNodeByIndex(e).getLayout().value,d=this.getDataParams(e,o).data.name;return Bn("nameValue",{name:null!=d?d+"":null,value:c,noValue:a(c)})},i.prototype.optionUpdated=function(){},i.prototype.getDataParams=function(e,r){var o=n.prototype.getDataParams.call(this,e,r);if(null==o.value&&"node"===r){var a=this.getGraph().getNodeByIndex(e).getLayout().value;o.value=a}return o},i.type="series.sankey",i.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},i}(Yi);function IR(n,i){n.eachSeriesByType("sankey",function(e){var m,r=e.get("nodeWidth"),o=e.get("nodeGap"),a=(m=i,Tn(e.getBoxLayoutParams(),{width:m.getWidth(),height:m.getHeight()}));e.layoutInfo=a;var s=a.width,l=a.height,h=e.getGraph(),c=h.nodes,d=h.edges;F(c,function(m){var y=es(m.outEdges,Xp),_=es(m.inEdges,Xp),x=m.getValue()||0,b=Math.max(y,_,x);m.setLayout({value:b},!0)}),function(p,m,y,_,x,b,S,C,I){var A,O;(function(A,P,O,E,z,V,G){for(var Y=[],X=[],te=[],ae=[],he=0,fe=0;fe<P.length;fe++)Y[fe]=1;for(fe=0;fe<A.length;fe++)X[fe]=A[fe].inEdges.length,0===X[fe]&&te.push(A[fe]);for(var ye=-1;te.length;){for(var Se=0;Se<te.length;Se++){var Ee=te[Se],Re=Ee.hostGraph.data.getRawDataItem(Ee.dataIndex),ze=null!=Re.depth&&Re.depth>=0;ze&&Re.depth>ye&&(ye=Re.depth),Ee.setLayout({depth:ze?Re.depth:he},!0),Ee.setLayout("vertical"===V?{dy:O}:{dx:O},!0);for(var ot=0;ot<Ee.outEdges.length;ot++){var xt=Ee.outEdges[ot];Y[P.indexOf(xt)]=0;var Ue=xt.node2;0==--X[A.indexOf(Ue)]&&ae.indexOf(Ue)<0&&ae.push(Ue)}}++he,te=ae,ae=[]}for(fe=0;fe<Y.length;fe++)if(1===Y[fe])throw new Error("Sankey is a DAG, the original data has cycle!");var yt,Dt,pt=ye>he-1?ye:he-1;G&&"left"!==G&&function(Mt,yt,Dt,St){if("right"===yt){for(var Ot=[],Ft=Mt,ni=0;Ft.length;){for(var si=0;si<Ft.length;si++){var Ni=Ft[si];Ni.setLayout({skNodeHeight:ni},!0);for(var di=0;di<Ni.inEdges.length;di++){var wi=Ni.inEdges[di];Ot.indexOf(wi.node1)<0&&Ot.push(wi.node1)}}Ft=Ot,Ot=[],++ni}F(Mt,function(Di){aM(Di)||Di.setLayout({depth:Math.max(0,St-Di.getLayout().skNodeHeight)},!0)})}else"justify"===yt&&(Ki=St,F(Mt,function(en){aM(en)||en.outEdges.length||en.setLayout({depth:Ki},!0)}));var Ki}(A,G,0,pt),yt="vertical"===V?(z-O)/pt:(E-O)/pt,Dt=V,F(A,function(St){var Ot=St.getLayout().depth*yt;St.setLayout("vertical"===Dt?{y:Ot}:{x:Ot},!0)})})(p,m,y,x,b,C,I),function(A,P,O,E,z,V,G){var he,fe,ye,Y=(he=[],fe="vertical"===G?"y":"x",(ye=Xf(A,function(Se){return Se.getLayout()[fe]})).keys.sort(function(Se,Ee){return Se-Ee}),F(ye.keys,function(Se){he.push(ye.buckets.get(Se))}),he);(function(te,ae,he,fe,ye,Se){var Ee=1/0;F(te,function(Re){var ze=Re.length,ot=0;F(Re,function(Ue){ot+=Ue.getLayout().value});var xt="vertical"===Se?(fe-(ze-1)*ye)/ot:(he-(ze-1)*ye)/ot;xt<Ee&&(Ee=xt)}),F(te,function(Re){F(Re,function(ze,ot){var xt=ze.getLayout().value*Ee;"vertical"===Se?(ze.setLayout({x:ot},!0),ze.setLayout({dx:xt},!0)):(ze.setLayout({y:ot},!0),ze.setLayout({dy:xt},!0))})}),F(ae,function(Re){var ze=+Re.getValue()*Ee;Re.setLayout({dy:ze},!0)})})(Y,P,O,E,z,G),Yy(Y,z,O,E,G);for(var X=1;V>0;V--)DR(Y,X*=.99,G),Yy(Y,z,O,E,G),ER(Y,X,G),Yy(Y,z,O,E,G)}(p,m,b,x,_,S,C),O="vertical"===C?"x":"y",F(A=p,function(E){E.outEdges.sort(function(z,V){return z.node2.getLayout()[O]-V.node2.getLayout()[O]}),E.inEdges.sort(function(z,V){return z.node1.getLayout()[O]-V.node1.getLayout()[O]})}),F(A,function(E){var z=0,V=0;F(E.outEdges,function(G){G.setLayout({sy:z},!0),z+=G.getLayout().dy}),F(E.inEdges,function(G){G.setLayout({ty:V},!0),V+=G.getLayout().dy})})}(c,d,r,o,s,l,0!==tt(c,function(p){return 0===p.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function aM(n){var i=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=i.depth&&i.depth>=0}function Yy(n,i,e,r,o){var a="vertical"===o?"x":"y";F(n,function(s){var l,h,c;s.sort(function(_,x){return _.getLayout()[a]-x.getLayout()[a]});for(var d=0,p=s.length,m="vertical"===o?"dx":"dy",y=0;y<p;y++)(c=d-(h=s[y]).getLayout()[a])>0&&(l=h.getLayout()[a]+c,h.setLayout("vertical"===o?{x:l}:{y:l},!0)),d=h.getLayout()[a]+h.getLayout()[m]+i;if((c=d-i-("vertical"===o?r:e))>0)for(l=h.getLayout()[a]-c,h.setLayout("vertical"===o?{x:l}:{y:l},!0),d=l,y=p-2;y>=0;--y)(c=(h=s[y]).getLayout()[a]+h.getLayout()[m]+i-d)>0&&(l=h.getLayout()[a]-c,h.setLayout("vertical"===o?{x:l}:{y:l},!0)),d=h.getLayout()[a]})}function DR(n,i,e){F(n.slice().reverse(),function(r){F(r,function(o){if(o.outEdges.length){var a=es(o.outEdges,AR,e)/es(o.outEdges,Xp);if(isNaN(a)){var s=o.outEdges.length;a=s?es(o.outEdges,LR,e)/s:0}if("vertical"===e){var l=o.getLayout().x+(a-Ja(o,e))*i;o.setLayout({x:l},!0)}else{var h=o.getLayout().y+(a-Ja(o,e))*i;o.setLayout({y:h},!0)}}})})}function AR(n,i){return Ja(n.node2,i)*n.getValue()}function LR(n,i){return Ja(n.node2,i)}function PR(n,i){return Ja(n.node1,i)*n.getValue()}function OR(n,i){return Ja(n.node1,i)}function Ja(n,i){return"vertical"===i?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function Xp(n){return n.getValue()}function es(n,i,e){for(var r=0,o=n.length,a=-1;++a<o;){var s=+i(n[a],e);isNaN(s)||(r+=s)}return r}function ER(n,i,e){F(n,function(r){F(r,function(o){if(o.inEdges.length){var a=es(o.inEdges,PR,e)/es(o.inEdges,Xp);if(isNaN(a)){var s=o.inEdges.length;a=s?es(o.inEdges,OR,e)/s:0}if("vertical"===e){var l=o.getLayout().x+(a-Ja(o,e))*i;o.setLayout({x:l},!0)}else{var h=o.getLayout().y+(a-Ja(o,e))*i;o.setLayout({y:h},!0)}}})})}function NR(n){n.eachSeriesByType("sankey",function(i){var e=i.getGraph(),r=e.nodes,o=e.edges;if(r.length){var a=1/0,s=-1/0;F(r,function(l){var h=l.getLayout().value;h<a&&(a=h),h>s&&(s=h)}),F(r,function(l){var h=new Hn({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:i.get("color")}).mapValueToVisual(l.getLayout().value),c=l.getModel().get(["itemStyle","color"]);null!=c?(l.setVisual("color",c),l.setVisual("style",{fill:c})):(l.setVisual("color",h),l.setVisual("style",{fill:h}))})}o.length&&F(o,function(l){var h=l.getModel().get("lineStyle");l.setVisual("style",h)})})}var sM=function(){function n(){}return n.prototype.getInitialData=function(i,e){var r,o,a=e.getComponent("xAxis",this.get("xAxisIndex")),s=e.getComponent("yAxis",this.get("yAxisIndex")),l=a.get("type"),h=s.get("type");"category"===l?(i.layout="horizontal",r=a.getOrdinalMeta(),o=!0):"category"===h?(i.layout="vertical",r=s.getOrdinalMeta(),o=!0):i.layout=i.layout||"horizontal";var c=["x","y"],d="horizontal"===i.layout?0:1,p=this._baseAxisDim=c[d],m=c[1-d],y=[a,s],_=y[d].get("type"),x=y[1-d].get("type"),b=i.data;if(b&&o){var S=[];F(b,function(A,P){var O;ne(A)?(O=A.slice(),A.unshift(P)):ne(A.value)?((O=Z({},A)).value=O.value.slice(),A.value.unshift(P)):O=A,S.push(O)}),i.data=S}var C=this.defaultValueDimensions,I=[{name:p,type:rp(_),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:m,type:rp(x),dimsDef:C.slice()}];return xh(this,{coordDimensions:I,dimensionsCount:C.length+1,encodeDefaulter:Q(Ex,I,this)})},n.prototype.getBaseAxis=function(){var i=this._baseAxisDim;return this.ecModel.getComponent(i+"Axis",this.get(i+"AxisIndex")).axis},n}(),lM=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return Le(i,n),i.type="series.boxplot",i.dependencies=["xAxis","yAxis","grid"],i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},i}(Yi);Ie(lM,sM,!0);var RR=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){var a=e.getData(),s=this.group,l=this._data;this._data||s.removeAll();var h="horizontal"===e.get("layout")?1:0;a.diff(l).add(function(c){if(a.hasValue(c)){var d=hM(a.getItemLayout(c),a,c,h,!0);a.setItemGraphicEl(c,d),s.add(d)}}).update(function(c,d){var p=l.getItemGraphicEl(d);if(a.hasValue(c)){var m=a.getItemLayout(c);p?(go(p),uM(m,p,a,c)):p=hM(m,a,c,h),s.add(p),a.setItemGraphicEl(c,p)}else s.remove(p)}).remove(function(c){var d=l.getItemGraphicEl(c);d&&s.remove(d)}).execute(),this._data=a},i.prototype.remove=function(e){var r=this.group,o=this._data;this._data=null,o&&o.eachItemGraphicEl(function(a){a&&r.remove(a)})},i.type="boxplot",i}(Hi),zR=function(){},BR=function(n){function i(e){var r=n.call(this,e)||this;return r.type="boxplotBoxPath",r}return Le(i,n),i.prototype.getDefaultShape=function(){return new zR},i.prototype.buildPath=function(e,r){var o=r.points,a=0;for(e.moveTo(o[a][0],o[a][1]),a++;a<4;a++)e.lineTo(o[a][0],o[a][1]);for(e.closePath();a<o.length;a++)e.moveTo(o[a][0],o[a][1]),a++,e.lineTo(o[a][0],o[a][1])},i}(yi);function hM(n,i,e,r,o){var a=n.ends,s=new BR({shape:{points:o?jR(a,r,n):a}});return uM(n,s,i,e,o),s}function uM(n,i,e,r,o){(0,Su[o?"initProps":"updateProps"])(i,{shape:{points:n.ends}},e.hostModel,r),i.useStyle(e.getItemVisual(r,"style")),i.style.strokeNoScale=!0,i.z2=100;var s=e.getItemModel(r),l=s.getModel("emphasis");Xn(i,s),dn(i,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function jR(n,i,e){return Te(n,function(r){return(r=r.slice())[i]=e.initBaseline,r})}var Cc=F;function HR(n){var r,o,i=(r=[],o=[],n.eachSeriesByType("boxplot",function(a){var s=a.getBaseAxis(),l=ve(o,s);l<0&&(o[l=o.length]=s,r[l]={axis:s,seriesModels:[]}),r[l].seriesModels.push(a)}),r);Cc(i,function(e){var r=e.seriesModels;r.length&&(function(o){var a,s=o.axis,l=o.seriesModels,h=l.length,c=o.boxWidthList=[],d=o.boxOffsetList=[],p=[];if("category"===s.type)a=s.getBandWidth();else{var m=0;Cc(l,function(C){m=Math.max(m,C.getData().count())});var y=s.getExtent();a=Math.abs(y[1]-y[0])/m}Cc(l,function(C){var I=C.get("boxWidth");ne(I)||(I=[I,I]),p.push([Bt(I[0],a)||0,Bt(I[1],a)||0])});var _=.8*a-2,x=_/h*.3,b=(_-x*(h-1))/h,S=b/2-_/2;Cc(l,function(C,I){d.push(S),S+=x+b,c.push(Math.min(Math.max(b,p[I][0]),p[I][1]))})}(e),Cc(r,function(o,a){!function(s,l,h){var c=s.coordinateSystem,d=s.getData(),p=h/2,m="horizontal"===s.get("layout")?0:1,y=1-m,_=["x","y"],x=d.mapDimension(_[m]),b=d.mapDimensionsAll(_[y]);if(!(null==x||b.length<5))for(var S=0;S<d.count();S++){var C=d.get(x,S),I=V(C,b[2],S),A=V(C,b[0],S),P=V(C,b[1],S),O=V(C,b[3],S),E=V(C,b[4],S),z=[];G(z,P,!1),G(z,O,!0),z.push(A,P,E,O),Y(z,A),Y(z,E),Y(z,I),d.setItemLayout(S,{initBaseline:I[y],ends:z})}function V(X,te,ae){var he,fe=d.get(te,ae),ye=[];return ye[m]=X,ye[y]=fe,isNaN(X)||isNaN(fe)?he=[NaN,NaN]:(he=c.dataToPoint(ye))[m]+=l,he}function G(X,te,ae){var he=te.slice(),fe=te.slice();he[m]+=p,fe[m]-=p,ae?X.push(he,fe):X.push(fe,he)}function Y(X,te){var ae=te.slice(),he=te.slice();ae[m]-=p,he[m]+=p,X.push(ae,he)}}(o,e.boxOffsetList[a],e.boxWidthList[a])}))})}var VR={type:"echarts:boxplot",transform:function(n){var i=n.upstream;i.sourceFormat!==or&&zi("");var r=function(o,a){for(var s=[],l=[],h=(a=a||{}).boundIQR,c="none"===h||0===h,d=0;d<o.length;d++){var p=zr(o[d].slice()),m=Kc(p,.25),y=Kc(p,.5),_=Kc(p,.75),x=p[0],b=p[p.length-1],S=(null==h?1.5:h)*(_-m),C=c?x:Math.max(x,m-S),I=c?b:Math.min(b,_+S),A=a.itemNameFormatter,P=ee(A)?A({value:d}):J(A)?A.replace("{value}",d+""):d+"";s.push([P,C,m,y,_,I]);for(var O=0;O<p.length;O++){var E=p[O];(E<C||E>I)&&l.push([P,E])}}return{boxData:s,outliers:l}}(i.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}},FR=["color","borderColor"],WR=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},i.prototype.incrementalPrepareRender=function(e,r,o){this._clear(),this._updateDrawMode(e)},i.prototype.incrementalRender=function(e,r,o,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,r):this._incrementalRenderNormal(e,r)},i.prototype.eachRendered=function(e){Ha(this._progressiveEls||this.group,e)},i.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;null!=this._isLargeDraw&&r===this._isLargeDraw||(this._isLargeDraw=r,this._clear())},i.prototype._renderNormal=function(e){var r=e.getData(),o=this._data,a=this.group,s=r.getLayout("isSimpleBox"),l=e.get("clip",!0),h=e.coordinateSystem,c=h.getArea&&h.getArea();this._data||a.removeAll(),r.diff(o).add(function(d){if(r.hasValue(d)){var p=r.getItemLayout(d);if(l&&cM(c,p))return;var m=$y(p,0,!0);nn(m,{shape:{points:p.ends}},e,d),Uy(m,r,d,s),a.add(m),r.setItemGraphicEl(d,m)}}).update(function(d,p){var m=o.getItemGraphicEl(p);if(r.hasValue(d)){var y=r.getItemLayout(d);l&&cM(c,y)?a.remove(m):(m?(Ii(m,{shape:{points:y.ends}},e,d),go(m)):m=$y(y),Uy(m,r,d,s),a.add(m),r.setItemGraphicEl(d,m))}else a.remove(m)}).remove(function(d){var p=o.getItemGraphicEl(d);p&&a.remove(p)}).execute(),this._data=r},i.prototype._renderLarge=function(e){this._clear(),dM(e,this.group);var r=e.get("clip",!0)?kp(e.coordinateSystem,!1,e):null;r?this.group.setClipPath(r):this.group.removeClipPath()},i.prototype._incrementalRenderNormal=function(e,r){for(var o,a=r.getData(),s=a.getLayout("isSimpleBox");null!=(o=e.next());){var l=$y(a.getItemLayout(o));Uy(l,a,o,s),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},i.prototype._incrementalRenderLarge=function(e,r){dM(r,this.group,this._progressiveEls,!0)},i.prototype.remove=function(e){this._clear()},i.prototype._clear=function(){this.group.removeAll(),this._data=null},i.type="candlestick",i}(Hi),GR=function(){},YR=function(n){function i(e){var r=n.call(this,e)||this;return r.type="normalCandlestickBox",r}return Le(i,n),i.prototype.getDefaultShape=function(){return new GR},i.prototype.buildPath=function(e,r){var o=r.points;this.__simpleBox?(e.moveTo(o[4][0],o[4][1]),e.lineTo(o[6][0],o[6][1])):(e.moveTo(o[0][0],o[0][1]),e.lineTo(o[1][0],o[1][1]),e.lineTo(o[2][0],o[2][1]),e.lineTo(o[3][0],o[3][1]),e.closePath(),e.moveTo(o[4][0],o[4][1]),e.lineTo(o[5][0],o[5][1]),e.moveTo(o[6][0],o[6][1]),e.lineTo(o[7][0],o[7][1]))},i}(yi);function $y(n,i,e){var r=n.ends;return new YR({shape:{points:e?$R(r,n):r},z2:100})}function cM(n,i){for(var e=!0,r=0;r<i.ends.length;r++)if(n.contain(i.ends[r][0],i.ends[r][1])){e=!1;break}return e}function Uy(n,i,e,r){var o=i.getItemModel(e);n.useStyle(i.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=r,Xn(n,o)}function $R(n,i){return Te(n,function(e){return(e=e.slice())[1]=i.initBaseline,e})}var UR=function(){},qy=function(n){function i(e){var r=n.call(this,e)||this;return r.type="largeCandlestickBox",r}return Le(i,n),i.prototype.getDefaultShape=function(){return new UR},i.prototype.buildPath=function(e,r){for(var o=r.points,a=0;a<o.length;)if(this.__sign===o[a++]){var s=o[a++];e.moveTo(s,o[a++]),e.lineTo(s,o[a++])}else a+=3},i}(yi);function dM(n,i,e,r){var o=n.getData().getLayout("largePoints"),a=new qy({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});i.add(a);var s=new qy({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});i.add(s);var l=new qy({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});i.add(l),Xy(1,a,n),Xy(-1,s,n),Xy(0,l,n),r&&(a.incremental=!0,s.incremental=!0),e&&e.push(a,s)}function Xy(n,i,e,r){var o=e.get(["itemStyle",n>0?"borderColor":"borderColor0"])||e.get(["itemStyle",n>0?"color":"color0"]);0===n&&(o=e.get(["itemStyle","borderColorDoji"]));var a=e.getModel("itemStyle").getItemStyle(FR);i.useStyle(a),i.style.fill=null,i.style.stroke=o}var pM=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return Le(i,n),i.prototype.getShadowDim=function(){return"open"},i.prototype.brushSelector=function(e,r,o){var a=r.getItemLayout(e);return a&&o.rect(a.brushRect)},i.type="series.candlestick",i.dependencies=["xAxis","yAxis","grid"],i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},i}(Yi);function qR(n){n&&ne(n.series)&&F(n.series,function(i){Pe(i)&&"k"===i.type&&(i.type="candlestick")})}Ie(pM,sM,!0);var XR=["itemStyle","borderColor"],KR=["itemStyle","borderColor0"],ZR=["itemStyle","borderColorDoji"],QR=["itemStyle","color"],JR=["itemStyle","color0"],ez={seriesType:"candlestick",plan:sh(),performRawSeries:!0,reset:function(n,i){function e(o,a){return a.get(o>0?QR:JR)}function r(o,a){return a.get(0===o?ZR:o>0?XR:KR)}if(!i.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(o,a){for(var s;null!=(s=o.next());){var l=a.getItemModel(s),h=a.getItemLayout(s).sign,c=l.getItemStyle();c.fill=e(h,l),c.stroke=r(h,l)||c.fill,Z(a.ensureUniqueItemVisual(s,"style"),c)}}}}},tz={seriesType:"candlestick",plan:sh(),reset:function(n){var p,m,y,_,x,b,S,C,i=n.coordinateSystem,e=n.getData(),r=(m=e,x="category"===(_=(p=n).getBaseAxis()).type?_.getBandWidth():(y=_.getExtent(),Math.abs(y[1]-y[0])/m.count()),b=Bt(nt(p.get("barMaxWidth"),x),x),S=Bt(nt(p.get("barMinWidth"),1),x),null!=(C=p.get("barWidth"))?Bt(C,x):Math.max(Math.min(x/2,b),S)),o=["x","y"],a=e.getDimensionIndex(e.mapDimension(o[0])),s=Te(e.mapDimensionsAll(o[1]),e.getDimensionIndex,e),l=s[0],h=s[1],c=s[2],d=s[3];if(e.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(a<0||s.length<4))return{progress:n.pipelineContext.large?function(p,m){for(var y,_,x=Ho(4*p.count),b=0,S=[],C=[],I=m.getStore(),A=!!n.get(["itemStyle","borderColorDoji"]);null!=(_=p.next());){var P=I.get(a,_),O=I.get(l,_),E=I.get(h,_),z=I.get(c,_),V=I.get(d,_);isNaN(P)||isNaN(z)||isNaN(V)?(x[b++]=NaN,b+=3):(x[b++]=fM(I,_,O,E,h,A),S[0]=P,S[1]=z,y=i.dataToPoint(S,null,C),x[b++]=y?y[0]:NaN,x[b++]=y?y[1]:NaN,S[1]=V,y=i.dataToPoint(S,null,C),x[b++]=y?y[1]:NaN)}m.setLayout("largePoints",x)}:function(p,m){for(var y,_=m.getStore();null!=(y=p.next());){var x=_.get(a,y),b=_.get(l,y),S=_.get(h,y),C=_.get(c,y),I=_.get(d,y),A=Math.min(b,S),P=Math.max(b,S),O=X(A,x),E=X(P,x),z=X(C,x),V=X(I,x),G=[];te(G,E,0),te(G,O,1),G.push(he(V),he(E),he(z),he(O));var Y=!!m.getItemModel(y).get(["itemStyle","borderColorDoji"]);m.setItemLayout(y,{sign:fM(_,y,b,S,h,Y),initBaseline:b>S?E[1]:O[1],ends:G,brushRect:(fe=C,ye=I,Se=x,Ee=void 0,Re=void 0,Ee=X(fe,Se),Re=X(ye,Se),Ee[0]-=r/2,Re[0]-=r/2,{x:Ee[0],y:Ee[1],width:r,height:Re[1]-Ee[1]})})}var fe,ye,Se,Ee,Re;function X(fe,ye){var Se=[];return Se[0]=ye,Se[1]=fe,isNaN(ye)||isNaN(fe)?[NaN,NaN]:i.dataToPoint(Se)}function te(fe,ye,Se){var Ee=ye.slice(),Re=ye.slice();Ee[0]=_d(Ee[0]+r/2,1,!1),Re[0]=_d(Re[0]-r/2,1,!0),Se?fe.push(Ee,Re):fe.push(Re,Ee)}function he(fe){return fe[0]=_d(fe[0],1),fe}}}}};function fM(n,i,e,r,o,a){return e>r?-1:e<r?1:a?0:i>0?n.get(o,i-1)<=r?1:-1:1}function gM(n,i){var e=i.rippleEffectColor||i.color;n.eachChild(function(r){r.attr({z:i.z,zlevel:i.zlevel,style:{stroke:"stroke"===i.brushType?e:null,fill:"fill"===i.brushType?e:null}})})}var iz=function(n){function i(e,r){var o=n.call(this)||this,a=new ic(e,r),s=new ti;return o.add(a),o.add(s),o.updateData(e,r),o}return Le(i,n),i.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},i.prototype.startEffectAnimation=function(e){for(var r=e.symbolType,o=e.color,a=e.rippleNumber,s=this.childAt(1),l=0;l<a;l++){var h=vn(r,-1,-1,2,2,o);h.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var c=-l/a*e.period+e.effectOffset;h.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(c).start(),h.animateStyle(!0).when(e.period,{opacity:0}).delay(c).start(),s.add(h)}gM(s,e)},i.prototype.updateEffectAnimation=function(e){for(var r=this._effectCfg,o=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var l=a[s];if(r[l]!==e[l])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}gM(o,e)},i.prototype.highlight=function(){ha(this)},i.prototype.downplay=function(){ua(this)},i.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},i.prototype.updateData=function(e,r){var o=this,a=e.hostModel;this.childAt(0).updateData(e,r);var s=this.childAt(1),l=e.getItemModel(r),h=e.getItemVisual(r,"symbol"),c=uh(e.getItemVisual(r,"symbolSize")),d=e.getItemVisual(r,"style"),p=d&&d.fill,m=l.getModel("emphasis");s.setScale(c),s.traverse(function(b){b.setStyle("fill",p)});var y=Fs(e.getItemVisual(r,"symbolOffset"),c);y&&(s.x=y[0],s.y=y[1]);var _=e.getItemVisual(r,"symbolRotate");s.rotation=(_||0)*Math.PI/180||0;var x={};x.showEffectOn=a.get("showEffectOn"),x.rippleScale=l.get(["rippleEffect","scale"]),x.brushType=l.get(["rippleEffect","brushType"]),x.period=1e3*l.get(["rippleEffect","period"]),x.effectOffset=r/e.count(),x.z=a.getShallow("z")||0,x.zlevel=a.getShallow("zlevel")||0,x.symbolType=h,x.color=p,x.rippleEffectColor=l.get(["rippleEffect","color"]),x.rippleNumber=l.get(["rippleEffect","number"]),"render"===x.showEffectOn?(this._effectCfg?this.updateEffectAnimation(x):this.startEffectAnimation(x),this._effectCfg=x):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(b){"emphasis"===b?"render"!==x.showEffectOn&&o.startEffectAnimation(x):"normal"===b&&"render"!==x.showEffectOn&&o.stopEffectAnimation()}),this._effectCfg=x,dn(this,m.get("focus"),m.get("blurScope"),m.get("disabled"))},i.prototype.fadeOut=function(e){e&&e()},i}(ti),nz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(){this._symbolDraw=new nc(iz)},i.prototype.render=function(e,r,o){var a=e.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(s.group)},i.prototype._getClipShape=function(e){var r=e.coordinateSystem,o=r&&r.getArea&&r.getArea();return e.get("clip",!0)?o:null},i.prototype.updateTransform=function(e,r,o){var a=e.getData();this.group.dirty();var s=rc("").reset(e,r,o);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},i.prototype._updateGroupTransform=function(e){var r=e.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=Fh(r.getRoamTransform()),this.group.decomposeTransform())},i.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0)},i.type="effectScatter",i}(Hi),rz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.hasSymbolVisual=!0,e}return Le(i,n),i.prototype.getInitialData=function(e,r){return Bo(null,this,{useEncodeDefaulter:!0})},i.prototype.brushSelector=function(e,r,o){return o.point(r.getItemLayout(e))},i.type="series.effectScatter",i.dependencies=["grid","polar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},i}(Yi),mM=function(n){function i(e,r,o){var a=n.call(this)||this;return a.add(a.createLine(e,r,o)),a._updateEffectSymbol(e,r),a}return Le(i,n),i.prototype.createLine=function(e,r,o){return new xy(e,r,o)},i.prototype._updateEffectSymbol=function(e,r){var o=e.getItemModel(r).getModel("effect"),a=o.get("symbolSize"),s=o.get("symbol");ne(a)||(a=[a,a]);var l=e.getItemVisual(r,"style"),h=o.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),(c=vn(s,-.5,-.5,1,1,h)).z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",h),c.setStyle(o.getItemStyle(["color"])),c.scaleX=a[0],c.scaleY=a[1],c.setColor(h),this._symbolType=s,this._symbolScale=a,this._updateEffectAnimation(e,o,r))},i.prototype._updateEffectAnimation=function(e,r,o){var a=this.childAt(1);if(a){var s=e.getItemLayout(o),l=1e3*r.get("period"),h=r.get("loop"),c=r.get("roundTrip"),d=r.get("constantSpeed"),p=Et(r.get("delay"),function(y){return y/e.count()*l/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),d>0&&(l=this._getLineLength(a)/d*1e3),l!==this._period||h!==this._loop||c!==this._roundTrip){a.stopAnimation();var m=void 0;m=ee(p)?p(o):p,a.__t>0&&(m=-l*a.__t),this._animateSymbol(a,l,m,h,c)}this._period=l,this._loop=h,this._roundTrip=c}},i.prototype._animateSymbol=function(e,r,o,a,s){if(r>0){e.__t=0;var l=this,h=e.animate("",a).when(s?2*r:r,{__t:s?2:1}).delay(o).during(function(){l._updateSymbolPosition(e)});a||h.done(function(){l.remove(e)}),h.start()}},i.prototype._getLineLength=function(e){return An(e.__p1,e.__cp1)+An(e.__cp1,e.__p2)},i.prototype._updateAnimationPoints=function(e,r){e.__p1=r[0],e.__p2=r[1],e.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},i.prototype.updateData=function(e,r,o){this.childAt(0).updateData(e,r,o),this._updateEffectSymbol(e,r)},i.prototype._updateSymbolPosition=function(e){var r=e.__p1,o=e.__p2,a=e.__cp1,s=e.__t<1?e.__t:2-e.__t,l=[e.x,e.y],h=l.slice(),c=Wi,d=ao;l[0]=c(r[0],a[0],o[0],s),l[1]=c(r[1],a[1],o[1],s);var p=e.__t<1?d(r[0],a[0],o[0],s):d(o[0],a[0],r[0],1-s),m=e.__t<1?d(r[1],a[1],o[1],s):d(o[1],a[1],r[1],1-s);e.rotation=-Math.atan2(m,p)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*An(h,l),1===s&&(l[0]=h[0]+(l[0]-h[0])/2,l[1]=h[1]+(l[1]-h[1])/2)):e.scaleY=1===e.__lastT?2*An(r,l):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=l[0],e.y=l[1]},i.prototype.updateLayout=function(e,r){this.childAt(0).updateLayout(e,r);var o=e.getItemModel(r).getModel("effect");this._updateEffectAnimation(e,o,r)},i}(ti),vM=function(n){function i(e,r,o){var a=n.call(this)||this;return a._createPolyline(e,r,o),a}return Le(i,n),i.prototype._createPolyline=function(e,r,o){var a=e.getItemLayout(r),s=new rr({shape:{points:a}});this.add(s),this._updateCommonStl(e,r,o)},i.prototype.updateData=function(e,r,o){var a=e.hostModel;Ii(this.childAt(0),{shape:{points:e.getItemLayout(r)}},a,r),this._updateCommonStl(e,r,o)},i.prototype._updateCommonStl=function(e,r,o){var a=this.childAt(0),s=e.getItemModel(r),l=o&&o.emphasisLineStyle,h=o&&o.focus,c=o&&o.blurScope,d=o&&o.emphasisDisabled;if(!o||e.hasItemOption){var p=s.getModel("emphasis");l=p.getModel("lineStyle").getLineStyle(),d=p.get("disabled"),h=p.get("focus"),c=p.get("blurScope")}a.useStyle(e.getItemVisual(r,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=l,dn(this,h,c,d)},i.prototype.updateLayout=function(e,r){this.childAt(0).setShape("points",e.getItemLayout(r))},i}(ti),oz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return Le(i,n),i.prototype.createLine=function(e,r,o){return new vM(e,r,o)},i.prototype._updateAnimationPoints=function(e,r){this._points=r;for(var o=[0],a=0,s=1;s<r.length;s++)a+=An(r[s-1],r[s]),o.push(a);if(0!==a){for(s=0;s<o.length;s++)o[s]/=a;this._offsets=o,this._length=a}else this._length=0},i.prototype._getLineLength=function(){return this._length},i.prototype._updateSymbolPosition=function(e){var r=e.__t<1?e.__t:2-e.__t,o=this._points,a=this._offsets,s=o.length;if(a){var l,h=this._lastFrame;if(r<this._lastFramePercent){for(l=Math.min(h+1,s-1);l>=0&&!(a[l]<=r);l--);l=Math.min(l,s-2)}else{for(l=h;l<s&&!(a[l]>r);l++);l=Math.min(l-1,s-2)}var c=(r-a[l])/(a[l+1]-a[l]),d=o[l],p=o[l+1];e.x=d[0]*(1-c)+c*p[0],e.y=d[1]*(1-c)+c*p[1],e.rotation=-Math.atan2(e.__t<1?p[1]-d[1]:d[1]-p[1],e.__t<1?p[0]-d[0]:d[0]-p[0])-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,e.ignore=!1}},i}(mM),az=function(){this.polyline=!1,this.curveness=0,this.segs=[]},sz=function(n){function i(e){var r=n.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return Le(i,n),i.prototype.reset=function(){this.notClear=!1,this._off=0},i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new az},i.prototype.buildPath=function(e,r){var o,a=r.segs,s=r.curveness;if(r.polyline)for(o=this._off;o<a.length;){var l=a[o++];if(l>0){e.moveTo(a[o++],a[o++]);for(var h=1;h<l;h++)e.lineTo(a[o++],a[o++])}}else for(o=this._off;o<a.length;){var c=a[o++],d=a[o++],p=a[o++],m=a[o++];e.moveTo(c,d),s>0?e.quadraticCurveTo((c+p)/2-(d-m)*s,(d+m)/2-(p-c)*s,p,m):e.lineTo(p,m)}this.incremental&&(this._off=o,this.notClear=!0)},i.prototype.findDataIndex=function(e,r){var o=this.shape,a=o.segs,s=o.curveness,l=this.style.lineWidth;if(o.polyline)for(var h=0,c=0;c<a.length;){var d=a[c++];if(d>0)for(var p=a[c++],m=a[c++],y=1;y<d;y++)if(Na(p,m,_=a[c++],x=a[c++],l,e,r))return h;h++}else for(h=0,c=0;c<a.length;){p=a[c++],m=a[c++];var _=a[c++],x=a[c++];if(s>0){if(q_(p,m,(p+_)/2-(m-x)*s,(m+x)/2-(_-p)*s,_,x,l,e,r))return h}else if(Na(p,m,_,x,l,e,r))return h;h++}return-1},i.prototype.contain=function(e,r){var o=this.transformCoordToLocal(e,r);return this.getBoundingRect().contain(e=o[0],r=o[1])?(this.hoverDataIdx=this.findDataIndex(e,r))>=0:(this.hoverDataIdx=-1,!1)},i.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var r=this.shape.segs,o=1/0,a=1/0,s=-1/0,l=-1/0,h=0;h<r.length;){var c=r[h++],d=r[h++];o=Math.min(c,o),s=Math.max(c,s),a=Math.min(d,a),l=Math.max(d,l)}e=this._rect=new ai(o,a,s,l)}return e},i}(yi),lz=function(){function n(){this.group=new ti}return n.prototype.updateData=function(i){this._clear();var e=this._create();e.setShape({segs:i.getLayout("linesPoints")}),this._setCommon(e,i)},n.prototype.incrementalPrepareUpdate=function(i){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(i,e){var r=this._newAdded[0],o=e.getLayout("linesPoints"),a=r&&r.shape.segs;if(a&&a.length<2e4){var s=a.length,l=new Float32Array(s+o.length);l.set(a),l.set(o,s),r.setShape({segs:l})}else{this._newAdded=[];var h=this._create();h.incremental=!0,h.setShape({segs:o}),this._setCommon(h,e),h.__startIndex=i.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(i){this._newAdded[0]&&i(this._newAdded[0])},n.prototype._create=function(){var i=new sz({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(i),this.group.add(i),i},n.prototype._setCommon=function(i,e,r){var o=e.hostModel;i.setShape({polyline:o.get("polyline"),curveness:o.get(["lineStyle","curveness"])}),i.useStyle(o.getModel("lineStyle").getLineStyle()),i.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&i.setStyle("stroke",a.stroke),i.setStyle("fill",null);var s=oi(i);s.seriesIndex=o.seriesIndex,i.on("mousemove",function(l){s.dataIndex=null;var h=i.hoverDataIdx;h>0&&(s.dataIndex=h+i.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),yM={seriesType:"lines",plan:sh(),reset:function(n){var i=n.coordinateSystem;if(i){var e=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(o,a){var s=[];if(r){var l=void 0,h=o.end-o.start;if(e){for(var c=0,d=o.start;d<o.end;d++)c+=n.getLineCoordsCount(d);l=new Float32Array(h+2*c)}else l=new Float32Array(4*h);var p=0,m=[];for(d=o.start;d<o.end;d++){var y=n.getLineCoords(d,s);e&&(l[p++]=y);for(var _=0;_<y;_++)m=i.dataToPoint(s[_],!1,m),l[p++]=m[0],l[p++]=m[1]}a.setLayout("linesPoints",l)}else for(d=o.start;d<o.end;d++){var x=a.getItemModel(d),b=(y=n.getLineCoords(d,s),[]);if(e)for(var S=0;S<y;S++)b.push(i.dataToPoint(s[S]));else{b[0]=i.dataToPoint(s[0]),b[1]=i.dataToPoint(s[1]);var C=x.get(["lineStyle","curveness"]);+C&&(b[2]=[(b[0][0]+b[1][0])/2-(b[0][1]-b[1][1])*C,(b[0][1]+b[1][1])/2-(b[1][0]-b[0][0])*C])}a.setItemLayout(d,b)}}}}}},hz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){var a=e.getData(),s=this._updateLineDraw(a,e),l=e.get("zlevel"),h=e.get(["effect","trailLength"]),c=o.getZr(),d="svg"===c.painter.getType();d||c.painter.getLayer(l).clear(!0),null==this._lastZlevel||d||c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&h>0&&(d||c.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)})),s.updateData(a);var p=e.get("clip",!0)&&kp(e.coordinateSystem,!1,e);p?this.group.setClipPath(p):this.group.removeClipPath(),this._lastZlevel=l,this._finished=!0},i.prototype.incrementalPrepareRender=function(e,r,o){var a=e.getData();this._updateLineDraw(a,e).incrementalPrepareUpdate(a),this._clearLayer(o),this._finished=!1},i.prototype.incrementalRender=function(e,r,o){this._lineDraw.incrementalUpdate(e,r.getData()),this._finished=e.end===r.getData().count()},i.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},i.prototype.updateTransform=function(e,r,o){var a=e.getData(),s=e.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var l=yM.reset(e,r,o);l.progress&&l.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(o)},i.prototype._updateLineDraw=function(e,r){var o=this._lineDraw,a=this._showEffect(r),s=!!r.get("polyline"),l=r.pipelineContext.large;return o&&a===this._hasEffet&&s===this._isPolyline&&l===this._isLargeDraw||(o&&o.remove(),o=this._lineDraw=l?new lz:new by(s?a?oz:vM:a?mM:xy),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(o.group),o},i.prototype._showEffect=function(e){return!!e.get(["effect","show"])},i.prototype._clearLayer=function(e){var r=e.getZr();"svg"===r.painter.getType()||null==this._lastZlevel||r.painter.getLayer(this._lastZlevel).clear(!0)},i.prototype.remove=function(e,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},i.prototype.dispose=function(e,r){this.remove(e,r)},i.type="lines",i}(Hi),uz="undefined"==typeof Uint32Array?Array:Uint32Array,cz="undefined"==typeof Float64Array?Array:Float64Array;function _M(n){var i=n.data;i&&i[0]&&i[0][0]&&i[0][0].coord&&(n.data=Te(i,function(e){var r={coords:[e[0].coord,e[1].coord]};return e[0].name&&(r.fromName=e[0].name),e[1].name&&(r.toName=e[1].name),re([r,e[0],e[1]])}))}var dz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return Le(i,n),i.prototype.init=function(e){e.data=e.data||[],_M(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count)),n.prototype.init.apply(this,arguments)},i.prototype.mergeOption=function(e){if(_M(e),e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count))}n.prototype.mergeOption.apply(this,arguments)},i.prototype.appendData=function(e){var r=this._processFlatCoordsArray(e.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=He(this._flatCoords,r.flatCoords),this._flatCoordsOffset=He(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),e.data=new Float32Array(r.count)),this.getRawData().appendData(e.data)},i.prototype._getCoordsFromItemModel=function(e){var r=this.getData().getItemModel(e);return r.option instanceof Array?r.option:r.getShallow("coords")},i.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},i.prototype.getLineCoords=function(e,r){if(this._flatCoordsOffset){for(var o=this._flatCoordsOffset[2*e],a=this._flatCoordsOffset[2*e+1],s=0;s<a;s++)r[s]=r[s]||[],r[s][0]=this._flatCoords[o+2*s],r[s][1]=this._flatCoords[o+2*s+1];return a}var l=this._getCoordsFromItemModel(e);for(s=0;s<l.length;s++)r[s]=r[s]||[],r[s][0]=l[s][0],r[s][1]=l[s][1];return l.length},i.prototype._processFlatCoordsArray=function(e){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),Ge(e[0])){for(var o=e.length,a=new uz(o),s=new cz(o),l=0,h=0,c=0,d=0;d<o;){c++;var p=e[d++];a[h++]=l+r,a[h++]=p;for(var m=0;m<p;m++){var y=e[d++],_=e[d++];s[l++]=y,s[l++]=_}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,h),flatCoords:s,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},i.prototype.getInitialData=function(e,r){var o=new lr(["value"],this);return o.hasItemOption=!1,o.initData(e.data,[],function(a,s,l,h){if(a instanceof Array)return NaN;o.hasItemOption=!0;var c=a.value;return null!=c?c instanceof Array?c[h]:c:void 0}),o},i.prototype.formatTooltip=function(e,r,o){var a=this.getData().getItemModel(e),s=a.get("name");if(s)return s;var l=a.get("fromName"),h=a.get("toName"),c=[];return null!=l&&c.push(l),null!=h&&c.push(h),Bn("nameValue",{name:c.join(" > ")})},i.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},i.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},i.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},i.prototype.getZLevelKey=function(){var e=this.getModel("effect"),r=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&r>0?r+"":""},i.type="series.lines",i.dependencies=["grid","polar","geo","calendar"],i.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},i}(Yi);function Kp(n){return n instanceof Array||(n=[n,n]),n}var pz={seriesType:"lines",reset:function(n){var i=Kp(n.get("symbol")),e=Kp(n.get("symbolSize")),r=n.getData();return r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",e&&e[0]),r.setVisual("toSymbolSize",e&&e[1]),{dataEach:r.hasItemOption?function(o,a){var s=o.getItemModel(a),l=Kp(s.getShallow("symbol",!0)),h=Kp(s.getShallow("symbolSize",!0));l[0]&&o.setItemVisual(a,"fromSymbol",l[0]),l[1]&&o.setItemVisual(a,"toSymbol",l[1]),h[0]&&o.setItemVisual(a,"fromSymbolSize",h[0]),h[1]&&o.setItemVisual(a,"toSymbolSize",h[1])}:null}}},fz=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var i=ut.createCanvas();this.canvas=i}return n.prototype.update=function(i,e,r,o,a,s){var l=this._getBrush(),h=this._getGradient(a,"inRange"),c=this._getGradient(a,"outOfRange"),d=this.pointSize+this.blurSize,p=this.canvas,m=p.getContext("2d"),y=i.length;p.width=e,p.height=r;for(var _=0;_<y;++_){var x=i[_],b=x[0],S=x[1],C=o(x[2]);m.globalAlpha=C,m.drawImage(l,b-d,S-d)}if(!p.width||!p.height)return p;for(var I=m.getImageData(0,0,p.width,p.height),A=I.data,P=0,O=A.length,E=this.minOpacity,z=this.maxOpacity-E;P<O;){C=A[P+3]/256;var V=4*Math.floor(255*C);if(C>0){var G=s(C)?h:c;C>0&&(C=C*z+E),A[P++]=G[V],A[P++]=G[V+1],A[P++]=G[V+2],A[P++]=G[V+3]*C*256}else P+=4}return m.putImageData(I,0,0),p},n.prototype._getBrush=function(){var i=this._brushCanvas||(this._brushCanvas=ut.createCanvas()),e=this.pointSize+this.blurSize,r=2*e;i.width=r,i.height=r;var o=i.getContext("2d");return o.clearRect(0,0,r,r),o.shadowOffsetX=r,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-e,e,this.pointSize,0,2*Math.PI,!0),o.closePath(),o.fill(),i},n.prototype._getGradient=function(i,e){for(var r=this._gradientPixels,o=r[e]||(r[e]=new Uint8ClampedArray(1024)),a=[0,0,0,0],s=0,l=0;l<256;l++)i[e](l/255,!0,a),o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3];return o},n}();function xM(n){var i=n.dimensions;return"lng"===i[0]&&"lat"===i[1]}var gz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){var a;r.eachComponent("visualMap",function(l){l.eachTargetSeries(function(h){h===e&&(a=l)})}),this._progressiveEls=null,this.group.removeAll();var s=e.coordinateSystem;"cartesian2d"===s.type||"calendar"===s.type?this._renderOnCartesianAndCalendar(e,o,0,e.getData().count()):xM(s)&&this._renderOnGeo(s,e,a,o)},i.prototype.incrementalPrepareRender=function(e,r,o){this.group.removeAll()},i.prototype.incrementalRender=function(e,r,o,a){var s=r.coordinateSystem;s&&(xM(s)?this.render(r,o,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,a,e.start,e.end,!0)))},i.prototype.eachRendered=function(e){Ha(this._progressiveEls||this.group,e)},i.prototype._renderOnCartesianAndCalendar=function(e,r,o,a,s){var l,h,c,d,p=e.coordinateSystem,m=Js(p,"cartesian2d");if(m){var y=p.getAxis("x"),_=p.getAxis("y");l=y.getBandWidth()+.5,h=_.getBandWidth()+.5,c=y.scale.getExtent(),d=_.scale.getExtent()}for(var x=this.group,b=e.getData(),S=e.getModel(["emphasis","itemStyle"]).getItemStyle(),C=e.getModel(["blur","itemStyle"]).getItemStyle(),I=e.getModel(["select","itemStyle"]).getItemStyle(),A=e.get(["itemStyle","borderRadius"]),P=zn(e),O=e.getModel("emphasis"),E=O.get("focus"),z=O.get("blurScope"),V=O.get("disabled"),G=m?[b.mapDimension("x"),b.mapDimension("y"),b.mapDimension("value")]:[b.mapDimension("time"),b.mapDimension("value")],Y=o;Y<a;Y++){var X=void 0,te=b.getItemVisual(Y,"style");if(m){var ae=b.get(G[0],Y),he=b.get(G[1],Y);if(isNaN(b.get(G[2],Y))||isNaN(ae)||isNaN(he)||ae<c[0]||ae>c[1]||he<d[0]||he>d[1])continue;var fe=p.dataToPoint([ae,he]);X=new Si({shape:{x:fe[0]-l/2,y:fe[1]-h/2,width:l,height:h},style:te})}else{if(isNaN(b.get(G[1],Y)))continue;X=new Si({z2:1,shape:p.dataToRect([b.get(G[0],Y)]).contentShape,style:te})}if(b.hasItemOption){var ye=b.getItemModel(Y),Se=ye.getModel("emphasis");S=Se.getModel("itemStyle").getItemStyle(),C=ye.getModel(["blur","itemStyle"]).getItemStyle(),I=ye.getModel(["select","itemStyle"]).getItemStyle(),A=ye.get(["itemStyle","borderRadius"]),E=Se.get("focus"),z=Se.get("blurScope"),V=Se.get("disabled"),P=zn(ye)}X.shape.r=A;var Ee=e.getRawValue(Y),Re="-";Ee&&null!=Ee[2]&&(Re=Ee[2]+""),Kn(X,P,{labelFetcher:e,labelDataIndex:Y,defaultOpacity:te.opacity,defaultText:Re}),X.ensureState("emphasis").style=S,X.ensureState("blur").style=C,X.ensureState("select").style=I,dn(X,E,z,V),X.incremental=s,s&&(X.states.emphasis.hoverLayer=!0),x.add(X),b.setItemGraphicEl(Y,X),this._progressiveEls&&this._progressiveEls.push(X)}},i.prototype._renderOnGeo=function(e,r,o,a){var s=o.targetVisuals.inRange,l=o.targetVisuals.outOfRange,h=r.getData(),c=this._hmLayer||this._hmLayer||new fz;c.blurSize=r.get("blurSize"),c.pointSize=r.get("pointSize"),c.minOpacity=r.get("minOpacity"),c.maxOpacity=r.get("maxOpacity");var d=e.getViewRect().clone(),p=e.getRoamTransform();d.applyTransform(p);var E,z,V,m=Math.max(d.x,0),y=Math.max(d.y,0),_=Math.min(d.width+d.x,a.getWidth()),x=Math.min(d.height+d.y,a.getHeight()),b=_-m,S=x-y,C=[h.mapDimension("lng"),h.mapDimension("lat"),h.mapDimension("value")],I=h.mapArray(C,function(E,z,V){var G=e.dataToPoint([E,z]);return G[0]-=m,G[1]-=y,G.push(V),G}),A=o.getExtent(),P="visualMap.continuous"===o.type?(z=[((z=o.option.range)[0]-(E=A)[0])/(V=E[1]-E[0]),(z[1]-E[0])/V],function(G){return G>=z[0]&&G<=z[1]}):function(E,z,V){var G=E[1]-E[0],Y=(z=Te(z,function(te){return{interval:[(te.interval[0]-E[0])/G,(te.interval[1]-E[0])/G]}})).length,X=0;return function(te){var ae;for(ae=X;ae<Y;ae++)if((he=z[ae].interval)[0]<=te&&te<=he[1]){X=ae;break}if(ae===Y)for(ae=X-1;ae>=0;ae--){var he;if((he=z[ae].interval)[0]<=te&&te<=he[1]){X=ae;break}}return ae>=0&&ae<Y&&V[ae]}}(A,o.getPieceList(),o.option.selected);c.update(I,b,S,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},P);var O=new Rn({style:{width:b,height:S,x:m,y,image:c.canvas},silent:!0});this.group.add(O)},i.type="heatmap",i}(Hi),mz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.getInitialData=function(e,r){return Bo(null,this,{generateCoord:"value"})},i.prototype.preventIncremental=function(){var e=ih.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},i.type="series.heatmap",i.dependencies=["grid","geo","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},i}(Yi),vz=["itemStyle","borderWidth"],bM=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Ky=new Yr,yz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){var a=this.group,s=e.getData(),l=this._data,h=e.coordinateSystem,c=h.getBaseAxis().isHorizontal(),d=h.master.getRect(),p={ecSize:{width:o.getWidth(),height:o.getHeight()},seriesModel:e,coordSys:h,coordSysExtent:[[d.x,d.x+d.width],[d.y,d.y+d.height]],isHorizontal:c,valueDim:bM[+c],categoryDim:bM[1-+c]};return s.diff(l).add(function(m){if(s.hasValue(m)){var y=IM(s,m),_=wM(s,m,y,p),x=DM(s,p,_);s.setItemGraphicEl(m,x),a.add(x),PM(x,p,_)}}).update(function(m,y){var C,I,A,_=l.getItemGraphicEl(y);if(s.hasValue(m)){var x=IM(s,m),b=wM(s,m,x,p),S=LM(s,b);_&&S!==_.__pictorialShapeStr&&(a.remove(_),s.setItemGraphicEl(m,null),_=null),_?(I=p,Ii((C=_).__pictorialBundle,{x:(A=b).bundlePosition[0],y:A.bundlePosition[1]},A.animationModel,A.dataIndex),A.symbolRepeat?CM(C,I,A,!0):kM(C,0,A,!0),TM(C,A,!0),MM(C,I,A,!0)):_=DM(s,p,b,!0),s.setItemGraphicEl(m,_),_.__pictorialSymbolMeta=b,a.add(_),PM(_,p,b)}else a.remove(_)}).remove(function(m){var y=l.getItemGraphicEl(m);y&&AM(l,m,y.__pictorialSymbolMeta.animationModel,y)}).execute(),this._data=s,this.group},i.prototype.remove=function(e,r){var o=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(s){AM(a,oi(s).dataIndex,e,s)}):o.removeAll()},i.type="pictorialBar",i}(Hi);function wM(n,i,e,r){var _,x,S,I,A,P,O,E,z,V,G,Y,X,o=n.getItemLayout(i),a=e.get("symbolRepeat"),s=e.get("symbolClip"),l=e.get("symbolPosition")||"start",h=(e.get("symbolRotate")||0)*Math.PI/180||0,c=e.get("symbolPatternSize")||2,d=e.isAnimationEnabled(),p={dataIndex:i,layout:o,itemModel:e,symbolType:n.getItemVisual(i,"symbol")||"circle",style:n.getItemVisual(i,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:h,animationModel:d?e:null,hoverScale:d&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(_,x,b,S,C){var I,A=S.valueDim,P=_.get("symbolBoundingData"),O=S.coordSys.getOtherAxis(S.coordSys.getBaseAxis()),E=O.toGlobalCoord(O.dataToCoord(0)),z=1-+(b[A.wh]<=0);if(ne(P)){var V=[Zy(O,P[0])-E,Zy(O,P[1])-E];V[1]<V[0]&&V.reverse(),I=V[z]}else I=null!=P?Zy(O,P)-E:x?S.coordSysExtent[A.index][z]-E:b[A.wh];C.boundingLength=I,x&&(C.repeatCutLength=b[A.wh]),C.pxSign=I>0?1:-1})(e,a,o,r,p),_=n,x=i,S=a,I=p.boundingLength,A=p.pxSign,P=c,E=p,V=(O=r).valueDim,G=O.categoryDim,Y=Math.abs(o[G.wh]),(z=ne(X=_.getItemVisual(x,"symbolSize"))?X.slice():null==X?["100%","100%"]:[X,X])[G.index]=Bt(z[G.index],Y),z[V.index]=Bt(z[V.index],S?Y:Math.abs(I)),E.symbolSize=z,(E.symbolScale=[z[0]/P,z[1]/P])[V.index]*=(O.isHorizontal?-1:1)*A,function(_,x,b,S,C){var I=_.get(vz)||0;I&&(Ky.attr({scaleX:x[0],scaleY:x[1],rotation:b}),Ky.updateTransform(),I/=Ky.getLineScale(),I*=x[S.valueDim.index]),C.valueLineWidth=I||0}(e,p.symbolScale,h,r,p);var m=p.symbolSize,y=Fs(e.get("symbolOffset"),m);return function(_,x,b,S,C,I,A,P,O,E,z,V){var G=z.categoryDim,Y=z.valueDim,X=V.pxSign,te=Math.max(x[Y.index]+P,0),ae=te;if(S){var he=Math.abs(O),fe=Et(_.get("symbolMargin"),"15%")+"",ye=!1;fe.lastIndexOf("!")===fe.length-1&&(ye=!0,fe=fe.slice(0,fe.length-1));var Se=Bt(fe,x[Y.index]),Ee=Math.max(te+2*Se,0),Re=ye?0:2*Se,ze=$f(S),ot=ze?S:OM((he+Re)/Ee);Ee=te+2*(Se=(he-ot*te)/2/(ye?ot:Math.max(ot-1,1))),Re=ye?0:2*Se,ze||"fixed"===S||(ot=E?OM((Math.abs(E)+Re)/Ee):0),ae=ot*Ee-Re,V.repeatTimes=ot,V.symbolMargin=Se}var xt=X*(ae/2),Ue=V.pathPosition=[];Ue[G.index]=b[G.wh]/2,Ue[Y.index]="start"===A?xt:"end"===A?O-xt:O/2,I&&(Ue[0]+=I[0],Ue[1]+=I[1]);var pt=V.bundlePosition=[];pt[G.index]=b[G.xy],pt[Y.index]=b[Y.xy];var bt=V.barRectShape=Z({},b);bt[Y.wh]=X*Math.max(Math.abs(b[Y.wh]),Math.abs(Ue[Y.index]+xt)),bt[G.wh]=b[G.wh];var Mt=V.clipShape={};Mt[G.xy]=-b[G.xy],Mt[G.wh]=z.ecSize[G.wh],Mt[Y.xy]=0,Mt[Y.wh]=b[Y.wh]}(e,m,o,a,0,y,l,p.valueLineWidth,p.boundingLength,p.repeatCutLength,r,p),p}function Zy(n,i){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(i)))}function SM(n){var i=n.symbolPatternSize,e=vn(n.symbolType,-i/2,-i/2,i,i);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function CM(n,i,e,r){var o=n.__pictorialBundle,l=e.pathPosition,h=i.valueDim,c=e.repeatTimes||0,d=0,p=e.symbolSize[i.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(Qy(n,function(x){x.__pictorialAnimationIndex=d,x.__pictorialRepeatTimes=c,d<c?Ih(x,null,_(d),e,r):Ih(x,null,{scaleX:0,scaleY:0},e,r,function(){o.remove(x)}),d++});d<c;d++){var m=SM(e);m.__pictorialAnimationIndex=d,m.__pictorialRepeatTimes=c,o.add(m);var y=_(d);Ih(m,{x:y.x,y:y.y,scaleX:0,scaleY:0},{scaleX:y.scaleX,scaleY:y.scaleY,rotation:y.rotation},e,r)}function _(x){var b=l.slice(),S=e.pxSign,C=x;return("start"===e.symbolRepeatDirection?S>0:S<0)&&(C=c-1-x),b[h.index]=p*(C-c/2+.5)+l[h.index],{x:b[0],y:b[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function kM(n,i,e,r){var o=n.__pictorialBundle,a=n.__pictorialMainPath;a?Ih(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,r):(a=n.__pictorialMainPath=SM(e),o.add(a),Ih(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,r))}function TM(n,i,e){var r=Z({},i.barRectShape),o=n.__pictorialBarRect;o?Ih(o,null,{shape:r},i,e):((o=n.__pictorialBarRect=new Si({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(o))}function MM(n,i,e,r){if(e.symbolClip){var o=n.__pictorialClipPath,a=Z({},e.clipShape),s=i.valueDim,l=e.animationModel,h=e.dataIndex;if(o)Ii(o,{shape:a},l,h);else{a[s.wh]=0,o=new Si({shape:a}),n.__pictorialBundle.setClipPath(o),n.__pictorialClipPath=o;var c={};c[s.wh]=e.clipShape[s.wh],Su[r?"updateProps":"initProps"](o,{shape:c},l,h)}}}function IM(n,i){var e=n.getItemModel(i);return e.getAnimationDelayParams=_z,e.isAnimationEnabled=xz,e}function _z(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function xz(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function DM(n,i,e,r){var o=new ti,a=new ti;return o.add(a),o.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?CM(o,i,e):kM(o,0,e),TM(o,e,r),MM(o,i,e,r),o.__pictorialShapeStr=LM(n,e),o.__pictorialSymbolMeta=e,o}function AM(n,i,e,r){var o=r.__pictorialBarRect;o&&o.removeTextContent();var a=[];Qy(r,function(s){a.push(s)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(e=null),F(a,function(s){Ba(s,{scaleX:0,scaleY:0},e,i,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(i,null)}function LM(n,i){return[n.getItemVisual(i.dataIndex,"symbol")||"none",!!i.symbolRepeat,!!i.symbolClip].join(":")}function Qy(n,i,e){F(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&i.call(e,r)})}function Ih(n,i,e,r,o,a){i&&n.attr(i),r.symbolClip&&!o?e&&n.attr(e):e&&Su[o?"updateProps":"initProps"](n,e,r.animationModel,r.dataIndex,a)}function PM(n,i,e){var r=e.dataIndex,o=e.itemModel,a=o.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),l=o.getModel(["blur","itemStyle"]).getItemStyle(),h=o.getModel(["select","itemStyle"]).getItemStyle(),c=o.getShallow("cursor"),d=a.get("focus"),p=a.get("blurScope"),m=a.get("scale");Qy(n,function(_){if(_ instanceof Rn){var x=_.style;_.useStyle(Z({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},e.style))}else _.useStyle(e.style);var b=_.ensureState("emphasis");b.style=s,m&&(b.scaleX=1.1*_.scaleX,b.scaleY=1.1*_.scaleY),_.ensureState("blur").style=l,_.ensureState("select").style=h,c&&(_.cursor=c),_.z2=e.z2});var y=i.valueDim.posDesc[+(e.boundingLength>0)];Kn(n.__pictorialBarRect,zn(o),{labelFetcher:i.seriesModel,labelDataIndex:r,defaultText:_h(i.seriesModel.getData(),r),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:y}),dn(n,d,p,a.get("disabled"))}function OM(n){var i=Math.round(n);return Math.abs(n-i)<1e-4?i:Math.ceil(n)}var bz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return Le(i,n),i.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},i.type="series.pictorialBar",i.dependencies=["grid"],i.defaultOption=Va(oc.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),i}(oc),wz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e._layers=[],e}return Le(i,n),i.prototype.render=function(e,r,o){var a=e.getData(),s=this,l=this.group,h=e.getLayerSeries(),c=a.getLayout("layoutInfo"),d=c.rect,p=c.boundaryGap;function m(b){return b.name}l.x=0,l.y=d.y+p[0];var y=new da(this._layersSeries||[],h,m,m),_=[];function x(b,S,C){var Ee,Re,ot,I=s._layers;if("remove"!==b){for(var A,P,O=[],E=[],z=h[S].indices,V=0;V<z.length;V++){var G=a.getItemLayout(z[V]),Y=G.x,X=G.y0,te=G.y;O.push(Y,X),E.push(Y,X+te),A=a.getItemVisual(z[V],"style")}var ae=a.getItemLayout(z[0]),he=e.getModel("label").get("margin"),fe=e.getModel("emphasis");if("add"===b){var ye=_[S]=new ti;P=new fC({shape:{points:O,stackedOnPoints:E,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ye.add(P),l.add(ye),e.isAnimationEnabled()&&P.setClipPath((Ee=P.getBoundingRect(),Re=e,nn(ot=new Si({shape:{x:Ee.x-10,y:Ee.y-10,width:0,height:Ee.height+20}}),{shape:{x:Ee.x-50,width:Ee.width+100,height:Ee.height+20}},Re,function(){P.removeClipPath()}),ot))}else P=(ye=I[C]).childAt(0),l.add(ye),_[S]=ye,Ii(P,{shape:{points:O,stackedOnPoints:E}},e),go(P);Kn(P,zn(e),{labelDataIndex:z[V-1],defaultText:a.getName(z[V-1]),inheritColor:A.fill},{normal:{verticalAlign:"middle"}}),P.setTextConfig({position:null,local:!0});var Se=P.getTextContent();Se&&(Se.x=ae.x-he,Se.y=ae.y0+ae.y/2),P.useStyle(A),a.setItemGraphicEl(S,P),Xn(P,e),dn(P,fe.get("focus"),fe.get("blurScope"),fe.get("disabled"))}else l.remove(I[S])}y.add(De(x,this,"add")).update(De(x,this,"update")).remove(De(x,this,"remove")).execute(),this._layersSeries=h,this._layers=_},i.type="themeRiver",i}(Hi),Sz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new sc(De(this.getData,this),De(this.getRawData,this))},i.prototype.fixData=function(e){var r=e.length,o={},a=Xf(e,function(m){return o.hasOwnProperty(m[0]+"")||(o[m[0]+""]=-1),m[2]}),s=[];a.buckets.each(function(m,y){s.push({name:y,dataList:m})});for(var l=s.length,h=0;h<l;++h){for(var c=s[h].name,d=0;d<s[h].dataList.length;++d)o[p=s[h].dataList[d][0]+""]=h;for(var p in o)o.hasOwnProperty(p)&&o[p]!==h&&(o[p]=h,e[r]=[p,0,c],r++)}return e},i.prototype.getInitialData=function(e,r){for(var o=this.getReferringComponents("singleAxis",kn).models[0].get("type"),a=tt(e.data,function(y){return void 0!==y[2]}),s=this.fixData(a||[]),l=[],h=this.nameMap=xe(),c=0,d=0;d<s.length;++d)l.push(s[d][2]),h.get(s[d][2])||(h.set(s[d][2],c),c++);var p=fh(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:rp(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,m=new lr(p,this);return m.initData(s),m},i.prototype.getLayerSeries=function(){for(var e=this.getData(),r=e.count(),o=[],a=0;a<r;++a)o[a]=a;var s=e.mapDimension("single"),l=Xf(o,function(c){return e.get("name",c)}),h=[];return l.buckets.each(function(c,d){c.sort(function(p,m){return e.get(s,p)-e.get(s,m)}),h.push({name:d,indices:c})}),h},i.prototype.getAxisTooltipData=function(e,r,o){ne(e)||(e=e?[e]:[]);for(var a,s=this.getData(),l=this.getLayerSeries(),h=[],c=l.length,d=0;d<c;++d){for(var p=Number.MAX_VALUE,m=-1,y=l[d].indices.length,_=0;_<y;++_){var x=s.get(e[0],l[d].indices[_]),b=Math.abs(x-r);b<=p&&(a=x,p=b,m=l[d].indices[_])}h.push(m)}return{dataIndices:h,nestestValue:a}},i.prototype.formatTooltip=function(e,r,o){var a=this.getData();return Bn("nameValue",{name:a.getName(e),value:a.get(a.mapDimension("value"),e)})},i.type="series.themeRiver",i.dependencies=["singleAxis"],i.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},i}(Yi);function Cz(n,i){n.eachSeriesByType("themeRiver",function(e){var r=e.getData(),o=e.coordinateSystem,a={},s=o.getRect();a.rect=s;var l=e.get("boundaryGap"),h=o.getAxis();a.boundaryGap=l,"horizontal"===h.orient?(l[0]=Bt(l[0],s.height),l[1]=Bt(l[1],s.height),EM(r,e,s.height-l[0]-l[1])):(l[0]=Bt(l[0],s.width),l[1]=Bt(l[1],s.width),EM(r,e,s.width-l[0]-l[1])),r.setLayout("layoutInfo",a)})}function EM(n,i,e){if(n.count())for(var r,o=i.coordinateSystem,a=i.getLayerSeries(),s=n.mapDimension("single"),l=n.mapDimension("value"),h=Te(a,function(b){return Te(b.indices,function(S){var C=o.dataToPoint(n.get(s,S));return C[1]=n.get(l,S),C})}),c=function(b){for(var S=b.length,C=b[0].length,I=[],A=[],P=0,O=0;O<C;++O){for(var E=0,z=0;z<S;++z)E+=b[z][O][1];E>P&&(P=E),I.push(E)}for(var V=0;V<C;++V)A[V]=(P-I[V])/2;P=0;for(var G=0;G<C;++G){var Y=I[G]+A[G];Y>P&&(P=Y)}return{y0:A,max:P}}(h),d=c.y0,p=e/c.max,m=a.length,y=a[0].indices.length,_=0;_<y;++_){n.setItemLayout(a[0].indices[_],{layerIndex:0,x:h[0][_][0],y0:r=d[_]*p,y:h[0][_][1]*p});for(var x=1;x<m;++x)n.setItemLayout(a[x].indices[_],{layerIndex:x,x:h[x][_][0],y0:r+=h[x-1][_][1]*p,y:h[x][_][1]*p})}}var NM=function(n){function i(e,r,o,a){var s=n.call(this)||this;s.z2=2,s.textConfig={inside:!0},oi(s).seriesIndex=r.seriesIndex;var l=new Ci({z2:4,silent:e.getModel().get(["label","silent"])});return s.setTextContent(l),s.updateData(!0,e,r,o,a),s}return Le(i,n),i.prototype.updateData=function(e,r,o,a,s){this.node=r,r.piece=this,o=o||this._seriesModel,a=a||this._ecModel;var l=this;oi(l).dataIndex=r.dataIndex;var h=r.getModel(),c=h.getModel("emphasis"),d=r.getLayout(),p=Z({},d);p.label=null;var m=r.getVisual("style");m.lineJoin="bevel";var y=r.getVisual("decal");y&&(m.decal=dh(y,s));var _=tl(h.getModel("itemStyle"),p,!0);Z(p,_),F(pr,function(S){var C=l.ensureState(S),I=h.getModel([S,"itemStyle"]);C.style=I.getItemStyle();var A=tl(I,p);A&&(C.shape=A)}),e?(l.setShape(p),l.shape.r=d.r0,nn(l,{shape:{r:d.r}},o,r.dataIndex)):(Ii(l,{shape:p},o),go(l)),l.useStyle(m),this._updateLabel(o);var x=h.getShallow("cursor");x&&l.attr("cursor",x),this._seriesModel=o||this._seriesModel,this._ecModel=a||this._ecModel;var b=c.get("focus");dn(this,"ancestor"===b?r.getAncestorsIndices():"descendant"===b?r.getDescendantIndices():b,c.get("blurScope"),c.get("disabled"))},i.prototype._updateLabel=function(e){var r=this,o=this.node.getModel(),a=o.getModel("label"),s=this.node.getLayout(),l=s.endAngle-s.startAngle,h=(s.startAngle+s.endAngle)/2,c=Math.cos(h),d=Math.sin(h),p=this,m=p.getTextContent(),y=this.node.dataIndex,_=a.get("minAngle")/180*Math.PI,x=a.get("show")&&!(null!=_&&Math.abs(l)<_);function b(S,C){var I=S.get(C);return null==I?a.get(C):I}m.ignore=!x,F(uu,function(S){var C=o.getModel("normal"===S?"label":[S,"label"]),I="normal"===S,A=I?m:m.ensureState(S),P=e.getFormattedLabel(y,S);I&&(P=P||r.node.name),A.style=Xi(C,{},null,"normal"!==S,!0),P&&(A.style.text=P);var O=C.get("show");null==O||I||(A.ignore=!O);var E,z=b(C,"position"),V=I?p:p.states[S],G=V.style.fill;V.textConfig={outsideFill:"inherit"===C.get("color")?G:null,inside:"outside"!==z};var Y=b(C,"distance")||0,X=b(C,"align");"outside"===z?(E=s.r+Y,X=h>Math.PI/2?"right":"left"):X&&"center"!==X?"left"===X?(E=s.r0+Y,h>Math.PI/2&&(X="right")):"right"===X&&(E=s.r-Y,h>Math.PI/2&&(X="left")):(E=l===2*Math.PI&&0===s.r0?0:(s.r+s.r0)/2,X="center"),A.style.align=X,A.style.verticalAlign=b(C,"verticalAlign")||"middle",A.x=E*c+s.cx,A.y=E*d+s.cy;var te=b(C,"rotate"),ae=0;"radial"===te?(ae=po(-h))>Math.PI/2&&ae<1.5*Math.PI&&(ae+=Math.PI):"tangential"===te?(ae=Math.PI/2-h)>Math.PI/2?ae-=Math.PI:ae<-Math.PI/2&&(ae+=Math.PI):Ge(te)&&(ae=te*Math.PI/180),A.rotation=po(ae)}),m.dirtyStyle()},i}(ir),Jy="sunburstRootToNode",RM="sunburstHighlight",kz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o,a){var s=this;this.seriesModel=e,this.api=o,this.ecModel=r;var _,x,l=e.getData(),h=l.tree.root,c=e.getViewRoot(),d=this.group,p=e.get("renderLabelForZeroData"),m=[];c.eachNode(function(_){m.push(_)}),function(_,x){function b(C){return C.getId()}function S(C,I){!function(A,P){if(p||!A||A.getValue()||(A=null),A!==h&&P!==h)if(P&&P.piece)A?(P.piece.updateData(!1,A,e,r,o),l.setItemGraphicEl(A.dataIndex,P.piece)):!(E=P)||E.piece&&(d.remove(E.piece),E.piece=null);else if(A){var O=new NM(A,e,r,o);d.add(O),l.setItemGraphicEl(A.dataIndex,O)}var E}(null==C?null:_[C],null==I?null:x[I])}0===_.length&&0===x.length||new da(x,_,b,b).add(S).update(S).remove(Q(S,null)).execute()}(m,this._oldChildren||[]),_=h,(x=c).depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,_,e,r,o):(s.virtualPiece=new NM(_,e,r,o),d.add(s.virtualPiece)),x.piece.off("click"),s.virtualPiece.on("click",function(b){s._rootToNode(x.parentNode)})):s.virtualPiece&&(d.remove(s.virtualPiece),s.virtualPiece=null),this._initEvents(),this._oldChildren=m},i.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(r){var o=!1;e.seriesModel.getViewRoot().eachNode(function(a){if(!o&&a.piece&&a.piece===r.target){var s=a.getModel().get("nodeClick");if("rootToNode"===s)e._rootToNode(a);else if("link"===s){var l=a.getModel(),h=l.get("link");h&&Ld(h,l.get("target",!0)||"_blank")}o=!0}})})},i.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Jy,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},i.prototype.containPoint=function(e,r){var o=r.getData().getItemLayout(0);if(o){var a=e[0]-o.cx,s=e[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},i.type="sunburst",i}(Hi),Tz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.ignoreStyleOnData=!0,e}return Le(i,n),i.prototype.getInitialData=function(e,r){var o={name:e.name,children:e.data};zM(o);var a=this._levelModels=Te(e.levels||[],function(l){return new Li(l,this,r)},this),s=ey.createTree(o,this,function(l){l.wrapMethod("getItemModel",function(h,c){var d=s.getNodeByDataIndex(c),p=a[d.depth];return p&&(h.parentModel=p),h})});return s.data},i.prototype.optionUpdated=function(){this.resetViewRoot()},i.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return r.treePathInfo=jp(o,this),r},i.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},i.prototype.getViewRoot=function(){return this._viewRoot},i.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;e&&(e===r||r.contains(e))||(this._viewRoot=r)},i.prototype.enableAriaDecal=function(){Kk(this)},i.type="series.sunburst",i.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},i}(Yi);function zM(n){var i=0;F(n.children,function(r){zM(r);var o=r.value;ne(o)&&(o=o[0]),i+=o});var e=n.value;ne(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=i),e<0&&(e=0),ne(n.value)?n.value[0]=e:n.value=e}var BM=Math.PI/180;function Mz(n,i,e){i.eachSeriesByType(n,function(r){var o=r.get("center"),a=r.get("radius");ne(a)||(a=[0,a]),ne(o)||(o=[o,o]);var s=e.getWidth(),l=e.getHeight(),h=Math.min(s,l),c=Bt(o[0],s),d=Bt(o[1],l),p=Bt(a[0],h/2),m=Bt(a[1],h/2),y=-r.get("startAngle")*BM,_=r.get("minAngle")*BM,x=r.getData().tree.root,b=r.getViewRoot(),S=b.depth,C=r.get("sort");null!=C&&jM(b,C);var I=0;F(b.children,function(fe){!isNaN(fe.getValue())&&I++});var A=b.getValue(),P=Math.PI/(A||I)*2,O=b.depth>0,z=(m-p)/(b.height-(O?-1:1)||1),V=r.get("clockwise"),G=r.get("stillShowZeroSum"),Y=V?1:-1,X=function(fe,ye){if(fe){var Se=ye;if(fe!==x){var Ee=fe.getValue(),Re=0===A&&G?P:Ee*P;Re<_&&(Re=_),Se=ye+Y*Re;var ze=fe.depth-S-(O?-1:1),ot=p+z*ze,xt=p+z*(ze+1),Ue=r.getLevelModel(fe);if(Ue){var pt=Ue.get("r0",!0),bt=Ue.get("r",!0),Mt=Ue.get("radius",!0);null!=Mt&&(pt=Mt[0],bt=Mt[1]),null!=pt&&(ot=Bt(pt,h/2)),null!=bt&&(xt=Bt(bt,h/2))}fe.setLayout({angle:Re,startAngle:ye,endAngle:Se,clockwise:V,cx:c,cy:d,r0:ot,r:xt})}if(fe.children&&fe.children.length){var yt=0;F(fe.children,function(Dt){yt+=X(Dt,ye+yt)})}return Se-ye}};if(O){var he=2*Math.PI;x.setLayout({angle:he,startAngle:y,endAngle:y+he,clockwise:V,cx:c,cy:d,r0:p,r:p+z})}X(b,y)})}function jM(n,i){var e=n.children||[];n.children=function(r,o){if(ee(o)){var a=Te(r,function(l,h){var c=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return c}},index:h}});return a.sort(function(l,h){return o(l.params,h.params)}),Te(a,function(l){return r[l.index]})}var s="asc"===o;return r.sort(function(l,h){var c=(l.getValue()-h.getValue())*(s?1:-1);return 0===c?(l.dataIndex-h.dataIndex)*(s?-1:1):c})}(e,i),e.length&&F(n.children,function(r){jM(r,i)})}function Iz(n){var i={};n.eachSeriesByType("sunburst",function(e){var r=e.getData(),o=r.tree;o.eachNode(function(a){var s=a.getModel().getModel("itemStyle").getItemStyle();s.fill||(s.fill=function(l,h,c){for(var d=l;d&&d.depth>1;)d=d.parentNode;var p=h.getColorFromPalette(d.name||d.dataIndex+"",i);return l.depth>1&&J(p)&&(p=Ml(p,(l.depth-1)/(c-1)*.5)),p}(a,e,o.root.height)),Z(r.ensureUniqueItemVisual(a.dataIndex,"style"),s)})})}var HM={color:"fill",borderColor:"stroke"},Dz={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},ma=Mi(),Az=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},i.prototype.getInitialData=function(e,r){return Bo(null,this)},i.prototype.getDataParams=function(e,r,o){var a=n.prototype.getDataParams.call(this,e,r);return o&&(a.info=ma(o).info),a},i.type="series.custom",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},i}(Yi);function Lz(n,i){return i=i||[0,0],Te(["x","y"],function(e,r){var o=this.getAxis(e),a=i[r],s=n[r]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s))},this)}function Pz(n,i){return i=i||[0,0],Te([0,1],function(e){var r=i[e],o=n[e]/2,a=[],s=[];return a[e]=r-o,s[e]=r+o,a[1-e]=s[1-e]=i[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(s)[e])},this)}function Oz(n,i){var e=this.getAxis(),r=i instanceof Array?i[0]:i,o=(n instanceof Array?n[0]:n)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(r-o)-e.dataToCoord(r+o))}function Ez(n,i){return i=i||[0,0],Te(["Radius","Angle"],function(e,r){var o=this["get"+e+"Axis"](),a=i[r],s=n[r]/2,l="category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s));return"Angle"===e&&(l=l*Math.PI/180),l},this)}function VM(n,i,e,r){return n&&(n.legacy||!1!==n.legacy&&!e&&!r&&"tspan"!==i&&("text"===i||Be(n,"text")))}function FM(n,i,e){var r,o,a,s=n;if("text"===i)a=s;else{a={},Be(s,"text")&&(a.text=s.text),Be(s,"rich")&&(a.rich=s.rich),Be(s,"textFill")&&(a.fill=s.textFill),Be(s,"textStroke")&&(a.stroke=s.textStroke),Be(s,"fontFamily")&&(a.fontFamily=s.fontFamily),Be(s,"fontSize")&&(a.fontSize=s.fontSize),Be(s,"fontStyle")&&(a.fontStyle=s.fontStyle),Be(s,"fontWeight")&&(a.fontWeight=s.fontWeight),o={type:"text",style:a,silent:!0},r={};var l=Be(s,"textPosition");e?r.position=l?s.textPosition:"inside":l&&(r.position=s.textPosition),Be(s,"textPosition")&&(r.position=s.textPosition),Be(s,"textOffset")&&(r.offset=s.textOffset),Be(s,"textRotation")&&(r.rotation=s.textRotation),Be(s,"textDistance")&&(r.distance=s.textDistance)}return WM(a,n),F(a.rich,function(h){WM(h,h)}),{textConfig:r,textContent:o}}function WM(n,i){i&&(i.font=i.textFont||i.font,Be(i,"textStrokeWidth")&&(n.lineWidth=i.textStrokeWidth),Be(i,"textAlign")&&(n.align=i.textAlign),Be(i,"textVerticalAlign")&&(n.verticalAlign=i.textVerticalAlign),Be(i,"textLineHeight")&&(n.lineHeight=i.textLineHeight),Be(i,"textWidth")&&(n.width=i.textWidth),Be(i,"textHeight")&&(n.height=i.textHeight),Be(i,"textBackgroundColor")&&(n.backgroundColor=i.textBackgroundColor),Be(i,"textPadding")&&(n.padding=i.textPadding),Be(i,"textBorderColor")&&(n.borderColor=i.textBorderColor),Be(i,"textBorderWidth")&&(n.borderWidth=i.textBorderWidth),Be(i,"textBorderRadius")&&(n.borderRadius=i.textBorderRadius),Be(i,"textBoxShadowColor")&&(n.shadowColor=i.textBoxShadowColor),Be(i,"textBoxShadowBlur")&&(n.shadowBlur=i.textBoxShadowBlur),Be(i,"textBoxShadowOffsetX")&&(n.shadowOffsetX=i.textBoxShadowOffsetX),Be(i,"textBoxShadowOffsetY")&&(n.shadowOffsetY=i.textBoxShadowOffsetY))}function GM(n,i,e){var r=n;r.textPosition=r.textPosition||e.position||"inside",null!=e.offset&&(r.textOffset=e.offset),null!=e.rotation&&(r.textRotation=e.rotation),null!=e.distance&&(r.textDistance=e.distance);var o=r.textPosition.indexOf("inside")>=0,a=n.fill||"#000";YM(r,i);var s=null==r.textFill;return o?s&&(r.textFill=e.insideFill||"#fff",!r.textStroke&&e.insideStroke&&(r.textStroke=e.insideStroke),!r.textStroke&&(r.textStroke=a),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(s&&(r.textFill=n.fill||e.outsideFill||"#000"),!r.textStroke&&e.outsideStroke&&(r.textStroke=e.outsideStroke)),r.text=i.text,r.rich=i.rich,F(i.rich,function(l){YM(l,l)}),r}function YM(n,i){i&&(Be(i,"fill")&&(n.textFill=i.fill),Be(i,"stroke")&&(n.textStroke=i.fill),Be(i,"lineWidth")&&(n.textStrokeWidth=i.lineWidth),Be(i,"font")&&(n.font=i.font),Be(i,"fontStyle")&&(n.fontStyle=i.fontStyle),Be(i,"fontWeight")&&(n.fontWeight=i.fontWeight),Be(i,"fontSize")&&(n.fontSize=i.fontSize),Be(i,"fontFamily")&&(n.fontFamily=i.fontFamily),Be(i,"align")&&(n.textAlign=i.align),Be(i,"verticalAlign")&&(n.textVerticalAlign=i.verticalAlign),Be(i,"lineHeight")&&(n.textLineHeight=i.lineHeight),Be(i,"width")&&(n.textWidth=i.width),Be(i,"height")&&(n.textHeight=i.height),Be(i,"backgroundColor")&&(n.textBackgroundColor=i.backgroundColor),Be(i,"padding")&&(n.textPadding=i.padding),Be(i,"borderColor")&&(n.textBorderColor=i.borderColor),Be(i,"borderWidth")&&(n.textBorderWidth=i.borderWidth),Be(i,"borderRadius")&&(n.textBorderRadius=i.borderRadius),Be(i,"shadowColor")&&(n.textBoxShadowColor=i.shadowColor),Be(i,"shadowBlur")&&(n.textBoxShadowBlur=i.shadowBlur),Be(i,"shadowOffsetX")&&(n.textBoxShadowOffsetX=i.shadowOffsetX),Be(i,"shadowOffsetY")&&(n.textBoxShadowOffsetY=i.shadowOffsetY),Be(i,"textShadowColor")&&(n.textShadowColor=i.textShadowColor),Be(i,"textShadowBlur")&&(n.textShadowBlur=i.textShadowBlur),Be(i,"textShadowOffsetX")&&(n.textShadowOffsetX=i.textShadowOffsetX),Be(i,"textShadowOffsetY")&&(n.textShadowOffsetY=i.textShadowOffsetY))}var $M={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},UM=ft($M),Zp=(ht(Io,function(n,i){return n[i]=1,n},{}),Io.join(", "),["","style","shape","extra"]),Dh=Mi();function e0(n,i,e,r,o){var a=n+"Animation",s=Gl(n,r,o)||{},l=Dh(i).userDuring;return s.duration>0&&(s.during=l?De(Rz,{el:i,userDuring:l}):null,s.setToFinal=!0,s.scope=n),Z(s,e[a]),s}function Qp(n,i,e,r){var o=(r=r||{}).dataIndex,a=r.isInit,s=r.clearStyle,l=e.isAnimationEnabled(),h=Dh(n),c=i.style;h.userDuring=i.during;var _,x,d={},p={};if(function(_,x,b){for(var S=0;S<UM.length;S++){var C=UM[S],I=$M[C],A=x[C];A&&(b[I[0]]=A[0],b[I[1]]=A[1])}for(S=0;S<Io.length;S++){var P=Io[S];null!=x[P]&&(b[P]=x[P])}}(0,i,p),KM("shape",i,p),KM("extra",i,p),!a&&l&&(function(_,x,b){for(var S=x.transition,C=cl(S)?Io:Gi(S||[]),I=0;I<C.length;I++){var A=C[I];"style"!==A&&"shape"!==A&&"extra"!==A&&(b[A]=_[A])}}(n,i,d),XM("shape",n,i,d),XM("extra",n,i,d),function(_,x,b,S){if(b){var C,I=_.style;if(I){var A=b.transition,P=x.transition;if(A&&!cl(A)){var O=Gi(A);!C&&(C=S.style={});for(var E=0;E<O.length;E++){var z=I[X=O[E]];C[X]=z}}else if(_.getAnimationStyleProps&&(cl(P)||cl(A)||ve(P,"style")>=0)){var V=_.getAnimationStyleProps(),G=V?V.style:null;if(G){!C&&(C=S.style={});var Y=ft(b);for(E=0;E<Y.length;E++){var X;G[X=Y[E]]&&(C[X]=z=I[X])}}}}}}(n,i,c,d)),p.style=c,function(_,x,b){var S=x.style;if(!_.isGroup&&S){if(b){_.useStyle({});for(var C=_.animators,I=0;I<C.length;I++){var A=C[I];"style"===A.targetName&&A.changeTarget(_.style)}}_.setStyle(S)}x&&(x.style=null,x&&_.attr(x),x.style=S)}(n,p,s),_=n,Be(x=i,"silent")&&(_.silent=x.silent),Be(x,"ignore")&&(_.ignore=x.ignore),_ instanceof Wr&&Be(x,"invisible")&&(_.invisible=x.invisible),_ instanceof yi&&Be(x,"autoBatch")&&(_.autoBatch=x.autoBatch),l)if(a){var m={};F(Zp,function(_){var x=_?i[_]:i;x&&x.enterFrom&&(_&&(m[_]=m[_]||{}),Z(_?m[_]:m,x.enterFrom))});var y=e0("enter",n,i,e,o);y.duration>0&&n.animateFrom(m,y)}else!function(_,x,b,S,C){if(C){var I=e0("update",_,x,S,b);I.duration>0&&_.animateFrom(C,I)}}(n,i,o||0,e,d);qM(n,i),c?n.dirty():n.markRedraw()}function qM(n,i){for(var e=Dh(n).leaveToProps,r=0;r<Zp.length;r++){var o=Zp[r],a=o?i[o]:i;a&&a.leaveTo&&(e||(e=Dh(n).leaveToProps={}),o&&(e[o]=e[o]||{}),Z(o?e[o]:e,a.leaveTo))}}function Jp(n,i,e,r){if(n){var o=n.parent,a=Dh(n).leaveToProps;if(a){var s=e0("update",n,i,e,0);s.done=function(){o.remove(n),r&&r()},n.animateTo(a,s)}else o.remove(n),r&&r()}}function cl(n){return"all"===n}var Go={},Nz={setTransform:function(n,i){return Go.el[n]=i,this},getTransform:function(n){return Go.el[n]},setShape:function(n,i){var e=Go.el;return(e.shape||(e.shape={}))[n]=i,e.dirtyShape&&e.dirtyShape(),this},getShape:function(n){var i=Go.el.shape;if(i)return i[n]},setStyle:function(n,i){var e=Go.el,r=e.style;return r&&(r[n]=i,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(n){var i=Go.el.style;if(i)return i[n]},setExtra:function(n,i){return(Go.el.extra||(Go.el.extra={}))[n]=i,this},getExtra:function(n){var i=Go.el.extra;if(i)return i[n]}};function Rz(){var n=this,i=n.el;if(i){var e=Dh(i).userDuring,r=n.userDuring;e===r?(Go.el=i,r(Nz)):n.el=n.userDuring=null}}function XM(n,i,e,r){var o=e[n];if(o){var a,s=i[n];if(s){var l=e.transition,h=o.transition;if(h)if(!a&&(a=r[n]={}),cl(h))Z(a,s);else for(var c=Gi(h),d=0;d<c.length;d++){var p=s[y=c[d]];a[y]=p}else if(cl(l)||ve(l,n)>=0){!a&&(a=r[n]={});var m=ft(s);for(d=0;d<m.length;d++){var y;p=s[y=m[d]],zz(o[y],p)&&(a[y]=p)}}}}}function KM(n,i,e){var r=i[n];if(r)for(var o=e[n]={},a=ft(r),s=0;s<a.length;s++){var l=a[s];o[l]=Gt(r[l])}}function zz(n,i){return Ne(n)?n!==i:null!=n&&isFinite(n)}var ZM=Mi(),Bz=["percent","easing","shape","style","extra"];function QM(n){n.stopAnimation("keyframe"),n.attr(ZM(n))}function ef(n,i,e){if(e.isAnimationEnabled()&&i)if(ne(i))F(i,function(l){ef(n,l,e)});else{var r=i.keyframes,o=i.duration;if(e&&null==o){var a=Gl("enter",e,0);o=a&&a.duration}if(r&&o){var s=ZM(n);F(Zp,function(l){var h;l&&!n[l]||(r.sort(function(c,d){return c.percent-d.percent}),F(r,function(c){var d=n.animators,p=l?c[l]:c;if(p){var m=ft(p);if(l||(m=tt(m,function(x){return ve(Bz,x)<0})),m.length){h||((h=n.animate(l,i.loop,!0)).scope="keyframe");for(var y=0;y<d.length;y++)d[y]!==h&&d[y].targetName===h.targetName&&d[y].stopTracks(m);l&&(s[l]=s[l]||{});var _=l?s[l]:s;F(m,function(x){_[x]=((l?n[l]:n)||{})[x]}),h.whenWithKeys(o*c.percent,p,m,c.easing)}}}),h&&h.delay(i.delay||0).duration(o).start(i.easing))})}}}var va="emphasis",ts="normal",t0="blur",i0="select",is=[ts,va,t0,i0],n0={normal:["itemStyle"],emphasis:[va,"itemStyle"],blur:[t0,"itemStyle"],select:[i0,"itemStyle"]},r0={normal:["label"],emphasis:[va,"label"],blur:[t0,"label"],select:[i0,"label"]},jz=["x","y"],to={normal:{},emphasis:{},blur:{},select:{}},Hz={cartesian2d:function(n){var i=n.master.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(e){return n.dataToPoint(e)},size:De(Lz,n)}}},geo:function(n){var i=n.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:De(Pz,n)}}},single:function(n){var i=n.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(e){return n.dataToPoint(e)},size:De(Oz,n)}}},polar:function(n){var i=n.getRadiusAxis(),e=n.getAngleAxis(),r=i.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:r[1],r0:r[0]},api:{coord:function(o){var a=i.dataToRadius(o[0]),s=e.dataToAngle(o[1]),l=n.coordToPoint([a,s]);return l.push(a,s*Math.PI/180),l},size:De(Ez,n)}}},calendar:function(n){var i=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:i.x,y:i.y,width:i.width,height:i.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(r,o){return n.dataToPoint(r,o)}}}}};function o0(n){return n instanceof yi}function a0(n){return n instanceof Wr}var Vz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o,a){this._progressiveEls=null;var s=this._data,l=e.getData(),h=this.group,c=eI(e,l,r,o);s||h.removeAll(),l.diff(s).add(function(p){h0(o,null,p,c(p,a),e,h,l)}).remove(function(p){var m=s.getItemGraphicEl(p);m&&Jp(m,ma(m).option,e)}).update(function(p,m){var y=s.getItemGraphicEl(m);h0(o,y,p,c(p,a),e,h,l)}).execute();var d=e.get("clip",!0)?kp(e.coordinateSystem,!1,e):null;d?h.setClipPath(d):h.removeClipPath(),this._data=l},i.prototype.incrementalPrepareRender=function(e,r,o){this.group.removeAll(),this._data=null},i.prototype.incrementalRender=function(e,r,o,a,s){var l=r.getData(),h=eI(r,l,o,a),c=this._progressiveEls=[];function d(y){y.isGroup||(y.incremental=!0,y.ensureState("emphasis").hoverLayer=!0)}for(var p=e.start;p<e.end;p++){var m=h0(null,null,p,h(p,s),r,this.group,l);m&&(m.traverse(d),c.push(m))}},i.prototype.eachRendered=function(e){Ha(this._progressiveEls||this.group,e)},i.prototype.filterForExposedEvent=function(e,r,o,a){var s=r.element;if(null==s||o.name===s)return!0;for(;(o=o.__hostTarget||o.parent)&&o!==this.group;)if(o.name===s)return!0;return!1},i.type="custom",i}(Hi);function s0(n){var i,e=n.type;if("path"===e){var r=n.shape,o=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=oI(r);i=xu(a,null,o,r.layout||"center"),ma(i).customPathData=a}else if("image"===e)i=new Rn({}),ma(i).customImagePath=n.style.image;else if("text"===e)i=new Ci({});else if("group"===e)i=new ti;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var s=yd(e);s||zi(""),i=new s}return ma(i).customGraphicType=e,i.name=n.name,i.z2EmphasisLift=1,i.z2SelectLift=1,i}function l0(n,i,e,r,o,a,s){QM(i);var l=o&&o.normal.cfg;l&&i.setTextConfig(l),r&&null==r.transition&&(r.transition=jz);var h=r&&r.style;if(h){if("text"===i.type){var c=h;Be(c,"textFill")&&(c.fill=c.textFill),Be(c,"textStroke")&&(c.stroke=c.textStroke)}var d=void 0,p=o0(i)?h.decal:null;n&&p&&(p.dirty=!0,d=dh(p,n)),h.__decalPattern=d}a0(i)&&h&&(d=h.__decalPattern)&&(h.decal=d),Qp(i,r,a,{dataIndex:e,isInit:s,clearStyle:!0}),ef(i,r.keyframeAnimation,a)}function JM(n,i,e,r,o){var a=i.isGroup?null:i,s=o&&o[n].cfg;if(a){var l=a.ensureState(n);if(!1===r){var h=a.getState(n);h&&(h.style=null)}else l.style=r||null;s&&(l.textConfig=s),Ps(a)}}function Fz(n,i,e){var r=e===ts,o=r?i:tf(i,e),a=o?o.z2:null;null!=a&&((r?n:n.ensureState(e)).z2=a||0)}function eI(n,i,e,r){var o=n.get("renderItem"),a=n.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):Hz[a.type](a));for(var l,h,c=de({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(O,E){return null==E&&(E=l),i.getStore().get(i.getDimensionIndex(O||0),E)},style:function(O,E){null==E&&(E=l);var z=i.getItemVisual(E,"style"),V=z&&z.fill,G=z&&z.opacity,Y=C(E,ts).getItemStyle();null!=V&&(Y.fill=V),null!=G&&(Y.opacity=G);var X={inheritColor:J(V)?V:"#000"},te=I(E,ts),ae=Xi(te,null,X,!1,!0);ae.text=te.getShallow("show")?nt(n.getFormattedLabel(E,ts),_h(i,E)):null;var he=wd(te,X,!1);return P(O,Y),Y=GM(Y,ae,he),O&&A(Y,O),Y.legacy=!0,Y},ordinalRawValue:function(O,E){null==E&&(E=l);var z=i.getDimensionInfo(O=O||0);if(!z){var V=i.getDimensionIndex(O);return V>=0?i.getStore().get(V,E):void 0}var G=i.get(z.name,E),Y=z&&z.ordinalMeta;return Y?Y.categories[G]:G},styleEmphasis:function(O,E){null==E&&(E=l);var z=C(E,va).getItemStyle(),V=I(E,va),G=Xi(V,null,null,!0,!0);G.text=V.getShallow("show")?ie(n.getFormattedLabel(E,va),n.getFormattedLabel(E,ts),_h(i,E)):null;var Y=wd(V,null,!0);return P(O,z),z=GM(z,G,Y),O&&A(z,O),z.legacy=!0,z},visual:function(O,E){if(null==E&&(E=l),Be(HM,O)){var z=i.getItemVisual(E,"style");return z?z[HM[O]]:null}if(Be(Dz,O))return i.getItemVisual(E,O)},barLayout:function(O){if("cartesian2d"===a.type)return function(E){var z=[],V=E.axis,G="axis0";if("category"===V.type){for(var Y=V.getBandWidth(),X=0;X<E.count;X++)z.push(de({bandWidth:Y,axisKey:G,stackId:Qm+X},E));var te=Qw(z),ae=[];for(X=0;X<E.count;X++){var he=te[G][Qm+X];he.offsetCenter=he.offset+he.width/2,ae.push(he)}return ae}}(de({axis:a.getBaseAxis()},O))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(O){return nx(O,e)}},s.api||{}),d={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:s.coordSys,dataInsideLength:i.count(),encode:Wz(n.getData())},p={},m={},y={},_={},x=0;x<is.length;x++){var b=is[x];y[b]=n.getModel(n0[b]),_[b]=n.getModel(r0[b])}function S(O){return O===l?h||(h=i.getItemModel(O)):i.getItemModel(O)}function C(O,E){return i.hasItemOption?O===l?p[E]||(p[E]=S(O).getModel(n0[E])):S(O).getModel(n0[E]):y[E]}function I(O,E){return i.hasItemOption?O===l?m[E]||(m[E]=S(O).getModel(r0[E])):S(O).getModel(r0[E]):_[E]}return function(O,E){return l=O,h=null,p={},m={},o&&o(de({dataIndexInside:O,dataIndex:i.getRawIndex(O),actionType:E?E.type:null},d),c)};function A(O,E){for(var z in E)Be(E,z)&&(O[z]=E[z])}function P(O,E){O&&(O.textFill&&(E.textFill=O.textFill),O.textPosition&&(E.textPosition=O.textPosition))}}function Wz(n){var i={};return F(n.dimensions,function(e){var r=n.getDimensionInfo(e);if(!r.isExtraCoord){var o=r.coordDim;(i[o]=i[o]||[])[r.coordDimIndex]=n.getDimensionIndex(e)}}),i}function h0(n,i,e,r,o,a,s){if(r){var l=u0(n,i,e,r,o,a);return l&&s.setItemGraphicEl(e,l),l&&dn(l,r.focus,r.blurScope,r.emphasisDisabled),l}a.remove(i)}function u0(n,i,e,r,o,a){var s=-1,l=i;i&&tI(i,r,o)&&(s=ve(a.childrenRef(),i),i=null);var h,c,d=!i,p=i;p?p.clearStates():(p=s0(r),l&&((c=p).copyTransform(h=l),a0(c)&&a0(h)&&(c.setStyle(h.style),c.z=h.z,c.z2=h.z2,c.zlevel=h.zlevel,c.invisible=h.invisible,c.ignore=h.ignore,o0(c)&&o0(h)&&c.setShape(h.shape)))),!1===r.morph?p.disableMorphing=!0:p.disableMorphing&&(p.disableMorphing=!1),to.normal.cfg=to.normal.conOpt=to.emphasis.cfg=to.emphasis.conOpt=to.blur.cfg=to.blur.conOpt=to.select.cfg=to.select.conOpt=null,to.isLegacy=!1,function(x,b,S,C,I,A){if(!x.isGroup){iI(S,null,A),iI(S,va,A);var P=A.normal.conOpt;if(null!=P||null!=A.emphasis.conOpt||null!=A.select.conOpt||null!=A.blur.conOpt){var V=x.getTextContent();if(!1===P)V&&x.removeTextContent();else{P=A.normal.conOpt=P||{type:"text"},V?V.clearStates():(V=s0(P),x.setTextContent(V)),l0(null,V,b,P,null,C,I);for(var G=P&&P.style,Y=0;Y<is.length;Y++){var X=is[Y];X!==ts&&JM(X,V,0,c0(P,A[X].conOpt,X),null)}G?V.dirty():V.markRedraw()}}}}(p,e,r,o,d,to),function(x,b,S,C,I){var A=S.clipPath;if(!1===A)x&&x.getClipPath()&&x.removeClipPath();else if(A){var P=x.getClipPath();P&&tI(P,A,C)&&(P=null),P||(P=s0(A),x.setClipPath(P)),l0(null,P,b,A,null,C,I)}}(p,e,r,o,d),l0(n,p,e,r,to,o,d),Be(r,"info")&&(ma(p).info=r.info);for(var m=0;m<is.length;m++){var y=is[m];y!==ts&&JM(y,p,0,c0(r,tf(r,y),y),to)}return function(x,b,S){if(!x.isGroup){var C=x,A=S.currentZLevel;C.z=S.currentZ,C.zlevel=A;var P=b.z2;null!=P&&(C.z2=P||0);for(var O=0;O<is.length;O++)Fz(C,b,is[O])}}(p,r,o),"group"===r.type&&function(x,b,S,C,I){var A=C.children,P=A?A.length:0,O=C.$mergeChildren,E="byName"===O||C.diffChildrenByName,z=!1===O;if(P||E||z){if(E)return V={api:x,oldChildren:b.children()||[],newChildren:A||[],dataIndex:S,seriesModel:I,group:b},void new da(V.oldChildren,V.newChildren,nI,nI,V).add(rI).update(rI).remove(Yz).execute();var V;z&&b.removeAll();for(var G=0;G<P;G++){var Y=A[G],X=b.childAt(G);Y?(null==Y.ignore&&(Y.ignore=!1),u0(x,X,S,Y,I,b)):X.ignore=!0}for(var te=b.childCount()-1;te>=G;te--){var ae=b.childAt(te);Gz(b,ae,I)}}}(n,p,e,r,o),s>=0?a.replaceAt(p,s):a.add(p),p}function tI(n,i,e){var r,o=ma(n),a=i.type,s=i.shape,l=i.style;return e.isUniversalTransitionEnabled()||null!=a&&a!==o.customGraphicType||"path"===a&&(r=s)&&(Be(r,"pathData")||Be(r,"d"))&&oI(s)!==o.customPathData||"image"===a&&Be(l,"image")&&l.image!==o.customImagePath}function iI(n,i,e){var r=i?tf(n,i):n,o=i?c0(n,r,va):n.style,a=n.type,s=r?r.textConfig:null,l=n.textContent,h=l?i?tf(l,i):l:null;if(o&&(e.isLegacy||VM(o,a,!!s,!!h))){e.isLegacy=!0;var c=FM(o,a,!i);!s&&c.textConfig&&(s=c.textConfig),!h&&c.textContent&&(h=c.textContent)}!i&&h&&!h.type&&(h.type="text");var p=i?e[i]:e.normal;p.cfg=s,p.conOpt=h}function tf(n,i){return i?n?n[i]:null:n}function c0(n,i,e){var r=i&&i.style;return null==r&&e===va&&n&&(r=n.styleEmphasis),r}function Gz(n,i,e){i&&Jp(i,ma(n).option,e)}function nI(n,i){var e=n&&n.name;return null!=e?e:"e\0\0"+i}function rI(n,i){var e=this.context;u0(e.api,null!=i?e.oldChildren[i]:null,e.dataIndex,null!=n?e.newChildren[n]:null,e.seriesModel,e.group)}function Yz(n){var i=this.context,e=i.oldChildren[n];e&&Jp(e,ma(e).option,i.seriesModel)}function oI(n){return n&&(n.pathData||n.d)}var dl=Mi(),aI=H,d0=De,p0=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(i,e,r,o){var a=e.get("value"),s=e.get("status");if(this._axisModel=i,this._axisPointerModel=e,this._api=r,o||this._lastValue!==a||this._lastStatus!==s){this._lastValue=a,this._lastStatus=s;var l=this._group,h=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(h&&h.hide());l&&l.show(),h&&h.show();var c={};this.makeElOption(c,a,i,e,r);var d=c.graphicKey;d!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=d;var p=this._moveAnimation=this.determineAnimation(i,e);if(l){var m=Q(sI,e,p);this.updatePointerEl(l,c,m),this.updateLabelEl(l,c,m,e)}else l=this._group=new ti,this.createPointerEl(l,c,i,e),this.createLabelEl(l,c,i,e),r.getZr().add(l);uI(l,e,!0),this._renderHandle(a)}},n.prototype.remove=function(i){this.clear(i)},n.prototype.dispose=function(i){this.clear(i)},n.prototype.determineAnimation=function(i,e){var r=e.get("animation"),o=i.axis,a="category"===o.type,s=e.get("snap");if(!s&&!a)return!1;if("auto"===r||null==r){var l=this.animationThreshold;if(a&&o.getBandWidth()>l)return!0;if(s){var h=Rv(i).seriesDataCount,c=o.getExtent();return Math.abs(c[0]-c[1])/h>l}return!1}return!0===r},n.prototype.makeElOption=function(i,e,r,o,a){},n.prototype.createPointerEl=function(i,e,r,o){var a=e.pointer;if(a){var s=dl(i).pointerEl=new Su[a.type](aI(e.pointer));i.add(s)}},n.prototype.createLabelEl=function(i,e,r,o){if(e.label){var a=dl(i).labelEl=new Ci(aI(e.label));i.add(a),hI(a,o)}},n.prototype.updatePointerEl=function(i,e,r){var o=dl(i).pointerEl;o&&e.pointer&&(o.setStyle(e.pointer.style),r(o,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(i,e,r,o){var a=dl(i).labelEl;a&&(a.setStyle(e.label.style),r(a,{x:e.label.x,y:e.label.y}),hI(a,o))},n.prototype._renderHandle=function(i){if(!this._dragging&&this.updateHandleTransform){var e,r=this._axisPointerModel,o=this._api.getZr(),a=this._handle,s=r.getModel("handle"),l=r.get("status");if(!s.get("show")||!l||"hide"===l)return a&&o.remove(a),void(this._handle=null);this._handle||(e=!0,a=this._handle=Ul(s.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){ur(c.event)},onmousedown:d0(this._onHandleDragMove,this,0,0),drift:d0(this._onHandleDragMove,this),ondragend:d0(this._onHandleDragEnd,this)}),o.add(a)),uI(a,r,!1),a.setStyle(s.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=s.get("size");ne(h)||(h=[h,h]),a.scaleX=h[0]/2,a.scaleY=h[1]/2,lh(this,"_doDispatchAxisPointer",s.get("throttle")||0,"fixRate"),this._moveHandleToValue(i,e)}},n.prototype._moveHandleToValue=function(i,e){sI(this._axisPointerModel,!e&&this._moveAnimation,this._handle,f0(this.getHandleTransform(i,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(i,e){var r=this._handle;if(r){this._dragging=!0;var o=this.updateHandleTransform(f0(r),[i,e],this._axisModel,this._axisPointerModel);this._payloadInfo=o,r.stopAnimation(),r.attr(f0(o)),dl(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var i=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:i.cursorPoint[0],y:i.cursorPoint[1],tooltipOption:i.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var i=this._axisPointerModel.get("value");this._moveHandleToValue(i),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(i){this._lastValue=null,this._lastStatus=null;var e=i.getZr(),r=this._group,o=this._handle;e&&r&&(this._lastGraphicKey=null,r&&e.remove(r),o&&e.remove(o),this._group=null,this._handle=null,this._payloadInfo=null),Nu(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(i,e,r){return{x:i[r=r||0],y:i[1-r],width:e[r],height:e[1-r]}},n}();function sI(n,i,e,r){lI(dl(e).lastProp,r)||(dl(e).lastProp=r,i?Ii(e,r,n):(e.stopAnimation(),e.attr(r)))}function lI(n,i){if(Pe(n)&&Pe(i)){var e=!0;return F(i,function(r,o){e=e&&lI(n[o],r)}),!!e}return n===i}function hI(n,i){n[i.get(["label","show"])?"show":"hide"]()}function f0(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function uI(n,i,e){var r=i.get("z"),o=i.get("zlevel");n&&n.traverse(function(a){"group"!==a.type&&(null!=r&&(a.z=r),null!=o&&(a.zlevel=o),a.silent=e)})}function g0(n){var i,e=n.get("type"),r=n.getModel(e+"Style");return"line"===e?(i=r.getLineStyle()).fill=null:"shadow"===e&&((i=r.getAreaStyle()).stroke=null),i}function cI(n,i,e,r,o){var a=dI(e.get("value"),i.axis,i.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=zs(s.get("padding")||0),h=s.getFont(),c=tu(a,h),d=o.position,p=c.width+l[1]+l[3],m=c.height+l[0]+l[2],y=o.align;"right"===y&&(d[0]-=p),"center"===y&&(d[0]-=p/2);var b,S,C,I,A,P,_=o.verticalAlign;"bottom"===_&&(d[1]-=m),"middle"===_&&(d[1]-=m/2),b=d,S=p,C=m,A=(I=r).getWidth(),P=I.getHeight(),b[0]=Math.min(b[0]+S,A)-S,b[1]=Math.min(b[1]+C,P)-C,b[0]=Math.max(b[0],0),b[1]=Math.max(b[1],0);var x=s.get("backgroundColor");x&&"auto"!==x||(x=i.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:Xi(s,{text:a,font:h,fill:s.getTextColor(),padding:l,backgroundColor:x}),z2:10}}function dI(n,i,e,r,o){n=i.scale.parse(n);var a=i.scale.getLabel({value:n},{precision:o.precision}),s=o.formatter;if(s){var l={value:nv(i,{value:n}),axisDimension:i.dim,axisIndex:i.index,seriesData:[]};F(r,function(h){var c=e.getSeriesByIndex(h.seriesIndex),p=c&&c.getDataParams(h.dataIndexInside);p&&l.seriesData.push(p)}),J(s)?a=s.replace("{value}",a):ee(s)&&(a=s(l))}return a}function m0(n,i,e){var r=[1,0,0,1,0,0];return oo(r,r,e.rotation),Gn(r,r,e.position),mo([n.dataToCoord(i),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],r)}function pI(n,i,e,r,o,a){var s=yr.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=o.get(["label","margin"]),cI(i,r,o,a,{position:m0(r.axis,n,e),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function v0(n,i,e){return{x1:n[e=e||0],y1:n[1-e],x2:i[e],y2:i[1-e]}}function fI(n,i,e){return{x:n[e=e||0],y:n[1-e],width:i[e],height:i[1-e]}}function gI(n,i,e,r,o,a){return{cx:n,cy:i,r0:e,r,startAngle:o,endAngle:a,clockwise:!0}}var $z=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.makeElOption=function(e,r,o,a,s){var l=o.axis,h=l.grid,c=a.get("type"),d=mI(h,l).getOtherAxis(l).getGlobalExtent(),p=l.toGlobalCoord(l.dataToCoord(r,!0));if(c&&"none"!==c){var m=g0(a),y=Uz[c](l,p,d);y.style=m,e.graphicKey=y.type,e.pointer=y}pI(r,e,Pv(h.model,o),o,a,s)},i.prototype.getHandleTransform=function(e,r,o){var a=Pv(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=o.get(["handle","margin"]);var s=m0(r.axis,e,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},i.prototype.updateHandleTransform=function(e,r,o,a){var s=o.axis,l=s.grid,h=s.getGlobalExtent(!0),c=mI(l,s).getOtherAxis(s).getGlobalExtent(),d="x"===s.dim?0:1,p=[e.x,e.y];p[d]+=r[d],p[d]=Math.min(h[1],p[d]),p[d]=Math.max(h[0],p[d]);var m=(c[1]+c[0])/2,y=[m,m];return y[d]=p[d],{x:p[0],y:p[1],rotation:e.rotation,cursorPoint:y,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}},i}(p0);function mI(n,i){var e={};return e[i.dim+"AxisIndex"]=i.index,n.getCartesian(e)}var Uz={line:function(n,i,e){return{type:"Line",subPixelOptimize:!0,shape:v0([i,e[0]],[i,e[1]],vI(n))}},shadow:function(n,i,e){var r=Math.max(1,n.getBandWidth());return{type:"Rect",shape:fI([i-r/2,e[0]],[r,e[1]-e[0]],vI(n))}}};function vI(n){return"x"===n.dim?0:1}var qz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="axisPointer",i.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},i}(_i),ya=Mi(),Xz=F;function yI(n,i,e){if(!at.node){var r=i.getZr();ya(r).records||(ya(r).records={}),function(o,a){function s(l,h){o.on(l,function(c){var p,m,y,d=(p=a,{dispatchAction:y=function(_){var x=m[_.type];x?x.push(_):(_.dispatchAction=y,p.dispatchAction(_))},pendings:m={showTip:[],hideTip:[]}});Xz(ya(o).records,function(p){p&&h(p,c,d.dispatchAction)}),function(p,m){var y,_=p.showTip.length,x=p.hideTip.length;_?y=p.showTip[_-1]:x&&(y=p.hideTip[x-1]),y&&(y.dispatchAction=null,m.dispatchAction(y))}(d.pendings,a)})}ya(o).initialized||(ya(o).initialized=!0,s("click",Q(_I,"click")),s("mousemove",Q(_I,"mousemove")),s("globalout",Kz))}(r,i),(ya(r).records[n]||(ya(r).records[n]={})).handler=e}}function Kz(n,i,e){n.handler("leave",null,e)}function _I(n,i,e,r){i.handler(n,e,r)}function y0(n,i){if(!at.node){var e=i.getZr();(ya(e).records||{})[n]&&(ya(e).records[n]=null)}}var Zz=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){var a=r.getComponent("tooltip"),s=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";yI("axisPointer",o,function(l,h,c){"none"!==s&&("leave"===l||s.indexOf(l)>=0)&&c({type:"updateAxisPointer",currTrigger:l,x:h&&h.offsetX,y:h&&h.offsetY})})},i.prototype.remove=function(e,r){y0("axisPointer",r)},i.prototype.dispose=function(e,r){y0("axisPointer",r)},i.type="axisPointer",i}(Qi);function xI(n,i){var e,r=[],o=n.seriesIndex;if(null==o||!(e=i.getSeriesByIndex(o)))return{point:[]};var a=e.getData(),s=xs(a,n);if(null==s||s<0||ne(s))return{point:[]};var l=a.getItemGraphicEl(s),h=e.coordinateSystem;if(e.getTooltipPosition)r=e.getTooltipPosition(s)||[];else if(h&&h.dataToPoint)if(n.isStacked){var c=h.getBaseAxis(),d=h.getOtherAxis(c).dim,m="x"===d||"radius"===d?1:0,y=a.mapDimension(c.dim),_=[];_[m]=a.get(y,s),_[1-m]=a.get(a.getCalculationInfo("stackResultDimension"),s),r=h.dataToPoint(_)||[]}else r=h.dataToPoint(a.getValues(Te(h.dimensions,function(b){return a.mapDimension(b)}),s))||[];else if(l){var x=l.getBoundingRect().clone();x.applyTransform(l.transform),r=[x.x+x.width/2,x.y+x.height/2]}return{point:r,el:l}}var bI=Mi();function Qz(n,i,e){var S,C,A,r=n.currTrigger,o=[n.x,n.y],a=n,s=n.dispatchAction||De(e.dispatchAction,e),l=i.getComponent("axisPointer").coordSysAxesInfo;if(l){nf(o)&&(o=xI({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},i).point);var h=nf(o),c=a.axesInfo,d=l.axesInfo,p="leave"===r||nf(o),m={},y={},_={list:[],map:{}},x={showPointer:Q(Jz,y),showTooltip:Q(eB,_)};F(l.coordSysMap,function(S,C){var I=h||S.containPoint(o);F(l.coordSysAxesInfo[C],function(A,P){var O=A.axis,E=function(V,G){for(var Y=0;Y<(V||[]).length;Y++){var X=V[Y];if(G.axis.dim===X.axisDim&&G.axis.model.componentIndex===X.axisIndex)return X}}(c,A);if(!p&&I&&(!c||E)){var z=E&&E.value;null!=z||h||(z=O.pointToData(o)),null!=z&&wI(A,z,x,!1,m)}})});var b={};return F(d,function(S,C){var I=S.linkGroup;I&&!y[C]&&F(I.axesInfo,function(A,P){var O=y[P];if(A!==S&&O){var E=O.value;I.mapper&&(E=S.axis.scale.parse(I.mapper(E,SI(A),SI(S)))),b[S.key]=E}})}),F(b,function(S,C){wI(d[C],S,x,!0,m)}),S=y,C=d,A=m.axesInfo=[],F(C,function(P,O){var E=P.axisPointerModel.option,z=S[O];z?(!P.useHandle&&(E.status="show"),E.value=z.value,E.seriesDataIndices=(z.payloadBatch||[]).slice()):!P.useHandle&&(E.status="hide"),"show"===E.status&&A.push({axisDim:P.axis.dim,axisIndex:P.axis.model.componentIndex,value:E.value})}),function(S,C,I,A){if(!nf(C)&&S.list.length){var P=((S.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};A({type:"showTip",escapeConnect:!0,x:C[0],y:C[1],tooltipOption:I.tooltipOption,position:I.position,dataIndexInside:P.dataIndexInside,dataIndex:P.dataIndex,seriesIndex:P.seriesIndex,dataByCoordSys:S.list})}else A({type:"hideTip"})}(_,o,n,s),function(S,C,I){var A=I.getZr(),P="axisPointerLastHighlights",O=bI(A)[P]||{},E=bI(A)[P]={};F(S,function(G,Y){var X=G.axisPointerModel.option;"show"===X.status&&G.triggerEmphasis&&F(X.seriesDataIndices,function(te){E[te.seriesIndex+" | "+te.dataIndex]=te})});var z=[],V=[];F(O,function(G,Y){!E[Y]&&V.push(G)}),F(E,function(G,Y){!O[Y]&&z.push(G)}),V.length&&I.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:V}),z.length&&I.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:z})}(d,0,e),m}}function wI(n,i,e,r,o){var c,d,p,m,y,_,x,b,a=n.axis;if(!a.scale.isBlank()&&a.containData(i))if(n.involveSeries){var s=(m=(p=(d=n).axis).dim,y=c=i,_=[],x=Number.MAX_VALUE,b=-1,F(d.seriesModels,function(S,C){var I,A,P=S.getData().mapDimensionsAll(m);if(S.getAxisTooltipData){var O=S.getAxisTooltipData(P,c,p);A=O.dataIndices,I=O.nestestValue}else{if(!(A=S.getData().indicesOfNearest(P[0],c,"category"===p.type?.5:null)).length)return;I=S.getData().get(P[0],A[0])}if(null!=I&&isFinite(I)){var E=c-I,z=Math.abs(E);z<=x&&((z<x||E>=0&&b<0)&&(x=z,b=E,y=I,_.length=0),F(A,function(V){_.push({seriesIndex:S.seriesIndex,dataIndexInside:V,dataIndex:S.getData().getRawIndex(V)})}))}}),{payloadBatch:_,snapToValue:y}),l=s.payloadBatch,h=s.snapToValue;l[0]&&null==o.seriesIndex&&Z(o,l[0]),!r&&n.snap&&a.containData(h)&&null!=h&&(i=h),e.showPointer(n,i,l),e.showTooltip(n,s,h)}else e.showPointer(n,i)}function Jz(n,i,e,r){n[i.key]={value:e,payloadBatch:r}}function eB(n,i,e,r){var o=e.payloadBatch,a=i.axis,s=a.model,l=i.axisPointerModel;if(i.triggerTooltip&&o.length){var h=i.coordSys.model,c=lc(h),d=n.map[c];d||(d=n.map[c]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},n.list.push(d)),d.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function SI(n){var i=n.axis.model,e={},r=e.axisDim=n.axis.dim;return e.axisIndex=e[r+"AxisIndex"]=i.componentIndex,e.axisName=e[r+"AxisName"]=i.name,e.axisId=e[r+"AxisId"]=i.id,e}function nf(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function kc(n){il.registerAxisPointerClass("CartesianAxisPointer",$z),n.registerComponentModel(qz),n.registerComponentView(Zz),n.registerPreprocessor(function(i){if(i){(!i.axisPointer||0===i.axisPointer.length)&&(i.axisPointer={});var e=i.axisPointer.link;e&&!ne(e)&&(i.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(i,e){i.getComponent("axisPointer").coordSysAxesInfo=function cE(n,i){var r,o,a,s,l,h,c,e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return r=e,a=i,s=(o=n).getComponent("tooltip"),l=o.getComponent("axisPointer"),h=l.get("link",!0)||[],c=[],F(a.getCoordinateSystems(),function(d){if(d.axisPointerEnabled){var p=lc(d.model),m=r.coordSysAxesInfo[p]={};r.coordSysMap[p]=d;var y=d.model.getModel("tooltip",s);if(F(d.getAxes(),Q(S,!1,null)),d.getTooltipAxes&&s&&y.get("show")){var _="axis"===y.get("trigger"),x="cross"===y.get(["axisPointer","type"]),b=d.getTooltipAxes(y.get(["axisPointer","axis"]));(_||x)&&F(b.baseAxes,Q(S,!x||"cross",_)),x&&F(b.otherAxes,Q(S,"cross",!1))}}function S(C,I,A){var P=A.model.getModel("axisPointer",l),O=P.get("show");if(O&&("auto"!==O||C||zv(P))){null==I&&(I=P.get("triggerTooltip"));var E=(P=C?function(ae,he,fe,ye,Se,Ee){var Re=he.getModel("axisPointer"),ze={};F(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(pt){ze[pt]=H(Re.get(pt))}),ze.snap="category"!==ae.type&&!!Ee,"cross"===Re.get("type")&&(ze.type="line");var ot=ze.label||(ze.label={});if(null==ot.show&&(ot.show=!1),"cross"===Se){var xt=Re.get(["label","show"]);if(ot.show=null==xt||xt,!Ee){var Ue=ze.lineStyle=Re.get("crossStyle");Ue&&de(ot,Ue.textStyle)}}return ae.model.getModel("axisPointer",new Li(ze,fe,ye))}(A,y,l,o,C,I):P).get("snap"),z=P.get("triggerEmphasis"),V=lc(A.model),G=I||E||"category"===A.type,Y=r.axesInfo[V]={key:V,axis:A,coordSys:d,axisPointerModel:P,triggerTooltip:I,triggerEmphasis:z,involveSeries:G,snap:E,useHandle:zv(P),seriesModels:[],linkGroup:null};m[V]=Y,r.seriesInvolved=r.seriesInvolved||G;var X=function(ae,he){for(var fe=he.model,ye=he.dim,Se=0;Se<ae.length;Se++){var Ee=ae[Se]||{};if(Nv(Ee[ye+"AxisId"],fe.id)||Nv(Ee[ye+"AxisIndex"],fe.componentIndex)||Nv(Ee[ye+"AxisName"],fe.name))return Se}}(h,A);if(null!=X){var te=c[X]||(c[X]={axesInfo:{}});te.axesInfo[V]=Y,te.mapper=h[X].mapper,Y.linkGroup=te}}}}),e.seriesInvolved&&function(r,o){o.eachSeries(function(a){var s=a.coordinateSystem,l=a.get(["tooltip","trigger"],!0),h=a.get(["tooltip","show"],!0);s&&"none"!==l&&!1!==l&&"item"!==l&&!1!==h&&!1!==a.get(["axisPointer","show"],!0)&&F(r.coordSysAxesInfo[lc(s.model)],function(c){var d=c.axis;s.getAxis(d.dim)===d&&(c.seriesModels.push(a),null==c.seriesDataCount&&(c.seriesDataCount=0),c.seriesDataCount+=a.getData().count())})})}(e,n),e}(i,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Qz)}var tB=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.makeElOption=function(e,r,o,a,s){var l=o.axis;"angle"===l.dim&&(this.animationThreshold=Math.PI/18);var h=l.polar,c=h.getOtherAxis(l).getExtent(),d=l.dataToCoord(r),p=a.get("type");if(p&&"none"!==p){var m=g0(a),y=iB[p](l,h,d,c);y.style=m,e.graphicKey=y.type,e.pointer=y}var _=function(x,b,S,C,I){var A=b.axis,P=A.dataToCoord(x),O=C.getAngleAxis().getExtent()[0];O=O/180*Math.PI;var E,z,V,G=C.getRadiusAxis().getExtent();if("radius"===A.dim){var Y=[1,0,0,1,0,0];oo(Y,Y,O),Gn(Y,Y,[C.cx,C.cy]),E=mo([P,-I],Y);var X=b.getModel("axisLabel").get("rotate")||0,te=yr.innerTextLayout(O,X*Math.PI/180,-1);z=te.textAlign,V=te.textVerticalAlign}else{var ae=G[1];E=C.coordToPoint([ae+I,P]);var he=C.cx,fe=C.cy;z=Math.abs(E[0]-he)/ae<.3?"center":E[0]>he?"left":"right",V=Math.abs(E[1]-fe)/ae<.3?"middle":E[1]>fe?"top":"bottom"}return{position:E,align:z,verticalAlign:V}}(r,o,0,h,a.get(["label","margin"]));cI(e,o,a,s,_)},i}(p0),iB={line:function(n,i,e,r){return"angle"===n.dim?{type:"Line",shape:v0(i.coordToPoint([r[0],e]),i.coordToPoint([r[1],e]))}:{type:"Circle",shape:{cx:i.cx,cy:i.cy,r:e}}},shadow:function(n,i,e,r){var o=Math.max(1,n.getBandWidth()),a=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:gI(i.cx,i.cy,r[0],r[1],(-e-o/2)*a,(o/2-e)*a)}:{type:"Sector",shape:gI(i.cx,i.cy,e-o/2,e+o/2,0,2*Math.PI)}}},nB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.findAxisModel=function(e){var r;return this.ecModel.eachComponent(e,function(o){o.getCoordSysModel()===this&&(r=o)},this),r},i.type="polar",i.dependencies=["radiusAxis","angleAxis"],i.defaultOption={z:0,center:["50%","50%"],radius:"80%"},i}(_i),_0=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",kn).models[0]},i.type="polarAxis",i}(_i);Ie(_0,mh);var rB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="angleAxis",i}(_0),oB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="radiusAxis",i}(_0),x0=function(n){function i(e,r){return n.call(this,"radius",e,r)||this}return Le(i,n),i.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)["radius"===this.dim?0:1]},i}(Zr);x0.prototype.dataToRadius=Zr.prototype.dataToCoord,x0.prototype.radiusToData=Zr.prototype.coordToData;var aB=Mi(),b0=function(n){function i(e,r){return n.call(this,"angle",e,r||[0,360])||this}return Le(i,n),i.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)["radius"===this.dim?0:1]},i.prototype.calculateCategoryInterval=function(){var e=this,r=e.getLabelModel(),o=e.scale,a=o.getExtent(),s=o.count();if(a[1]-a[0]<1)return 0;var l=a[0],h=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(h),d=tu(null==l?"":l+"",r.getFont(),"center","top"),p=Math.max(d.height,7)/c;isNaN(p)&&(p=1/0);var m=Math.max(0,Math.floor(p)),y=aB(e.model),_=y.lastAutoInterval,x=y.lastTickCount;return null!=_&&null!=x&&Math.abs(_-m)<=1&&Math.abs(x-s)<=1&&_>m?m=_:(y.lastTickCount=s,y.lastAutoInterval=m),m},i}(Zr);b0.prototype.dataToAngle=Zr.prototype.dataToCoord,b0.prototype.angleToData=Zr.prototype.coordToData;var CI=["radius","angle"],sB=function(){function n(i){this.dimensions=CI,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new x0,this._angleAxis=new b0,this.axisPointerEnabled=!0,this.name=i||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(i){var e=this.pointToCoord(i);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(i){return this._radiusAxis.containData(i[0])&&this._angleAxis.containData(i[1])},n.prototype.getAxis=function(i){return this["_"+i+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(i){var e=[],r=this._angleAxis,o=this._radiusAxis;return r.scale.type===i&&e.push(r),o.scale.type===i&&e.push(o),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(i){var e=this._angleAxis;return i===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(i){var e=null!=i&&"auto"!==i?this.getAxis(i):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(i,e){return this.coordToPoint([this._radiusAxis.dataToRadius(i[0],e),this._angleAxis.dataToAngle(i[1],e)])},n.prototype.pointToData=function(i,e){var r=this.pointToCoord(i);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]},n.prototype.pointToCoord=function(i){var e=i[0]-this.cx,r=i[1]-this.cy,o=this.getAngleAxis(),a=o.getExtent(),s=Math.min(a[0],a[1]),l=Math.max(a[0],a[1]);o.inverse?s=l-360:l=s+360;var h=Math.sqrt(e*e+r*r);e/=h,r/=h;for(var c=Math.atan2(-r,e)/Math.PI*180,d=c<s?1:-1;c<s||c>l;)c+=360*d;return[h,c]},n.prototype.coordToPoint=function(i){var e=i[0],r=i[1]/180*Math.PI;return[Math.cos(r)*e+this.cx,-Math.sin(r)*e+this.cy]},n.prototype.getArea=function(){var i=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var r=i.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-r[0]*o,endAngle:-r[1]*o,clockwise:i.inverse,contain:function(a,s){var l=a-this.cx,h=s-this.cy,c=l*l+h*h-1e-4,d=this.r,p=this.r0;return c<=d*d&&c>=p*p}}},n.prototype.convertToPixel=function(i,e,r){return kI(e)===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(i,e,r){return kI(e)===this?this.pointToData(r):null},n}();function kI(n){var i=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||i&&i.coordinateSystem}function lB(n,i){var e=this,r=e.getAngleAxis(),o=e.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),n.eachSeries(function(l){if(l.coordinateSystem===e){var h=l.getData();F(mp(h,"radius"),function(c){o.scale.unionExtentFromData(h,c)}),F(mp(h,"angle"),function(c){r.scale.unionExtentFromData(h,c)})}}),Us(r.scale,r.model),Us(o.scale,o.model),"category"===r.type&&!r.onBand){var a=r.getExtent(),s=360/r.scale.count();r.inverse?a[1]+=s:a[1]-=s,r.setExtent(a[0],a[1])}}function TI(n,i){if(n.type=i.get("type"),n.scale=qu(i),n.onBand=i.get("boundaryGap")&&"category"===n.type,n.inverse=i.get("inverse"),"angleAxis"===i.mainType){n.inverse=n.inverse!==i.get("clockwise");var e=i.get("startAngle");n.setExtent(e,e+(n.inverse?-360:360))}i.axis=n,n.model=i}var hB={dimensions:CI,create:function(n,i){var e=[];return n.eachComponent("polar",function(r,o){var a=new sB(o+"");a.update=lB;var s=a.getRadiusAxis(),l=a.getAngleAxis(),h=r.findAxisModel("radiusAxis"),c=r.findAxisModel("angleAxis");TI(s,h),TI(l,c),function(d,p,m){var y=p.get("center"),_=m.getWidth(),x=m.getHeight();d.cx=Bt(y[0],_),d.cy=Bt(y[1],x);var b=d.getRadiusAxis(),S=Math.min(_,x)/2,C=p.get("radius");null==C?C=[0,"100%"]:ne(C)||(C=[0,C]);var I=[Bt(C[0],S),Bt(C[1],S)];b.inverse?b.setExtent(I[1],I[0]):b.setExtent(I[0],I[1])}(a,r,i),e.push(a),r.coordinateSystem=a,a.model=r}),n.eachSeries(function(r){if("polar"===r.get("coordinateSystem")){var o=r.getReferringComponents("polar",kn).models[0];r.coordinateSystem=o.coordinateSystem}}),e}},uB=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function rf(n,i,e){i[1]>i[0]&&(i=i.slice().reverse());var r=n.coordToPoint([i[0],e]),o=n.coordToPoint([i[1],e]);return{x1:r[0],y1:r[1],x2:o[0],y2:o[1]}}function of(n){return n.getRadiusAxis().inverse?0:1}function MI(n){var i=n[0],e=n[n.length-1];i&&e&&Math.abs(Math.abs(i.coord-e.coord)-360)<1e-4&&n.pop()}var cB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.axisPointerClass="PolarAxisPointer",e}return Le(i,n),i.prototype.render=function(e,r){if(this.group.removeAll(),e.get("show")){var o=e.axis,a=o.polar,s=a.getRadiusAxis().getExtent(),l=o.getTicksCoords(),h=o.getMinorTicksCoords(),c=Te(o.getViewLabels(),function(d){d=H(d);var p=o.scale,m="ordinal"===p.type?p.getRawOrdinalNumber(d.tickValue):d.tickValue;return d.coord=o.dataToCoord(m),d});MI(c),MI(l),F(uB,function(d){!e.get([d,"show"])||o.scale.isBlank()&&"axisLine"!==d||dB[d](this.group,e,a,l,h,s,c)},this)}},i.type="angleAxis",i}(il),dB={axisLine:function(n,i,e,r,o,a){var s,l=i.getModel(["axisLine","lineStyle"]),h=of(e),c=h?0:1;(s=0===a[c]?new Yr({shape:{cx:e.cx,cy:e.cy,r:a[h]},style:l.getLineStyle(),z2:1,silent:!0}):new Vl({shape:{cx:e.cx,cy:e.cy,r:a[h],r0:a[c]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(s)},axisTick:function(n,i,e,r,o,a){var s=i.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),h=a[of(e)],c=Te(r,function(d){return new En({shape:rf(e,[h,h+l],d.coord)})});n.add(jr(c,{style:de(s.getModel("lineStyle").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,i,e,r,o,a){if(o.length){for(var s=i.getModel("axisTick"),l=i.getModel("minorTick"),h=(s.get("inside")?-1:1)*l.get("length"),c=a[of(e)],d=[],p=0;p<o.length;p++)for(var m=0;m<o[p].length;m++)d.push(new En({shape:rf(e,[c,c+h],o[p][m].coord)}));n.add(jr(d,{style:de(l.getModel("lineStyle").getLineStyle(),de(s.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,i,e,r,o,a,s){var l=i.getCategories(!0),h=i.getModel("axisLabel"),c=h.get("margin"),d=i.get("triggerEvent");F(s,function(p,m){var y=h,_=p.tickValue,x=a[of(e)],b=e.coordToPoint([x+c,p.coord]),S=e.cx,C=e.cy,I=Math.abs(b[0]-S)/x<.3?"center":b[0]>S?"left":"right",A=Math.abs(b[1]-C)/x<.3?"middle":b[1]>C?"top":"bottom";if(l&&l[_]){var P=l[_];Pe(P)&&P.textStyle&&(y=new Li(P.textStyle,h,h.ecModel))}var O=new Ci({silent:yr.isLabelSilent(i),style:Xi(y,{x:b[0],y:b[1],fill:y.getTextColor()||i.get(["axisLine","lineStyle","color"]),text:p.formattedLabel,align:I,verticalAlign:A})});if(n.add(O),d){var E=yr.makeAxisEventDataBase(i);E.targetType="axisLabel",E.value=p.rawLabel,oi(O).eventData=E}},this)},splitLine:function(n,i,e,r,o,a){var s=i.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],d=0;d<r.length;d++){var p=h++%l.length;c[p]=c[p]||[],c[p].push(new En({shape:rf(e,a,r[d].coord)}))}for(d=0;d<c.length;d++)n.add(jr(c[d],{style:de({stroke:l[d%l.length]},s.getLineStyle()),silent:!0,z:i.get("z")}))},minorSplitLine:function(n,i,e,r,o,a){if(o.length){for(var s=i.getModel("minorSplitLine").getModel("lineStyle"),l=[],h=0;h<o.length;h++)for(var c=0;c<o[h].length;c++)l.push(new En({shape:rf(e,a,o[h][c].coord)}));n.add(jr(l,{style:s.getLineStyle(),silent:!0,z:i.get("z")}))}},splitArea:function(n,i,e,r,o,a){if(r.length){var s=i.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],d=Math.PI/180,p=-r[0].coord*d,m=Math.min(a[0],a[1]),y=Math.max(a[0],a[1]),_=i.get("clockwise"),x=1,b=r.length;x<=b;x++){var S=x===b?r[0].coord:r[x].coord,C=h++%l.length;c[C]=c[C]||[],c[C].push(new ir({shape:{cx:e.cx,cy:e.cy,r0:m,r:y,startAngle:p,endAngle:-S*d,clockwise:_},silent:!0})),p=-S*d}for(x=0;x<c.length;x++)n.add(jr(c[x],{style:de({fill:l[x%l.length]},s.getAreaStyle()),silent:!0}))}}},pB=["axisLine","axisTickLabel","axisName"],fB=["splitLine","splitArea","minorSplitLine"],gB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.axisPointerClass="PolarAxisPointer",e}return Le(i,n),i.prototype.render=function(e,r){if(this.group.removeAll(),e.get("show")){var o=this._axisGroup,a=this._axisGroup=new ti;this.group.add(a);var s=e.axis,l=s.polar,h=l.getAngleAxis(),c=s.getTicksCoords(),d=s.getMinorTicksCoords(),p=h.getExtent()[0],m=s.getExtent(),y={position:[(x=l).cx,x.cy],rotation:p/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},_=new yr(e,y);F(pB,_.add,_),a.add(_.getGroup()),bu(o,a,e),F(fB,function(x){e.get([x,"show"])&&!s.scale.isBlank()&&mB[x](this.group,e,l,p,m,c,d)},this)}var x},i.type="radiusAxis",i}(il),mB={splitLine:function(n,i,e,r,o,a){var s=i.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],d=0;d<a.length;d++){var p=h++%l.length;c[p]=c[p]||[],c[p].push(new Yr({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[d].coord,0)}}))}for(d=0;d<c.length;d++)n.add(jr(c[d],{style:de({stroke:l[d%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,i,e,r,o,a,s){if(s.length){for(var l=i.getModel("minorSplitLine").getModel("lineStyle"),h=[],c=0;c<s.length;c++)for(var d=0;d<s[c].length;d++)h.push(new Yr({shape:{cx:e.cx,cy:e.cy,r:s[c][d].coord}}));n.add(jr(h,{style:de({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,i,e,r,o,a){if(a.length){var s=i.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],d=a[0].coord,p=1;p<a.length;p++){var m=h++%l.length;c[m]=c[m]||[],c[m].push(new ir({shape:{cx:e.cx,cy:e.cy,r0:d,r:a[p].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),d=a[p].coord}for(p=0;p<c.length;p++)n.add(jr(c[p],{style:de({fill:l[p%l.length]},s.getAreaStyle()),silent:!0}))}}};function II(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function DI(n,i){return i.dim+n.model.componentIndex}function vB(n,i,e){var r={},o=function(a){var s={};F(a,function(h,c){var d=h.getData(),p=h.coordinateSystem,m=p.getBaseAxis(),y=DI(p,m),_=m.getExtent(),x="category"===m.type?m.getBandWidth():Math.abs(_[1]-_[0])/d.count(),b=s[y]||{bandWidth:x,remainedWidth:x,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},S=b.stacks;s[y]=b;var C=II(h);S[C]||b.autoWidthCount++,S[C]=S[C]||{width:0,maxWidth:0};var I=Bt(h.get("barWidth"),x),A=Bt(h.get("barMaxWidth"),x),P=h.get("barGap"),O=h.get("barCategoryGap");I&&!S[C].width&&(I=Math.min(b.remainedWidth,I),S[C].width=I,b.remainedWidth-=I),A&&(S[C].maxWidth=A),null!=P&&(b.gap=P),null!=O&&(b.categoryGap=O)});var l={};return F(s,function(h,c){l[c]={};var d=h.stacks,m=Bt(h.categoryGap,h.bandWidth),y=Bt(h.gap,1),_=h.remainedWidth,x=h.autoWidthCount,b=(_-m)/(x+(x-1)*y);b=Math.max(b,0),F(d,function(A,P){var O=A.maxWidth;O&&O<b&&(O=Math.min(O,_),A.width&&(O=Math.min(O,A.width)),_-=O,A.width=O,x--)}),b=(_-m)/(x+(x-1)*y),b=Math.max(b,0);var S,C=0;F(d,function(A,P){A.width||(A.width=b),S=A,C+=A.width*(1+y)}),S&&(C-=S.width*y);var I=-C/2;F(d,function(A,P){l[c][P]=l[c][P]||{offset:I,width:A.width},I+=A.width*(1+y)})}),l}(tt(i.getSeriesByType(n),function(a){return!i.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));i.eachSeriesByType(n,function(a){if("polar"===a.coordinateSystem.type){var s=a.getData(),l=a.coordinateSystem,h=l.getBaseAxis(),c=DI(l,h),d=II(a),p=o[c][d],m=p.offset,y=p.width,_=l.getOtherAxis(h),x=a.coordinateSystem.cx,b=a.coordinateSystem.cy,S=a.get("barMinHeight")||0,C=a.get("barMinAngle")||0;r[d]=r[d]||[];for(var I=s.mapDimension(_.dim),A=s.mapDimension(h.dim),P=pa(s,I),O="radius"!==h.dim||!a.get("roundCap",!0),E=_.dataToCoord(0),z=0,V=s.count();z<V;z++){var G=s.get(I,z),Y=s.get(A,z),X=G>=0?"p":"n",te=E;P&&(r[d][Y]||(r[d][Y]={p:E,n:E}),te=r[d][Y][X]);var ae=void 0,he=void 0,fe=void 0,ye=void 0;if("radius"===_.dim){var Se=_.dataToCoord(G)-E,Ee=h.dataToCoord(Y);Math.abs(Se)<S&&(Se=(Se<0?-1:1)*S),ae=te,he=te+Se,ye=(fe=Ee-m)-y,P&&(r[d][Y][X]=he)}else{var Re=_.dataToCoord(G,O)-E,ze=h.dataToCoord(Y);Math.abs(Re)<C&&(Re=(Re<0?-1:1)*C),he=(ae=ze+m)+y,fe=te,ye=te+Re,P&&(r[d][Y][X]=ye)}s.setItemLayout(z,{cx:x,cy:b,r0:ae,r:he,startAngle:-fe*Math.PI/180,endAngle:-ye*Math.PI/180,clockwise:fe>=ye})}}})}var yB={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},_B={splitNumber:5},xB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="polar",i}(Qi);function w0(n,i){i=i||{};var r=n.axis,o={},a=r.position,s=r.orient,l=n.coordinateSystem.getRect(),h=[l.x,l.x+l.width,l.y,l.y+l.height],c={horizontal:{top:h[2],bottom:h[3]},vertical:{left:h[0],right:h[1]}};o.position=["vertical"===s?c.vertical[a]:h[0],"horizontal"===s?c.horizontal[a]:h[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],n.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Et(i.labelInside,n.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var d=i.rotate;return null==d&&(d=n.get(["axisLabel","rotate"])),o.labelRotation="top"===a?-d:d,o.z2=1,o}var bB=["axisLine","axisTickLabel","axisName"],wB=["splitArea","splitLine"],SB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.axisPointerClass="SingleAxisPointer",e}return Le(i,n),i.prototype.render=function(e,r,o,a){var s=this.group;s.removeAll();var l=this._axisGroup;this._axisGroup=new ti;var h=w0(e),c=new yr(e,h);F(bB,c.add,c),s.add(this._axisGroup),s.add(c.getGroup()),F(wB,function(d){e.get([d,"show"])&&CB[d](this,this.group,this._axisGroup,e)},this),bu(l,this._axisGroup,e),n.prototype.render.call(this,e,r,o,a)},i.prototype.remove=function(){tk(this)},i.type="singleAxis",i}(il),CB={splitLine:function(n,i,e,r){var o=r.axis;if(!o.scale.isBlank()){var a=r.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var h=s.get("width"),c=r.coordinateSystem.getRect(),d=o.isHorizontal(),p=[],m=0,y=o.getTicksCoords({tickModel:a}),_=[],x=[],b=0;b<y.length;++b){var S=o.toGlobalCoord(y[b].coord);d?(_[0]=S,_[1]=c.y,x[0]=S,x[1]=c.y+c.height):(_[0]=c.x,_[1]=S,x[0]=c.x+c.width,x[1]=S);var C=new En({shape:{x1:_[0],y1:_[1],x2:x[0],y2:x[1]},silent:!0});$l(C.shape,h);var I=m++%l.length;p[I]=p[I]||[],p[I].push(C)}var A=s.getLineStyle(["color"]);for(b=0;b<p.length;++b)i.add(jr(p[b],{style:de({stroke:l[b%l.length]},A),silent:!0}))}},splitArea:function(n,i,e,r){ek(n,e,r,r)}},af=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.getCoordSysModel=function(){return this},i.type="singleAxis",i.layoutMode="box",i.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},i}(_i);Ie(af,mh.prototype);var kB=function(n){function i(e,r,o,a,s){var l=n.call(this,e,r,o)||this;return l.type=a||"value",l.position=s||"bottom",l}return Le(i,n),i.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},i.prototype.pointToData=function(e,r){return this.coordinateSystem.pointToData(e)[0]},i}(Zr),AI=["single"],TB=function(){function n(i,e,r){this.type="single",this.dimension="single",this.dimensions=AI,this.axisPointerEnabled=!0,this.model=i,this._init(i,e,r)}return n.prototype._init=function(i,e,r){var a=new kB(this.dimension,qu(i),[0,0],i.get("type"),i.get("position"));a.onBand="category"===a.type&&i.get("boundaryGap"),a.inverse=i.get("inverse"),a.orient=i.get("orient"),i.axis=a,a.model=i,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(i,e){i.eachSeries(function(r){if(r.coordinateSystem===this){var o=r.getData();F(o.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(o,a)},this),Us(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(i,e){this._rect=Tn({left:i.get("left"),top:i.get("top"),right:i.get("right"),bottom:i.get("bottom"),width:i.get("width"),height:i.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var i=this._rect,e=this._axis,r=e.isHorizontal(),o=r?[0,i.width]:[0,i.height],a=e.inverse?1:0;e.setExtent(o[a],o[1-a]),this._updateAxisTransform(e,r?i.x:i.y)},n.prototype._updateAxisTransform=function(i,e){var r=i.getExtent(),o=r[0]+r[1],a=i.isHorizontal();i.toGlobalCoord=a?function(s){return s+e}:function(s){return o-s+e},i.toLocalCoord=a?function(s){return s-e}:function(s){return o-s+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(i){var e=this.getRect(),r=this.getAxis();return"horizontal"===r.orient?r.contain(r.toLocalCoord(i[0]))&&i[1]>=e.y&&i[1]<=e.y+e.height:r.contain(r.toLocalCoord(i[1]))&&i[0]>=e.y&&i[0]<=e.y+e.height},n.prototype.pointToData=function(i){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(i["horizontal"===e.orient?0:1]))]},n.prototype.dataToPoint=function(i){var e=this.getAxis(),r=this.getRect(),o=[],a="horizontal"===e.orient?0:1;return i instanceof Array&&(i=i[0]),o[a]=e.toGlobalCoord(e.dataToCoord(+i)),o[1-a]=0===a?r.y+r.height/2:r.x+r.width/2,o},n.prototype.convertToPixel=function(i,e,r){return LI(e)===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(i,e,r){return LI(e)===this?this.pointToData(r):null},n}();function LI(n){var i=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||i&&i.coordinateSystem}var MB={create:function(n,i){var e=[];return n.eachComponent("singleAxis",function(r,o){var a=new TB(r,n,i);a.name="single_"+o,a.resize(r,i),r.coordinateSystem=a,e.push(a)}),n.eachSeries(function(r){if("singleAxis"===r.get("coordinateSystem")){var o=r.getReferringComponents("singleAxis",kn).models[0];r.coordinateSystem=o&&o.coordinateSystem}}),e},dimensions:AI},PI=["x","y"],IB=["width","height"],DB=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.makeElOption=function(e,r,o,a,s){var l=o.axis,h=l.coordinateSystem,c=S0(h,1-sf(l)),d=h.dataToPoint(r)[0],p=a.get("type");if(p&&"none"!==p){var m=g0(a),y=AB[p](l,d,c);y.style=m,e.graphicKey=y.type,e.pointer=y}pI(r,e,w0(o),o,a,s)},i.prototype.getHandleTransform=function(e,r,o){var a=w0(r,{labelInside:!1});a.labelMargin=o.get(["handle","margin"]);var s=m0(r.axis,e,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},i.prototype.updateHandleTransform=function(e,r,o,a){var s=o.axis,l=s.coordinateSystem,h=sf(s),c=S0(l,h),d=[e.x,e.y];d[h]+=r[h],d[h]=Math.min(c[1],d[h]),d[h]=Math.max(c[0],d[h]);var p=S0(l,1-h),m=(p[1]+p[0])/2,y=[m,m];return y[h]=d[h],{x:d[0],y:d[1],rotation:e.rotation,cursorPoint:y,tooltipOption:{verticalAlign:"middle"}}},i}(p0),AB={line:function(n,i,e){return{type:"Line",subPixelOptimize:!0,shape:v0([i,e[0]],[i,e[1]],sf(n))}},shadow:function(n,i,e){var r=n.getBandWidth();return{type:"Rect",shape:fI([i-r/2,e[0]],[r,e[1]-e[0]],sf(n))}}};function sf(n){return n.isHorizontal()?0:1}function S0(n,i){var e=n.getRect();return[e[PI[i]],e[PI[i]]+e[IB[i]]]}var LB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="single",i}(Qi),PB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(e,r,o){var a=Jl(e);n.prototype.init.apply(this,arguments),OI(e,a)},i.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),OI(this.option,e)},i.prototype.getCellSize=function(){return this.option.cellSize},i.type="calendar",i.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},i}(_i);function OI(n,i){var e,r=n.cellSize;1===(e=ne(r)?r:n.cellSize=[r,r]).length&&(e[1]=e[0]);var o=Te([0,1],function(a){return(null!=(s=i)[js[l=a][0]]||null!=s[js[l][1]]&&null!=s[js[l][2]])&&(e[a]="auto"),null!=e[a]&&"auto"!==e[a];var s,l});Fa(n,i,{type:"box",ignoreSize:o})}var OB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){var a=this.group;a.removeAll();var s=e.coordinateSystem,l=s.getRangeInfo(),h=s.getOrient(),c=r.getLocaleModel();this._renderDayRect(e,l,a),this._renderLines(e,l,h,a),this._renderYearText(e,l,h,a),this._renderMonthText(e,c,h,a),this._renderWeekText(e,c,l,h,a)},i.prototype._renderDayRect=function(e,r,o){for(var a=e.coordinateSystem,s=e.getModel("itemStyle").getItemStyle(),l=a.getCellWidth(),h=a.getCellHeight(),c=r.start.time;c<=r.end.time;c=a.getNextNDay(c,1).time){var d=a.dataToRect([c],!1).tl,p=new Si({shape:{x:d[0],y:d[1],width:l,height:h},cursor:"default",style:s});o.add(p)}},i.prototype._renderLines=function(e,r,o,a){var s=this,l=e.coordinateSystem,h=e.getModel(["splitLine","lineStyle"]).getLineStyle(),c=e.get(["splitLine","show"]),d=h.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var p=r.start,m=0;p.time<=r.end.time;m++){_(p.formatedDate),0===m&&(p=l.getDateInfo(r.start.y+"-"+r.start.m));var y=p.date;y.setMonth(y.getMonth()+1),p=l.getDateInfo(y)}function _(x){s._firstDayOfMonth.push(l.getDateInfo(x)),s._firstDayPoints.push(l.dataToRect([x],!1).tl);var b=s._getLinePointsOfOneWeek(e,x,o);s._tlpoints.push(b[0]),s._blpoints.push(b[b.length-1]),c&&s._drawSplitline(b,h,a)}_(l.getNextNDay(r.end.time,1).formatedDate),c&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,d,o),h,a),c&&this._drawSplitline(s._getEdgesPoints(s._blpoints,d,o),h,a)},i.prototype._getEdgesPoints=function(e,r,o){var a=[e[0].slice(),e[e.length-1].slice()],s="horizontal"===o?0:1;return a[0][s]=a[0][s]-r/2,a[1][s]=a[1][s]+r/2,a},i.prototype._drawSplitline=function(e,r,o){var a=new rr({z2:20,shape:{points:e},style:r});o.add(a)},i.prototype._getLinePointsOfOneWeek=function(e,r,o){for(var a=e.coordinateSystem,s=a.getDateInfo(r),l=[],h=0;h<7;h++){var c=a.getNextNDay(s.time,h),d=a.dataToRect([c.time],!1);l[2*c.day]=d.tl,l[2*c.day+1]=d["horizontal"===o?"bl":"tr"]}return l},i.prototype._formatterLabel=function(e,r){return J(e)&&e?(o=e,F(r,function(s,l){o=o.replace("{"+l+"}",s)}),o):ee(e)?e(r):r.nameMap;var o},i.prototype._yearTextPositionControl=function(e,r,o,a,s){var l=r[0],h=r[1],c=["center","bottom"];"bottom"===a?(h+=s,c=["center","top"]):"left"===a?l-=s:"right"===a?(l+=s,c=["center","top"]):h-=s;var d=0;return"left"!==a&&"right"!==a||(d=Math.PI/2),{rotation:d,x:l,y:h,style:{align:c[0],verticalAlign:c[1]}}},i.prototype._renderYearText=function(e,r,o,a){var s=e.getModel("yearLabel");if(s.get("show")){var l=s.get("margin"),h=s.get("position");h||(h="horizontal"!==o?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],d=(c[0][0]+c[1][0])/2,p=(c[0][1]+c[1][1])/2,m="horizontal"===o?0:1,y={top:[d,c[m][1]],bottom:[d,c[1-m][1]],left:[c[1-m][0],p],right:[c[m][0],p]},_=r.start.y;+r.end.y>+r.start.y&&(_=_+"-"+r.end.y);var x=s.get("formatter"),S=this._formatterLabel(x,{start:r.start.y,end:r.end.y,nameMap:_}),C=new Ci({z2:30,style:Xi(s,{text:S})});C.attr(this._yearTextPositionControl(C,y[h],o,h,l)),a.add(C)}},i.prototype._monthTextPositionControl=function(e,r,o,a,s){var l="left",h="top",c=e[0],d=e[1];return"horizontal"===o?(d+=s,r&&(l="center"),"start"===a&&(h="bottom")):(c+=s,r&&(h="middle"),"start"===a&&(l="right")),{x:c,y:d,align:l,verticalAlign:h}},i.prototype._renderMonthText=function(e,r,o,a){var s=e.getModel("monthLabel");if(s.get("show")){var l=s.get("nameMap"),h=s.get("margin"),c=s.get("position"),d=s.get("align"),p=[this._tlpoints,this._blpoints];l&&!J(l)||(l&&(r=Fg(l)||r),l=r.get(["time","monthAbbr"])||[]);var m="start"===c?0:1,y="horizontal"===o?0:1;h="start"===c?-h:h;for(var _="center"===d,x=0;x<p[m].length-1;x++){var b=p[m][x].slice(),S=this._firstDayOfMonth[x];_&&(b[y]=(this._firstDayPoints[x][y]+p[0][x+1][y])/2);var I=s.get("formatter"),A=l[+S.m-1],P={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:A},O=this._formatterLabel(I,P),E=new Ci({z2:30,style:Z(Xi(s,{text:O}),this._monthTextPositionControl(b,_,o,c,h))});a.add(E)}}},i.prototype._weekTextPositionControl=function(e,r,o,a,s){var l="center",h="middle",c=e[0],d=e[1],p="start"===o;return"horizontal"===r?(c=c+a+(p?1:-1)*s[0]/2,l=p?"right":"left"):(d=d+a+(p?1:-1)*s[1]/2,h=p?"bottom":"top"),{x:c,y:d,align:l,verticalAlign:h}},i.prototype._renderWeekText=function(e,r,o,a,s){var l=e.getModel("dayLabel");if(l.get("show")){var h=e.coordinateSystem,c=l.get("position"),d=l.get("nameMap"),p=l.get("margin"),m=h.getFirstDayOfWeek();(!d||J(d))&&(d&&(r=Fg(d)||r),d=r.get(["time","dayOfWeekShort"])||Te(r.get(["time","dayOfWeekAbbr"]),function(A){return A[0]}));var y=h.getNextNDay(o.end.time,7-o.lweek).time,_=[h.getCellWidth(),h.getCellHeight()];p=Bt(p,Math.min(_[1],_[0])),"start"===c&&(y=h.getNextNDay(o.start.time,-(7+o.fweek)).time,p=-p);for(var x=0;x<7;x++){var b,S=h.getNextNDay(y,x),C=h.dataToRect([S.time],!1).center;b=Math.abs((x+m)%7);var I=new Ci({z2:30,style:Z(Xi(l,{text:d[b]}),this._weekTextPositionControl(C,a,c,p,_))});s.add(I)}}},i.type="calendar",i}(Qi),C0=864e5,EB=function(){function n(i,e,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=i}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(i){var e=(i=Br(i)).getFullYear(),r=i.getMonth()+1,o=r<10?"0"+r:""+r,a=i.getDate(),s=a<10?"0"+a:""+a,l=i.getDay();return{y:e+"",m:o,d:s,day:l=Math.abs((l+7-this.getFirstDayOfWeek())%7),time:i.getTime(),formatedDate:e+"-"+o+"-"+s,date:i}},n.prototype.getNextNDay=function(i,e){return 0===(e=e||0)||(i=new Date(this.getDateInfo(i).time)).setDate(i.getDate()+e),this.getDateInfo(i)},n.prototype.update=function(i,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,o=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[r,7]:[7,r];F([0,1],function(p){d(a,p)&&(s[o[p]]=a[p]*l[p])});var h={width:e.getWidth(),height:e.getHeight()},c=this._rect=Tn(s,h);function d(p,m){return null!=p[m]&&"auto"!==p[m]}F([0,1],function(p){d(a,p)||(a[p]=c[o[p]]/l[p])}),this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(i,e){ne(i)&&(i=i[0]),null==e&&(e=!0);var r=this.getDateInfo(i),o=this._rangeInfo;if(e&&!(r.time>=o.start.time&&r.time<o.end.time+C0))return[NaN,NaN];var s=r.day,l=this._getRangeInfo([o.start.time,r.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]:[this._rect.x+l*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},n.prototype.pointToData=function(i){var e=this.pointToDate(i);return e&&e.time},n.prototype.dataToRect=function(i,e){var r=this.dataToPoint(i,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(i){var e=Math.floor((i[0]-this._rect.x)/this._sw)+1,r=Math.floor((i[1]-this._rect.y)/this._sh)+1,o=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(r,e-1,o):this._getDateByWeeksAndDay(e,r-1,o)},n.prototype.convertToPixel=function(i,e,r){var o=EI(e);return o===this?o.dataToPoint(r):null},n.prototype.convertFromPixel=function(i,e,r){var o=EI(e);return o===this?o.pointToData(r):null},n.prototype.containPoint=function(i){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var i,e=this._model.get("range");if(ne(e)&&1===e.length&&(e=e[0]),ne(e))i=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(i=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var o=this.getDateInfo(r),a=o.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);i=[o.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(i=[r,r])}if(!i)return e;var l=this._getRangeInfo(i);return l.start.time>l.end.time&&i.reverse(),i},n.prototype._getRangeInfo=function(i){var e,r=[this.getDateInfo(i[0]),this.getDateInfo(i[1])];r[0].time>r[1].time&&(e=!0,r.reverse());var o=Math.floor(r[1].time/C0)-Math.floor(r[0].time/C0)+1,a=new Date(r[0].time),s=a.getDate(),l=r[1].date.getDate();a.setDate(s+o-1);var h=a.getDate();if(h!==l)for(var c=a.getTime()-r[1].time>0?1:-1;(h=a.getDate())!==l&&(a.getTime()-r[1].time)*c>0;)o-=c,a.setDate(h-c);var d=Math.floor((o+r[0].day+6)/7),p=e?1-d:d-1;return e&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:o,weeks:d,nthWeek:p,fweek:r[0].day,lweek:r[1].day}},n.prototype._getDateByWeeksAndDay=function(i,e,r){var o=this._getRangeInfo(r);if(i>o.weeks||0===i&&e<o.fweek||i===o.weeks&&e>o.lweek)return null;var a=7*(i-1)-o.fweek+e,s=new Date(o.start.time);return s.setDate(+o.start.d+a),this.getDateInfo(s)},n.create=function(i,e){var r=[];return i.eachComponent("calendar",function(o){var a=new n(o,i,e);r.push(a),o.coordinateSystem=a}),i.eachSeries(function(o){"calendar"===o.get("coordinateSystem")&&(o.coordinateSystem=r[o.get("calendarIndex")||0])}),r},n.dimensions=["time","value"],n}();function EI(n){var i=n.calendarModel,e=n.seriesModel;return i?i.coordinateSystem:e?e.coordinateSystem:null}function NI(n,i){var e;return F(i,function(r){null!=n[r]&&"auto"!==n[r]&&(e=!0)}),e}var RI=["transition","enterFrom","leaveTo"],NB=RI.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function lf(n,i,e){if(e&&(!n[e]&&i[e]&&(n[e]={}),n=n[e],i=i[e]),n&&i)for(var r=e?RI:NB,o=0;o<r.length;o++){var a=r[o];null==n[a]&&null!=i[a]&&(n[a]=i[a])}}var RB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.preventAutoZ=!0,e}return Le(i,n),i.prototype.mergeOption=function(e,r){var o=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,r),this.option.elements=o},i.prototype.optionUpdated=function(e,r){var o=this.option,a=(r?o:e).elements,s=o.elements=r?[]:o.elements,l=[];this._flatten(a,l,null);var h=L_(s,l,"normalMerge"),c=this._elOptionsToUpdate=[];F(h,function(d,p){var y,_,x,b,S,C,m=d.newOption;m&&(c.push(m),function(y,_){var x=y.existing;if(_.id=y.keyInfo.id,!_.type&&x&&(_.type=x.type),null==_.parentId){var b=_.parentOption;b?_.parentId=b.id:x&&(_.parentId=x.parentId)}_.parentOption=null}(d,m),y=s,_=p,b=Z({},x=m),S=y[_],"merge"===(C=x.$action||"merge")?S?(q(S,b,!0),Fa(S,b,{ignoreSize:!0}),Ix(x,S),lf(x,S),lf(x,S,"shape"),lf(x,S,"style"),lf(x,S,"extra"),x.clipPath=S.clipPath):y[_]=b:"replace"===C?y[_]=b:"remove"===C&&S&&(y[_]=null),function(y,_){if(y&&(y.hv=_.hv=[NI(_,["left","right"]),NI(_,["top","bottom"])],"group"===y.type)){var x=y,b=_;null==x.width&&(x.width=b.width=0),null==x.height&&(x.height=b.height=0)}}(s[p],m))},this),o.elements=tt(s,function(d){return d&&delete d.$action,null!=d})},i.prototype._flatten=function(e,r,o){F(e,function(a){if(a){o&&(a.parentOption=o),r.push(a);var s=a.children;s&&s.length&&this._flatten(s,r,a),delete a.children}},this)},i.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},i.type="graphic",i.defaultOption={elements:[]},i}(_i),zI={path:null,compoundPath:null,group:ti,image:Rn,text:Ci},io=Mi(),zB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(){this._elMap=xe()},i.prototype.render=function(e,r,o){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,o)},i.prototype._updateElements=function(e){var r=e.useElOptionsToUpdate();if(r){var o=this._elMap,a=this.group,s=e.get("z"),l=e.get("zlevel");F(r,function(h){var c=On(h.id,null),d=null!=c?o.get(c):null,p=On(h.parentId,null),m=null!=p?o.get(p):a,y=h.type,_=h.style;"text"===y&&_&&h.hv&&h.hv[1]&&(_.textVerticalAlign=_.textBaseline=_.verticalAlign=_.align=null);var x=h.textContent,b=h.textConfig;if(_&&VM(_,y,!!b,!!x)){var S=FM(_,y,!0);!b&&S.textConfig&&(b=h.textConfig=S.textConfig),!x&&S.textContent&&(x=S.textContent)}var fe,C=(fe=Z({},fe=h),F(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Mx),function(ye){delete fe[ye]}),fe),I=h.$action||"merge",A="merge"===I,P="replace"===I;if(A){var O=d;(te=!d)?O=BI(c,m,h.type,o):(O&&(io(O).isNew=!1),QM(O)),O&&(Qp(O,C,e,{isInit:te}),jI(O,h,s,l))}else if(P){hf(d,h,o,e);var E=BI(c,m,h.type,o);E&&(Qp(E,C,e,{isInit:!0}),jI(E,h,s,l))}else"remove"===I&&(qM(d,h),hf(d,h,o,e));var z=o.get(c);if(z&&x)if(A){var V=z.getTextContent();V?V.attr(x):z.setTextContent(new Ci(x))}else P&&z.setTextContent(new Ci(x));if(z){var G=h.clipPath;if(G){var Y=G.type,X=void 0,te=!1;if(A){var ae=z.getClipPath();X=(te=!ae||io(ae).type!==Y)?k0(Y):ae}else P&&(te=!0,X=k0(Y));z.setClipPath(X),Qp(X,G,e,{isInit:te}),ef(X,G.keyframeAnimation,e)}var he=io(z);z.setTextConfig(b),he.option=h,function(fe,ye,Se){var Ee=oi(fe).eventData;fe.silent||fe.ignore||Ee||(Ee=oi(fe).eventData={componentType:"graphic",componentIndex:ye.componentIndex,name:fe.name}),Ee&&(Ee.info=Se.info)}(z,e,h),ql({el:z,componentModel:e,itemName:z.name,itemTooltipOption:h.tooltip}),ef(z,h.keyframeAnimation,e)}})}},i.prototype._relocate=function(e,r){for(var o=e.option.elements,a=this.group,s=this._elMap,l=r.getWidth(),h=r.getHeight(),c=["x","y"],d=0;d<o.length;d++)if((b=null!=(x=On((_=o[d]).id,null))?s.get(x):null)&&b.isGroup){var p=(S=b.parent)===a,m=io(b),y=io(S);m.width=Bt(m.option.width,p?l:y.width)||0,m.height=Bt(m.option.height,p?h:y.height)||0}for(d=o.length-1;d>=0;d--){var _,x,b;if(b=null!=(x=On((_=o[d]).id,null))?s.get(x):null){var S=b.parent,C=(y=io(S),{}),I=Od(b,_,S===a?{width:l,height:h}:{width:y.width,height:y.height},null,{hv:_.hv,boundingMode:_.bounding},C);if(!io(b).isNew&&I){for(var A=_.transition,P={},O=0;O<c.length;O++){var E=c[O],z=C[E];A&&(cl(A)||ve(A,E)>=0)?P[E]=z:b[E]=z}Ii(b,P,e,0)}else b.attr(C)}}},i.prototype._clear=function(){var e=this,r=this._elMap;r.each(function(o){hf(o,io(o).option,r,e._lastGraphicModel)}),this._elMap=xe()},i.prototype.dispose=function(){this._clear()},i.type="graphic",i}(Qi);function k0(n){var e=new(Be(zI,n)?zI[n]:yd(n))({});return io(e).type=n,e}function BI(n,i,e,r){var o=k0(e);return i.add(o),r.set(n,o),io(o).id=n,io(o).isNew=!0,o}function hf(n,i,e,r){n&&n.parent&&("group"===n.type&&n.traverse(function(o){hf(o,i,e,r)}),Jp(n,i,r),e.removeKey(io(n).id))}function jI(n,i,e,r){n.isGroup||F([["cursor",Wr.prototype.cursor],["zlevel",r||0],["z",e||0],["z2",0]],function(o){var a=o[0];Be(i,a)?n[a]=nt(i[a],o[1]):null==n[a]&&(n[a]=o[1])}),F(ft(i),function(o){if(0===o.indexOf("on")){var a=i[o];n[o]=ee(a)?a:null}}),Be(i,"draggable")&&(n.draggable=i.draggable),null!=i.name&&(n.name=i.name),null!=i.id&&(n.id=i.id)}var HI=["x","y","radius","angle","single"],BB=["cartesian2d","polar","singleAxis"];function ns(n){return n+"Axis"}function VI(n){var i=n.ecModel,e={infoList:[],infoMap:xe()};return n.eachTargetAxis(function(r,o){var a=i.getComponent(ns(r),o);if(a){var s=a.getCoordSysModel();if(s){var l=s.uid,h=e.infoMap.get(l);h||(e.infoList.push(h={model:s,axisModels:[]}),e.infoMap.set(l,h)),h.axisModels.push(a)}}}),e}var T0=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(i){this.indexMap[i]||(this.indexList.push(i),this.indexMap[i]=!0)},n}(),Tc=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return Le(i,n),i.prototype.init=function(e,r,o){var a=FI(e);this.settledOption=a,this.mergeDefaultAndTheme(e,o),this._doInit(a)},i.prototype.mergeOption=function(e){var r=FI(e);q(this.option,e,!0),q(this.settledOption,r,!0),this._doInit(r)},i.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var o=this.settledOption;F([["start","startValue"],["end","endValue"]],function(a,s){"value"===this._rangePropMode[s]&&(r[a[0]]=o[a[0]]=null)},this),this._resetTarget()},i.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=xe();this._fillSpecifiedTargetAxis(r)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},i.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return F(HI,function(o){var a=this.getReferringComponents(ns(o),ZA);if(a.specified){r=!0;var s=new T0;F(a.models,function(l){s.add(l.componentIndex)}),e.set(o,s)}},this),r},i.prototype._fillAutoTargetAxisByOrient=function(e,r){var o=this.ecModel,a=!0;if(a){var s="vertical"===r?"y":"x";l(o.findComponents({mainType:s+"Axis"}),s)}function l(h,c){var d=h[0];if(d){var p=new T0;if(p.add(d.componentIndex),e.set(c,p),a=!1,"x"===c||"y"===c){var m=d.getReferringComponents("grid",kn).models[0];m&&F(h,function(y){d.componentIndex!==y.componentIndex&&m===y.getReferringComponents("grid",kn).models[0]&&p.add(y.componentIndex)})}}}a&&l(o.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===r}}),"single"),a&&F(HI,function(h){if(a){var c=o.findComponents({mainType:ns(h),filter:function(p){return"category"===p.get("type",!0)}});if(c[0]){var d=new T0;d.add(c[0].componentIndex),e.set(h,d),a=!1}}},this)},i.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),"y"===e?"vertical":"horizontal"},i.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},i.prototype._updateRangeUse=function(e){var r=this._rangePropMode,o=this.get("rangeMode");F([["start","startValue"],["end","endValue"]],function(a,s){var l=null!=e[a[0]],h=null!=e[a[1]];l&&!h?r[s]="percent":!l&&h?r[s]="value":o?r[s]=o[s]:l&&(r[s]="percent")})},i.prototype.noTarget=function(){return this._noTarget},i.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,o){null==e&&(e=this.ecModel.getComponent(ns(r),o))},this),e},i.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(o,a){F(o.indexList,function(s){e.call(r,a,s)})})},i.prototype.getAxisProxy=function(e,r){var o=this.getAxisModel(e,r);if(o)return o.__dzAxisProxy},i.prototype.getAxisModel=function(e,r){var o=this._targetAxisInfoMap.get(e);if(o&&o.indexMap[r])return this.ecModel.getComponent(ns(e),r)},i.prototype.setRawRange=function(e){var r=this.option,o=this.settledOption;F([["start","startValue"],["end","endValue"]],function(a){null==e[a[0]]&&null==e[a[1]]||(r[a[0]]=o[a[0]]=e[a[0]],r[a[1]]=o[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},i.prototype.setCalculatedRange=function(e){var r=this.option;F(["start","startValue","end","endValue"],function(o){r[o]=e[o]})},i.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},i.prototype.getValueRange=function(e,r){if(null!=e||null!=r)return this.getAxisProxy(e,r).getDataValueWindow();var o=this.findRepresentativeAxisProxy();return o?o.getDataValueWindow():void 0},i.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,o=this._targetAxisInfoMap.keys(),a=0;a<o.length;a++)for(var s=o[a],l=this._targetAxisInfoMap.get(s),h=0;h<l.indexList.length;h++){var c=this.getAxisProxy(s,l.indexList[h]);if(c.hostedBy(this))return c;r||(r=c)}return r},i.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},i.prototype.getOrient=function(){return this._orient},i.type="dataZoom",i.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],i.defaultOption={z:4,filterMode:"filter",start:0,end:100},i}(_i);function FI(n){var i={};return F(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(i[e]=n[e])}),i}var HB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="dataZoom.select",i}(Tc),M0=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o,a){this.dataZoomModel=e,this.ecModel=r,this.api=o},i.type="dataZoom",i}(Qi),VB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="dataZoom.select",i}(M0),Ah=F,WI=zr,FB=function(){function n(i,e,r,o){this._dimName=i,this._axisIndex=e,this.ecModel=o,this._dataZoomModel=r}return n.prototype.hostedBy=function(i){return this._dataZoomModel===i},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var i=[];return this.ecModel.eachSeries(function(e){if(s=e.get("coordinateSystem"),ve(BB,s)>=0){var r=ns(this._dimName),o=e.getReferringComponents(r,kn).models[0];o&&this._axisIndex===o.componentIndex&&i.push(e)}var s},this),i},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return H(this._minMaxSpan)},n.prototype.calculateDataWindow=function(i){var e,r=this._dataExtent,o=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],l=[],h=[];Ah(["start","end"],function(p,m){var y=i[p],_=i[p+"Value"];"percent"===a[m]?(null==y&&(y=s[m]),_=o.parse(Bi(y,s,r))):(e=!0,y=Bi(_=null==_?r[m]:o.parse(_),r,s)),h[m]=null==_||isNaN(_)?r[m]:_,l[m]=null==y||isNaN(y)?s[m]:y}),WI(h),WI(l);var c=this._minMaxSpan;function d(p,m,y,_,x){var b=x?"Span":"ValueSpan";ll(0,p,y,"all",c["min"+b],c["max"+b]);for(var S=0;S<2;S++)m[S]=Bi(p[S],y,_,!0),x&&(m[S]=o.parse(m[S]))}return e?d(h,l,r,s,!1):d(l,h,s,r,!0),{valueWindow:h,percentWindow:l}},n.prototype.reset=function(i){if(i===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(o,a,s){var l=[1/0,-1/0];Ah(s,function(d){var p,m;p=l,(m=d.getData())&&F(mp(m,a),function(_){var x=m.getApproximateExtent(_);x[0]<p[0]&&(p[0]=x[0]),x[1]>p[1]&&(p[1]=x[1])})});var h=o.getAxisModel(),c=aS(h.axis.scale,h,l).calculate();return[c.min,c.max]}(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(i.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(i,e){if(i===this._dataZoomModel){var r=this._dimName,o=this.getTargetSeriesModels(),a=i.get("filterMode"),s=this._valueWindow;"none"!==a&&Ah(o,function(l){var h=l.getData(),c=h.mapDimensionsAll(r);if(c.length){if("weakFilter"===a){var d=h.getStore(),p=Te(c,function(m){return h.getDimensionIndex(m)},h);h.filterSelf(function(m){for(var y,_,x,b=0;b<c.length;b++){var S=d.get(p[b],m),C=!isNaN(S),I=S<s[0],A=S>s[1];if(C&&!I&&!A)return!0;C&&(x=!0),I&&(y=!0),A&&(_=!0)}return x&&y&&_})}else Ah(c,function(m){if("empty"===a)l.setData(h=h.map(m,function(_){return(x=_)>=s[0]&&x<=s[1]?_:NaN;var x}));else{var y={};y[m]=s,h.selectRange(y)}});Ah(c,function(m){h.setApproximateExtent(s,m)})}})}},n.prototype._updateMinMaxSpan=function(){var i=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;Ah(["min","max"],function(o){var a=e.get(o+"Span"),s=e.get(o+"ValueSpan");null!=s&&(s=this.getAxisModel().axis.scale.parse(s)),null!=s?a=Bi(r[0]+s,r,[0,100],!0):null!=a&&(s=Bi(a,[0,100],r,!0)-r[0]),i[o+"Span"]=a,i[o+"ValueSpan"]=s},this)},n.prototype._setAxisModel=function(){var i=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(e){var o=Vf(r,[0,500]);o=Math.min(o,20);var a=i.axis.scale.rawExtentInfo;0!==e[0]&&a.setDeterminedMinMax("min",+r[0].toFixed(o)),100!==e[1]&&a.setDeterminedMinMax("max",+r[1].toFixed(o)),a.freeze()}},n}(),WB={getTargetSeries:function(n){function i(o){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,l){var h=n.getComponent(ns(s),l);o(s,l,h,a)})})}i(function(o,a,s,l){s.__dzAxisProxy=null});var e=[];i(function(o,a,s,l){s.__dzAxisProxy||(s.__dzAxisProxy=new FB(o,a,l,n),e.push(s.__dzAxisProxy))});var r=xe();return F(e,function(o){F(o.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(n,i){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,o){e.getAxisProxy(r,o).reset(e)}),e.eachTargetAxis(function(r,o){e.getAxisProxy(r,o).filterData(e,i)})}),n.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var o=r.getDataPercentWindow(),a=r.getDataValueWindow();e.setCalculatedRange({start:o[0],end:o[1],startValue:a[0],endValue:a[1]})}})}},GI=!1;function I0(n){GI||(GI=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,WB),function(i){i.registerAction("dataZoom",function(e,r){F(function jB(n,i){var e,r=xe(),o=[],a=xe();n.eachComponent({mainType:"dataZoom",query:i},function(h){a.get(h.uid)||l(h)});do{e=!1,n.eachComponent("dataZoom",s)}while(e);function s(h){var d;!a.get(h.uid)&&(d=!1,h.eachTargetAxis(function(p,m){var y=r.get(p);y&&y[m]&&(d=!0)}),d)&&(l(h),e=!0)}function l(h){a.set(h.uid,!0),o.push(h),h.eachTargetAxis(function(c,d){(r.get(c)||r.set(c,[]))[d]=!0})}return o}(r,e),function(o){o.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function GB(n){n.registerComponentModel(HB),n.registerComponentView(VB),I0(n)}var no=function(){},YI={};function Lh(n,i){YI[n]=i}function $I(n){return YI[n]}var YB=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;F(this.option.feature,function(r,o){var a=$I(o);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),q(r,a.defaultOption))})},i.type="toolbox",i.layoutMode={type:"box",ignoreSize:!0},i.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},i}(_i);function UI(n,i){var e=zs(i.get("padding")),r=i.getItemStyle(["color","opacity"]);return r.fill=i.get("backgroundColor"),new Si({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:i.get("borderRadius")},style:r,silent:!0,z2:-1})}var $B=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.render=function(e,r,o,a){var y,_,x,b,S,C,I,s=this.group;if(s.removeAll(),e.get("show")){var l=+e.get("itemSize"),h="vertical"===e.get("orient"),c=e.get("feature")||{},d=this._features||(this._features={}),p=[];F(c,function(y,_){p.push(_)}),new da(this._featureNames||[],p).add(m).update(m).remove(Q(m,null)).execute(),this._featureNames=p,y=s,x=o,b=(_=e).getBoxLayoutParams(),S=_.get("padding"),I=Tn(b,C={width:x.getWidth(),height:x.getHeight()},S),Hs(_.get("orient"),y,_.get("itemGap"),I.width,I.height),Od(y,b,C,S),s.add(UI(s.getBoundingRect(),e)),h||s.eachChild(function(y){var _=y.__title,x=y.ensureState("emphasis"),b=x.textConfig||(x.textConfig={}),S=y.getTextContent(),C=S&&S.ensureState("emphasis");if(C&&!ee(C)&&_){var I=C.style||(C.style={}),A=tu(_,Ci.makeFont(I)),P=y.x+s.x,O=!1;y.y+s.y+l+A.height>o.getHeight()&&(b.position="top",O=!0);var E=O?-5-A.height:l+10;P+A.width/2>o.getWidth()?(b.position=["100%",E],I.align="right"):P-A.width/2<0&&(b.position=[0,E],I.align="left")}})}function m(y,_){var x,b=p[y],S=p[_],C=c[b],I=new Li(C,e,e.ecModel);if(a&&null!=a.newTitle&&a.featureName===b&&(C.title=a.newTitle),b&&!S){if(0===b.indexOf("my"))x={onclick:I.option.onclick,featureName:b};else{var A=$I(b);if(!A)return;x=new A}d[b]=x}else if(!(x=d[S]))return;x.uid=Kl("toolbox-feature"),x.model=I,x.ecModel=r,x.api=o;var P=x instanceof no;b||!S?!I.get("show")||P&&x.unusable?P&&x.remove&&x.remove(r,o):(function(O,E,z){var V,G,Y=O.getModel("iconStyle"),X=O.getModel(["emphasis","iconStyle"]),te=E instanceof no&&E.getIcons?E.getIcons():O.get("icon"),ae=O.get("title")||{};J(te)?(V={})[z]=te:V=te,J(ae)?(G={})[z]=ae:G=ae;var he=O.iconPaths={};F(V,function(fe,ye){var Se=Ul(fe,{},{x:-l/2,y:-l/2,width:l,height:l});Se.setStyle(Y.getItemStyle()),Se.ensureState("emphasis").style=X.getItemStyle();var Ee=new Ci({style:{text:G[ye],align:X.get("textAlign"),borderRadius:X.get("textBorderRadius"),padding:X.get("textPadding"),fill:null},ignore:!0});Se.setTextContent(Ee),ql({el:Se,componentModel:e,itemName:ye,formatterParamsExtra:{title:G[ye]}}),Se.__title=G[ye],Se.on("mouseover",function(){var Re=X.getItemStyle(),ze=h?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";Ee.setStyle({fill:X.get("textFill")||Re.fill||Re.stroke||"#000",backgroundColor:X.get("textBackgroundColor")}),Se.setTextConfig({position:X.get("textPosition")||ze}),Ee.ignore=!e.get("showTitle"),o.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==O.get(["iconStatus",ye])&&o.leaveEmphasis(this),Ee.hide()}),("emphasis"===O.get(["iconStatus",ye])?ha:ua)(Se),s.add(Se),Se.on("click",De(E.onclick,E,r,o,ye)),he[ye]=Se})}(I,x,b),I.setIconStatus=function(O,E){var z=this.option,V=this.iconPaths;z.iconStatus=z.iconStatus||{},z.iconStatus[O]=E,V[O]&&("emphasis"===E?ha:ua)(V[O])},x instanceof no&&x.render&&x.render(I,r,o,a)):P&&x.dispose&&x.dispose(r,o)}},i.prototype.updateView=function(e,r,o,a){F(this._features,function(s){s instanceof no&&s.updateView&&s.updateView(s.model,r,o,a)})},i.prototype.remove=function(e,r){F(this._features,function(o){o instanceof no&&o.remove&&o.remove(e,r)}),this.group.removeAll()},i.prototype.dispose=function(e,r){F(this._features,function(o){o instanceof no&&o.dispose&&o.dispose(e,r)})},i.type="toolbox",i}(Qi),UB=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.onclick=function(e,r){var o=this.model,a=o.get("name")||e.get("title.0.text")||"echarts",s="svg"===r.getZr().painter.getType(),l=s?"svg":o.get("type",!0)||"png",h=r.getConnectedDataURL({type:l,backgroundColor:o.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")}),c=at.browser;if(ee(MouseEvent)&&(c.newEdge||!c.ie&&!c.edge)){var d=document.createElement("a");d.download=a+"."+l,d.target="_blank",d.href=h;var p=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});d.dispatchEvent(p)}else if(window.navigator.msSaveOrOpenBlob||s){var m=h.split(","),y=m[0].indexOf("base64")>-1,_=s?decodeURIComponent(m[1]):m[1];y&&(_=window.atob(_));var x=a+"."+l;if(window.navigator.msSaveOrOpenBlob){for(var b=_.length,S=new Uint8Array(b);b--;)S[b]=_.charCodeAt(b);var C=new Blob([S]);window.navigator.msSaveOrOpenBlob(C,x)}else{var I=document.createElement("iframe");document.body.appendChild(I);var A=I.contentWindow,P=A.document;P.open("image/svg+xml","replace"),P.write(_),P.close(),A.focus(),P.execCommand("SaveAs",!0,x),document.body.removeChild(I)}}else{var O=o.get("lang"),E='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(O&&O[0]||"")+'" /></body>',z=window.open();z.document.write(E),z.document.title=a}},i.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},i}(no),qI="__ec_magicType_stack__",qB=[["line","bar"],["stack"]],XB=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.getIcons=function(){var e=this.model,r=e.get("icon"),o={};return F(e.get("type"),function(a){r[a]&&(o[a]=r[a])}),o},i.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},i.prototype.onclick=function(e,r,o){var a=this.model,s=a.get(["seriesIndex",o]);if(XI[o]){var l,h={series:[]};F(qB,function(d){ve(d,o)>=0&&F(d,function(p){a.setIconStatus(p,"normal")})}),a.setIconStatus(o,"emphasis"),e.eachComponent({mainType:"series",query:null==s?null:{seriesIndex:s}},function(d){var y=XI[o](d.subType,d.id,d,a);y&&(de(y,d.option),h.series.push(y));var _=d.coordinateSystem;if(_&&"cartesian2d"===_.type&&("line"===o||"bar"===o)){var x=_.getAxesByScale("ordinal")[0];if(x){var b=x.dim+"Axis",S=d.getReferringComponents(b,kn).models[0].componentIndex;h[b]=h[b]||[];for(var C=0;C<=S;C++)h[b][S]=h[b][S]||{};h[b][S].boundaryGap="bar"===o}}});var c=o;"stack"===o&&(l=q({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),"emphasis"!==a.get(["iconStatus",o])&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:h,newTitle:l,featureName:"magicType"})}},i}(no),XI={line:function(n,i,e,r){if("bar"===n)return q({id:i,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,i,e,r){if("line"===n)return q({id:i,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,i,e,r){var o=e.get("stack")===qI;if("line"===n||"bar"===n)return r.setIconStatus("stack",o?"normal":"emphasis"),q({id:i,stack:o?"":qI},r.get(["option","stack"])||{},!0)}};xo({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,i){i.mergeOption(n.newOption)});var uf=new Array(60).join("-");function cf(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var D0=new RegExp("[\t]+","g"),ZB=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.onclick=function(e,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var o=r.getDom(),a=this.model;this._dom&&o.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||"#fff";var l=document.createElement("h4"),h=a.get("lang")||[];l.innerHTML=h[0]||a.get("title"),l.style.cssText="margin:10px 20px",l.style.color=a.get("textColor");var c=document.createElement("div"),d=document.createElement("textarea");c.style.cssText="overflow:auto";var z,V,G,te,ae,he,Y,p=a.get("optionToContent"),m=a.get("contentToOption"),y=(te={},ae=[],he=[],e.eachRawSeries(function(fe){var ye=fe.coordinateSystem;if(!ye||"cartesian2d"!==ye.type&&"polar"!==ye.type)ae.push(fe);else{var Se=ye.getBaseAxis();if("category"===Se.type){var Ee=Se.dim+"_"+Se.index;te[Ee]||(te[Ee]={categoryAxis:Se,valueAxis:ye.getOtherAxis(Se),series:[]},he.push({axisDim:Se.dim,axisIndex:Se.index})),te[Ee].series.push(fe)}else ae.push(fe)}}),{value:tt([(V=(Y={seriesGroupByCategoryAxis:te,other:ae,meta:he}).seriesGroupByCategoryAxis,G=[],F(V,function(X,te){var ae=X.categoryAxis,he=X.valueAxis.dim,fe=[" "].concat(Te(X.series,function(ot){return ot.name})),ye=[ae.model.getCategories()];F(X.series,function(ot){var xt=ot.getRawData();ye.push(ot.getRawData().mapArray(xt.mapDimension(he),function(Ue){return Ue}))});for(var Se=[fe.join("\t")],Ee=0;Ee<ye[0].length;Ee++){for(var Re=[],ze=0;ze<ye.length;ze++)Re.push(ye[ze][Ee]);Se.push(Re.join("\t"))}G.push(Se.join("\n"))}),G.join("\n\n"+uf+"\n\n")),(z=Y.other,Te(z,function(X){var te=X.getRawData(),ae=[X.name],he=[];return te.each(te.dimensions,function(){for(var fe=arguments.length,ye=arguments[fe-1],Se=te.getName(ye),Ee=0;Ee<fe-1;Ee++)he[Ee]=arguments[Ee];ae.push((Se?Se+"\t":"")+he.join("\t"))}),ae.join("\n")}).join("\n\n"+uf+"\n\n"))],function(X){return!!X.replace(/[\n\t\s]/g,"")}).join("\n\n"+uf+"\n\n"),meta:Y.meta});if(ee(p)){var _=p(r.getOption());J(_)?c.innerHTML=_:Rt(_)&&c.appendChild(_)}else{d.readOnly=a.get("readOnly");var x=d.style;x.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",x.color=a.get("textColor"),x.borderColor=a.get("textareaBorderColor"),x.backgroundColor=a.get("textareaColor"),d.value=y.value,c.appendChild(d)}var b=y.meta,S=document.createElement("div");S.style.cssText="position:absolute;bottom:5px;left:0;right:0";var C="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",I=document.createElement("div"),A=document.createElement("div");C+=";background-color:"+a.get("buttonColor"),C+=";color:"+a.get("buttonTextColor");var P=this;function O(){o.removeChild(s),P._dom=null}wl(I,"click",O),wl(A,"click",function(){if(null==m&&null!=p||null!=m&&null==p)O();else{var E;try{E=ee(m)?m(c,r.getOption()):function KB(n,i){var e=n.split(new RegExp("\n*"+uf+"\n*","g")),r={series:[]};return F(e,function(o,a){if(function(c){if(c.slice(0,c.indexOf("\n")).indexOf("\t")>=0)return!0}(o)){var s=function(c){for(var d=c.split(/\n+/g),p=[],m=Te(cf(d.shift()).split(D0),function(b){return{name:b,data:[]}}),y=0;y<d.length;y++){var _=cf(d[y]).split(D0);p.push(_.shift());for(var x=0;x<_.length;x++)m[x]&&(m[x].data[y]=_[x])}return{series:m,categories:p}}(o),l=i[a],h=l.axisDim+"Axis";l&&(r[h]=r[h]||[],r[h][l.axisIndex]={data:s.categories},r.series=r.series.concat(s.series))}else s=function(c){for(var d=c.split(/\n+/g),p=cf(d.shift()),m=[],y=0;y<d.length;y++){var _=cf(d[y]);if(_){var x=_.split(D0),b="",S=void 0,C=!1;isNaN(x[0])?(C=!0,b=x[0],x=x.slice(1),m[y]={name:b,value:[]},S=m[y].value):S=m[y]=[];for(var I=0;I<x.length;I++)S.push(+x[I]);1===S.length&&(C?m[y].value=S[0]:m[y]=S[0])}}return{name:p,data:m}}(o),r.series.push(s)}),r}(d.value,b)}catch(z){throw O(),new Error("Data view format error "+z)}E&&r.dispatchAction({type:"changeDataView",newOption:E}),O()}}),I.innerHTML=h[1],A.innerHTML=h[2],A.style.cssText=I.style.cssText=C,!a.get("readOnly")&&S.appendChild(A),S.appendChild(I),s.appendChild(l),s.appendChild(c),s.appendChild(S),c.style.height=o.clientHeight-80+"px",o.appendChild(s),this._dom=s},i.prototype.remove=function(e,r){this._dom&&r.getDom().removeChild(this._dom)},i.prototype.dispose=function(e,r){this.remove(e,r)},i.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},i}(no);function QB(n,i){return Te(n,function(e,r){var o=i&&i[r];if(Pe(o)&&!ne(o)){Pe(e)&&!ne(e)||(e={value:e});var a=null!=o.name&&null==e.name;return e=de(e,o),a&&delete e.name,e}return e})}xo({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,i){var e=[];F(n.newOption.series,function(r){var o=i.getSeriesByName(r.name)[0];if(o){var a=o.get("data");e.push({name:r.name,data:QB(r.data,a)})}else e.push(Z({type:"scatter"},r))}),i.mergeOption(de({series:e},n.newOption))});var KI=F,ZI=Mi();function A0(n){var i=ZI(n);return i.snapshots||(i.snapshots=[{}]),i.snapshots}var JB=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.onclick=function(e,r){ZI(e).snapshots=null,r.dispatchAction({type:"restore",from:this.uid})},i.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},i}(no);xo({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,i){i.resetOption("recreate")});var ej=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],L0=function(){function n(i,e,r){var o=this;this._targetInfoList=[];var a=QI(e,i);F(tj,function(s,l){(!r||!r.include||ve(r.include,l)>=0)&&s(a,o._targetInfoList)})}return n.prototype.setOutputRanges=function(i,e){return this.matchOutputRanges(i,e,function(r,o,a){if((r.coordRanges||(r.coordRanges=[])).push(o),!r.coordRange){r.coordRange=o;var s=O0[r.brushType](0,a,o);r.__rangeOffset={offset:iD[r.brushType](s.values,r.range,[1,1]),xyMinMax:s.xyMinMax}}}),i},n.prototype.matchOutputRanges=function(i,e,r){F(i,function(o){var a=this.findTargetInfo(o,e);a&&!0!==a&&F(a.coordSyses,function(s){var l=O0[o.brushType](1,s,o.range,!0);r(o,l.values,s,e)})},this)},n.prototype.setInputRanges=function(i,e){F(i,function(r){var a,s,l,h,c=this.findTargetInfo(r,e);if(r.range=r.range||[],c&&!0!==c){r.panelId=c.panelId;var d=O0[r.brushType](0,c.coordSys,r.coordRange),p=r.__rangeOffset;r.range=p?iD[r.brushType](d.values,p.offset,(a=p.xyMinMax,s=rD(d.xyMinMax),l=rD(a),h=[s[0]/l[0],s[1]/l[1]],isNaN(h[0])&&(h[0]=1),isNaN(h[1])&&(h[1]=1),h)):d.values}},this)},n.prototype.makePanelOpts=function(i,e){return Te(this._targetInfoList,function(r){var o=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:tM(o),isTargetByCursor:nM(o,i,r.coordSysModel),getLinearBrushOtherExtent:iM(o)}})},n.prototype.controlSeries=function(i,e,r){var o=this.findTargetInfo(i,r);return!0===o||o&&ve(o.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(i,e){for(var r=this._targetInfoList,o=QI(e,i),a=0;a<r.length;a++){var s=r[a],l=i.panelId;if(l){if(s.panelId===l)return s}else for(var h=0;h<JI.length;h++)if(JI[h](o,s))return s}return!0},n}();function P0(n){return n[0]>n[1]&&n.reverse(),n}function QI(n,i){return au(n,i,{includeMainTypes:ej})}var tj={grid:function(n,i){var e=n.xAxisModels,r=n.yAxisModels,o=n.gridModels,a=xe(),s={},l={};(e||r||o)&&(F(e,function(h){var c=h.axis.grid.model;a.set(c.id,c),s[c.id]=!0}),F(r,function(h){var c=h.axis.grid.model;a.set(c.id,c),l[c.id]=!0}),F(o,function(h){a.set(h.id,h),s[h.id]=!0,l[h.id]=!0}),a.each(function(h){var d=[];F(h.coordinateSystem.getCartesians(),function(p,m){(ve(e,p.getAxis("x").model)>=0||ve(r,p.getAxis("y").model)>=0)&&d.push(p)}),i.push({panelId:"grid--"+h.id,gridModel:h,coordSysModel:h,coordSys:d[0],coordSyses:d,getPanelRect:eD.grid,xAxisDeclared:s[h.id],yAxisDeclared:l[h.id]})}))},geo:function(n,i){F(n.geoModels,function(e){var r=e.coordinateSystem;i.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:r,coordSyses:[r],getPanelRect:eD.geo})})}},JI=[function(n,i){var e=n.xAxisModel,r=n.yAxisModel,o=n.gridModel;return!o&&e&&(o=e.axis.grid.model),!o&&r&&(o=r.axis.grid.model),o&&o===i.gridModel},function(n,i){var e=n.geoModel;return e&&e===i.geoModel}],eD={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,i=n.getBoundingRect().clone();return i.applyTransform(ja(n)),i}},O0={lineX:Q(tD,0),lineY:Q(tD,1),rect:function(n,i,e,r){var o=n?i.pointToData([e[0][0],e[1][0]],r):i.dataToPoint([e[0][0],e[1][0]],r),a=n?i.pointToData([e[0][1],e[1][1]],r):i.dataToPoint([e[0][1],e[1][1]],r),s=[P0([o[0],a[0]]),P0([o[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(n,i,e,r){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:Te(e,function(a){var s=n?i.pointToData(a,r):i.dataToPoint(a,r);return o[0][0]=Math.min(o[0][0],s[0]),o[1][0]=Math.min(o[1][0],s[1]),o[0][1]=Math.max(o[0][1],s[0]),o[1][1]=Math.max(o[1][1],s[1]),s}),xyMinMax:o}}};function tD(n,i,e,r){var o=e.getAxis(["x","y"][n]),a=P0(Te([0,1],function(l){return i?o.coordToData(o.toLocalCoord(r[l]),!0):o.toGlobalCoord(o.dataToCoord(r[l]))})),s=[];return s[n]=a,s[1-n]=[NaN,NaN],{values:a,xyMinMax:s}}var iD={lineX:Q(nD,0),lineY:Q(nD,1),rect:function(n,i,e){return[[n[0][0]-e[0]*i[0][0],n[0][1]-e[0]*i[0][1]],[n[1][0]-e[1]*i[1][0],n[1][1]-e[1]*i[1][1]]]},polygon:function(n,i,e){return Te(n,function(r,o){return[r[0]-e[0]*i[o][0],r[1]-e[1]*i[o][1]]})}};function nD(n,i,e,r){return[i[0]-r[n]*e[0],i[1]-r[n]*e[1]]}function rD(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var N0,R0=F,nj=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.render=function(e,r,o,a){this._brushController||(this._brushController=new Oy(o.getZr()),this._brushController.on("brush",De(this._onBrush,this)).mount()),function(s,l,h,c,d){var p=h._isZoomActive;c&&"takeGlobalCursor"===c.type&&(p="dataZoomSelect"===c.key&&c.dataZoomSelectActive),h._isZoomActive=p,s.setIconStatus("zoom",p?"emphasis":"normal");var y=new L0(z0(s),l,{include:["grid"]}).makePanelOpts(d,function(_){return _.xAxisDeclared&&!_.yAxisDeclared?"lineX":!_.xAxisDeclared&&_.yAxisDeclared?"lineY":"rect"});h._brushController.setPanels(y).enableBrush(!(!p||!y.length)&&{brushType:"auto",brushStyle:s.getModel("brushStyle").getItemStyle()})}(e,r,this,a,o),e.setIconStatus("back",A0(r).length>1?"emphasis":"normal")},i.prototype.onclick=function(e,r,o){rj[o].call(this)},i.prototype.remove=function(e,r){this._brushController&&this._brushController.unmount()},i.prototype.dispose=function(e,r){this._brushController&&this._brushController.dispose()},i.prototype._onBrush=function(e){var l,h,c,r=e.areas;if(e.isEnd&&r.length){var o={},a=this.ecModel;this._brushController.updateCovers([]),new L0(z0(this.model),a,{include:["grid"]}).matchOutputRanges(r,a,function(l,h,c){if("cartesian2d"===c.type){var d=l.brushType;"rect"===d?(s("x",c,h[0]),s("y",c,h[1])):s({lineX:"x",lineY:"y"}[d],c,h)}}),h=o,c=A0(l=a),KI(h,function(d,p){for(var m=c.length-1;m>=0&&!c[m][p];m--);if(m<0){var y=l.queryComponents({mainType:"dataZoom",subType:"select",id:p})[0];if(y){var _=y.getPercentRange();c[0][p]={dataZoomId:p,start:_[0],end:_[1]}}}}),c.push(h),this._dispatchZoomAction(o)}function s(l,h,c){var _,x,S,d=h.getAxis(l),p=d.model,m=(_=l,x=p,a.eachComponent({mainType:"dataZoom",subType:"select"},function(C){C.getAxisModel(_,x.componentIndex)&&(S=C)}),S),y=m.findRepresentativeAxisProxy(p).getMinMaxSpan();null==y.minValueSpan&&null==y.maxValueSpan||(c=ll(0,c.slice(),d.scale.getExtent(),0,y.minValueSpan,y.maxValueSpan)),m&&(o[m.id]={dataZoomId:m.id,startValue:c[0],endValue:c[1]})}},i.prototype._dispatchZoomAction=function(e){var r=[];R0(e,function(o,a){r.push(H(o))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},i.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},i}(no),rj={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var i=A0(n),e=i[i.length-1];i.length>1&&i.pop();var r={};return KI(e,function(o,a){for(var s=i.length-1;s>=0;s--)if(o=i[s][a]){r[a]=o;break}}),r}(this.ecModel))}};function z0(n){var i={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==i.xAxisIndex&&null==i.xAxisId&&(i.xAxisIndex="all"),null==i.yAxisIndex&&null==i.yAxisId&&(i.yAxisIndex="all"),i}N0=function(n){var i=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(i&&null!=i.get(e)){var r=i.getModel(e),o=[],a=au(n,z0(r));return R0(a.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),R0(a.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")}),o}function s(l,h,c){var d=l.componentIndex,p={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+h+d};p[c]=d,o.push(p)}},ge(null==Jg.get("dataZoom")&&N0),Jg.set("dataZoom",N0);var oj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="tooltip",i.dependencies=["axisPointer"],i.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},i}(_i);function oD(n){var i=n.get("confine");return null!=i?!!i:"richText"===n.get("renderMode")}function aD(n){if(at.domSupported)for(var i=document.documentElement.style,e=0,r=n.length;e<r;e++)if(n[e]in i)return n[e]}var sD=aD(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function lD(n,i){if(!n)return i;i=$g(i,!0);var e=n.indexOf(i);return(n=-1===e?i:"-"+n.slice(0,e)+"-"+i).toLowerCase()}var aj=lD(aD(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),B0=lD(sD,"transform"),sj="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(at.transform3dSupported?"will-change:transform;":"");function hD(n,i,e){var r=n.toFixed(0)+"px",o=i.toFixed(0)+"px";if(!at.transformSupported)return e?"top:"+o+";left:"+r+";":[["top",o],["left",r]];var a=at.transform3dSupported,s="translate"+(a?"3d":"")+"("+r+","+o+(a?",0":"")+")";return e?"top:0;left:0;"+B0+":"+s+";":[["top",0],["left",0],[sD,s]]}function uD(n,i,e,r,o){var h,d,a=i&&i.painter;if(e){var s=a&&a.getViewportRoot();s&&(h=n,d=document.body,hr(yl,s,r,o,!0)&&hr(h,d,yl[0],yl[1]))}else{n[0]=r,n[1]=o;var l=a&&a.getViewportRootOffset();l&&(n[0]+=l.offsetLeft,n[1]+=l.offsetTop)}n[2]=n[0]/i.getWidth(),n[3]=n[1]/i.getHeight()}var hj=function(){function n(i,e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,at.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var a=this._zr=e.getZr(),s=this._appendToBody=r&&r.appendToBody;uD(this._styleCoord,a,s,e.getWidth()/2,e.getHeight()/2),s?document.body.appendChild(o):i.appendChild(o),this._container=i;var l=this;o.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},o.onmousemove=function(h){if(h=h||window.event,!l._enterable){var c=a.handler;un(a.painter.getViewportRoot(),h,!0),c.dispatch("mousemove",h)}},o.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return n.prototype.update=function(i){var e,o,a=this._container,s=("position",(o=(e=a).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?o.position:null),l=a.style;"absolute"!==l.position&&"absolute"!==s&&(l.position="relative");var h=i.get("alwaysShowContent");h&&this._moveIfResized(),this._alwaysShowContent=h,this.el.className=i.get("className")||""},n.prototype.show=function(i,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,o=r.style,a=this._styleCoord;r.innerHTML?o.cssText=sj+function lj(n,i,e){var y,b,S,r=[],o=n.get("transitionDuration"),a=n.get("backgroundColor"),s=n.get("shadowBlur"),l=n.get("shadowColor"),h=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),d=n.getModel("textStyle"),p=Ab(n,"html");return r.push("box-shadow:"+h+"px "+c+"px "+s+"px "+l),i&&o&&r.push((S="opacity"+(b=" "+(y=o)/2+"s "+"cubic-bezier(0.23,1,0.32,1)")+",visibility"+b,e||(b=" "+y+"s cubic-bezier(0.23,1,0.32,1)",S+=at.transformSupported?","+B0+b:",left"+b+",top"+b),aj+":"+S)),a&&r.push("background-color:"+a),F(["width","color","radius"],function(y){var _="border-"+y,x=$g(_),b=n.get(x);null!=b&&r.push(_+":"+b+("color"===y?"":"px"))}),r.push(function(y){var _=[],x=y.get("fontSize"),b=y.getTextColor();b&&_.push("color:"+b),_.push("font:"+y.getFont()),x&&_.push("line-height:"+Math.round(3*x/2)+"px");var S=y.get("textShadowColor"),C=y.get("textShadowBlur")||0,I=y.get("textShadowOffsetX")||0,A=y.get("textShadowOffsetY")||0;return S&&C&&_.push("text-shadow:"+I+"px "+A+"px "+C+"px "+S),F(["decoration","align"],function(P){var O=y.get(P);O&&_.push("text-"+P+":"+O)}),_.join(";")}(d)),null!=p&&r.push("padding:"+zs(p).join("px ")+"px"),r.join(";")+";"}(i,!this._firstShow,this._longHide)+hD(a[0],a[1],!0)+"border-color:"+Bs(e)+";"+(i.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):o.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(i,e,r,o,a){var s=this.el;if(null!=i){var l="";if(J(a)&&"item"===r.get("trigger")&&!oD(r)&&(l=function(d,p,m){if(!J(m)||"inside"===m)return"";var y=d.get("backgroundColor"),_=d.get("borderWidth");p=Bs(p);var x,b,S="left"===(x=m)?"right":"right"===x?"left":"top"===x?"bottom":"top",C=Math.max(1.5*Math.round(_),6),I="",A=B0+":";ve(["left","right"],S)>-1?(I+="top:50%",A+="translateY(-50%) rotate("+(b="left"===S?-225:-45)+"deg)"):(I+="left:50%",A+="translateX(-50%) rotate("+(b="top"===S?225:45)+"deg)");var P=b*Math.PI/180,O=C+_,E=O*Math.abs(Math.cos(P))+O*Math.abs(Math.sin(P)),z=p+" solid "+_+"px;";return'<div style="'+["position:absolute;width:"+C+"px;height:"+C+"px;z-index:-1;",(I+=";"+S+":-"+Math.round(100*((E-Math.SQRT2*_)/2+Math.SQRT2*_-(E-O)/2))/100+"px")+";"+A+";","border-bottom:"+z,"border-right:"+z,"background-color:"+y+";"].join("")+'"></div>'}(r,o,a)),J(i))s.innerHTML=i+l;else if(i){s.innerHTML="",ne(i)||(i=[i]);for(var h=0;h<i.length;h++)Rt(i[h])&&i[h].parentNode!==s&&s.appendChild(i[h]);if(l&&s.childNodes.length){var c=document.createElement("div");c.innerHTML=l,s.appendChild(c)}}}else s.innerHTML=""},n.prototype.setEnterable=function(i){this._enterable=i},n.prototype.getSize=function(){var i=this.el;return[i.offsetWidth,i.offsetHeight]},n.prototype.moveTo=function(i,e){var r=this._styleCoord;if(uD(r,this._zr,this._appendToBody,i,e),null!=r[0]&&null!=r[1]){var o=this.el.style;F(hD(r[0],r[1]),function(a){o[a[0]]=a[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var i=this,e=this.el.style;e.visibility="hidden",e.opacity="0",at.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return i._longHide=!0},500)},n.prototype.hideLater=function(i){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(De(this.hide,this),i)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),uj=function(){function n(i){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=i.getZr(),dD(this._styleCoord,this._zr,i.getWidth()/2,i.getHeight()/2)}return n.prototype.update=function(i){var e=i.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(i,e,r,o,a){var s=this;Pe(i)&&zi(""),this.el&&this._zr.remove(this.el);var l=r.getModel("textStyle");this.el=new Ci({style:{rich:e.richTextStyles,text:i,lineHeight:22,borderWidth:1,borderColor:o,textShadowColor:l.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Ab(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),F(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){s.el.style[c]=r.get(c)}),F(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){s.el.style[c]=l.get(c)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},n.prototype.setEnterable=function(i){this._enterable=i},n.prototype.getSize=function(){var i=this.el,e=this.el.getBoundingRect(),r=cD(i.style);return[e.width+r.left+r.right,e.height+r.top+r.bottom]},n.prototype.moveTo=function(i,e){var r=this.el;if(r){var o=this._styleCoord;dD(o,this._zr,i,e),i=o[0],e=o[1];var a=r.style,s=rs(a.borderWidth||0),l=cD(a);r.x=i+s+l.left,r.y=e+s+l.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(i){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(De(this.hide,this),i)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function rs(n){return Math.max(0,n)}function cD(n){var i=rs(n.shadowBlur||0),e=rs(n.shadowOffsetX||0),r=rs(n.shadowOffsetY||0);return{left:rs(i-e),right:rs(i+e),top:rs(i-r),bottom:rs(i+r)}}function dD(n,i,e,r){n[0]=e,n[1]=r,n[2]=n[0]/i.getWidth(),n[3]=n[1]/i.getHeight()}var cj=new Si({shape:{x:-1,y:-1,width:2,height:2}}),dj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(e,r){if(!at.node&&r.getDom()){var o,a=e.getComponent("tooltip"),s=this._renderMode="auto"===(o=a.get("renderMode"))?at.domSupported?"html":"richText":o||"html";this._tooltipContent="richText"===s?new uj(r):new hj(r.getDom(),r,{appendToBody:a.get("appendToBody",!0)})}},i.prototype.render=function(e,r,o){if(!at.node&&o.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=r,this._api=o;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?lh(this,"_updatePosition",50,"fixRate"):Nu(this,"_updatePosition")}},i.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");yI("itemTooltip",this._api,De(function(r,o,a){"none"!==e&&(e.indexOf(r)>=0?this._tryShow(o,a):"leave"===r&&this._hide(a))},this))},i.prototype._keepShow=function(){var e=this._tooltipModel,r=this._ecModel,o=this._api,a=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a&&"click"!==a){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!o.isDisposed()&&s.manuallyShowTip(e,r,o,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},i.prototype.manuallyShowTip=function(e,r,o,a){if(a.from!==this.uid&&!at.node&&o.getDom()){var s=pD(a,o);this._ticket="";var l=a.dataByCoordSys,h=function(_,x,b){var S=qf(_).queryOptionMap,C=S.keys()[0];if(C&&"series"!==C){var P,A=su(x,C,S.get(C),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(A&&(b.getViewOfComponentModel(A).group.traverse(function(E){var z=oi(E).tooltipConfig;if(z&&z.name===_.name)return P=E,!0}),P))return{componentMainType:C,componentIndex:A.componentIndex,el:P}}}(a,r,o);if(h){var c=h.el.getBoundingRect().clone();c.applyTransform(h.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:h.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&null!=a.x&&null!=a.y){var d=cj;d.x=a.x,d.y=a.y,d.update(),oi(d).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:d},s)}else if(l)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:l,tooltipOption:a.tooltipOption},s);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(e,r,o,a))return;var p=xI(a,r),m=p.point[0],y=p.point[1];null!=m&&null!=y&&this._tryShow({offsetX:m,offsetY:y,target:p.el,position:a.position,positionDefault:"bottom"},s)}else null!=a.x&&null!=a.y&&(o.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:o.getZr().findHover(a.x,a.y).target},s))}},i.prototype.manuallyHideTip=function(e,r,o,a){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(pD(a,o))},i.prototype._manuallyAxisShowTip=function(e,r,o,a){var s=a.seriesIndex,l=a.dataIndex,h=r.getComponent("axisPointer").coordSysAxesInfo;if(null!=s&&null!=l&&null!=h){var c=r.getSeriesByIndex(s);if(c&&"axis"===Ic([c.getData().getItemModel(l),c,(c.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return o.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:l,position:a.position}),!0}},i.prototype._tryShow=function(e,r){var o=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var a=e.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,e);else if(o){var s,l;this._lastDataByCoordSys=null,Vs(o,function(h){return null!=oi(h).dataIndex?(s=h,!0):null!=oi(h).tooltipConfig?(l=h,!0):void 0},!0),s?this._showSeriesItemTooltip(e,s,r):l?this._showComponentItemTooltip(e,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},i.prototype._showOrMove=function(e,r){var o=e.get("showDelay");r=De(r,this),clearTimeout(this._showTimout),o>0?this._showTimout=setTimeout(r,o):r()},i.prototype._showAxisTooltip=function(e,r){var o=this._ecModel,a=this._tooltipModel,s=[r.offsetX,r.offsetY],l=Ic([r.tooltipOption],a),h=this._renderMode,c=[],d=Bn("section",{blocks:[],noHeader:!0}),p=[],m=new vm;F(e,function(C){F(C.dataByAxis,function(I){var A=o.getComponent(I.axisDim+"Axis",I.axisIndex),P=I.value;if(A&&null!=P){var O=dI(P,A.axis,o,I.seriesDataIndices,I.valueLabelOpt),E=Bn("section",{header:O,noHeader:!_e(O),sortBlocks:!0,blocks:[]});d.blocks.push(E),F(I.seriesDataIndices,function(z){var V=o.getSeriesByIndex(z.seriesIndex),G=z.dataIndexInside,Y=V.getDataParams(G);if(!(Y.dataIndex<0)){Y.axisDim=I.axisDim,Y.axisIndex=I.axisIndex,Y.axisType=I.axisType,Y.axisId=I.axisId,Y.axisValue=nv(A.axis,{value:P}),Y.axisValueLabel=O,Y.marker=m.makeTooltipMarker("item",Bs(Y.color),h);var X=ub(V.formatTooltip(G,!0,null)),te=X.frag;if(te){var ae=Ic([V],a).get("valueFormatter");E.blocks.push(ae?Z({valueFormatter:ae},te):te)}X.text&&p.push(X.text),c.push(Y)}})}})}),d.blocks.reverse(),p.reverse();var y=r.position,_=l.get("order"),x=Mb(d,m,h,_,o.get("useUTC"),l.get("textStyle"));x&&p.unshift(x);var S=p.join("richText"===h?"\n\n":"<br/>");this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(e,c)?this._updatePosition(l,y,s[0],s[1],this._tooltipContent,c):this._showTooltipContent(l,S,c,Math.random()+"",s[0],s[1],y,null,m)})},i.prototype._showSeriesItemTooltip=function(e,r,o){var a=this._ecModel,s=oi(r),l=s.seriesIndex,h=a.getSeriesByIndex(l),c=s.dataModel||h,d=s.dataIndex,p=s.dataType,m=c.getData(p),y=this._renderMode,_=e.positionDefault,x=Ic([m.getItemModel(d),c,h&&(h.coordinateSystem||{}).model],this._tooltipModel,_?{position:_}:null),b=x.get("trigger");if(null==b||"item"===b){var S=c.getDataParams(d,p),C=new vm;S.marker=C.makeTooltipMarker("item",Bs(S.color),y);var I=ub(c.formatTooltip(d,!1,p)),A=x.get("order"),P=x.get("valueFormatter"),O=I.frag,E=O?Mb(P?Z({valueFormatter:P},O):O,C,y,A,a.get("useUTC"),x.get("textStyle")):I.text,z="item_"+c.name+"_"+d;this._showOrMove(x,function(){this._showTooltipContent(x,E,S,z,e.offsetX,e.offsetY,e.position,e.target,C)}),o({type:"showTip",dataIndexInside:d,dataIndex:m.getRawIndex(d),seriesIndex:l,from:this.uid})}},i.prototype._showComponentItemTooltip=function(e,r,o){var a=oi(r),s=a.tooltipConfig.option||{};J(s)&&(s={content:s,formatter:s});var l=[s],h=this._ecModel.getComponent(a.componentMainType,a.componentIndex);h&&l.push(h),l.push({formatter:s.content});var c=e.positionDefault,d=Ic(l,this._tooltipModel,c?{position:c}:null),p=d.get("content"),m=Math.random()+"",y=new vm;this._showOrMove(d,function(){var _=H(d.get("formatterParams")||{});this._showTooltipContent(d,p,_,m,e.offsetX,e.offsetY,e.position,r,y)}),o({type:"showTip",from:this.uid})},i.prototype._showTooltipContent=function(e,r,o,a,s,l,h,c,d){if(this._ticket="",e.get("showContent")&&e.get("show")){var p=this._tooltipContent;p.setEnterable(e.get("enterable"));var m=e.get("formatter");h=h||e.get("position");var y=r,_=this._getNearestPoint([s,l],o,e.get("trigger"),e.get("borderColor")).color;if(m)if(J(m)){var x=e.ecModel.get("useUTC"),b=ne(o)?o[0]:o;y=m,b&&b.axisType&&b.axisType.indexOf("time")>=0&&(y=Tu(b.axisValue,y,x)),y=Xg(y,o,!0)}else if(ee(m)){var S=De(function(C,I){C===this._ticket&&(p.setContent(I,d,e,_,h),this._updatePosition(e,h,s,l,p,o,c))},this);this._ticket=a,y=m(o,a,S)}else y=m;p.setContent(y,d,e,_,h),p.show(e,_),this._updatePosition(e,h,s,l,p,o,c)}},i.prototype._getNearestPoint=function(e,r,o,a){return"axis"===o||ne(r)?{color:a||("html"===this._renderMode?"#fff":"none")}:ne(r)?void 0:{color:a||r.color||r.borderColor}},i.prototype._updatePosition=function(e,r,o,a,s,l,h){var c=this._api.getWidth(),d=this._api.getHeight();r=r||e.get("position");var C,I,P,O,E,z,V,G,Y,p=s.getSize(),m=e.get("align"),y=e.get("verticalAlign"),_=h&&h.getBoundingRect().clone();if(h&&_.applyTransform(h.transform),ee(r)&&(r=r([o,a],l,s.el,_,{viewSize:[c,d],contentSize:p.slice()})),ne(r))o=Bt(r[0],c),a=Bt(r[1],d);else if(Pe(r)){var x=r;x.width=p[0],x.height=p[1];var b=Tn(x,{width:c,height:d});o=b.x,a=b.y,m=null,y=null}else if(J(r)&&h){var S=function(C,I,A,P){var O=A[0],E=A[1],z=Math.ceil(Math.SQRT2*P)+8,V=0,G=0,Y=I.width,X=I.height;switch(C){case"inside":V=I.x+Y/2-O/2,G=I.y+X/2-E/2;break;case"top":V=I.x+Y/2-O/2,G=I.y-E-z;break;case"bottom":V=I.x+Y/2-O/2,G=I.y+X+z;break;case"left":V=I.x-O-z,G=I.y+X/2-E/2;break;case"right":V=I.x+Y+z,G=I.y+X/2-E/2}return[V,G]}(r,_,p,e.get("borderWidth"));o=S[0],a=S[1]}else C=o,I=a,P=c,O=d,E=m?null:20,z=y?null:20,G=(V=s.getSize())[0],Y=V[1],null!=E&&(C+G+E+2>P?C-=G+E:C+=E),null!=z&&(I+Y+z>O?I-=Y+z:I+=z),o=(S=[C,I])[0],a=S[1];m&&(o-=fD(m)?p[0]/2:"right"===m?p[0]:0),y&&(a-=fD(y)?p[1]/2:"bottom"===y?p[1]:0),oD(e)&&(S=function(C,I,A,P,O){var E=A.getSize(),z=E[0],V=E[1];return C=Math.min(C+z,P)-z,I=Math.min(I+V,O)-V,[C=Math.max(C,0),I=Math.max(I,0)]}(o,a,s,c,d),o=S[0],a=S[1]),s.moveTo(o,a)},i.prototype._updateContentNotChangedOnAxis=function(e,r){var o=this._lastDataByCoordSys,a=this._cbParamsList,s=!!o&&o.length===e.length;return s&&F(o,function(l,h){var c=l.dataByAxis||[],d=(e[h]||{}).dataByAxis||[];(s=s&&c.length===d.length)&&F(c,function(p,m){var y=d[m]||{},_=p.seriesDataIndices||[],x=y.seriesDataIndices||[];(s=s&&p.value===y.value&&p.axisType===y.axisType&&p.axisId===y.axisId&&_.length===x.length)&&F(_,function(b,S){var C=x[S];s=s&&b.seriesIndex===C.seriesIndex&&b.dataIndex===C.dataIndex}),a&&F(p.seriesDataIndices,function(b){var S=b.seriesIndex,C=r[S],I=a[S];C&&I&&I.data!==C.data&&(s=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=r,!!s},i.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},i.prototype.dispose=function(e,r){!at.node&&r.getDom()&&(Nu(this,"_updatePosition"),this._tooltipContent.dispose(),y0("itemTooltip",r))},i.type="tooltip",i}(Qi);function Ic(n,i,e){var r,o=i.ecModel;e?(r=new Li(e,o,o),r=new Li(i.option,r,o)):r=i;for(var a=n.length-1;a>=0;a--){var s=n[a];s&&(s instanceof Li&&(s=s.get("tooltip",!0)),J(s)&&(s={formatter:s}),s&&(r=new Li(s,r,o)))}return r}function pD(n,i){return n.dispatchAction||De(i.dispatchAction,i)}function fD(n){return"center"===n||"middle"===n}var pj=["rect","polygon","keep","clear"];function fj(n,i){var h,c,e=Gi(n?n.brush:[]);if(e.length){var r=[];F(e,function(h){var c=h.hasOwnProperty("toolbox")?h.toolbox:[];c instanceof Array&&(r=r.concat(c))});var o=n&&n.toolbox;ne(o)&&(o=o[0]),o||(n.toolbox=[o={feature:{}}]);var a=o.feature||(o.feature={}),s=a.brush||(a.brush={}),l=s.type||(s.type=[]);l.push.apply(l,r),c={},F(h=l,function(d){c[d]=1}),h.length=0,F(c,function(d,p){h.push(p)}),i&&!l.length&&l.push.apply(l,pj)}}var gD=F;function mD(n){if(n)for(var i in n)if(n.hasOwnProperty(i))return!0}function j0(n,i,e){var r={};return gD(i,function(o){var a,s=r[o]=((a=function(){}).prototype.__hidden=a.prototype,new a);gD(n[o],function(l,h){if(Hn.isValidType(h)){var c={type:h,visual:l};e&&e(c,o),s[h]=new Hn(c),"opacity"===h&&((c=H(c)).type="colorAlpha",s.__hidden.__alphaForOpacity=new Hn(c))}})}),r}function vD(n,i,e){var r;F(e,function(o){i.hasOwnProperty(o)&&mD(i[o])&&(r=!0)}),r&&F(e,function(o){i.hasOwnProperty(o)&&mD(i[o])?n[o]=H(i[o]):delete n[o]})}var yD={lineX:_D(0),lineY:_D(1),rect:{point:function(n,i,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,i,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,i,e){return n&&e.boundingRect.contain(n[0],n[1])&&qs(e.range,n[0],n[1])},rect:function(n,i,e){var r=e.range;if(!n||r.length<=1)return!1;var o=n.x,a=n.y,s=n.width,l=n.height,h=r[0];return!!(qs(r,o,a)||qs(r,o+s,a)||qs(r,o,a+l)||qs(r,o+s,a+l)||ai.create(n).contain(h[0],h[1])||wu(o,a,o+s,a,r)||wu(o,a,o,a+l,r)||wu(o+s,a,o+s,a+l,r)||wu(o,a+l,o+s,a+l,r))||void 0}}};function _D(n){var i=["x","y"],e=["width","height"];return{point:function(r,o,a){if(r)return Dc(r[n],a.range)},rect:function(r,o,a){if(r){var s=a.range,l=[r[i[n]],r[i[n]]+r[e[n]]];return l[1]<l[0]&&l.reverse(),Dc(l[0],s)||Dc(l[1],s)||Dc(s[0],l)||Dc(s[1],l)}}}}function Dc(n,i){return i[0]<=n&&n<=i[1]}var xD=["inBrush","outOfBrush"],H0="__ecBrushSelect",V0="__ecInBrushSelectEvent";function bD(n){n.eachComponent({mainType:"brush"},function(i){(i.brushTargetManager=new L0(i.option,n)).setInputRanges(i.areas,n)})}function gj(n,i,e){var r,o,a=[];n.eachComponent({mainType:"brush"},function(s){e&&"takeGlobalCursor"===e.type&&s.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),bD(n),n.eachComponent({mainType:"brush"},function(s,l){var h={brushId:s.id,brushIndex:l,brushName:s.name,areas:H(s.areas),selected:[]};a.push(h);var c=s.option,d=c.brushLink,p=[],m=[],y=[],_=!1;l||(r=c.throttleType,o=c.throttleDelay);var x=Te(s.areas,function(I){var O,E,z,A=vj[I.brushType],P=de({boundingRect:A?A(I):void 0},I);return P.selectors=(E=(O=P).brushType,z={point:function(V){return yD[E].point(V,z,O)},rect:function(V){return yD[E].rect(V,z,O)}}),P}),b=j0(s.option,xD,function(I){I.mappingMethod="fixed"});function S(I){return"all"===d||!!p[I]}function C(I){return!!I.length}ne(d)&&F(d,function(I){p[I]=1}),n.eachSeries(function(I,A){var O,E,z,P=y[A]=[];"parallel"===I.subType?(E=A,z=(O=I).coordinateSystem,_=_||z.hasAxisBrushed(),S(E)&&z.eachActiveState(O.getData(),function(V,G){"active"===V&&(m[G]=1)})):function(O,E,z){if(O.brushSelector&&(Y=E,null==(X=s.option.seriesIndex)||"all"===X||!(ne(X)?ve(X,Y)<0:Y!==X))&&(F(x,function(G){s.brushTargetManager.controlSeries(G,O,n)&&z.push(G),_=_||C(z)}),S(E)&&C(z))){var V=O.getData();V.each(function(G){wD(O,z,V,G)&&(m[G]=1)})}var Y,X}(I,A,P)}),n.eachSeries(function(I,A){var P={seriesId:I.id,seriesIndex:A,seriesName:I.name,dataIndex:[]};h.selected.push(P);var O=y[A],E=I.getData(),z=S(A)?function(V){return m[V]?(P.dataIndex.push(E.getRawIndex(V)),"inBrush"):"outOfBrush"}:function(V){return wD(I,O,E,V)?(P.dataIndex.push(E.getRawIndex(V)),"inBrush"):"outOfBrush"};(S(A)?_:C(O))&&function(V,G,Y,X,te,ae){var he,fe={};function ye(Re){return xm(Y,he,Re)}function Se(Re,ze){Qb(Y,he,Re,ze)}F(V,function(Re){var ze=Hn.prepareVisualTypes(G[Re]);fe[Re]=ze}),Y.each(function Ee(Re,ze){var ot=Y.getRawDataItem(he=Re);if(!ot||!1!==ot.visualMap)for(var xt=X.call(void 0,Re),Ue=G[xt],pt=fe[xt],bt=0,Mt=pt.length;bt<Mt;bt++){var yt=pt[bt];Ue[yt]&&Ue[yt].applyVisual(Re,ye,Se)}})}(xD,b,E,z)})}),function(s,l,h,c,d){if(d){var p=s.getZr();p[V0]||(p[H0]||(p[H0]=mj),lh(p,H0,h,l)(s,c))}}(i,r,o,a,e)}function mj(n,i){if(!n.isDisposed()){var e=n.getZr();e[V0]=!0,n.dispatchAction({type:"brushSelect",batch:i}),e[V0]=!1}}function wD(n,i,e,r){for(var o=0,a=i.length;o<a;o++){var s=i[o];if(n.brushSelector(r,e,s.selectors,s))return!0}}var vj={rect:function(n){return SD(n.range)},polygon:function(n){for(var i,e=n.range,r=0,o=e.length;r<o;r++){var a=e[r];a[0]<(i=i||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(i[0][0]=a[0]),a[0]>i[0][1]&&(i[0][1]=a[0]),a[1]<i[1][0]&&(i[1][0]=a[1]),a[1]>i[1][1]&&(i[1][1]=a[1])}return i&&SD(i)}};function SD(n){return new ai(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var yj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(e,r){this.ecModel=e,this.api=r,(this._brushController=new Oy(r.getZr())).on("brush",De(this._onBrush,this)).mount()},i.prototype.render=function(e,r,o,a){this.model=e,this._updateController(e,r,o,a)},i.prototype.updateTransform=function(e,r,o,a){bD(r),this._updateController(e,r,o,a)},i.prototype.updateVisual=function(e,r,o,a){this.updateTransform(e,r,o,a)},i.prototype.updateView=function(e,r,o,a){this._updateController(e,r,o,a)},i.prototype._updateController=function(e,r,o,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(o)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},i.prototype.dispose=function(){this._brushController.dispose()},i.prototype._onBrush=function(e){var r=this.model.id,o=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:H(o),$from:r}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:H(o),$from:r})},i.type="brush",i}(Qi),_j=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.areas=[],e.brushOption={},e}return Le(i,n),i.prototype.optionUpdated=function(e,r){var o=this.option;!r&&vD(o,e,["inBrush","outOfBrush"]);var a=o.inBrush=o.inBrush||{};o.outOfBrush=o.outOfBrush||{color:"#ddd"},a.hasOwnProperty("liftZ")||(a.liftZ=5)},i.prototype.setAreas=function(e){e&&(this.areas=Te(e,function(r){return CD(this.option,r)},this))},i.prototype.setBrushOption=function(e){this.brushOption=CD(this.option,e),this.brushType=this.brushOption.brushType},i.type="brush",i.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],i.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},i}(_i);function CD(n,i){return q({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Li(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},i,!0)}var xj=["rect","polygon","lineX","lineY","keep","clear"],bj=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return Le(i,n),i.prototype.render=function(e,r,o){var a,s,l;r.eachComponent({mainType:"brush"},function(h){a=h.brushType,s=h.brushOption.brushMode||"single",l=l||!!h.areas.length}),this._brushType=a,this._brushMode=s,F(e.get("type",!0),function(h){e.setIconStatus(h,("keep"===h?"multiple"===s:"clear"===h?l:h===a)?"emphasis":"normal")})},i.prototype.updateView=function(e,r,o){this.render(e,r,o)},i.prototype.getIcons=function(){var e=this.model,r=e.get("icon",!0),o={};return F(e.get("type",!0),function(a){r[a]&&(o[a]=r[a])}),o},i.prototype.onclick=function(e,r,o){var a=this._brushType,s=this._brushMode;"clear"===o?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===o?a:a!==o&&o,brushMode:"keep"===o?"multiple"===s?"single":"multiple":s}})},i.getDefaultOption=function(e){return{show:!0,type:xj.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},i}(no),wj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.layoutMode={type:"box",ignoreSize:!0},e}return Le(i,n),i.type="title",i.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},i}(_i),Sj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.render=function(e,r,o){if(this.group.removeAll(),e.get("show")){var a=this.group,s=e.getModel("textStyle"),l=e.getModel("subtextStyle"),h=e.get("textAlign"),c=nt(e.get("textBaseline"),e.get("textVerticalAlign")),d=new Ci({style:Xi(s,{text:e.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),p=d.getBoundingRect(),m=e.get("subtext"),y=new Ci({style:Xi(l,{text:m,fill:l.getTextColor(),y:p.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_=e.get("link"),x=e.get("sublink"),b=e.get("triggerEvent",!0);d.silent=!_&&!b,y.silent=!x&&!b,_&&d.on("click",function(){Ld(_,"_"+e.get("target"))}),x&&y.on("click",function(){Ld(x,"_"+e.get("subtarget"))}),oi(d).eventData=oi(y).eventData=b?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(d),m&&a.add(y);var S=a.getBoundingRect(),C=e.getBoxLayoutParams();C.width=S.width,C.height=S.height;var I=Tn(C,{width:o.getWidth(),height:o.getHeight()},e.get("padding"));h||("middle"===(h=e.get("left")||e.get("right"))&&(h="center"),"right"===h?I.x+=I.width:"center"===h&&(I.x+=I.width/2)),c||("center"===(c=e.get("top")||e.get("bottom"))&&(c="middle"),"bottom"===c?I.y+=I.height:"middle"===c&&(I.y+=I.height/2),c=c||"top"),a.x=I.x,a.y=I.y,a.markRedraw();var A={align:h,verticalAlign:c};d.setStyle(A),y.setStyle(A),S=a.getBoundingRect();var P=I.margin,O=e.getItemStyle(["color","opacity"]);O.fill=e.get("backgroundColor");var E=new Si({shape:{x:S.x-P[3],y:S.y-P[0],width:S.width+P[1]+P[3],height:S.height+P[0]+P[2],r:e.get("borderRadius")},style:O,subPixelOptimize:!0,silent:!0});a.add(E)}},i.type="title",i}(Qi),kD=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.layoutMode="box",e}return Le(i,n),i.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o),this._initData()},i.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},i.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var r=this._data.count();this.option.loop?e=(e%r+r)%r:(e>=r&&(e=r-1),e<0&&(e=0)),this.option.currentIndex=e},i.prototype.getCurrentIndex=function(){return this.option.currentIndex},i.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},i.prototype.setPlayState=function(e){this.option.autoPlay=!!e},i.prototype.getPlayState=function(){return!!this.option.autoPlay},i.prototype._initData=function(){var e,r=this.option,o=r.data||[],a=r.axisType,s=this._names=[];"category"===a?(e=[],F(o,function(h,c){var d,p=On(Nl(h),"");Pe(h)?(d=H(h)).value=c:d=c,e.push(d),s.push(p)})):e=o,(this._data=new lr([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[a]||"number"}],this)).initData(e,s)},i.prototype.getData=function(){return this._data},i.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},i.type="timeline",i.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},i}(_i),TD=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="timeline.slider",i.defaultOption=Va(kD.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),i}(kD);Ie(TD,cm.prototype);var Cj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="timeline",i}(Qi),kj=function(n){function i(e,r,o,a){var s=n.call(this,e,r,o)||this;return s.type=a||"value",s}return Le(i,n),i.prototype.getLabelModel=function(){return this.model.getModel("label")},i.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},i}(Zr),F0=Math.PI,MD=Mi(),Tj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(e,r){this.api=r},i.prototype.render=function(e,r,o){if(this.model=e,this.api=o,this.ecModel=r,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,o),s=this._createGroup("_mainGroup"),l=this._createGroup("_labelGroup"),h=this._axis=this._createAxis(a,e);e.formatTooltip=function(c){return Bn("nameValue",{noName:!0,value:h.scale.getLabel({value:c})})},F(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](a,s,h,e)},this),this._renderAxisLabel(a,l,h,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},i.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},i.prototype.dispose=function(){this._clearTimer()},i.prototype._layout=function(e,r){var o,a,s,l,X,te,h=e.get(["label","position"]),c=e.get("orient"),d=(te=r,Tn((X=e).getBoxLayoutParams(),{width:te.getWidth(),height:te.getHeight()},X.get("padding"))),p={horizontal:"center",vertical:(o=null==h||"auto"===h?"horizontal"===c?d.y+d.height/2<r.getHeight()/2?"-":"+":d.x+d.width/2<r.getWidth()/2?"+":"-":J(h)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[c][h]:h)>=0||"+"===o?"left":"right"},m={horizontal:o>=0||"+"===o?"top":"bottom",vertical:"middle"},y={horizontal:0,vertical:F0/2},_="vertical"===c?d.height:d.width,x=e.getModel("controlStyle"),b=x.get("show",!0),S=b?x.get("itemSize"):0,C=b?x.get("itemGap"):0,I=S+C,A=e.get(["label","rotate"])||0;A=A*F0/180;var P=x.get("position",!0),O=b&&x.get("showPlayBtn",!0),E=b&&x.get("showPrevBtn",!0),z=b&&x.get("showNextBtn",!0),V=0,G=_;"left"===P||"bottom"===P?(O&&(a=[0,0],V+=I),E&&(s=[V,0],V+=I),z&&(l=[G-S,0],G-=I)):(O&&(a=[G-S,0],G-=I),E&&(s=[0,0],V+=I),z&&(l=[G-S,0],G-=I));var Y=[V,G];return e.get("inverse")&&Y.reverse(),{viewRect:d,mainLength:_,orient:c,rotation:y[c],labelRotation:A,labelPosOpt:o,labelAlign:e.get(["label","align"])||p[c],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||m[c],playPosition:a,prevBtnPosition:s,nextBtnPosition:l,axisExtent:Y,controlSize:S,controlGap:C}},i.prototype._position=function(e,r){var o=this._mainGroup,a=this._labelGroup,s=e.viewRect;if("vertical"===e.orient){var l=[1,0,0,1,0,0],h=s.x,c=s.y+s.height;Gn(l,l,[-h,-c]),oo(l,l,-F0/2),Gn(l,l,[h,c]),(s=s.clone()).applyTransform(l)}var d=C(s),p=C(o.getBoundingRect()),m=C(a.getBoundingRect()),y=[o.x,o.y],_=[a.x,a.y];_[0]=y[0]=d[0][0];var x,b=e.labelPosOpt;function S(A){A.originX=d[0][0]-A.x,A.originY=d[1][0]-A.y}function C(A){return[[A.x,A.x+A.width],[A.y,A.y+A.height]]}function I(A,P,O,E,z){A[E]+=O[E][z]-P[E][z]}null==b||J(b)?(I(y,p,d,1,x="+"===b?0:1),I(_,m,d,1,1-x)):(I(y,p,d,1,x=b>=0?0:1),_[1]=y[1]+b),o.setPosition(y),a.setPosition(_),o.rotation=a.rotation=e.rotation,S(o),S(a)},i.prototype._createAxis=function(e,r){var o=r.getData(),a=r.get("axisType"),s=function(c,d){if(d=d||c.get("type"))switch(d){case"category":return new cp({ordinalMeta:c.getCategories(),extent:[1/0,-1/0]});case"time":return new tv({locale:c.ecModel.getLocaleModel(),useUTC:c.ecModel.get("useUTC")});default:return new fa}}(r,a);s.getTicks=function(){return o.mapArray(["value"],function(c){return{value:c}})};var l=o.getDataExtent("value");s.setExtent(l[0],l[1]),s.calcNiceTicks();var h=new kj("value",s,e.axisExtent,a);return h.model=r,h},i.prototype._createGroup=function(e){var r=this[e]=new ti;return this.group.add(r),r},i.prototype._renderAxisLine=function(e,r,o,a){var s=o.getExtent();if(a.get(["lineStyle","show"])){var l=new En({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:Z({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(l);var h=this._progressLine=new En({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:de({lineCap:"round",lineWidth:l.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(h)}},i.prototype._renderAxisTick=function(e,r,o,a){var s=this,l=a.getData(),h=o.scale.getTicks();this._tickSymbols=[],F(h,function(c){var d=o.dataToCoord(c.value),p=l.getItemModel(c.value),m=p.getModel("itemStyle"),y=p.getModel(["emphasis","itemStyle"]),_=p.getModel(["progress","itemStyle"]),x={x:d,y:0,onclick:De(s._changeTimeline,s,c.value)},b=ID(p,m,r,x);b.ensureState("emphasis").style=y.getItemStyle(),b.ensureState("progress").style=_.getItemStyle(),za(b);var S=oi(b);p.get("tooltip")?(S.dataIndex=c.value,S.dataModel=a):S.dataIndex=S.dataModel=null,s._tickSymbols.push(b)})},i.prototype._renderAxisLabel=function(e,r,o,a){var s=this;if(o.getLabelModel().get("show")){var l=a.getData(),h=o.getViewLabels();this._tickLabels=[],F(h,function(c){var d=c.tickValue,p=l.getItemModel(d),m=p.getModel("label"),y=p.getModel(["emphasis","label"]),_=p.getModel(["progress","label"]),x=o.dataToCoord(c.tickValue),b=new Ci({x,y:0,rotation:e.labelRotation-e.rotation,onclick:De(s._changeTimeline,s,d),silent:!1,style:Xi(m,{text:c.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});b.ensureState("emphasis").style=Xi(y),b.ensureState("progress").style=Xi(_),r.add(b),za(b),MD(b).dataIndex=d,s._tickLabels.push(b)})}},i.prototype._renderControl=function(e,r,o,a){var s=e.controlSize,l=e.rotation,h=a.getModel("controlStyle").getItemStyle(),c=a.getModel(["emphasis","controlStyle"]).getItemStyle(),d=a.getPlayState(),p=a.get("inverse",!0);function m(y,_,x,b){if(y){var S=uo(nt(a.get(["controlStyle",_+"BtnSize"]),s),s),C=(P=[0,-S/2,S,S],E=(O={x:y[0],y:y[1],originX:s/2,originY:0,rotation:b?-l:0,rectHover:!0,style:h,onclick:x}).style,z=Ul(a.get(["controlStyle",_+"Icon"]),O||{},new ai(P[0],P[1],P[2],P[3])),E&&z.setStyle(E),z);C.ensureState("emphasis").style=c,r.add(C),za(C)}var P,O,E,z}m(e.nextBtnPosition,"next",De(this._changeTimeline,this,p?"-":"+")),m(e.prevBtnPosition,"prev",De(this._changeTimeline,this,p?"+":"-")),m(e.playPosition,d?"stop":"play",De(this._handlePlayClick,this,!d),!0)},i.prototype._renderCurrentPointer=function(e,r,o,a){var s=a.getData(),l=a.getCurrentIndex(),h=s.getItemModel(l).getModel("checkpointStyle"),c=this;this._currentPointer=ID(h,h,this._mainGroup,{},this._currentPointer,{onCreate:function(p){p.draggable=!0,p.drift=De(c._handlePointerDrag,c),p.ondragend=De(c._handlePointerDragend,c),DD(p,c._progressLine,l,o,a,!0)},onUpdate:function(p){DD(p,c._progressLine,l,o,a)}})},i.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},i.prototype._handlePointerDrag=function(e,r,o){this._clearTimer(),this._pointerChangeTimeline([o.offsetX,o.offsetY])},i.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},i.prototype._pointerChangeTimeline=function(e,r){var o=this._toAxisCoord(e)[0],a=zr(this._axis.getExtent().slice());o>a[1]&&(o=a[1]),o<a[0]&&(o=a[0]),this._currentPointer.x=o,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=o,s.dirty());var l=this._findNearestTick(o),h=this.model;(r||l!==h.getCurrentIndex()&&h.get("realtime"))&&this._changeTimeline(l)},i.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=e.model;e._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},i.prototype._toAxisCoord=function(e){return mo(e,this._mainGroup.getLocalTransform(),!0)},i.prototype._findNearestTick=function(e){var r,o=this.model.getData(),a=1/0,s=this._axis;return o.each(["value"],function(l,h){var c=s.dataToCoord(l),d=Math.abs(c-e);d<a&&(a=d,r=h)}),r},i.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},i.prototype._changeTimeline=function(e){var r=this.model.getCurrentIndex();"+"===e?e=r+1:"-"===e&&(e=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},i.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),r=this._tickSymbols,o=this._tickLabels;if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",a<e);if(o)for(a=0;a<o.length;a++)o&&o[a]&&o[a].toggleState("progress",MD(o[a]).dataIndex<=e)},i.type="timeline.slider",i}(Cj);function ID(n,i,e,r,o,a){var s=i.get("color");o?(o.setColor(s),e.add(o),a&&a.onUpdate(o)):((o=vn(n.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),e.add(o),a&&a.onCreate(o));var l=i.getItemStyle(["color"]);o.setStyle(l),r=q({rectHover:!0,z2:100},r,!0);var h=uh(n.get("symbolSize"));r.scaleX=h[0]/2,r.scaleY=h[1]/2;var c=Fs(n.get("symbolOffset"),h);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var d=n.get("symbolRotate");return r.rotation=(d||0)*Math.PI/180||0,o.attr(r),o.updateTransform(),o}function DD(n,i,e,r,o,a){if(!n.dragging){var s=o.getModel("checkpointStyle"),l=r.dataToCoord(o.getData().get("value",e));if(a||!s.get("animation",!0))n.attr({x:l,y:0}),i&&i.attr({shape:{x2:l}});else{var h={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:l,y:0},h),i&&i.animateTo({shape:{x2:l}},h)}}}function Mj(n){var i=n&&n.timeline;ne(i)||(i=i?[i]:[]),F(i,function(e){e&&function(r){var o=r.type,a={number:"value",time:"time"};if(a[o]&&(r.axisType=a[o],delete r.type),AD(r),pl(r,"controlPosition")){var s=r.controlStyle||(r.controlStyle={});pl(s,"position")||(s.position=r.controlPosition),"none"!==s.position||pl(s,"show")||(s.show=!1,delete s.position),delete r.controlPosition}F(r.data||[],function(l){Pe(l)&&!ne(l)&&(!pl(l,"value")&&pl(l,"name")&&(l.value=l.name),AD(l))})}(e)})}function AD(n){var i=n.itemStyle||(n.itemStyle={}),e=i.emphasis||(i.emphasis={}),r=n.label||n.label||{},o=r.normal||(r.normal={}),a={normal:1,emphasis:1};F(r,function(s,l){a[l]||pl(o,l)||(o[l]=s)}),e.label&&!pl(r,"emphasis")&&(r.emphasis=e.label,delete e.label)}function pl(n,i){return n.hasOwnProperty(i)}function W0(n,i){if(!n)return!1;for(var e=ne(n)?n:[n],r=0;r<e.length;r++)if(e[r]&&e[r][i])return!0;return!1}function df(n){_s(n,"label",["show"])}var pf=Mi(),_a=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.createdBySelf=!1,e}return Le(i,n),i.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o),this._mergeOption(e,o,!1,!0)},i.prototype.isAnimationEnabled=function(){if(at.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},i.prototype.mergeOption=function(e,r){this._mergeOption(e,r,!1,!1)},i.prototype._mergeOption=function(e,r,o,a){var s=this.mainType;o||r.eachSeries(function(l){var h=l.get(this.mainType,!0),c=pf(l)[s];h&&h.data?(c?c._mergeOption(h,r,!0):(a&&df(h),F(h.data,function(d){d instanceof Array?(df(d[0]),df(d[1])):df(d)}),Z(c=this.createMarkerModelFromSeries(h,this,r),{mainType:this.mainType,seriesIndex:l.seriesIndex,name:l.name,createdBySelf:!0}),c.__hostSeries=l),pf(l)[s]=c):pf(l)[s]=null},this)},i.prototype.formatTooltip=function(e,r,o){var a=this.getData(),s=this.getRawValue(e),l=a.getName(e);return Bn("section",{header:this.name,blocks:[Bn("nameValue",{name:l,value:s,noName:!l,noValue:null==s})]})},i.prototype.getData=function(){return this._data},i.prototype.setData=function(e){this._data=e},i.getMarkerModelFromSeries=function(e,r){return pf(e)[r]},i.type="marker",i.dependencies=["series","grid","polar","geo"],i}(_i);Ie(_a,cm.prototype);var Ij=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.createMarkerModelFromSeries=function(e,r,o){return new i(e,r,o)},i.type="markPoint",i.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},i}(_a);function G0(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function ff(n,i,e,r,o,a){var s=[],l=pa(i,r)?i.getCalculationInfo("stackResultDimension"):r,h=$0(i,l,n),c=i.indicesOfNearest(l,h)[0];s[o]=i.get(e,c),s[a]=i.get(l,c);var d=i.get(r,c),p=co(i.get(r,c));return(p=Math.min(p,20))>=0&&(s[a]=+s[a].toFixed(p)),[s,d]}var Y0={min:Q(ff,"min"),max:Q(ff,"max"),average:Q(ff,"average"),median:Q(ff,"median")};function Ac(n,i){if(i){var e=n.getData(),r=n.coordinateSystem,o=r&&r.dimensions;if(p=i,(isNaN(parseFloat(p.x))||isNaN(parseFloat(p.y)))&&!ne(i.coord)&&ne(o)){var a=LD(i,e,r,n);if((i=H(i)).type&&Y0[i.type]&&a.baseAxis&&a.valueAxis){var s=ve(o,a.baseAxis.dim),l=ve(o,a.valueAxis.dim),h=Y0[i.type](e,a.baseDataDim,a.valueDataDim,s,l);i.coord=h[0],i.value=h[1]}else i.coord=[null!=i.xAxis?i.xAxis:i.radiusAxis,null!=i.yAxis?i.yAxis:i.angleAxis]}if(null!=i.coord&&ne(o))for(var c=i.coord,d=0;d<2;d++)Y0[c[d]]&&(c[d]=$0(e,e.mapDimension(o[d]),c[d]));else i.coord=[];return i}var p}function LD(n,i,e,r){var s,l,o={};return null!=n.valueIndex||null!=n.valueDim?(o.valueDataDim=null!=n.valueIndex?i.getDimension(n.valueIndex):n.valueDim,o.valueAxis=e.getAxis((s=o.valueDataDim,(l=r.getData().getDimensionInfo(s))&&l.coordDim)),o.baseAxis=e.getOtherAxis(o.valueAxis),o.baseDataDim=i.mapDimension(o.baseAxis.dim)):(o.baseAxis=r.getBaseAxis(),o.valueAxis=e.getOtherAxis(o.baseAxis),o.baseDataDim=i.mapDimension(o.baseAxis.dim),o.valueDataDim=i.mapDimension(o.valueAxis.dim)),o}function Lc(n,i){return!(n&&n.containData&&i.coord&&!G0(i))||n.containData(i.coord)}function PD(n,i){return n?function(e,r,o,a){return Ga(a<2?e.coord&&e.coord[a]:e.value,i[a])}:function(e,r,o,a){return Ga(e.value,i[a])}}function $0(n,i,e){if("average"===e){var r=0,o=0;return n.each(i,function(a,s){isNaN(a)||(r+=a,o++)}),r/o}return"median"===e?n.getMedian(i):n.getDataExtent(i)["max"===e?1:0]}var U0=Mi(),q0=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.init=function(){this.markerGroupMap=xe()},i.prototype.render=function(e,r,o){var a=this,s=this.markerGroupMap;s.each(function(l){U0(l).keep=!1}),r.eachSeries(function(l){var h=_a.getMarkerModelFromSeries(l,a.type);h&&a.renderSeries(l,h,r,o)}),s.each(function(l){!U0(l).keep&&a.group.remove(l.group)})},i.prototype.markKeep=function(e){U0(e).keep=!0},i.prototype.toggleBlurSeries=function(e,r){var o=this;F(e,function(a){var s=_a.getMarkerModelFromSeries(a,o.type);s&&s.getData().eachItemGraphicEl(function(l){l&&(r?x1(l):vg(l))})})},i.type="marker",i}(Qi);function OD(n,i,e){var r=i.coordinateSystem;n.each(function(o){var a,s=n.getItemModel(o),l=Bt(s.get("x"),e.getWidth()),h=Bt(s.get("y"),e.getHeight());if(isNaN(l)||isNaN(h)){if(i.getMarkerPosition)a=i.getMarkerPosition(n.getValues(n.dimensions,o));else if(r){var c=n.get(r.dimensions[0],o),d=n.get(r.dimensions[1],o);a=r.dataToPoint([c,d])}}else a=[l,h];isNaN(l)||(a[0]=l),isNaN(h)||(a[1]=h),n.setItemLayout(o,a)})}var Dj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.updateTransform=function(e,r,o){r.eachSeries(function(a){var s=_a.getMarkerModelFromSeries(a,"markPoint");s&&(OD(s.getData(),a,o),this.markerGroupMap.get(a.id).updateLayout())},this)},i.prototype.renderSeries=function(e,r,o,a){var s=e.coordinateSystem,l=e.id,h=e.getData(),c=this.markerGroupMap,d=c.get(l)||c.set(l,new nc),p=function(m,y,_){var x;x=m?Te(m&&m.dimensions,function(I){return Z(Z({},y.getData().getDimensionInfo(y.getData().mapDimension(I))||{}),{name:I,ordinalMeta:null})}):[{name:"value",type:"float"}];var b=new lr(x,_),S=Te(_.get("data"),Q(Ac,y));m&&(S=tt(S,Q(Lc,m)));var C=PD(!!m,x);return b.initData(S,null,C),b}(s,e,r);r.setData(p),OD(r.getData(),e,a),p.each(function(m){var y=p.getItemModel(m),_=y.getShallow("symbol"),x=y.getShallow("symbolSize"),b=y.getShallow("symbolRotate"),S=y.getShallow("symbolOffset"),C=y.getShallow("symbolKeepAspect");if(ee(_)||ee(x)||ee(b)||ee(S)){var I=r.getRawValue(m),A=r.getDataParams(m);ee(_)&&(_=_(I,A)),ee(x)&&(x=x(I,A)),ee(b)&&(b=b(I,A)),ee(S)&&(S=S(I,A))}var P=y.getModel("itemStyle").getItemStyle(),O=Bu(h,"color");P.fill||(P.fill=O),p.setItemVisual(m,{symbol:_,symbolSize:x,symbolRotate:b,symbolOffset:S,symbolKeepAspect:C,style:P})}),d.updateData(p),this.group.add(d.group),p.eachItemGraphicEl(function(m){m.traverse(function(y){oi(y).dataModel=r})}),this.markKeep(d),d.group.silent=r.get("silent")||e.get("silent")},i.type="markPoint",i}(q0),Aj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.createMarkerModelFromSeries=function(e,r,o){return new i(e,r,o)},i.type="markLine",i.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},i}(_a),gf=Mi(),Lj=function(n,i,e,r){var o,a=n.getData();if(ne(r))o=r;else{var s=r.type;if("min"===s||"max"===s||"average"===s||"median"===s||null!=r.xAxis||null!=r.yAxis){var l=void 0,h=void 0;if(null!=r.yAxis||null!=r.xAxis)l=i.getAxis(null!=r.yAxis?"y":"x"),h=Et(r.yAxis,r.xAxis);else{var c=LD(r,a,i,n);l=c.valueAxis,h=$0(a,qm(a,c.valueDataDim),s)}var d="x"===l.dim?0:1,p=1-d,m=H(r),y={coord:[]};m.type=null,m.coord=[],m.coord[p]=-1/0,y.coord[p]=1/0;var _=e.get("precision");_>=0&&Ge(h)&&(h=+h.toFixed(Math.min(_,20))),m.coord[d]=y.coord[d]=h,o=[m,y,{type:s,valueIndex:r.valueIndex,value:h}]}else o=[]}var x=[Ac(n,o[0]),Ac(n,o[1]),Z({},o[2])];return x[2].type=x[2].type||null,q(x[2],x[0]),q(x[2],x[1]),x};function mf(n){return!isNaN(n)&&!isFinite(n)}function ED(n,i,e,r){var o=1-n,a=r.dimensions[n];return mf(i[o])&&mf(e[o])&&i[n]===e[n]&&r.getAxis(a).containData(i[n])}function Pj(n,i){if("cartesian2d"===n.type){var e=i[0].coord,r=i[1].coord;if(e&&r&&(ED(1,e,r,n)||ED(0,e,r,n)))return!0}return Lc(n,i[0])&&Lc(n,i[1])}function X0(n,i,e,r,o){var a,s=r.coordinateSystem,l=n.getItemModel(i),h=Bt(l.get("x"),o.getWidth()),c=Bt(l.get("y"),o.getHeight());if(isNaN(h)||isNaN(c)){if(r.getMarkerPosition)a=r.getMarkerPosition(n.getValues(n.dimensions,i));else{var d=s.dimensions,p=n.get(d[0],i),m=n.get(d[1],i);a=s.dataToPoint([p,m])}if(Js(s,"cartesian2d")){var y=s.getAxis("x"),_=s.getAxis("y");mf(n.get((d=s.dimensions)[0],i))?a[0]=y.toGlobalCoord(y.getExtent()[e?0:1]):mf(n.get(d[1],i))&&(a[1]=_.toGlobalCoord(_.getExtent()[e?0:1]))}isNaN(h)||(a[0]=h),isNaN(c)||(a[1]=c)}else a=[h,c];n.setItemLayout(i,a)}var Oj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.updateTransform=function(e,r,o){r.eachSeries(function(a){var s=_a.getMarkerModelFromSeries(a,"markLine");if(s){var l=s.getData(),h=gf(s).from,c=gf(s).to;h.each(function(d){X0(h,d,!0,a,o),X0(c,d,!1,a,o)}),l.each(function(d){l.setItemLayout(d,[h.getItemLayout(d),c.getItemLayout(d)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},i.prototype.renderSeries=function(e,r,o,a){var s=e.coordinateSystem,l=e.id,h=e.getData(),c=this.markerGroupMap,d=c.get(l)||c.set(l,new by);this.group.add(d.group);var p=function(A,P,O){var E;E=A?Te(A&&A.dimensions,function(te){return Z(Z({},P.getData().getDimensionInfo(P.getData().mapDimension(te))||{}),{name:te,ordinalMeta:null})}):[{name:"value",type:"float"}];var z=new lr(E,O),V=new lr(E,O),G=new lr([],O),Y=Te(O.get("data"),Q(Lj,P,A,O));A&&(Y=tt(Y,Q(Pj,A)));var X=PD(!!A,E);return z.initData(Te(Y,function(te){return te[0]}),null,X),V.initData(Te(Y,function(te){return te[1]}),null,X),G.initData(Te(Y,function(te){return te[2]})),G.hasItemOption=!0,{from:z,to:V,line:G}}(s,e,r),m=p.from,y=p.to,_=p.line;gf(r).from=m,gf(r).to=y,r.setData(_);var x=r.get("symbol"),b=r.get("symbolSize"),S=r.get("symbolRotate"),C=r.get("symbolOffset");function I(A,P,O){var E=A.getItemModel(P);X0(A,P,O,e,a);var z=E.getModel("itemStyle").getItemStyle();null==z.fill&&(z.fill=Bu(h,"color")),A.setItemVisual(P,{symbolKeepAspect:E.get("symbolKeepAspect"),symbolOffset:nt(E.get("symbolOffset",!0),C[O?0:1]),symbolRotate:nt(E.get("symbolRotate",!0),S[O?0:1]),symbolSize:nt(E.get("symbolSize"),b[O?0:1]),symbol:nt(E.get("symbol",!0),x[O?0:1]),style:z})}ne(x)||(x=[x,x]),ne(b)||(b=[b,b]),ne(S)||(S=[S,S]),ne(C)||(C=[C,C]),p.from.each(function(A){I(m,A,!0),I(y,A,!1)}),_.each(function(A){var P=_.getItemModel(A).getModel("lineStyle").getLineStyle();_.setItemLayout(A,[m.getItemLayout(A),y.getItemLayout(A)]),null==P.stroke&&(P.stroke=m.getItemVisual(A,"style").fill),_.setItemVisual(A,{fromSymbolKeepAspect:m.getItemVisual(A,"symbolKeepAspect"),fromSymbolOffset:m.getItemVisual(A,"symbolOffset"),fromSymbolRotate:m.getItemVisual(A,"symbolRotate"),fromSymbolSize:m.getItemVisual(A,"symbolSize"),fromSymbol:m.getItemVisual(A,"symbol"),toSymbolKeepAspect:y.getItemVisual(A,"symbolKeepAspect"),toSymbolOffset:y.getItemVisual(A,"symbolOffset"),toSymbolRotate:y.getItemVisual(A,"symbolRotate"),toSymbolSize:y.getItemVisual(A,"symbolSize"),toSymbol:y.getItemVisual(A,"symbol"),style:P})}),d.updateData(_),p.line.eachItemGraphicEl(function(A){oi(A).dataModel=r,A.traverse(function(P){oi(P).dataModel=r})}),this.markKeep(d),d.group.silent=r.get("silent")||e.get("silent")},i.type="markLine",i}(q0),Ej=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.createMarkerModelFromSeries=function(e,r,o){return new i(e,r,o)},i.type="markArea",i.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},i}(_a),vf=Mi(),Nj=function(n,i,e,r){var o=r[0],a=r[1];if(o&&a){var s=Ac(n,o),l=Ac(n,a),h=s.coord,c=l.coord;h[0]=Et(h[0],-1/0),h[1]=Et(h[1],-1/0),c[0]=Et(c[0],1/0),c[1]=Et(c[1],1/0);var d=re([{},s,l]);return d.coord=[s.coord,l.coord],d.x0=s.x,d.y0=s.y,d.x1=l.x,d.y1=l.y,d}};function yf(n){return!isNaN(n)&&!isFinite(n)}function ND(n,i,e,r){var o=1-n;return yf(i[o])&&yf(e[o])}function Rj(n,i){var s,l,h,e=i.coord[0],r=i.coord[1],o={coord:e,x:i.x0,y:i.y0},a={coord:r,x:i.x1,y:i.y1};return Js(n,"cartesian2d")?!(!e||!r||!ND(1,e,r)&&!ND(0,e,r))||(l=o,h=a,!((s=n)&&s.containZone&&l.coord&&h.coord&&!G0(l)&&!G0(h))||s.containZone(l.coord,h.coord)):Lc(n,o)||Lc(n,a)}function RD(n,i,e,r,o){var a,s=r.coordinateSystem,l=n.getItemModel(i),h=Bt(l.get(e[0]),o.getWidth()),c=Bt(l.get(e[1]),o.getHeight());if(isNaN(h)||isNaN(c)){if(r.getMarkerPosition){var d=n.getValues(["x0","y0"],i),p=n.getValues(["x1","y1"],i),m=s.clampData(d),y=s.clampData(p),_=[];_[0]="x0"===e[0]?m[0]>y[0]?p[0]:d[0]:m[0]>y[0]?d[0]:p[0],_[1]="y0"===e[1]?m[1]>y[1]?p[1]:d[1]:m[1]>y[1]?d[1]:p[1],a=r.getMarkerPosition(_,e,!0)}else{var x=[C=n.get(e[0],i),I=n.get(e[1],i)];s.clampData&&s.clampData(x,x),a=s.dataToPoint(x,!0)}if(Js(s,"cartesian2d")){var b=s.getAxis("x"),S=s.getAxis("y"),C=n.get(e[0],i),I=n.get(e[1],i);yf(C)?a[0]=b.toGlobalCoord(b.getExtent()["x0"===e[0]?0:1]):yf(I)&&(a[1]=S.toGlobalCoord(S.getExtent()["y0"===e[1]?0:1]))}isNaN(h)||(a[0]=h),isNaN(c)||(a[1]=c)}else a=[h,c];return a}var zD=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],zj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.updateTransform=function(e,r,o){r.eachSeries(function(a){var s=_a.getMarkerModelFromSeries(a,"markArea");if(s){var l=s.getData();l.each(function(h){var c=Te(zD,function(d){return RD(l,h,d,a,o)});l.setItemLayout(h,c),l.getItemGraphicEl(h).setShape("points",c)})}},this)},i.prototype.renderSeries=function(e,r,o,a){var s=e.coordinateSystem,l=e.id,h=e.getData(),c=this.markerGroupMap,d=c.get(l)||c.set(l,{group:new ti});this.group.add(d.group),this.markKeep(d);var p=function(m,y,_){var x,b;if(m){var C=Te(m&&m.dimensions,function(P){var O=y.getData();return Z(Z({},O.getDimensionInfo(O.mapDimension(P))||{}),{name:P,ordinalMeta:null})});b=Te(["x0","y0","x1","y1"],function(P,O){return{name:P,type:C[O%2].type}}),x=new lr(b,_)}else x=new lr(b=[{name:"value",type:"float"}],_);var I=Te(_.get("data"),Q(Nj,y,m,_));return m&&(I=tt(I,Q(Rj,m))),x.initData(I,null,m?function(P,O,E,z){return Ga(P.coord[Math.floor(z/2)][z%2],b[z])}:function(P,O,E,z){return Ga(P.value,b[z])}),x.hasItemOption=!0,x}(s,e,r);r.setData(p),p.each(function(m){var y=Te(zD,function(E){return RD(p,m,E,e,a)}),_=s.getAxis("x").scale,x=s.getAxis("y").scale,b=_.getExtent(),S=x.getExtent(),C=[_.parse(p.get("x0",m)),_.parse(p.get("x1",m))],I=[x.parse(p.get("y0",m)),x.parse(p.get("y1",m))];zr(C),zr(I),p.setItemLayout(m,{points:y,allClipped:b[0]>C[1]||b[1]<C[0]||S[0]>I[1]||S[1]<I[0]});var P=p.getItemModel(m).getModel("itemStyle").getItemStyle(),O=Bu(h,"color");P.fill||(P.fill=O,J(P.fill)&&(P.fill=Aa(P.fill,.4))),P.stroke||(P.stroke=O),p.setItemVisual(m,"style",P)}),p.diff(vf(d).data).add(function(m){var y=p.getItemLayout(m);if(!y.allClipped){var _=new nr({shape:{points:y.points}});p.setItemGraphicEl(m,_),d.group.add(_)}}).update(function(m,y){var _=vf(d).data.getItemGraphicEl(y),x=p.getItemLayout(m);x.allClipped?_&&d.group.remove(_):(_?Ii(_,{shape:{points:x.points}},r,m):_=new nr({shape:{points:x.points}}),p.setItemGraphicEl(m,_),d.group.add(_))}).remove(function(m){var y=vf(d).data.getItemGraphicEl(m);d.group.remove(y)}).execute(),p.eachItemGraphicEl(function(m,y){var _=p.getItemModel(y),x=p.getItemVisual(y,"style");m.useStyle(p.getItemVisual(y,"style")),Kn(m,zn(_),{labelFetcher:r,labelDataIndex:y,defaultText:p.getName(y)||"",inheritColor:J(x.fill)?Aa(x.fill,1):"#000"}),Xn(m,_),dn(m,null,null,_.get(["emphasis","disabled"])),oi(m).dataModel=r}),vf(d).data=p,d.group.silent=r.get("silent")||e.get("silent")},i.type="markArea",i}(q0),K0=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.layoutMode={type:"box",ignoreSize:!0},e}return Le(i,n),i.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o),e.selected=e.selected||{},this._updateSelector(e)},i.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),this._updateSelector(e)},i.prototype._updateSelector=function(e){var r=e.selector,o=this.ecModel;!0===r&&(r=e.selector=["all","inverse"]),ne(r)&&F(r,function(a,s){var l,h;J(a)&&(a={type:a}),r[s]=q(a,(l=o,"all"===(h=a.type)?{type:"all",title:l.getLocaleModel().get(["legend","selector","all"])}:"inverse"===h?{type:"inverse",title:l.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},i.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var r=!1,o=0;o<e.length;o++){var a=e[o].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(e[0].get("name"))}},i.prototype._updateData=function(e){var r=[],o=[];e.eachRawSeries(function(h){var c;if(o.push(h.name),h.legendVisualProvider){var p=h.legendVisualProvider.getAllNames();e.isSeriesFiltered(h)||(o=o.concat(p)),p.length?r=r.concat(p):c=!0}else c=!0;c&&Uf(h)&&r.push(h.name)}),this._availableNames=o;var a=this.get("data")||r,s=xe(),l=Te(a,function(h){return(J(h)||Ge(h))&&(h={name:h}),s.get(h.name)?null:(s.set(h.name,!0),new Li(h,this,this.ecModel))},this);this._data=tt(l,function(h){return!!h})},i.prototype.getData=function(){return this._data},i.prototype.select=function(e){var r=this.option.selected;"single"===this.get("selectedMode")&&F(this._data,function(o){r[o.get("name")]=!1}),r[e]=!0},i.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},i.prototype.toggleSelected=function(e){var r=this.option.selected;r.hasOwnProperty(e)||(r[e]=!0),this[r[e]?"unSelect":"select"](e)},i.prototype.allSelect=function(){var r=this.option.selected;F(this._data,function(o){r[o.get("name",!0)]=!0})},i.prototype.inverseSelect=function(){var r=this.option.selected;F(this._data,function(o){var a=o.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},i.prototype.isSelected=function(e){var r=this.option.selected;return!(r.hasOwnProperty(e)&&!r[e])&&ve(this._availableNames,e)>=0},i.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},i.type="legend.plain",i.dependencies=["series"],i.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},i}(_i),Ph=Q,Z0=F,_f=ti,BD=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.newlineDisabled=!1,e}return Le(i,n),i.prototype.init=function(){this.group.add(this._contentGroup=new _f),this.group.add(this._selectorGroup=new _f),this._isFirstRender=!0},i.prototype.getContentGroup=function(){return this._contentGroup},i.prototype.getSelectorGroup=function(){return this._selectorGroup},i.prototype.render=function(e,r,o){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var s=e.get("align"),l=e.get("orient");s&&"auto"!==s||(s="right"===e.get("left")&&"vertical"===l?"right":"left");var h=e.get("selector",!0),c=e.get("selectorPosition",!0);!h||c&&"auto"!==c||(c="horizontal"===l?"end":"start"),this.renderInner(s,e,r,o,h,l,c);var d=e.getBoxLayoutParams(),p={width:o.getWidth(),height:o.getHeight()},m=e.get("padding"),y=Tn(d,p,m),_=this.layoutInner(e,s,y,a,h,c),x=Tn(de({width:_.width,height:_.height},d),p,m);this.group.x=x.x-_.x,this.group.y=x.y-_.y,this.group.markRedraw(),this.group.add(this._backgroundEl=UI(_,e))}},i.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},i.prototype.renderInner=function(e,r,o,a,s,l,h){var c=this.getContentGroup(),d=xe(),p=r.get("selectedMode"),m=[];o.eachRawSeries(function(y){!y.get("legendHoverLink")&&m.push(y.id)}),Z0(r.getData(),function(y,_){var x=y.get("name");if(!this.newlineDisabled&&(""===x||"\n"===x)){var b=new _f;return b.newline=!0,void c.add(b)}var S=o.getSeriesByName(x)[0];if(!d.get(x))if(S){var C=S.getData(),I=C.getVisual("legendLineStyle")||{},A=C.getVisual("legendIcon"),P=C.getVisual("style");this._createItem(S,x,_,y,r,e,I,P,A,p,a).on("click",Ph(jD,x,null,a,m)).on("mouseover",Ph(Q0,S.name,null,a,m)).on("mouseout",Ph(J0,S.name,null,a,m)),d.set(x,!0)}else o.eachRawSeries(function(O){if(!d.get(x)&&O.legendVisualProvider){var E=O.legendVisualProvider;if(!E.containName(x))return;var z=E.indexOfName(x),V=E.getItemVisual(z,"style"),G=E.getItemVisual(z,"legendIcon"),Y=Un(V.fill);Y&&0===Y[3]&&(Y[3]=.2,V=Z(Z({},V),{fill:Nr(Y,"rgba")})),this._createItem(O,x,_,y,r,e,{},V,G,p,a).on("click",Ph(jD,null,x,a,m)).on("mouseover",Ph(Q0,null,x,a,m)).on("mouseout",Ph(J0,null,x,a,m)),d.set(x,!0)}},this)},this),s&&this._createSelector(s,r,a,l,h)},i.prototype._createSelector=function(e,r,o,a,s){var l=this.getSelectorGroup();Z0(e,function(h){var c=h.type,d=new Ci({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){o.dispatchAction({type:"all"===c?"legendAllSelect":"legendInverseSelect"})}});l.add(d),Kn(d,{normal:r.getModel("selectorLabel"),emphasis:r.getModel(["emphasis","selectorLabel"])},{defaultText:h.title}),za(d)})},i.prototype._createItem=function(e,r,o,a,s,l,h,c,d,p,m){var he,fe,ye,y=e.visualDrawType,_=s.get("itemWidth"),x=s.get("itemHeight"),b=s.isSelected(r),S=a.get("symbolRotate"),C=a.get("symbolKeepAspect"),I=a.get("icon"),A=function(he,fe,ye,Se,Ee,Re,ze){function ot(Ot,Ft){"auto"===Ot.lineWidth&&(Ot.lineWidth=Ft.lineWidth>0?2:0),Z0(Ot,function(ni,si){"inherit"===Ot[si]&&(Ot[si]=Ft[si])})}var xt=fe.getModel("itemStyle"),Ue=xt.getItemStyle(),pt=0===he.lastIndexOf("empty",0)?"fill":"stroke",bt=xt.getShallow("decal");Ue.decal=bt&&"inherit"!==bt?dh(bt,ze):Se.decal,"inherit"===Ue.fill&&(Ue.fill=Se[Ee]),"inherit"===Ue.stroke&&(Ue.stroke=Se[pt]),"inherit"===Ue.opacity&&(Ue.opacity=("fill"===Ee?Se:ye).opacity),ot(Ue,Se);var Mt=fe.getModel("lineStyle"),yt=Mt.getLineStyle();if(ot(yt,ye),"auto"===Ue.fill&&(Ue.fill=Se.fill),"auto"===Ue.stroke&&(Ue.stroke=Se.fill),"auto"===yt.stroke&&(yt.stroke=Se.fill),!Re){var Dt=fe.get("inactiveBorderWidth");Ue.lineWidth="auto"===Dt?Se.lineWidth>0&&Ue[pt]?2:0:Ue.lineWidth,Ue.fill=fe.get("inactiveColor"),Ue.stroke=fe.get("inactiveBorderColor"),yt.stroke=Mt.get("inactiveColor"),yt.lineWidth=Mt.get("inactiveWidth")}return{itemStyle:Ue,lineStyle:yt}}(d=I||d||"roundRect",a,h,c,y,b,m),P=new _f,O=a.getModel("textStyle");if(!ee(e.getLegendIcon)||I&&"inherit"!==I){var E="inherit"===I&&e.getData().getVisual("symbol")?"inherit"===S?e.getData().getVisual("symbolRotate"):S:0;P.add(((ye=vn(fe=(he={itemWidth:_,itemHeight:x,icon:d,iconRotate:E,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:C}).icon||"roundRect",0,0,he.itemWidth,he.itemHeight,he.itemStyle.fill,he.symbolKeepAspect)).setStyle(he.itemStyle),ye.rotation=(he.iconRotate||0)*Math.PI/180,ye.setOrigin([he.itemWidth/2,he.itemHeight/2]),fe.indexOf("empty")>-1&&(ye.style.stroke=ye.style.fill,ye.style.fill="#fff",ye.style.lineWidth=2),ye))}else P.add(e.getLegendIcon({itemWidth:_,itemHeight:x,icon:d,iconRotate:S,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:C}));var z="left"===l?_+5:-5,V=l,G=s.get("formatter"),Y=r;J(G)&&G?Y=G.replace("{name}",null!=r?r:""):ee(G)&&(Y=G(r));var X=b?O.getTextColor():a.get("inactiveColor");P.add(new Ci({style:Xi(O,{text:Y,x:z,y:x/2,fill:X,align:V,verticalAlign:"middle"},{inheritColor:X})}));var te=new Si({shape:P.getBoundingRect(),invisible:!0}),ae=a.getModel("tooltip");return ae.get("show")&&ql({el:te,componentModel:s,itemName:r,itemTooltipOption:ae.option}),P.add(te),P.eachChild(function(he){he.silent=!0}),te.silent=!p,this.getContentGroup().add(P),za(P),P.__legendDataIndex=o,P},i.prototype.layoutInner=function(e,r,o,a,s,l){var h=this.getContentGroup(),c=this.getSelectorGroup();Hs(e.get("orient"),h,e.get("itemGap"),o.width,o.height);var d=h.getBoundingRect(),p=[-d.x,-d.y];if(c.markRedraw(),h.markRedraw(),s){Hs("horizontal",c,e.get("selectorItemGap",!0));var m=c.getBoundingRect(),y=[-m.x,-m.y],_=e.get("selectorButtonGap",!0),x=e.getOrient().index,b=0===x?"width":"height",S=0===x?"height":"width",C=0===x?"y":"x";"end"===l?y[x]+=d[b]+_:p[x]+=m[b]+_,y[1-x]+=d[S]/2-m[S]/2,c.x=y[0],c.y=y[1],h.x=p[0],h.y=p[1];var I={x:0,y:0};return I[b]=d[b]+_+m[b],I[S]=Math.max(d[S],m[S]),I[C]=Math.min(0,m[C]+y[1-x]),I}return h.x=p[0],h.y=p[1],this.group.getBoundingRect()},i.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},i.type="legend.plain",i}(Qi);function jD(n,i,e,r){J0(n,i,e,r),e.dispatchAction({type:"legendToggleSelect",name:null!=n?n:i}),Q0(n,i,e,r)}function HD(n){for(var i,e=n.getZr().storage.getDisplayList(),r=0,o=e.length;r<o&&!(i=e[r].states.emphasis);)r++;return i&&i.hoverLayer}function Q0(n,i,e,r){HD(e)||e.dispatchAction({type:"highlight",seriesName:n,name:i,excludeSeriesId:r})}function J0(n,i,e,r){HD(e)||e.dispatchAction({type:"downplay",seriesName:n,name:i,excludeSeriesId:r})}function Bj(n){var i=n.findComponents({mainType:"legend"});i&&i.length&&n.filterSeries(function(e){for(var r=0;r<i.length;r++)if(!i[r].isSelected(e.name))return!1;return!0})}function Pc(n,i,e){var r,o={},a="toggleSelected"===n;return e.eachComponent("legend",function(s){a&&null!=r?s[r?"select":"unSelect"](i.name):"allSelect"===n||"inverseSelect"===n?s[n]():(s[n](i.name),r=s.isSelected(i.name)),F(s.getData(),function(l){var h=l.get("name");if("\n"!==h&&""!==h){var c=s.isSelected(h);o[h]=o.hasOwnProperty(h)?o[h]&&c:c}})}),"allSelect"===n||"inverseSelect"===n?{selected:o}:{name:i.name,selected:o}}function VD(n){n.registerComponentModel(K0),n.registerComponentView(BD),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,Bj),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(i){i.registerAction("legendToggleSelect","legendselectchanged",Q(Pc,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",Q(Pc,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",Q(Pc,"inverseSelect")),i.registerAction("legendSelect","legendselected",Q(Pc,"select")),i.registerAction("legendUnSelect","legendunselected",Q(Pc,"unSelect"))}(n)}var jj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},i.prototype.init=function(e,r,o){var a=Jl(e);n.prototype.init.call(this,e,r,o),FD(this,e,a)},i.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),FD(this,this.option,e)},i.type="legend.scroll",i.defaultOption=Va(K0.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),i}(K0);function FD(n,i,e){var r=[1,1];r[n.getOrient().index]=0,Fa(i,e,{type:"box",ignoreSize:!!r})}var WD=ti,e_=["width","height"],t_=["x","y"],Hj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.newlineDisabled=!0,e._currentIndex=0,e}return Le(i,n),i.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new WD),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new WD)},i.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},i.prototype.renderInner=function(e,r,o,a,s,l,h){var c=this;n.prototype.renderInner.call(this,e,r,o,a,s,l,h);var d=this._controllerGroup,p=r.get("pageIconSize",!0),m=ne(p)?p:[p,p];_("pagePrev",0);var y=r.getModel("pageTextStyle");function _(x,b){var S=x+"DataIndex",C=Ul(r.get("pageIcons",!0)[r.getOrient().name][b],{onclick:De(c._pageGo,c,S,r,a)},{x:-m[0]/2,y:-m[1]/2,width:m[0],height:m[1]});C.name=x,d.add(C)}d.add(new Ci({name:"pageText",style:{text:"xx/xx",fill:y.getTextColor(),font:y.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),_("pageNext",1)},i.prototype.layoutInner=function(e,r,o,a,s,l){var h=this.getSelectorGroup(),c=e.getOrient().index,d=e_[c],p=t_[c],m=e_[1-c],y=t_[1-c];s&&Hs("horizontal",h,e.get("selectorItemGap",!0));var _=e.get("selectorButtonGap",!0),x=h.getBoundingRect(),b=[-x.x,-x.y],S=H(o);s&&(S[d]=o[d]-x[d]-_);var C=this._layoutContentAndController(e,a,S,c,d,m,y,p);if(s){if("end"===l)b[c]+=C[d]+_;else{var I=x[d]+_;b[c]-=I,C[p]-=I}C[d]+=x[d]+_,b[1-c]+=C[y]+C[m]/2-x[m]/2,C[m]=Math.max(C[m],x[m]),C[y]=Math.min(C[y],x[y]+b[1-c]),h.x=b[0],h.y=b[1],h.markRedraw()}return C},i.prototype._layoutContentAndController=function(e,r,o,a,s,l,h,c){var d=this.getContentGroup(),p=this._containerGroup,m=this._controllerGroup;Hs(e.get("orient"),d,e.get("itemGap"),a?o.width:null,a?null:o.height),Hs("horizontal",m,e.get("pageButtonItemGap",!0));var y=d.getBoundingRect(),_=m.getBoundingRect(),x=this._showController=y[s]>o[s],b=[-y.x,-y.y];r||(b[a]=d[c]);var S=[0,0],C=[-_.x,-_.y],I=nt(e.get("pageButtonGap",!0),e.get("itemGap",!0));x&&("end"===e.get("pageButtonPosition",!0)?C[a]+=o[s]-_[s]:S[a]+=_[s]+I),C[1-a]+=y[l]/2-_[l]/2,d.setPosition(b),p.setPosition(S),m.setPosition(C);var A={x:0,y:0};if(A[s]=x?o[s]:y[s],A[l]=Math.max(y[l],_[l]),A[h]=Math.min(0,_[h]+C[1-a]),p.__rectSize=o[s],x){var P={x:0,y:0};P[s]=Math.max(o[s]-_[s]-I,0),P[l]=A[l],p.setClipPath(new Si({shape:P})),p.__rectSize=P[s]}else m.eachChild(function(E){E.attr({invisible:!0,silent:!0})});var O=this._getPageInfo(e);return null!=O.pageIndex&&Ii(d,{x:O.contentPosition[0],y:O.contentPosition[1]},x?e:null),this._updatePageInfoView(e,O),A},i.prototype._pageGo=function(e,r,o){var a=this._getPageInfo(r)[e];null!=a&&o.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},i.prototype._updatePageInfoView=function(e,r){var o=this._controllerGroup;F(["pagePrev","pageNext"],function(d){var p=null!=r[d+"DataIndex"],m=o.childOfName(d);m&&(m.setStyle("fill",e.get(p?"pageIconColor":"pageIconInactiveColor",!0)),m.cursor=p?"pointer":"default")});var a=o.childOfName("pageText"),s=e.get("pageFormatter"),l=r.pageIndex,h=null!=l?l+1:0,c=r.pageCount;a&&s&&a.setStyle("text",J(s)?s.replace("{current}",null==h?"":h+"").replace("{total}",null==c?"":c+""):s({current:h,total:c}))},i.prototype._getPageInfo=function(e){var r=e.get("scrollDataIndex",!0),o=this.getContentGroup(),a=this._containerGroup.__rectSize,s=e.getOrient().index,l=e_[s],h=t_[s],c=this._findTargetItemIndex(r),d=o.children(),p=d[c],m=d.length,y=m?1:0,_={contentPosition:[o.x,o.y],pageCount:y,pageIndex:y-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!p)return _;var x=A(p);_.contentPosition[s]=-x.s;for(var b=c+1,S=x,C=x,I=null;b<=m;++b)(!(I=A(d[b]))&&C.e>S.s+a||I&&!P(I,S.s))&&(S=C.i>S.i?C:I)&&(null==_.pageNextDataIndex&&(_.pageNextDataIndex=S.i),++_.pageCount),C=I;for(b=c-1,S=x,C=x,I=null;b>=-1;--b)(I=A(d[b]))&&P(C,I.s)||!(S.i<C.i)||(C=S,null==_.pagePrevDataIndex&&(_.pagePrevDataIndex=S.i),++_.pageCount,++_.pageIndex),S=I;return _;function A(O){if(O){var E=O.getBoundingRect(),z=E[h]+O[h];return{s:z,e:z+E[l],i:O.__legendDataIndex}}}function P(O,E){return O.e>=E&&O.s<=E+a}},i.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(a,s){var l=a.__legendDataIndex;null==o&&null!=l&&(o=s),l===e&&(r=s)}),null!=r?r:o):0;var r,o},i.type="legend.scroll",i}(BD);function Vj(n){fi(VD),n.registerComponentModel(jj),n.registerComponentView(Hj),function(i){i.registerAction("legendScroll","legendscroll",function(e,r){var o=e.scrollDataIndex;null!=o&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(o)})})}(n)}var Fj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="dataZoom.inside",i.defaultOption=Va(Tc.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),i}(Tc),i_=Mi();function Wj(n,i,e){i_(n).coordSysRecordMap.each(function(r){var o=r.dataZoomInfoMap.get(i.uid);o&&(o.getRange=e)})}function GD(n,i){if(i){n.removeKey(i.model.uid);var e=i.controller;e&&e.dispose()}}function Gj(n,i){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:i})}function Yj(n,i,e,r){return n.coordinateSystem.containPoint([e,r])}var Uj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Le(i,n),i.prototype.render=function(e,r,o){n.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),Wj(o,e,{pan:De(n_.pan,this),zoom:De(n_.zoom,this),scrollMove:De(n_.scrollMove,this)}))},i.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},i.prototype._clear=function(){(function(e,r){for(var o=i_(e).coordSysRecordMap,a=o.keys(),s=0;s<a.length;s++){var h=o.get(a[s]),c=h.dataZoomInfoMap;if(c){var d=r.uid;c.get(d)&&(c.removeKey(d),c.keys().length||GD(o,h))}}})(this.api,this.dataZoomModel),this.range=null},i.type="dataZoom.inside",i}(M0),n_={zoom:function(n,i,e,r){var o=this.range,a=o.slice(),s=n.axisModels[0];if(s){var l=r_[i](null,[r.originX,r.originY],s,e,n),h=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/r.scale,0);a[0]=(a[0]-h)*c+h,a[1]=(a[1]-h)*c+h;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return ll(0,a,[0,100],0,d.minSpan,d.maxSpan),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:YD(function(n,i,e,r,o,a){var s=r_[r]([a.oldX,a.oldY],[a.newX,a.newY],i,o,e);return s.signal*(n[1]-n[0])*s.pixel/s.pixelLength}),scrollMove:YD(function(n,i,e,r,o,a){return r_[r]([0,0],[a.scrollDelta,a.scrollDelta],i,o,e).signal*(n[1]-n[0])*a.scrollDelta})};function YD(n){return function(i,e,r,o){var a=this.range,s=a.slice(),l=i.axisModels[0];if(l)return ll(n(s,l,i,e,r,o),s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}var r_={grid:function(n,i,e,r,o){var a=e.axis,s={},l=o.model.coordinateSystem.getRect();return n=n||[0,0],"x"===a.dim?(s.pixel=i[0]-n[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=a.inverse?1:-1):(s.pixel=i[1]-n[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=a.inverse?-1:1),s},polar:function(n,i,e,r,o){var a=e.axis,s={},l=o.model.coordinateSystem,h=l.getRadiusAxis().getExtent(),c=l.getAngleAxis().getExtent();return n=n?l.pointToCoord(n):[0,0],i=l.pointToCoord(i),"radiusAxis"===e.mainType?(s.pixel=i[0]-n[0],s.pixelLength=h[1]-h[0],s.pixelStart=h[0],s.signal=a.inverse?1:-1):(s.pixel=i[1]-n[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=a.inverse?-1:1),s},singleAxis:function(n,i,e,r,o){var a=e.axis,s=o.model.coordinateSystem.getRect(),l={};return n=n||[0,0],"horizontal"===a.orient?(l.pixel=i[0]-n[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=a.inverse?1:-1):(l.pixel=i[1]-n[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=a.inverse?-1:1),l}};function $D(n){I0(n),n.registerComponentModel(Fj),n.registerComponentView(Uj),function $j(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(i,e){var r=i_(e),o=r.coordSysRecordMap||(r.coordSysRecordMap=xe());o.each(function(a){a.dataZoomInfoMap=null}),i.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){F(VI(a).infoList,function(s){var c,d,p,m,l=s.model.uid,h=o.get(l)||o.set(l,(c=e,p={model:d=s.model,containsPoint:Q(Yj,d),dispatchAction:Q(Gj,c),dataZoomInfoMap:null,controller:null},m=p.controller=new uc(c.getZr()),F(["pan","zoom","scrollMove"],function(y){m.on(y,function(_){var x=[];p.dataZoomInfoMap.each(function(b){if(_.isAvailableBehavior(b.model.option)){var S=(b.getRange||{})[y],C=S&&S(b.dzReferCoordSysInfo,p.model.mainType,p.controller,_);!b.model.get("disabled",!0)&&C&&x.push({dataZoomId:b.model.id,start:C[0],end:C[1]})}}),x.length&&p.dispatchAction(x)})}),p));(h.dataZoomInfoMap||(h.dataZoomInfoMap=xe())).set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),o.each(function(a){var s,m,y,_,x,l=a.controller,h=a.dataZoomInfoMap;if(h){var c=h.keys()[0];null!=c&&(s=h.get(c))}if(s){var d=(y="type_",_={type_true:2,type_move:1,type_false:0,type_undefined:-1},x=!0,h.each(function(b){var S=b.model,C=!S.get("disabled",!0)&&(!S.get("zoomLock",!0)||"move");_[y+C]>_[y+m]&&(m=C),x=x&&S.get("preventDefaultMouseMove",!0)}),{controlType:m,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!x}});l.enable(d.controlType,d.opt),l.setPointerChecker(a.containsPoint),lh(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")}else GD(o,a)})})}(n)}var qj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.type="dataZoom.slider",i.layoutMode="box",i.defaultOption=Va(Tc.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),i}(Tc),Oc=Si,Ec="horizontal",UD="vertical",Xj=["line","bar","candlestick","scatter"],Kj={easing:"cubicOut",duration:100,delay:0},Zj=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e._displayables={},e}return Le(i,n),i.prototype.init=function(e,r){this.api=r,this._onBrush=De(this._onBrush,this),this._onBrushEnd=De(this._onBrushEnd,this)},i.prototype.render=function(e,r,o,a){if(n.prototype.render.apply(this,arguments),lh(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},i.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},i.prototype._clear=function(){Nu(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},i.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new ti;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(r),this._positionGroup()},i.prototype._resetLocation=function(){var e=this.dataZoomModel,r=this.api,o=e.get("brushSelect")?7:0,a=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===Ec?{right:s.width-a.x-a.width,top:s.height-30-7-o,width:a.width,height:30}:{right:7,top:a.y,width:30,height:a.height},h=Jl(e.option);F(["right","top","width","height"],function(d){"ph"===h[d]&&(h[d]=l[d])});var c=Tn(h,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===UD&&this._size.reverse()},i.prototype._positionGroup=function(){var e=this.group,r=this._location,o=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),l=this._displayables.sliderGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(o!==Ec||s?o===Ec&&s?{scaleY:h?1:-1,scaleX:-1}:o!==UD||s?{scaleY:h?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:h?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:h?1:-1,scaleX:1});var c=e.getBoundingRect([l]);e.x=r.x-c.x,e.y=r.y-c.y,e.markRedraw()},i.prototype._getViewExtent=function(){return[0,this._size[0]]},i.prototype._renderBackground=function(){var e=this.dataZoomModel,r=this._size,o=this._displayables.sliderGroup,a=e.get("brushSelect");o.add(new Oc({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var s=new Oc({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:De(this._onClickPanel,this)}),l=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",l.on("mousemove",this._onBrush),l.on("mouseup",this._onBrushEnd)):(l.off("mousemove",this._onBrush),l.off("mouseup",this._onBrushEnd)),o.add(s)},i.prototype._renderDataShadow=function(){var G,Y,X,te,e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var r=this._size,o=this._shadowSize||[],a=e.series,s=a.getRawData(),l=a.getShadowDim&&a.getShadowDim(),h=l&&s.getDimensionInfo(l)?a.getShadowDim():e.otherDim;if(null!=h){var c=this._shadowPolygonPts,d=this._shadowPolylinePts;if(s!==this._shadowData||h!==this._shadowDim||r[0]!==o[0]||r[1]!==o[1]){var p=s.getDataExtent(h),m=.3*(p[1]-p[0]);p=[p[0]-m,p[1]+m];var y,_=[0,r[1]],b=[[r[0],0],[0,0]],S=[],C=r[0]/(s.count()-1),I=0,A=Math.round(s.count()/r[0]);s.each([h],function(V,G){if(A>0&&G%A)I+=C;else{var Y=null==V||isNaN(V)||""===V,X=Y?0:Bi(V,p,_,!0);Y&&!y&&G?(b.push([b[b.length-1][0],0]),S.push([S[S.length-1][0],0])):!Y&&y&&(b.push([I,0]),S.push([I,0])),b.push([I,X]),S.push([I,X]),I+=C,y=Y}}),c=this._shadowPolygonPts=b,d=this._shadowPolylinePts=S}this._shadowData=s,this._shadowDim=h,this._shadowSize=[r[0],r[1]];for(var P=this.dataZoomModel,O=0;O<3;O++){var E=(G=void 0,Y=void 0,void 0,void 0,G=P.getModel(1===O?"selectedDataBackground":"dataBackground"),Y=new ti,X=new nr({shape:{points:c},segmentIgnoreThreshold:1,style:G.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),te=new rr({shape:{points:d},segmentIgnoreThreshold:1,style:G.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),Y.add(X),Y.add(te),Y);this._displayables.sliderGroup.add(E),this._displayables.dataShadowSegs.push(E)}}}},i.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,r=e.get("showDataShadow");if(!1!==r){var o,a=this.ecModel;return e.eachTargetAxis(function(s,l){F(e.getAxisProxy(s,l).getTargetSeriesModels(),function(h){if(!(o||!0!==r&&ve(Xj,h.get("type"))<0)){var c,d=a.getComponent(ns(s),l).axis,p={x:"y",y:"x",radius:"angle",angle:"radius"}[s],m=h.coordinateSystem;null!=p&&m.getOtherAxis&&(c=m.getOtherAxis(d).inverse),p=h.getData().mapDimension(p),o={thisAxis:d,series:h,thisDim:s,otherDim:p,otherAxisInverse:c}}},this)},this),o}},i.prototype._renderHandle=function(){var e=this.group,r=this._displayables,o=r.handles=[null,null],a=r.handleLabels=[null,null],s=this._displayables.sliderGroup,l=this._size,h=this.dataZoomModel,c=this.api,d=h.get("borderRadius")||0,p=h.get("brushSelect"),m=r.filler=new Oc({silent:p,style:{fill:h.get("fillerColor")},textConfig:{position:"inside"}});s.add(m),s.add(new Oc({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:d},style:{stroke:h.get("dataBackgroundColor")||h.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),F([0,1],function(I){var A=h.get("handleIcon");!$d[A]&&A.indexOf("path://")<0&&A.indexOf("image://")<0&&(A="path://"+A);var P=vn(A,-1,0,2,2,null,!0);P.attr({cursor:qD(this._orient),draggable:!0,drift:De(this._onDragMove,this,I),ondragend:De(this._onDragEnd,this),onmouseover:De(this._showDataInfo,this,!0),onmouseout:De(this._showDataInfo,this,!1),z2:5});var O=P.getBoundingRect(),E=h.get("handleSize");this._handleHeight=Bt(E,this._size[1]),this._handleWidth=O.width/O.height*this._handleHeight,P.setStyle(h.getModel("handleStyle").getItemStyle()),P.style.strokeNoScale=!0,P.rectHover=!0,P.ensureState("emphasis").style=h.getModel(["emphasis","handleStyle"]).getItemStyle(),za(P);var z=h.get("handleColor");null!=z&&(P.style.fill=z),s.add(o[I]=P);var V=h.getModel("textStyle");e.add(a[I]=new Ci({silent:!0,invisible:!0,style:Xi(V,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:V.getTextColor(),font:V.getFont()}),z2:10}))},this);var y=m;if(p){var _=Bt(h.get("moveHandleSize"),l[1]),x=r.moveHandle=new Si({style:h.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:_}}),b=.8*_,S=r.moveHandleIcon=vn(h.get("moveHandleIcon"),-b/2,-b/2,b,b,"#fff",!0);S.silent=!0,S.y=l[1]+_/2-.5,x.ensureState("emphasis").style=h.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var C=Math.min(l[1]/2,Math.max(_,10));(y=r.moveZone=new Si({invisible:!0,shape:{y:l[1]-C,height:_+C}})).on("mouseover",function(){c.enterEmphasis(x)}).on("mouseout",function(){c.leaveEmphasis(x)}),s.add(x),s.add(S),s.add(y)}y.attr({draggable:!0,cursor:qD(this._orient),drift:De(this._onDragMove,this,"all"),ondragstart:De(this._showDataInfo,this,!0),ondragend:De(this._onDragEnd,this),onmouseover:De(this._showDataInfo,this,!0),onmouseout:De(this._showDataInfo,this,!1)})},i.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Bi(e[0],[0,100],r,!0),Bi(e[1],[0,100],r,!0)]},i.prototype._updateInterval=function(e,r){var o=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),l=o.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];ll(r,a,s,o.get("zoomLock")?"all":e,null!=l.minSpan?Bi(l.minSpan,h,s,!0):null,null!=l.maxSpan?Bi(l.maxSpan,h,s,!0):null);var c=this._range,d=this._range=zr([Bi(a[0],s,h,!0),Bi(a[1],s,h,!0)]);return!c||c[0]!==d[0]||c[1]!==d[1]},i.prototype._updateView=function(e){var r=this._displayables,o=this._handleEnds,a=zr(o.slice()),s=this._size;F([0,1],function(y){var x=this._handleHeight;r.handles[y].attr({scaleX:x/2,scaleY:x/2,x:o[y]+(y?-1:1),y:s[1]/2-x/2})},this),r.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var l={x:a[0],width:a[1]-a[0]};r.moveHandle&&(r.moveHandle.setShape(l),r.moveZone.setShape(l),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",l.x+l.width/2));for(var h=r.dataShadowSegs,c=[0,a[0],a[1],s[0]],d=0;d<h.length;d++){var p=h[d],m=p.getClipPath();m||(m=new Si,p.setClipPath(m)),m.setShape({x:c[d],y:0,width:c[d+1]-c[d],height:s[1]})}this._updateDataInfo(e)},i.prototype._updateDataInfo=function(e){var r=this.dataZoomModel,o=this._displayables,a=o.handleLabels,s=this._orient,l=["",""];if(r.get("showDetail")){var h=r.findRepresentativeAxisProxy();if(h){var c=h.getAxisModel().axis,d=this._range,p=e?h.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:h.getDataValueWindow();l=[this._formatLabel(p[0],c),this._formatLabel(p[1],c)]}}var m=zr(this._handleEnds.slice());function y(_){var x=ja(o.handles[_].parent,this.group),b=xd(0===_?"right":"left",x),S=this._handleWidth/2+5,C=mo([m[_]+(0===_?-S:S),this._size[1]/2],x);a[_].setStyle({x:C[0],y:C[1],verticalAlign:s===Ec?"middle":b,align:s===Ec?b:"center",text:l[_]})}y.call(this,0),y.call(this,1)},i.prototype._formatLabel=function(e,r){var o=this.dataZoomModel,a=o.get("labelFormatter"),s=o.get("labelPrecision");null!=s&&"auto"!==s||(s=r.getPixelPrecision());var l=null==e||isNaN(e)?"":"category"===r.type||"time"===r.type?r.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(s,20));return ee(a)?a(e,l):J(a)?a.replace("{value}",l):l},i.prototype._showDataInfo=function(e){var r=this._displayables,o=r.handleLabels;o[0].attr("invisible",!(e=this._dragging||e)),o[1].attr("invisible",!e),r.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},i.prototype._onDragMove=function(e,r,o,a){this._dragging=!0,ur(a.event);var s=mo([r,o],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(e,s[0]),h=this.dataZoomModel.get("realtime");this._updateView(!h),l&&h&&this._dispatchZoomAction(!0)},i.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},i.prototype._onClickPanel=function(e){var r=this._size,o=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(o[0]<0||o[0]>r[0]||o[1]<0||o[1]>r[1])){var a=this._handleEnds,l=this._updateInterval("all",o[0]-(a[0]+a[1])/2);this._updateView(),l&&this._dispatchZoomAction(!1)}},i.prototype._onBrushStart=function(e){this._brushStart=new li(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},i.prototype._onBrushEnd=function(e){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,r){r.attr("ignore",!0);var o=r.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(o.width)<5)){var a=this._getViewExtent(),s=[0,100];this._range=zr([Bi(o.x,a,s,!0),Bi(o.x+o.width,a,s,!0)]),this._handleEnds=[o.x,o.x+o.width],this._updateView(),this._dispatchZoomAction(!1)}}}},i.prototype._onBrush=function(e){this._brushing&&(ur(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},i.prototype._updateBrushRect=function(e,r){var o=this._displayables,s=o.brushRect;s||(s=o.brushRect=new Oc({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),o.sliderGroup.add(s)),s.attr("ignore",!1);var l=this._brushStart,h=this._displayables.sliderGroup,c=h.transformCoordToLocal(e,r),d=h.transformCoordToLocal(l.x,l.y),p=this._size;c[0]=Math.max(Math.min(p[0],c[0]),0),s.setShape({x:d[0],y:0,width:c[0]-d[0],height:p[1]})},i.prototype._dispatchZoomAction=function(e){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?Kj:null,start:r[0],end:r[1]})},i.prototype._findCoordRect=function(){var e,r=VI(this.dataZoomModel).infoList;if(!e&&r.length){var o=r[0].model.coordinateSystem;e=o.getRect&&o.getRect()}if(!e){var a=this.api.getWidth(),s=this.api.getHeight();e={x:.2*a,y:.2*s,width:.6*a,height:.6*s}}return e},i.type="dataZoom.slider",i}(M0);function qD(n){return"vertical"===n?"ns-resize":"ew-resize"}function XD(n){n.registerComponentModel(qj),n.registerComponentView(Zj),I0(n)}var KD=function(n,i,e){var r=H((Qj[n]||{})[i]);return e&&ne(r)?r[r.length-1]:r},Qj={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},ZD=Hn.mapVisual,Jj=Hn.eachVisual,eH=ne,QD=F,tH=zr,iH=Bi,xf=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return Le(i,n),i.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o)},i.prototype.optionUpdated=function(e,r){!r&&vD(this.option,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},i.prototype.resetVisual=function(e){var r=this.stateList;e=De(e,this),this.controllerVisuals=j0(this.option.controller,r,e),this.targetVisuals=j0(this.option.target,r,e)},i.prototype.getItemSymbol=function(){return null},i.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,r=[];return null==e||"all"===e?this.ecModel.eachSeries(function(o,a){r.push(a)}):r=Gi(e),r},i.prototype.eachTargetSeries=function(e,r){F(this.getTargetSeriesIndices(),function(o){var a=this.ecModel.getSeriesByIndex(o);a&&e.call(r,a)},this)},i.prototype.isTargetSeries=function(e){var r=!1;return this.eachTargetSeries(function(o){o===e&&(r=!0)}),r},i.prototype.formatValueText=function(e,r,o){var a,s=this.option,l=s.precision,h=this.dataBound,c=s.formatter;o=o||["<",">"],ne(e)&&(e=e.slice(),a=!0);var d=r?e:a?[p(e[0]),p(e[1])]:p(e);return J(c)?c.replace("{value}",a?d[0]:d).replace("{value2}",a?d[1]:d):ee(c)?a?c(e[0],e[1]):c(e):a?e[0]===h[0]?o[0]+" "+d[1]:e[1]===h[1]?o[1]+" "+d[0]:d[0]+" - "+d[1]:d;function p(m){return m===h[0]?"min":m===h[1]?"max":(+m).toFixed(Math.min(l,20))}},i.prototype.resetExtent=function(){var e=this.option,r=tH([e.min,e.max]);this._dataExtent=r},i.prototype.getDataDimensionIndex=function(e){var r=this.option.dimension;if(null!=r)return e.getDimensionIndex(r);for(var o=e.dimensions,a=o.length-1;a>=0;a--){var l=e.getDimensionInfo(o[a]);if(!l.isCalculationCoord)return l.storeDimIndex}},i.prototype.getExtent=function(){return this._dataExtent.slice()},i.prototype.completeVisualOption=function(){var e=this.ecModel,r=this.option,o={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),s=r.controller||(r.controller={});q(a,o),q(s,o);var l=this.isCategory();function h(c){eH(r.color)&&!c.inRange&&(c.inRange={color:r.color.slice().reverse()}),c.inRange=c.inRange||{color:e.get("gradientColor")}}h.call(this,a),h.call(this,s),function(c,d,p){var m=c[d],y=c[p];m&&!y&&(y=c[p]={},QD(m,function(_,x){if(Hn.isValidType(x)){var b=KD(x,"inactive",l);null!=b&&(y[x]=b,"color"!==x||y.hasOwnProperty("opacity")||y.hasOwnProperty("colorAlpha")||(y.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function(c){var d=(c.inRange||{}).symbol||(c.outOfRange||{}).symbol,p=(c.inRange||{}).symbolSize||(c.outOfRange||{}).symbolSize,m=this.get("inactiveColor"),y=this.getItemSymbol()||"roundRect";QD(this.stateList,function(_){var x=this.itemSize,b=c[_];b||(b=c[_]={color:l?m:[m]}),null==b.symbol&&(b.symbol=d&&H(d)||(l?y:[y])),null==b.symbolSize&&(b.symbolSize=p&&H(p)||(l?x[0]:[x[0],x[0]])),b.symbol=ZD(b.symbol,function(I){return"none"===I?y:I});var S=b.symbolSize;if(null!=S){var C=-1/0;Jj(S,function(I){I>C&&(C=I)}),b.symbolSize=ZD(S,function(I){return iH(I,[0,C],[0,x[0]],!0)})}},this)}.call(this,s)},i.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},i.prototype.isCategory=function(){return!!this.option.categories},i.prototype.setSelected=function(e){},i.prototype.getSelected=function(){return null},i.prototype.getValueState=function(e){return null},i.prototype.getVisualMeta=function(e){return null},i.type="visualMap",i.dependencies=["series"],i.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},i}(_i),JD=[20,140],nH=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(o){o.mappingMethod="linear",o.dataExtent=this.getExtent()}),this._resetRange()},i.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=JD[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=JD[1])},i.prototype._resetRange=function(){var e=this.getExtent(),r=this.option.range;!r||r.auto?(e.auto=1,this.option.range=e):ne(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],e[0]),r[1]=Math.min(r[1],e[1]))},i.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),F(this.stateList,function(e){var r=this.option.controller[e].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},i.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},i.prototype.getSelected=function(){var e=this.getExtent(),r=zr((this.get("range")||[]).slice());return r[0]>e[1]&&(r[0]=e[1]),r[1]>e[1]&&(r[1]=e[1]),r[0]<e[0]&&(r[0]=e[0]),r[1]<e[0]&&(r[1]=e[0]),r},i.prototype.getValueState=function(e){var r=this.option.range,o=this.getExtent();return(r[0]<=o[0]||r[0]<=e)&&(r[1]>=o[1]||e<=r[1])?"inRange":"outOfRange"},i.prototype.findTargetDataIndices=function(e){var r=[];return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,h){e[0]<=l&&l<=e[1]&&a.push(h)},this),r.push({seriesId:o.id,dataIndex:a})},this),r},i.prototype.getVisualMeta=function(e){var r=eA(0,0,this.getExtent()),o=eA(0,0,this.option.range.slice()),a=[];function s(y,_){a.push({value:y,color:e(y,_)})}for(var l=0,h=0,c=o.length,d=r.length;h<d&&(!o.length||r[h]<=o[0]);h++)r[h]<o[l]&&s(r[h],"outOfRange");for(var p=1;l<c;l++,p=0)p&&a.length&&s(o[l],"outOfRange"),s(o[l],"inRange");for(p=1;h<d;h++)(!o.length||o[o.length-1]<r[h])&&(p&&(a.length&&s(a[a.length-1].value,"outOfRange"),p=0),s(r[h],"outOfRange"));var m=a.length;return{stops:a,outerColors:[m?a[0].color:"transparent",m?a[m-1].color:"transparent"]}},i.type="visualMap.continuous",i.defaultOption=Va(xf.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),i}(xf);function eA(n,i,e){if(e[0]===e[1])return e.slice();for(var r=(e[1]-e[0])/200,o=e[0],a=[],s=0;s<=200&&o<e[1];s++)a.push(o),o+=r;return a.push(e[1]),a}var tA=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return Le(i,n),i.prototype.init=function(e,r){this.ecModel=e,this.api=r},i.prototype.render=function(e,r,o,a){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,r,o,a):this.group.removeAll()},i.prototype.renderBackground=function(e){var r=this.visualMapModel,o=zs(r.get("padding")||0),a=e.getBoundingRect();e.add(new Si({z2:-1,silent:!0,shape:{x:a.x-o[3],y:a.y-o[0],width:a.width+o[3]+o[1],height:a.height+o[0]+o[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},i.prototype.getControllerVisual=function(e,r,o){var a=(o=o||{}).forceState,s=this.visualMapModel,l={};if("color"===r){var h=s.get("contentColor");l.color=h}function c(m){return l[m]}function d(m,y){l[m]=y}var p=s.controllerVisuals[a||s.getValueState(e)];return F(Hn.prepareVisualTypes(p),function(m){var y=p[m];o.convertOpacityToAlpha&&"opacity"===m&&(m="colorAlpha",y=p.__alphaForOpacity),Hn.dependsOn(m,r)&&y&&y.applyVisual(e,c,d)}),l[r]},i.prototype.positionGroup=function(e){var o=this.api;Od(e,this.visualMapModel.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})},i.prototype.doRender=function(e,r,o,a){},i.type="visualMap",i}(Qi),iA=[["left","right","width"],["top","bottom","height"]];function nA(n,i,e){var r=n.option,o=r.align;if(null!=o&&"auto"!==o)return o;for(var a={width:i.getWidth(),height:i.getHeight()},s="horizontal"===r.orient?1:0,l=iA[s],h=[0,null,10],c={},d=0;d<3;d++)c[iA[1-s][d]]=h[d],c[l[d]]=2===d?e[0]:r[l[d]];var p=[["x","width",3],["y","height",0]][s],m=Tn(c,a,r.padding);return l[(m.margin[p[2]]||0)+m[p[0]]+.5*m[p[1]]<.5*a[p[1]]?0:1]}function bf(n,i){return F(n||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(i?i.componentIndex:"")}),n}var Yo=Bi,rH=F,rA=Math.min,o_=Math.max,oH=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return Le(i,n),i.prototype.doRender=function(e,r,o,a){this._api=o,a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},i.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,r=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(r);var o=e.get("text");this._renderEndsText(r,o,0),this._renderEndsText(r,o,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},i.prototype._renderEndsText=function(e,r,o){if(r){var a=r[1-o];a=null!=a?a+"":"";var s=this.visualMapModel,l=s.get("textGap"),h=s.itemSize,c=this._shapes.mainGroup,d=this._applyTransform([h[0]/2,0===o?-l:h[1]+l],c),p=this._applyTransform(0===o?"bottom":"top",c),m=this._orient;this.group.add(new Ci({style:Xi(this.visualMapModel.textStyleModel,{x:d[0],y:d[1],verticalAlign:"horizontal"===m?"middle":p,align:"horizontal"===m?p:"center",text:a})}))}},i.prototype._renderBar=function(e){var r=this.visualMapModel,o=this._shapes,a=r.itemSize,s=this._orient,l=this._useHandle,h=nA(r,this.api,a),c=o.mainGroup=this._createBarGroup(h),d=new ti;c.add(d),d.add(o.outOfRange=oA()),d.add(o.inRange=oA(null,l?sA(this._orient):null,De(this._dragHandle,this,"all",!1),De(this._dragHandle,this,"all",!0))),d.setClipPath(new Si({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var p=r.textStyleModel.getTextRect("\u56fd"),m=o_(p.width,p.height);l&&(o.handleThumbs=[],o.handleLabels=[],o.handleLabelPoints=[],this._createHandle(r,c,0,a,m,s),this._createHandle(r,c,1,a,m,s)),this._createIndicator(r,c,a,m,s),e.add(c)},i.prototype._createHandle=function(e,r,o,a,s,l){var h=De(this._dragHandle,this,o,!1),c=De(this._dragHandle,this,o,!0),d=uo(e.get("handleSize"),a[0]),p=vn(e.get("handleIcon"),-d/2,-d/2,d,d,null,!0),m=sA(this._orient);p.attr({cursor:m,draggable:!0,drift:h,ondragend:c,onmousemove:function(S){ur(S.event)}}),p.x=a[0]/2,p.useStyle(e.getModel("handleStyle").getItemStyle()),p.setStyle({strokeNoScale:!0,strokeFirst:!0}),p.style.lineWidth*=2,p.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Os(p,!0),r.add(p);var _=new Ci({cursor:m,draggable:!0,drift:h,onmousemove:function(S){ur(S.event)},ondragend:c,style:Xi(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});_.ensureState("blur").style={opacity:.1},_.stateTransition={duration:200},this.group.add(_);var x=[d,0],b=this._shapes;b.handleThumbs[o]=p,b.handleLabelPoints[o]=x,b.handleLabels[o]=_},i.prototype._createIndicator=function(e,r,o,a,s){var l=uo(e.get("indicatorSize"),o[0]),h=vn(e.get("indicatorIcon"),-l/2,-l/2,l,l,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:o[0]/2});var c=e.getModel("indicatorStyle").getItemStyle();if(h instanceof Rn){var d=h.style;h.useStyle(Z({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},c))}else h.useStyle(c);r.add(h);var m=new Ci({silent:!0,invisible:!0,style:Xi(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(m);var y=[("horizontal"===s?a/2:6)+o[0]/2,0],_=this._shapes;_.indicator=h,_.indicatorLabel=m,_.indicatorLabelPoint=y,this._firstShowIndicator=!0},i.prototype._dragHandle=function(e,r,o,a){if(this._useHandle){if(this._dragging=!r,!r){var s=this._applyTransform([o,a],this._shapes.mainGroup,!0);this._updateInterval(e,s[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():aA(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},i.prototype._resetInterval=function(){var e=this.visualMapModel,r=this._dataInterval=e.getSelected(),o=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[Yo(r[0],o,a,!0),Yo(r[1],o,a,!0)]},i.prototype._updateInterval=function(e,r){var o=this.visualMapModel,a=this._handleEnds,s=[0,o.itemSize[1]];ll(r=r||0,a,s,e,0);var l=o.getExtent();this._dataInterval=[Yo(a[0],s,l,!0),Yo(a[1],s,l,!0)]},i.prototype._updateView=function(e){var r=this.visualMapModel,o=r.getExtent(),a=this._shapes,s=[0,r.itemSize[1]],l=e?s:this._handleEnds,h=this._createBarVisual(this._dataInterval,o,l,"inRange"),c=this._createBarVisual(o,o,s,"outOfRange");a.inRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),a.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(l,h)},i.prototype._createBarVisual=function(e,r,o,a){var s={forceState:a,convertOpacityToAlpha:!0},l=this._makeColorGradient(e,s),h=[this.getControllerVisual(e[0],"symbolSize",s),this.getControllerVisual(e[1],"symbolSize",s)],c=this._createBarPoints(o,h);return{barColor:new Wl(0,0,0,1,l),barPoints:c,handlesColor:[l[0].color,l[l.length-1].color]}},i.prototype._makeColorGradient=function(e,r){var o=[],a=(e[1]-e[0])/100;o.push({color:this.getControllerVisual(e[0],"color",r),offset:0});for(var s=1;s<100;s++){var l=e[0]+a*s;if(l>e[1])break;o.push({color:this.getControllerVisual(l,"color",r),offset:s/100})}return o.push({color:this.getControllerVisual(e[1],"color",r),offset:1}),o},i.prototype._createBarPoints=function(e,r){var o=this.visualMapModel.itemSize;return[[o[0]-r[0],e[0]],[o[0],e[0]],[o[0],e[1]],[o[0]-r[1],e[1]]]},i.prototype._createBarGroup=function(e){var r=this._orient,o=this.visualMapModel.get("inverse");return new ti("horizontal"!==r||o?"horizontal"===r&&o?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==r||o?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},i.prototype._updateHandle=function(e,r){if(this._useHandle){var o=this._shapes,a=this.visualMapModel,s=o.handleThumbs,l=o.handleLabels,h=a.itemSize,c=a.getExtent();rH([0,1],function(d){var p=s[d];p.setStyle("fill",r.handlesColor[d]),p.y=e[d];var m=Yo(e[d],[0,h[1]],c,!0),y=this.getControllerVisual(m,"symbolSize");p.scaleX=p.scaleY=y/h[0],p.x=h[0]-y/2;var _=mo(o.handleLabelPoints[d],ja(p,this.group));l[d].setStyle({x:_[0],y:_[1],text:a.formatValueText(this._dataInterval[d]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",o.mainGroup):"center"})},this)}},i.prototype._showIndicator=function(e,r,o,a){var s=this.visualMapModel,l=s.getExtent(),h=s.itemSize,c=[0,h[1]],d=this._shapes,p=d.indicator;if(p){p.attr("invisible",!1);var m=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),y=this.getControllerVisual(e,"symbolSize"),_=Yo(e,l,c,!0),x=h[0]-y/2,b={x:p.x,y:p.y};p.y=_,p.x=x;var S=mo(d.indicatorLabelPoint,ja(p,this.group)),C=d.indicatorLabel;C.attr("invisible",!1);var I=this._applyTransform("left",d.mainGroup),A="horizontal"===this._orient;C.setStyle({text:(o||"")+s.formatValueText(r),verticalAlign:A?I:"middle",align:A?"center":I});var P={x,y:_,style:{fill:m}},O={style:{x:S[0],y:S[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var E={duration:100,easing:"cubicInOut",additive:!0};p.x=b.x,p.y=b.y,p.animateTo(P,E),C.animateTo(O,E)}else p.attr(P),C.attr(O);this._firstShowIndicator=!1;var z=this._shapes.handleLabels;if(z)for(var V=0;V<z.length;V++)this._api.enterBlur(z[V])}},i.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(r){if(e._hovering=!0,!e._dragging){var o=e.visualMapModel.itemSize,a=e._applyTransform([r.offsetX,r.offsetY],e._shapes.mainGroup,!0,!0);a[1]=rA(o_(0,a[1]),o[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=o[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},i.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},i.prototype._doHoverLinkToSeries=function(e,r){var b,S,C,I,o=this.visualMapModel;if(o.option.hoverLink){var s=[0,o.itemSize[1]],l=o.getExtent();e=rA(o_(s[0],e),s[1]);var h=(b=l,S=s,C=6,(I=o.get("hoverLinkDataSize"))&&(C=Yo(I,b,S,!0)/2),C),c=[e-h,e+h],d=Yo(e,s,l,!0),p=[Yo(c[0],s,l,!0),Yo(c[1],s,l,!0)];c[0]<s[0]&&(p[0]=-1/0),c[1]>s[1]&&(p[1]=1/0),r&&(p[0]===-1/0?this._showIndicator(d,p[1],"< ",h):p[1]===1/0?this._showIndicator(d,p[0],"> ",h):this._showIndicator(d,d,"\u2248 ",h));var m=this._hoverLinkDataIndices,y=[];(r||aA(o))&&(y=this._hoverLinkDataIndices=o.findTargetDataIndices(p));var _=function(x,b){var S={},C={};return I(x||[],S),I(b||[],C,S),[A(S),A(C)];function I(P,O,E){for(var z=0,V=P.length;z<V;z++){var G=On(P[z].seriesId,null);if(null==G)return;for(var Y=Gi(P[z].dataIndex),X=E&&E[G],te=0,ae=Y.length;te<ae;te++){var he=Y[te];X&&X[he]?X[he]=null:(O[G]||(O[G]={}))[he]=1}}}function A(P,O){var E=[];for(var z in P)if(P.hasOwnProperty(z)&&null!=P[z])if(O)E.push(+z);else{var V=A(P[z],!0);V.length&&E.push({seriesId:z,dataIndex:V})}return E}}(m,y);this._dispatchHighDown("downplay",bf(_[0],o)),this._dispatchHighDown("highlight",bf(_[1],o))}},i.prototype._hoverLinkFromSeriesMouseOver=function(e){var r;if(Vs(e.target,function(h){var c=oi(h);if(null!=c.dataIndex)return r=c,!0},!0),r){var o=this.ecModel.getSeriesByIndex(r.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(o)){var s=o.getData(r.dataType),l=s.getStore().get(a.getDataDimensionIndex(s),r.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},i.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var o=0;o<r.length;o++)this._api.leaveBlur(r[o])},i.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",bf(e,this.visualMapModel)),e.length=0},i.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},i.prototype._applyTransform=function(e,r,o,a){var s=ja(r,a?null:this.group);return ne(e)?mo(e,s,o):xd(e,s,o)},i.prototype._dispatchHighDown=function(e,r){r&&r.length&&this.api.dispatchAction({type:e,batch:r})},i.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},i.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},i.type="visualMap.continuous",i}(tA);function oA(n,i,e,r){return new nr({shape:{points:n},draggable:!!e,cursor:i,drift:e,onmousemove:function(o){ur(o.event)},ondragend:r})}function aA(n){var i=n.get("hoverLinkOnHandle");return!!(null==i?n.get("realtime"):i)}function sA(n){return"vertical"===n?"ns-resize":"ew-resize"}var aH={type:"selectDataRange",event:"dataRangeSelected",update:"update"},sH=function(n,i){i.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},lH=[{createOnAllSeries:!0,reset:function(n,i){var e=[];return i.eachComponent("visualMap",function(r){var o,a,s,l,h,c=n.pipelineContext;!r.isTargetSeries(n)||c&&c.large||e.push((o=r.stateList,a=r.targetVisuals,s=De(r.getValueState,r),l=r.getDataDimensionIndex(n.getData()),h={},F(o,function(d){var p=Hn.prepareVisualTypes(a[d]);h[d]=p}),{progress:function(d,p){var m,y;function _(V){return xm(p,y,V)}function x(V,G){Qb(p,y,V,G)}null!=l&&(m=p.getDimensionIndex(l));for(var b=p.getStore();null!=(y=d.next());){var S=p.getRawDataItem(y);if(!S||!1!==S.visualMap)for(var C=null!=l?b.get(m,y):y,I=s(C),A=a[I],P=h[I],O=0,E=P.length;O<E;O++){var z=P[O];A[z]&&A[z].applyVisual(C,_,x)}}}}))}),e}},{createOnAllSeries:!0,reset:function(n,i){var e=n.getData(),r=[];i.eachComponent("visualMap",function(o){if(o.isTargetSeries(n)){var a=o.getVisualMeta(De(hH,null,n,o))||{stops:[],outerColors:[]},s=o.getDataDimensionIndex(e);s>=0&&(a.dimension=s,r.push(a))}}),n.getData().setVisual("visualMeta",r)}}];function hH(n,i,e,r){for(var o=i.targetVisuals[r],a=Hn.prepareVisualTypes(o),s={color:Bu(n.getData(),"color")},l=0,h=a.length;l<h;l++){var c=a[l],d=o["opacity"===c?"__alphaForOpacity":c];d&&d.applyVisual(e,p,m)}return s.color;function p(y){return s[y]}function m(y,_){s[y]=_}}var lA=F;function uH(n){var i=n&&n.visualMap;ne(i)||(i=i?[i]:[]),lA(i,function(e){if(e){Oh(e,"splitList")&&!Oh(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var r=e.pieces;r&&ne(r)&&lA(r,function(o){Pe(o)&&(Oh(o,"start")&&!Oh(o,"min")&&(o.min=o.start),Oh(o,"end")&&!Oh(o,"max")&&(o.max=o.end))})}})}function Oh(n,i){return n&&n.hasOwnProperty&&n.hasOwnProperty(i)}var hA=!1;function uA(n){hA||(hA=!0,n.registerSubTypeDefaulter("visualMap",function(i){return i.categories||(i.pieces?i.pieces.length>0:i.splitNumber>0)&&!i.calculable?"piecewise":"continuous"}),n.registerAction(aH,sH),F(lH,function(i){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,i)}),n.registerPreprocessor(uH))}function cA(n){n.registerComponentModel(nH),n.registerComponentView(oH),uA(n)}var cH=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e._pieceList=[],e}return Le(i,n),i.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var o=this._mode=this._determineMode();this._pieceList=[],dH[this._mode].call(this,this._pieceList),this._resetSelected(e,r);var a=this.option.categories;this.resetVisual(function(s,l){"categories"===o?(s.mappingMethod="category",s.categories=H(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=Te(this._pieceList,function(h){return h=H(h),"inRange"!==l&&(h.visual=null),h}))})},i.prototype.completeVisualOption=function(){var e=this.option,r={},o=Hn.listVisualTypes(),a=this.isCategory();function s(l,h,c){return l&&l[h]&&l[h].hasOwnProperty(c)}F(e.pieces,function(l){F(o,function(h){l.hasOwnProperty(h)&&(r[h]=1)})}),F(r,function(l,h){var c=!1;F(this.stateList,function(d){c=c||s(e,d,h)||s(e.target,d,h)},this),!c&&F(this.stateList,function(d){(e[d]||(e[d]={}))[h]=KD(h,"inRange"===d?"active":"inactive",a)})},this),n.prototype.completeVisualOption.apply(this,arguments)},i.prototype._resetSelected=function(e,r){var o=this.option,a=this._pieceList,s=(r?o:e).selected||{};if(o.selected=s,F(a,function(h,c){var d=this.getSelectedMapKey(h);s.hasOwnProperty(d)||(s[d]=!0)},this),"single"===o.selectedMode){var l=!1;F(a,function(h,c){var d=this.getSelectedMapKey(h);s[d]&&(l?s[d]=!1:l=!0)},this)}},i.prototype.getItemSymbol=function(){return this.get("itemSymbol")},i.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},i.prototype.getPieceList=function(){return this._pieceList},i.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},i.prototype.setSelected=function(e){this.option.selected=H(e)},i.prototype.getValueState=function(e){var r=Hn.findPieceIndex(e,this._pieceList);return null!=r&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},i.prototype.findTargetDataIndices=function(e){var r=[],o=this._pieceList;return this.eachTargetSeries(function(a){var s=[],l=a.getData();l.each(this.getDataDimensionIndex(l),function(h,c){Hn.findPieceIndex(h,o)===e&&s.push(c)},this),r.push({seriesId:a.id,dataIndex:s})},this),r},i.prototype.getRepresentValue=function(e){var r;if(this.isCategory())r=e.value;else if(null!=e.value)r=e.value;else{var o=e.interval||[];r=o[0]===-1/0&&o[1]===1/0?0:(o[0]+o[1])/2}return r},i.prototype.getVisualMeta=function(e){if(!this.isCategory()){var r=[],o=["",""],a=this,s=this._pieceList.slice();if(s.length){var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),(l=s[s.length-1].interval[1])!==1/0&&s.push({interval:[l,1/0]})}else s.push({interval:[-1/0,1/0]});var h=-1/0;return F(s,function(d){var p=d.interval;p&&(p[0]>h&&c([h,p[0]],"outOfRange"),c(p.slice()),h=p[1])},this),{stops:r,outerColors:o}}function c(d,p){var m=a.getRepresentValue({interval:d});p||(p=a.getValueState(m));var y=e(m,p);d[0]===-1/0?o[0]=y:d[1]===1/0?o[1]=y:r.push({value:d[0],color:y},{value:d[1],color:y})}},i.type="visualMap.piecewise",i.defaultOption=Va(xf.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),i}(xf),dH={splitNumber:function(n){var i=this.option,e=Math.min(i.precision,20),r=this.getExtent(),o=i.splitNumber;o=Math.max(parseInt(o,10),1),i.splitNumber=o;for(var a=(r[1]-r[0])/o;+a.toFixed(e)!==a&&e<5;)e++;i.precision=e,a=+a.toFixed(e),i.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var s=0,l=r[0];s<o;l+=a,s++)n.push({interval:[l,s===o-1?r[1]:l+a],close:[1,1]});i.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),Yf(n),F(n,function(c,d){c.index=d,c.text=this.formatValueText(c.interval)},this)},categories:function(n){var i=this.option;F(i.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),dA(i,n)},pieces:function(n){var i=this.option;F(i.pieces,function(e,r){Pe(e)||(e={value:e});var o={text:"",index:r};if(null!=e.label&&(o.text=e.label),e.hasOwnProperty("value")){var a=o.value=e.value;o.interval=[a,a],o.close=[1,1]}else{for(var s=o.interval=[],l=o.close=[0,0],h=[1,0,1],c=[-1/0,1/0],d=[],p=0;p<2;p++){for(var m=[["gte","gt","min"],["lte","lt","max"]][p],y=0;y<3&&null==s[p];y++)s[p]=e[m[y]],l[p]=h[y],d[p]=2===y;null==s[p]&&(s[p]=c[p])}d[0]&&s[1]===1/0&&(l[0]=0),d[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(o.value=s[0])}o.visual=Hn.retrieveVisuals(e),n.push(o)},this),dA(i,n),Yf(n),F(n,function(e){var r=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][r[1]],[">","\u2265"][r[0]]])},this)}};function dA(n,i){var e=n.inverse;("vertical"===n.orient?!e:e)&&i.reverse()}var pH=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=i.type,e}return Le(i,n),i.prototype.doRender=function(){var e=this.group;e.removeAll();var r=this.visualMapModel,o=r.get("textGap"),a=r.textStyleModel,s=a.getFont(),l=a.getTextColor(),h=this._getItemAlign(),c=r.itemSize,d=this._getViewData(),p=d.endsText,m=Et(r.get("showLabel",!0),!p);p&&this._renderEndsText(e,p[0],c,m,h),F(d.viewPieceList,function(y){var _=y.piece,x=new ti;x.onclick=De(this._onItemClick,this,_),this._enableHoverLink(x,y.indexInModelPieceList);var b=r.getRepresentValue(_);if(this._createItemSymbol(x,b,[0,0,c[0],c[1]]),m){var S=this.visualMapModel.getValueState(b);x.add(new Ci({style:{x:"right"===h?-o:c[0]+o,y:c[1]/2,text:_.text,verticalAlign:"middle",align:h,font:s,fill:l,opacity:"outOfRange"===S?.5:1}}))}e.add(x)},this),p&&this._renderEndsText(e,p[1],c,m,h),Hs(r.get("orient"),e,r.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},i.prototype._enableHoverLink=function(e,r){var o=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var l=o.visualMapModel;l.option.hoverLink&&o.api.dispatchAction({type:s,batch:bf(l.findTargetDataIndices(r),l)})}},i.prototype._getItemAlign=function(){var e=this.visualMapModel,r=e.option;if("vertical"===r.orient)return nA(e,this.api,e.itemSize);var o=r.align;return o&&"auto"!==o||(o="left"),o},i.prototype._renderEndsText=function(e,r,o,a,s){if(r){var l=new ti;l.add(new Ci({style:Xi(this.visualMapModel.textStyleModel,{x:a?"right"===s?o[0]:0:o[0]/2,y:o[1]/2,verticalAlign:"middle",align:a?s:"center",text:r})})),e.add(l)}},i.prototype._getViewData=function(){var e=this.visualMapModel,r=Te(e.getPieceList(),function(l,h){return{piece:l,indexInModelPieceList:h}}),o=e.get("text"),a=e.get("orient"),s=e.get("inverse");return("horizontal"===a?s:!s)?r.reverse():o&&(o=o.slice().reverse()),{viewPieceList:r,endsText:o}},i.prototype._createItemSymbol=function(e,r,o){e.add(vn(this.getControllerVisual(r,"symbol"),o[0],o[1],o[2],o[3],this.getControllerVisual(r,"color")))},i.prototype._onItemClick=function(e){var r=this.visualMapModel,o=r.option,a=o.selectedMode;if(a){var s=H(o.selected),l=r.getSelectedMapKey(e);"single"===a||!0===a?(s[l]=!0,F(s,function(h,c){s[c]=c===l})):s[l]=!s[l],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},i.type="visualMap.piecewise",i}(tA);function pA(n){n.registerComponentModel(cH),n.registerComponentView(pH),uA(n)}var fH={label:{enabled:!0},decal:{show:!1}},fA=Mi(),gH={};function mH(n,i){var e=n.getModel("aria");if(e.get("enabled")){var r=H(fH);q(r.label,n.getLocaleModel().get("aria"),!1),q(e.option,r,!1),function(){if(e.getModel("decal").get("show")){var a=xe();n.eachSeries(function(s){if(!s.isColorBySeries()){var l=a.get(s.type);l||a.set(s.type,l={}),fA(s).scope=l}}),n.eachRawSeries(function(s){if(!n.isSeriesFiltered(s))if(ee(s.enableAriaDecal))s.enableAriaDecal();else{var l=s.getData();if(s.isColorBySeries()){var h=tm(s.ecModel,s.name,gH,n.getSeriesCount()),c=l.getVisual("decal");l.setVisual("decal",_(c,h))}else{var d=s.getRawData(),p={},m=fA(s).scope;l.each(function(x){var b=l.getRawIndex(x);p[b]=x});var y=d.count();d.each(function(x){var b=p[x],S=d.getName(x)||x+"",C=tm(s.ecModel,S,m,y),I=l.getItemVisual(b,"decal");l.setItemVisual(b,"decal",_(I,C))})}}function _(x,b){var S=x?Z(Z({},b),x):b;return S.dirty=!0,S}})}}(),function(){var C,a=n.getLocaleModel().get("aria"),s=e.getModel("label");if(s.option=de(s.option,a),s.get("enabled")){var l=i.getZr().dom;if(s.get("description"))return void l.setAttribute("aria-label",s.get("description"));var h,c=n.getSeriesCount(),d=s.get(["data","maxCount"])||10,p=s.get(["series","maxCount"])||10,m=Math.min(c,p);if(!(c<1)){var y=((C=n.get("title"))&&C.length&&(C=C[0]),C&&C.text);h=y?o(s.get(["general","withTitle"]),{title:y}):s.get(["general","withoutTitle"]);var _=[];h+=o(s.get(c>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:c}),n.eachSeries(function(C,I){if(I<m){var A=void 0,P=C.get("name")?"withName":"withoutName";A=o(A=s.get(c>1?["series","multiple",P]:["series","single",P]),{seriesId:C.seriesIndex,seriesName:C.get("name"),seriesType:(ae=C.subType,n.getLocaleModel().get(["series","typeNames"])[ae]||"\u81ea\u5b9a\u4e49\u56fe")});var O=C.getData();O.count()>d?A+=o(s.get(["data","partialData"]),{displayCnt:d}):A+=s.get(["data","allData"]);for(var E=s.get(["data","separator","middle"]),z=s.get(["data","separator","end"]),V=[],G=0;G<O.count();G++)if(G<d){var Y=O.getName(G),X=O.getValues(G),te=s.get(["data",Y?"withName":"withoutName"]);V.push(o(te,{name:Y,value:X.join(E)}))}A+=V.join(E)+z,_.push(A)}var ae});var x=s.getModel(["series","multiple","separator"]),b=x.get("middle"),S=x.get("end");h+=_.join(b)+S,l.setAttribute("aria-label",h)}}}()}function o(a,s){if(!J(a))return a;var l=a;return F(s,function(h,c){l=l.replace(new RegExp("\\{\\s*"+c+"\\s*\\}","g"),h)}),l}}function vH(n){if(n&&n.aria){var i=n.aria;null!=i.show&&(i.enabled=i.show),i.label=i.label||{},F(["description","general","series","data"],function(e){null!=i[e]&&(i.label[e]=i[e])})}}var gA={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},yH=function(){function n(i){null==(this._condVal=J(i)?new RegExp(i):Xt(i)?i:null)&&zi("")}return n.prototype.evaluate=function(i){var e=typeof i;return J(e)?this._condVal.test(i):!!Ge(e)&&this._condVal.test(i+"")},n}(),_H=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),xH=function(){function n(){}return n.prototype.evaluate=function(){for(var i=this.children,e=0;e<i.length;e++)if(!i[e].evaluate())return!1;return!0},n}(),bH=function(){function n(){}return n.prototype.evaluate=function(){for(var i=this.children,e=0;e<i.length;e++)if(i[e].evaluate())return!0;return!1},n}(),wH=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),SH=function(){function n(){}return n.prototype.evaluate=function(){for(var i=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),r=i?this.valueParser(e):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(i?r:e))return!1;return!0},n}();function a_(n,i){if(!0===n||!1===n){var e=new _H;return e.value=n,e}return vA(n)||zi(""),n.and?mA("and",n,i):n.or?mA("or",n,i):n.not?function(o,a){var s=o.not;vA(s)||zi("");var h=new wH;return h.child=a_(s,a),h.child||zi(""),h}(n,i):function(o,a){for(var l=a.prepareGetValue(o),h=[],c=ft(o),d=o.parser,p=d?db(d):null,m=0;m<c.length;m++){var y=c[m];if("parser"!==y&&!a.valueGetterAttrMap.get(y)){var _=Be(gA,y)?gA[y]:y,x=o[y],b=p?p(x):x,S=CL(_,b)||"reg"===_&&new yH(b);S||zi(""),h.push(S)}}h.length||zi("");var C=new SH;return C.valueGetterParam=l,C.valueParser=p,C.getValue=a.getValue,C.subCondList=h,C}(n,i)}function mA(n,i,e){var r=i[n];ne(r)||zi(""),r.length||zi("");var a="and"===n?new xH:new bH;return a.children=Te(r,function(s){return a_(s,e)}),a.children.length||zi(""),a}function vA(n){return Pe(n)&&!Ne(n)}var CH=function(){function n(i,e){this._cond=a_(i,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),kH={type:"echarts:filter",transform:function(n){for(var i,e,r,o=n.upstream,a=(e=n.config,r={valueGetterAttrMap:xe({dimension:!0}),prepareGetValue:function(c){var p=c.dimension;Be(c,"dimension")||zi("");var m=o.getDimensionInfo(p);return m||zi(""),{dimIdx:m.index}},getValue:function(c){return o.retrieveValueFromItem(i,c.dimIdx)}},new CH(e,r)),s=[],l=0,h=o.count();l<h;l++)i=o.getRawDataItem(l),a.evaluate()&&s.push(i);return{data:s}}},TH={type:"echarts:sort",transform:function(n){var i=n.upstream,r="",o=Gi(n.config);o.length||zi(r);var a=[];F(o,function(d){var p=d.dimension,m=d.order,y=d.parser,_=d.incomparable;null==p&&zi(r),"asc"!==m&&"desc"!==m&&zi(r),_&&"min"!==_&&"max"!==_&&zi(""),"asc"!==m&&"desc"!==m&&zi("");var S=i.getDimensionInfo(p);S||zi(r);var C=y?db(y):null;y&&!C&&zi(r),a.push({dimIdx:S.index,parser:C,comparator:new fb(m,_)})});var s=i.sourceFormat;s!==or&&s!==qr&&zi(r);for(var l=[],h=0,c=i.count();h<c;h++)l.push(i.getRawDataItem(h));return l.sort(function(d,p){for(var m=0;m<a.length;m++){var y=a[m],_=i.retrieveValueFromItem(d,y.dimIdx),x=i.retrieveValueFromItem(p,y.dimIdx);y.parser&&(_=y.parser(_),x=y.parser(x));var b=y.comparator.evaluate(_,x);if(0!==b)return b}return 0}),{data:l}}},MH=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return Le(i,n),i.prototype.init=function(e,r,o){n.prototype.init.call(this,e,r,o),this._sourceManager=new xb(this),bb(this)},i.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),bb(this)},i.prototype.optionUpdated=function(){this._sourceManager.dirty()},i.prototype.getSourceManager=function(){return this._sourceManager},i.type="dataset",i.defaultOption={seriesLayoutBy:zo},i}(_i),IH=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return Le(i,n),i.type="dataset",i}(Qi),$o=Eo.CMD;function Eh(n,i){return Math.abs(n-i)<1e-5}function s_(n){var i,e,r,o,a,X,te,ae,he,fe,ye,Se,Ee,Re,ze,ot,xt,Ue,Mt,yt,Dt,St,s=n.data,l=n.len(),h=[],c=0,d=0,p=0,m=0;function y(X,te){i&&i.length>2&&h.push(i),i=[X,te]}function _(X,te,ae,he){Eh(X,ae)&&Eh(te,he)||i.push(X,te,ae,he,ae,he)}for(var b=0;b<l;){var S=s[b++],C=1===b;switch(C&&(p=c=s[b],m=d=s[b+1],S!==$o.L&&S!==$o.C&&S!==$o.Q||(i=[p,m])),S){case $o.M:c=p=s[b++],d=m=s[b++],y(p,m);break;case $o.L:_(c,d,e=s[b++],r=s[b++]),c=e,d=r;break;case $o.C:i.push(s[b++],s[b++],s[b++],s[b++],c=s[b++],d=s[b++]);break;case $o.Q:e=s[b++],r=s[b++],o=s[b++],a=s[b++],i.push(c+2/3*(e-c),d+2/3*(r-d),o+2/3*(e-o),a+2/3*(r-a),o,a),c=o,d=a;break;case $o.A:var I=s[b++],A=s[b++],P=s[b++],O=s[b++],E=s[b++],z=s[b++]+E;b+=1;var V=!s[b++];e=Math.cos(E)*P+I,r=Math.sin(E)*O+A,C?y(p=e,m=r):_(c,d,e,r),c=Math.cos(z)*P+I,d=Math.sin(z)*O+A;for(var G=(V?-1:1)*Math.PI/2,Y=E;V?Y>z:Y<z;Y+=G)X=Y,te=V?Math.max(Y+G,z):Math.min(Y+G,z),ae=I,he=A,fe=P,ye=O,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Se=Math.abs(te-X),Ee=4*Math.tan(Se/4)/3,Re=te<X?-1:1,ze=Math.cos(X),ot=Math.sin(X),xt=Math.cos(te),Ue=Math.sin(te),i.push(ze*fe+ae-(Dt=fe*Ee*Re)*ot,ot*ye+he+(St=ye*Ee*Re)*ze,(Mt=xt*fe+ae)+Dt*Ue,(yt=Ue*ye+he)-St*xt,Mt,yt);break;case $o.R:p=c=s[b++],m=d=s[b++],e=p+s[b++],r=m+s[b++],y(e,m),_(e,m,e,r),_(e,r,p,r),_(p,r,p,m),_(p,m,e,m);break;case $o.Z:i&&_(c,d,p,m),c=p,d=m}}return i&&i.length>2&&h.push(i),h}function l_(n,i,e,r,o,a,s,l,h,c){if(Eh(n,e)&&Eh(i,r)&&Eh(o,s)&&Eh(a,l))h.push(s,l);else{var d=2/c,p=d*d,m=s-n,y=l-i,_=Math.sqrt(m*m+y*y);m/=_,y/=_;var x=e-n,b=r-i,S=o-s,C=a-l,I=x*x+b*b,A=S*S+C*C;if(I<p&&A<p)h.push(s,l);else{var P=m*x+y*b,O=-m*S-y*C;if(I-P*P<p&&P>=0&&A-O*O<p&&O>=0)h.push(s,l);else{var E=[],z=[];Fi(n,e,o,s,.5,E),Fi(i,r,a,l,.5,z),l_(E[0],z[0],E[1],z[1],E[2],z[2],E[3],z[3],h,c),l_(E[4],z[4],E[5],z[5],E[6],z[6],E[7],z[7],h,c)}}}}function yA(n,i,e){var a=Math.abs(n[i]/n[1-i]),s=Math.ceil(Math.sqrt(a*e)),l=Math.floor(e/s);0===l&&(l=1,s=e);for(var h=[],c=0;c<s;c++)h.push(l);var d=e-s*l;if(d>0)for(c=0;c<d;c++)h[c%s]+=1;return h}function _A(n,i,e){for(var r=n.r0,o=n.r,a=n.startAngle,l=Math.abs(n.endAngle-a),h=l*o,c=o-r,d=h>Math.abs(c),p=yA([h,c],d?0:1,i),m=(d?l:c)/p.length,y=0;y<p.length;y++)for(var _=(d?c:l)/p[y],x=0;x<p[y];x++){var b={};d?(b.startAngle=a+m*y,b.endAngle=a+m*(y+1),b.r0=r+_*x,b.r=r+_*(x+1)):(b.startAngle=a+_*x,b.endAngle=a+_*(x+1),b.r0=r+m*y,b.r=r+m*(y+1)),b.clockwise=n.clockwise,b.cx=n.cx,b.cy=n.cy,e.push(b)}}function xA(n,i,e,r){return n*r-e*i}function DH(n,i,e,r,o,a,s,l){var h=e-n,c=r-i,d=s-o,p=l-a,m=xA(d,p,h,c);if(Math.abs(m)<1e-6)return null;var y=xA(n-o,i-a,d,p)/m;return y<0||y>1?null:new li(y*h+n,y*c+i)}function AH(n,i,e){var r=new li;li.sub(r,e,i),r.normalize();var o=new li;return li.sub(o,n,i),o.dot(r)}function Nh(n,i){var e=n[n.length-1];e&&e[0]===i[0]&&e[1]===i[1]||n.push(i)}function bA(n){var i=n.points,e=[],r=[];nd(i,e,r);var o=new ai(e[0],e[1],r[0]-e[0],r[1]-e[1]),a=o.width,s=o.height,l=o.x,h=o.y,c=new li,d=new li;return a>s?(c.x=d.x=l+a/2,c.y=h,d.y=h+s):(c.y=d.y=h+s/2,c.x=l,d.x=l+a),function(p,m,y){for(var _=p.length,x=[],b=0;b<_;b++){var S=p[b],C=p[(b+1)%_],I=DH(S[0],S[1],C[0],C[1],m.x,m.y,y.x,y.y);I&&x.push({projPt:AH(I,m,y),pt:I,idx:b})}if(x.length<2)return[{points:p},{points:p}];x.sort(function(Y,X){return Y.projPt-X.projPt});var A=x[0],P=x[x.length-1];if(P.idx<A.idx){var O=A;A=P,P=O}var E=[A.pt.x,A.pt.y],z=[P.pt.x,P.pt.y],V=[E],G=[z];for(b=A.idx+1;b<=P.idx;b++)Nh(V,p[b].slice());for(Nh(V,z),Nh(V,E),b=P.idx+1;b<=A.idx+_;b++)Nh(G,p[b%_].slice());return Nh(G,E),Nh(G,z),[{points:V},{points:G}]}(i,c,d)}function wf(n,i,e,r){if(1===e)r.push(i);else{var o=Math.floor(e/2),a=n(i);wf(n,a[0],o,r),wf(n,a[1],e-o,r)}return r}function LH(n,i){i.setStyle(n.style),i.z=n.z,i.z2=n.z2,i.zlevel=n.zlevel}function OH(n,i){var e=n.length,r=i.length;if(e===r)return[n,i];for(var o=[],a=[],s=e<r?n:i,l=Math.min(e,r),h=Math.abs(r-e)/6,d=Math.ceil(h/((l-2)/6))+1,p=[s[0],s[1]],m=h,y=2;y<l;){var _=s[y-2],x=s[y-1],b=s[y++],S=s[y++],C=s[y++],I=s[y++],A=s[y++],P=s[y++];if(m<=0)p.push(b,S,C,I,A,P);else{for(var O=Math.min(m,d-1)+1,E=1;E<=O;E++){var z=E/O;Fi(_,b,C,A,z,o),Fi(x,S,I,P,z,a),p.push(o[1],a[1],o[2],a[2],_=o[3],x=a[3]),b=o[5],S=a[5],C=o[6],I=a[6]}m-=O-1}}return s===n?[p,i]:[n,p]}function wA(n,i){for(var e=n.length,r=n[e-2],o=n[e-1],a=[],s=0;s<i.length;)a[s++]=r,a[s++]=o;return a}function SA(n){for(var i=0,e=0,r=0,o=n.length,a=0,s=o-2;a<o;s=a,a+=2){var l=n[s],h=n[s+1],c=n[a],d=n[a+1],p=l*d-c*h;i+=p,e+=(l+c)*p,r+=(h+d)*p}return 0===i?[n[0]||0,n[1]||0]:[e/i/3,r/i/3,i]}function EH(n,i,e,r){for(var o=(n.length-2)/6,a=1/0,s=0,l=n.length,h=l-2,c=0;c<o;c++){for(var d=6*c,p=0,m=0;m<l;m+=2){var y=0===m?d:(d+m-2)%h+2,b=i[m]-r[0]-(n[y]-e[0]),S=i[m+1]-r[1]-(n[y+1]-e[1]);p+=b*b+S*S}p<a&&(a=p,s=c)}return s}function NH(n){for(var i=[],e=n.length,r=0;r<e;r+=2)i[r]=n[e-r-2],i[r+1]=n[e-r-1];return i}function Sf(n){return n.__isCombineMorphing}var CA="__mOriginal_";function Cf(n,i,e){var r=CA+i,o=n[r]||n[i];n[r]||(n[r]=n[i]);var a=e.replace,s=e.after,l=e.before;n[i]=function(){var h,c=arguments;return l&&l.apply(this,c),h=a?a.apply(this,c):o.apply(this,c),s&&s.apply(this,c),h}}function Nc(n,i){var e=CA+i;n[e]&&(n[i]=n[e],n[e]=null)}function kA(n,i){for(var e=0;e<n.length;e++)for(var r=n[e],o=0;o<r.length;){var a=r[o],s=r[o+1];r[o++]=i[0]*a+i[2]*s+i[4],r[o++]=i[1]*a+i[3]*s+i[5]}}function TA(n,i){var e=n.getUpdatedPathProxy(),r=i.getUpdatedPathProxy(),o=function(p,m){for(var y,_,x,b=[],S=[],C=0;C<Math.max(p.length,m.length);C++){var I=p[C],A=m[C],P=void 0,O=void 0;I?A?(_=P=(y=OH(I,A))[0],x=O=y[1]):(O=wA(x||I,I),P=I):(P=wA(_||A,A),O=A),b.push(P),S.push(O)}return[b,S]}(s_(e),s_(r)),a=o[0],s=o[1],l=n.getComputedTransform(),h=i.getComputedTransform();l&&kA(a,l),h&&kA(s,h),Cf(i,"updateTransform",{replace:function(){this.transform=null}}),i.transform=null;var c=function(p,m,y,_){for(var x,b=[],S=0;S<p.length;S++){var C=p[S],I=m[S],A=SA(C),P=SA(I);null==x&&(x=A[2]<0!=P[2]<0);var O=[],E=[],z=0,V=1/0,G=[],Y=C.length;x&&(C=NH(C));for(var X=6*EH(C,I,A,P),te=Y-2,ae=0;ae<te;ae+=2){var he=(X+ae)%te+2;O[ae+2]=C[he]-A[0],O[ae+3]=C[he+1]-A[1]}O[0]=C[X]-A[0],O[1]=C[X+1]-A[1];for(var fe=_/10,ye=-_/2;ye<=_/2;ye+=fe){var Se=Math.sin(ye),Ee=Math.cos(ye),Re=0;for(ae=0;ae<C.length;ae+=2){var ze=O[ae],ot=O[ae+1],xt=I[ae]-P[0],Ue=I[ae+1]-P[1],pt=xt*Ee-Ue*Se,bt=xt*Se+Ue*Ee;G[ae]=pt,G[ae+1]=bt;var Mt=pt-ze,yt=bt-ot;Re+=Mt*Mt+yt*yt}if(Re<V){V=Re,z=ye;for(var Dt=0;Dt<G.length;Dt++)E[Dt]=G[Dt]}}b.push({from:O,to:E,fromCp:A,toCp:P,rotation:-z})}return b}(a,s,0,Math.PI),d=[];Cf(i,"buildPath",{replace:function(p){for(var m=i.__morphT,y=1-m,_=[],x=0;x<c.length;x++){var b=c[x],S=b.from,C=b.to,I=b.rotation*m,A=b.fromCp,P=b.toCp,O=Math.sin(I),E=Math.cos(I);ji(_,A,P,m);for(var z=0;z<S.length;z+=2){var Y=S[z]*y+(he=C[z])*m,X=S[z+1]*y+(fe=C[z+1])*m;d[z]=Y*E-X*O+_[0],d[z+1]=Y*O+X*E+_[1]}var te=d[0],ae=d[1];for(p.moveTo(te,ae),z=2;z<S.length;){var he=d[z++],fe=d[z++],ye=d[z++],Se=d[z++],Ee=d[z++],Re=d[z++];te===he&&ae===fe&&ye===Ee&&Se===Re?p.lineTo(Ee,Re):p.bezierCurveTo(he,fe,ye,Se,Ee,Re),te=Ee,ae=Re}}}})}function h_(n,i,e){if(!n||!i)return i;var r=e.done,o=e.during;return TA(n,i),i.__morphT=0,i.animateTo({__morphT:1},de({during:function(a){i.dirtyShape(),o&&o(a)},done:function(){Nc(i,"buildPath"),Nc(i,"updateTransform"),i.__morphT=-1,i.createPathProxy(),i.dirtyShape(),r&&r()}},e)),i}function RH(n,i,e,r,o,a){n=o===e?0:Math.round(32767*(n-e)/(o-e)),i=a===r?0:Math.round(32767*(i-r)/(a-r));for(var s,l=0,h=32768;h>0;h/=2){var c=0,d=0;(n&h)>0&&(c=1),(i&h)>0&&(d=1),l+=h*h*(3*c^d),0===d&&(1===c&&(n=h-1-n,i=h-1-i),s=n,n=i,i=s)}return l}function kf(n){var i=1/0,e=1/0,r=-1/0,o=-1/0,a=Te(n,function(s){var l=s.getBoundingRect(),h=s.getComputedTransform(),c=l.x+l.width/2+(h?h[4]:0),d=l.y+l.height/2+(h?h[5]:0);return i=Math.min(c,i),e=Math.min(d,e),r=Math.max(c,r),o=Math.max(d,o),[c,d]});return Te(a,function(s,l){return{cp:s,z:RH(s[0],s[1],i,e,r,o),path:n[l]}}).sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function MA(n){return function PH(n,i){var e,r=[],o=n.shape;switch(n.type){case"rect":(function(S,C,I){for(var A=S.width,P=S.height,O=A>P,E=yA([A,P],O?0:1,C),z=O?"width":"height",V=O?"height":"width",G=O?"x":"y",Y=O?"y":"x",X=S[z]/E.length,te=0;te<E.length;te++)for(var ae=S[V]/E[te],he=0;he<E[te];he++){var fe={};fe[G]=te*X,fe[Y]=he*ae,fe[z]=X,fe[V]=ae,fe.x+=S.x,fe.y+=S.y,I.push(fe)}})(o,i,r),e=Si;break;case"sector":_A(o,i,r),e=ir;break;case"circle":_A({r0:0,r:o.r,startAngle:0,endAngle:2*Math.PI,cx:o.cx,cy:o.cy},i,r),e=ir;break;default:var a=n.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,l=Te(function(S,C){var I=s_(S),A=[];C=C||1;for(var P=0;P<I.length;P++){var O=I[P],E=[],z=O[0],V=O[1];E.push(z,V);for(var G=2;G<O.length;){var Y=O[G++],X=O[G++],te=O[G++],ae=O[G++],he=O[G++],fe=O[G++];l_(z,V,Y,X,te,ae,he,fe,E,C),z=he,V=fe}A.push(E)}return A}(n.getUpdatedPathProxy(),s),function(S){return function(C){for(var I=[],A=0;A<C.length;)I.push([C[A++],C[A++]]);return I}(S)}),h=l.length;if(0===h)wf(bA,{points:l[0]},i,r);else if(h===i)for(var c=0;c<h;c++)r.push({points:l[c]});else{var d=0,p=Te(l,function(S){var C=[],I=[];nd(S,C,I);var A=(I[1]-C[1])*(I[0]-C[0]);return d+=A,{poly:S,area:A}});p.sort(function(S,C){return C.area-S.area});var m=i;for(c=0;c<h;c++){var y=p[c];if(m<=0)break;var _=c===h-1?m:Math.ceil(y.area/d*i);_<0||(wf(bA,{points:y.poly},_,r),m-=_)}}e=nr}if(!e)return function(S,C){for(var I=[],A=0;A<C;A++)I.push(kg(S));return I}(n,i);var x=[];for(c=0;c<r.length;c++){var b=new e;b.setShape(r[c]),LH(n,b),x.push(b)}return x}(n.path,n.count)}function IA(n){return ne(n[0])}function DA(n,i){for(var e=[],r=n.length,o=0;o<r;o++)e.push({one:n[o],many:[]});for(o=0;o<i.length;o++){var a=i[o].length,s=void 0;for(s=0;s<a;s++)e[s%r].many.push(i[o][s])}var l=0;for(o=r-1;o>=0;o--)if(!e[o].many.length){var h=e[l].many;if(h.length<=1){if(!l)return e;l=0}a=h.length;var c=Math.ceil(a/2);e[o].many=h.slice(c,a),e[l].many=h.slice(0,c),l++}return e}var zH={clone:function(n){for(var i=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),r=0;r<n.count;r++){var o=kg(n.path);o.setStyle("opacity",e),i.push(o)}return i},split:null};function u_(n,i,e,r,o,a){if(n.length&&i.length){var s=Gl("update",r,o);if(s&&s.duration>0){var l,h,c=r.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},s);IA(n)&&(l=n,h=i),IA(i)&&(l=i,h=n);for(var p=l?l===n:n.length>i.length,m=l?DA(h,l):DA(p?i:n,[p?n:i]),y=0,_=0;_<m.length;_++)y+=m[_].many.length;var x=0;for(_=0;_<m.length;_++)b(m[_],p,x,y),x+=m[_].many.length}}function b(S,C,I,A,P){var O=S.many,E=S.one;if(1!==O.length||P)for(var z=de({dividePath:zH[e],individualDelay:c&&function(ye,Se,Ee,Re){return c(ye+I,A)}},d),V=C?function(ye,Se,Ee){var Re=[];!function di(wi){for(var Di=0;Di<wi.length;Di++){var Ki=wi[Di];Sf(Ki)?di(Ki.childrenRef()):Ki instanceof yi&&Re.push(Ki)}}(ye);var ze=Re.length;if(!ze)return{fromIndividuals:[],toIndividuals:[],count:0};var ot=(Ee.dividePath||MA)({path:Se,count:ze});if(ot.length!==ze)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};Re=kf(Re),ot=kf(ot);for(var xt=Ee.done,Ue=Ee.during,pt=Ee.individualDelay,bt=new oa,Mt=0;Mt<ze;Mt++){var yt=Re[Mt],Dt=ot[Mt];Dt.parent=Se,Dt.copyTransform(bt),pt||TA(yt,Dt)}function St(di){for(var wi=0;wi<ot.length;wi++)ot[wi].addSelfToZr(di)}function Ot(){Se.__isCombineMorphing=!1,Se.__morphT=-1,Se.childrenRef=null,Nc(Se,"addSelfToZr"),Nc(Se,"removeSelfFromZr")}Se.__isCombineMorphing=!0,Se.childrenRef=function(){return ot},Cf(Se,"addSelfToZr",{after:function(di){St(di)}}),Cf(Se,"removeSelfFromZr",{after:function(di){for(var wi=0;wi<ot.length;wi++)ot[wi].removeSelfFromZr(di)}});var Ft=ot.length;if(pt){var ni=Ft,si=function(){0==--ni&&(Ot(),xt&&xt())};for(Mt=0;Mt<Ft;Mt++){var Ni=pt?de({delay:(Ee.delay||0)+pt(Mt,Ft,Re[Mt],ot[Mt]),done:si},Ee):Ee;h_(Re[Mt],ot[Mt],Ni)}}else Se.__morphT=0,Se.animateTo({__morphT:1},de({during:function(di){for(var wi=0;wi<Ft;wi++){var Di=ot[wi];Di.__morphT=Se.__morphT,Di.dirtyShape()}Ue&&Ue(di)},done:function(){Ot();for(var di=0;di<ye.length;di++)Nc(ye[di],"updateTransform");xt&&xt()}},Ee));return Se.__zr&&St(Se.__zr),{fromIndividuals:Re,toIndividuals:ot,count:Ft}}(O,E,z):function(ye,Se,Ee){var Re=Se.length,ze=[],ot=Ee.dividePath||MA;if(Sf(ye)){!function Dt(St){for(var Ot=0;Ot<St.length;Ot++){var Ft=St[Ot];Sf(Ft)?Dt(Ft.childrenRef()):Ft instanceof yi&&ze.push(Ft)}}(ye.childrenRef());var xt=ze.length;if(xt<Re)for(var Ue=0,pt=xt;pt<Re;pt++)ze.push(kg(ze[Ue++%xt]));ze.length=Re}else{ze=ot({path:ye,count:Re});var bt=ye.getComputedTransform();for(pt=0;pt<ze.length;pt++)ze[pt].setLocalTransform(bt);if(ze.length!==Re)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}ze=kf(ze),Se=kf(Se);var Mt=Ee.individualDelay;for(pt=0;pt<Re;pt++){var yt=Mt?de({delay:(Ee.delay||0)+Mt(pt,Re,ze[pt],Se[pt])},Ee):Ee;h_(ze[pt],Se[pt],yt)}return{fromIndividuals:ze,toIndividuals:Se,count:Se.length}}(E,O,z),G=V.fromIndividuals,Y=V.toIndividuals,X=G.length,te=0;te<X;te++)ae=c?de({delay:c(te,X)},d):d,a(G[te],Y[te],C?O[te]:S.one,C?S.one:O[te],ae);else{var ae,he=C?O[0]:E,fe=C?E:O[0];Sf(he)?b({many:[he],one:fe},!0,I,A,!0):(h_(he,fe,ae=c?de({delay:c(I,A)},d):d),a(he,fe,he,fe,ae))}}}function fl(n){if(!n)return[];if(ne(n)){for(var i=[],e=0;e<n.length;e++)i.push(fl(n[e]));return i}var r=[];return n.traverse(function(o){o instanceof yi&&!o.disableMorphing&&!o.invisible&&!o.ignore&&r.push(o)}),r}var BH=Mi();function AA(n){var i=[];return F(n,function(e){var r=e.data;if(!(r.count()>1e4))for(var o=r.getIndices(),a=function(l){for(var h=l.dimensions,c=0;c<h.length;c++){var d=l.getDimensionInfo(h[c]);if(d&&0===d.otherDims.itemGroupId)return h[c]}}(r),s=0;s<o.length;s++)i.push({dataGroupId:e.dataGroupId,data:r,dim:e.dim||a,divide:e.divide,dataIndex:s})}),i}function c_(n,i,e){n.traverse(function(r){r instanceof yi&&nn(r,{style:{opacity:0}},i,{dataIndex:e,isFrom:!0})})}function d_(n){if(n.parent){var i=n.getComputedTransform();n.setLocalTransform(i),n.parent.remove(n)}}function Rh(n){n.stopAnimation(),n.isGroup&&n.traverse(function(i){i.stopAnimation()})}function LA(n,i,e){var r=AA(n),o=AA(i);function a(S,C,I,A,P){(I||S)&&C.animateFrom({style:I&&I!==S?Z(Z({},I.style),S.style):S.style},P)}function s(S){for(var C=0;C<S.length;C++)if(S[C].dim)return S[C].dim}var l=s(r),h=s(o),c=!1;function d(S,C){return function(I){var A=I.data,P=I.dataIndex;if(C)return A.getId(P);var O=I.dataGroupId,E=S?l||h:h||l,z=E&&A.getDimensionInfo(E),V=z&&z.ordinalMeta;if(z){var G=A.get(z.name,P);return V&&V.categories[G]||G+""}var Y=A.getRawDataItem(P);return Y&&Y.groupId?Y.groupId+"":O||A.getId(P)}}var p=function(S,C){var I=S.length;if(I!==C.length)return!1;for(var A=0;A<I;A++){var P=S[A],O=C[A];if(P.data.getId(P.dataIndex)!==O.data.getId(O.dataIndex))return!1}return!0}(r,o),m={};if(!p)for(var y=0;y<o.length;y++){var _=o[y],x=_.data.getItemGraphicEl(_.dataIndex);x&&(m[x.id]=!0)}function b(S,C){var I=r[C],A=o[S],P=A.data.hostModel,O=I.data.getItemGraphicEl(I.dataIndex),E=A.data.getItemGraphicEl(A.dataIndex);O!==E?O&&m[O.id]||E&&(Rh(E),O?(Rh(O),d_(O),c=!0,u_(fl(O),fl(E),A.divide,P,S,a)):c_(E,P,S)):E&&function jH(n,i,e){var r=Gl("update",e,i);r&&n.traverse(function(o){if(o instanceof Wr){var a=W1(o).oldStyle;a&&o.animateFrom({style:a},r)}})}(E,A.dataIndex,P)}new da(r,o,d(!0,p),d(!1,p),null,"multiple").update(b).updateManyToOne(function(S,C){var I=o[S],A=I.data,P=A.hostModel,O=A.getItemGraphicEl(I.dataIndex),E=tt(Te(C,function(z){return r[z].data.getItemGraphicEl(r[z].dataIndex)}),function(z){return z&&z!==O&&!m[z.id]});O&&(Rh(O),E.length?(F(E,function(z){Rh(z),d_(z)}),c=!0,u_(fl(E),fl(O),I.divide,P,S,a)):c_(O,P,I.dataIndex))}).updateOneToMany(function(S,C){var I=r[C],A=I.data.getItemGraphicEl(I.dataIndex);if(!A||!m[A.id]){var P=tt(Te(S,function(E){return o[E].data.getItemGraphicEl(o[E].dataIndex)}),function(E){return E&&E!==A}),O=o[S[0]].data.hostModel;P.length&&(F(P,function(E){return Rh(E)}),A?(Rh(A),d_(A),c=!0,u_(fl(A),fl(P),I.divide,O,S[0],a)):F(P,function(E){return c_(E,O,S[0])}))}}).updateManyToMany(function(S,C){new da(C,S,function(I){return r[I].data.getId(r[I].dataIndex)},function(I){return o[I].data.getId(o[I].dataIndex)}).update(function(I,A){b(S[I],C[A])}).execute()}).execute(),c&&F(i,function(S){var C=S.data.hostModel,I=C&&e.getViewOfSeriesModel(C),A=Gl("update",C,0);I&&C.isAnimationEnabled()&&A&&A.duration>0&&I.group.traverse(function(P){P instanceof yi&&!P.animators.length&&P.animateFrom({style:{opacity:0}},A)})})}function PA(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function OA(n){return ne(n)?n.sort().join(","):n}function os(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function EA(n,i){for(var e=0;e<n.length;e++)if(null!=i.seriesIndex&&i.seriesIndex===n[e].seriesIndex||null!=i.seriesId&&i.seriesId===n[e].id)return e}fi([function(n){n.registerPainter("canvas",AO)}]),fi([function(n){n.registerPainter("svg",DO)}]),fi([function(n){n.registerChartView(zO),n.registerSeriesModel(LO),n.registerLayout(rc("line",!0)),n.registerVisual({seriesType:"line",reset:function(i){var e=i.getData(),r=i.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,SC("line"))},function(n){n.registerChartView(FO),n.registerSeriesModel(HO),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Q(Jw,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,eS("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,SC("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(i,e){e.eachComponent({mainType:i.componentType||"series",query:i},function(o){i.sortInfo&&o.axis.setCategorySortInfo(i.sortInfo)})})},function(n){n.registerChartView(KO),n.registerSeriesModel(QO),Jb("pie",n.registerAction),n.registerLayout(Q($O,"pie")),n.registerProcessor(ac("pie")),n.registerProcessor({seriesType:"pie",reset:function(e,r){var o=e.getData();o.filterSelf(function(a){var s=o.mapDimension("value"),l=o.get(s,a);return!(Ge(l)&&!isNaN(l)&&l<0)})}})},function(n){fi(ok),n.registerSeriesModel(JO),n.registerChartView(nE),n.registerLayout(rc("scatter"))},function(n){fi(ME),n.registerChartView(xE),n.registerSeriesModel(bE),n.registerLayout(yE),n.registerProcessor(ac("radar")),n.registerPreprocessor(_E)},function(n){fi(jk),n.registerChartView(GE),n.registerSeriesModel(YE),n.registerLayout(UE),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,$E),Jb("map",n.registerAction)},function(n){n.registerChartView(aN),n.registerSeriesModel(pN),n.registerLayout(fN),n.registerVisual(gN),function(i){i.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,r){r.eachComponent({mainType:"series",subType:"tree",query:e},function(o){var a=e.dataIndex,s=o.getData().tree.getNodeByDataIndex(a);s.isExpand=!s.isExpand})}),i.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,r,o){r.eachComponent({mainType:"series",subType:"tree",query:e},function(a){var s=Xv(a.coordinateSystem,e,void 0,o);a.setCenter&&a.setCenter(s.center),a.setZoom&&a.setZoom(s.zoom)})})}(n)},function(n){n.registerSeriesModel(mN),n.registerChartView(bN),n.registerVisual(CN),n.registerLayout(IN),function(i){for(var e=0;e<Xk.length;e++)i.registerAction({type:Xk[e],update:"updateView"},Ze);i.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,o){o.eachComponent({mainType:"series",subType:"treemap",query:r},function(a,s){var l=fc(r,["treemapZoomToNode","treemapRootToNode"],a);if(l){var h=a.getViewRoot();h&&(r.direction=ty(h,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}})})}(n)},function(n){n.registerChartView(jN),n.registerSeriesModel(VN),n.registerProcessor(AN),n.registerVisual(LN),n.registerVisual(PN),n.registerLayout(ON),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,NN),n.registerLayout(RN),n.registerCoordinateSystem("graphView",{dimensions:dc.dimensions,create:zN}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ze),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ze),n.registerAction(FN,function(i,e,r){e.eachComponent({mainType:"series",query:i},function(o){var a=Xv(o.coordinateSystem,i,void 0,r);o.setCenter&&o.setCenter(a.center),o.setZoom&&o.setZoom(a.zoom)})})},function(n){n.registerChartView(YN),n.registerSeriesModel($N)},function(n){n.registerChartView(XN),n.registerSeriesModel(KN),n.registerLayout(ZN),n.registerProcessor(ac("funnel"))},function(n){fi(rM),n.registerChartView(QN),n.registerSeriesModel(JN),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,iR)},function(n){n.registerChartView(TR),n.registerSeriesModel(MR),n.registerLayout(IR),n.registerVisual(NR),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(i,e){e.eachComponent({mainType:"series",subType:"sankey",query:i},function(r){r.setNodePosition(i.dataIndex,[i.localX,i.localY])})})},function(n){n.registerSeriesModel(lM),n.registerChartView(RR),n.registerLayout(HR),n.registerTransform(VR)},function(n){n.registerChartView(WR),n.registerSeriesModel(pM),n.registerPreprocessor(qR),n.registerVisual(ez),n.registerLayout(tz)},function(n){n.registerChartView(nz),n.registerSeriesModel(rz),n.registerLayout(rc("effectScatter"))},function(n){n.registerChartView(hz),n.registerSeriesModel(dz),n.registerLayout(yM),n.registerVisual(pz)},function(n){n.registerChartView(gz),n.registerSeriesModel(mz)},function(n){n.registerChartView(yz),n.registerSeriesModel(bz),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Q(Jw,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,eS("pictorialBar"))},function(n){n.registerChartView(wz),n.registerSeriesModel(Sz),n.registerLayout(Cz),n.registerProcessor(ac("themeRiver"))},function(n){n.registerChartView(kz),n.registerSeriesModel(Tz),n.registerLayout(Q(Mz,"sunburst")),n.registerProcessor(Q(ac,"sunburst")),n.registerVisual(Iz),function(i){i.registerAction({type:Jy,update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o,a){var s=fc(e,[Jy],o);if(s){var l=o.getViewRoot();l&&(e.direction=ty(l,s.node)?"rollUp":"drillDown"),o.resetViewRoot(s.node)}})}),i.registerAction({type:RM,update:"none"},function(e,r,o){e=Z({},e),r.eachComponent({mainType:"series",subType:"sunburst",query:e},function(a){var s=fc(e,[RM],a);s&&(e.dataIndex=s.node.dataIndex)}),o.dispatchAction(Z(e,{type:"highlight"}))}),i.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,r,o){e=Z({},e),o.dispatchAction(Z(e,{type:"downplay"}))})}(n)},function(n){n.registerChartView(Vz),n.registerSeriesModel(Az)}]),fi(function(n){fi(ok),fi(kc)}),fi(function(n){fi(kc),il.registerAxisPointerClass("PolarAxisPointer",tB),n.registerCoordinateSystem("polar",hB),n.registerComponentModel(nB),n.registerComponentView(xB),bh(n,"angle",rB,yB),bh(n,"radius",oB,_B),n.registerComponentView(cB),n.registerComponentView(gB),n.registerLayout(Q(vB,"bar"))}),fi(jk),fi(function(n){fi(kc),il.registerAxisPointerClass("SingleAxisPointer",DB),n.registerComponentView(LB),n.registerComponentView(SB),n.registerComponentModel(af),bh(n,"single",af,af.defaultOption),n.registerCoordinateSystem("single",MB)}),fi(rM),fi(function(n){n.registerComponentModel(PB),n.registerComponentView(OB),n.registerCoordinateSystem("calendar",EB)}),fi(function(n){n.registerComponentModel(RB),n.registerComponentView(zB),n.registerPreprocessor(function(i){var e=i.graphic;ne(e)?i.graphic=e[0]&&e[0].elements?[i.graphic[0]]:[{elements:e}]:e&&!e.elements&&(i.graphic=[{elements:[e]}])})}),fi(function(n){n.registerComponentModel(YB),n.registerComponentView($B),Lh("saveAsImage",UB),Lh("magicType",XB),Lh("dataView",ZB),Lh("dataZoom",nj),Lh("restore",JB),fi(GB)}),fi(function(n){fi(kc),n.registerComponentModel(oj),n.registerComponentView(dj),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ze),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ze)}),fi(kc),fi(function(n){n.registerComponentView(yj),n.registerComponentModel(_j),n.registerPreprocessor(fj),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,gj),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(i,e){e.eachComponent({mainType:"brush",query:i},function(r){r.setAreas(i.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Ze),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Ze),Lh("brush",bj)}),fi(function(n){n.registerComponentModel(wj),n.registerComponentView(Sj)}),fi(function(n){n.registerComponentModel(TD),n.registerComponentView(Tj),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(i){i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,r,o){var a=r.getComponent("timeline");return a&&null!=e.currentIndex&&(a.setCurrentIndex(e.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),r.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),de({currentIndex:a.option.currentIndex},e)}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,r){var o=r.getComponent("timeline");o&&null!=e.playState&&o.setPlayState(e.playState)})}(n),n.registerPreprocessor(Mj)}),fi(function(n){n.registerComponentModel(Ij),n.registerComponentView(Dj),n.registerPreprocessor(function(i){W0(i.series,"markPoint")&&(i.markPoint=i.markPoint||{})})}),fi(function(n){n.registerComponentModel(Aj),n.registerComponentView(Oj),n.registerPreprocessor(function(i){W0(i.series,"markLine")&&(i.markLine=i.markLine||{})})}),fi(function(n){n.registerComponentModel(Ej),n.registerComponentView(zj),n.registerPreprocessor(function(i){W0(i.series,"markArea")&&(i.markArea=i.markArea||{})})}),fi(function(n){fi(VD),fi(Vj)}),fi(function(n){fi($D),fi(XD)}),fi($D),fi(XD),fi(function(n){fi(cA),fi(pA)}),fi(cA),fi(pA),fi(function(n){n.registerPreprocessor(vH),n.registerVisual(n.PRIORITY.VISUAL.ARIA,mH)}),fi(function(n){n.registerTransform(kH),n.registerTransform(TH)}),fi(function(n){n.registerComponentModel(MH),n.registerComponentView(IH)}),fi(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(i,e,r){F(Gi(r.seriesTransition),function(o){F(Gi(o.to),function(a){for(var s=r.updatedSeries,l=0;l<s.length;l++)(null!=a.seriesIndex&&a.seriesIndex===s[l].seriesIndex||null!=a.seriesId&&a.seriesId===s[l].id)&&(s[l][Hd]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(i,e,r){var y,_,x,b,S,o=BH(e);if(o.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)F(Gi(a),function(y){var _,x,b,S,C,I;x=o,b=r,S=e,C=[],I=[],F(Gi((_=y).from),function(A){var P=EA(x.oldSeries,A);P>=0&&C.push({dataGroupId:x.oldDataGroupIds[P],data:x.oldData[P],divide:os(x.oldData[P]),dim:A.dimension})}),F(Gi(_.to),function(A){var P=EA(b.updatedSeries,A);if(P>=0){var O=b.updatedSeries[P].getData();I.push({dataGroupId:x.oldDataGroupIds[P],data:O,divide:os(O),dim:A.dimension})}}),C.length>0&&I.length>0&&LA(C,I,S)});else{var s=(y=o,_=r,x=xe(),b=xe(),S=xe(),F(y.oldSeries,function(C,I){var A=y.oldDataGroupIds[I],P=y.oldData[I],O=PA(C),E=OA(O);b.set(E,{dataGroupId:A,data:P}),ne(O)&&F(O,function(z){S.set(z,{key:E,dataGroupId:A,data:P})})}),F(_.updatedSeries,function(C){if(C.isUniversalTransitionEnabled()&&C.isAnimationEnabled()){var I=C.get("dataGroupId"),A=C.getData(),P=PA(C),O=OA(P),E=b.get(O);if(E)x.set(O,{oldSeries:[{dataGroupId:E.dataGroupId,divide:os(E.data),data:E.data}],newSeries:[{dataGroupId:I,divide:os(A),data:A}]});else if(ne(P)){var z=[];F(P,function(Y){var X=b.get(Y);X.data&&z.push({dataGroupId:X.dataGroupId,divide:os(X.data),data:X.data})}),z.length&&x.set(O,{oldSeries:z,newSeries:[{dataGroupId:I,data:A,divide:os(A)}]})}else{var V=S.get(P);if(V){var G=x.get(V.key);G||(G={oldSeries:[{dataGroupId:V.dataGroupId,data:V.data,divide:os(V.data)}],newSeries:[]},x.set(V.key,G)),G.newSeries.push({dataGroupId:I,data:A,divide:os(A)})}}}}),x);F(s.keys(),function(y){var _=s.get(y);LA(_.oldSeries,_.newSeries,e)})}F(r.updatedSeries,function(y){y[Hd]&&(y[Hd]=!1)})}for(var l=i.getSeries(),h=o.oldSeries=[],c=o.oldDataGroupIds=[],d=o.oldData=[],p=0;p<l.length;p++){var m=l[p].getData();m.count()<1e4&&(h.push(l[p]),c.push(l[p].get("dataGroupId")),d.push(m))}})}),fi(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(i,e,r){var o=uv(e).labelManager;o||(o=uv(e).labelManager=new mO),o.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(i,e,r){var o=uv(e).labelManager;r.updatedSeries.forEach(function(a){o.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),o.updateLayoutConfig(e),o.layout(e),o.processLabelsOverall()})}),v.Axis=Zr,v.ChartView=Hi,v.ComponentModel=_i,v.ComponentView=Qi,v.List=lr,v.Model=Li,v.PRIORITY=mw,v.SeriesModel=Yi,v.color=Il,v.connect=function(n){if(ne(n)){var i=n;n=null,F(i,function(e){null!=e.group&&(n=e.group)}),n=n||"g_"+bP++,F(i,function(e){e.group=n})}return ip[n]=!0,n},v.dataTool={},v.dependencies={zrender:"5.4.4"},v.disConnect=wP,v.disconnect=Aw,v.dispose=function(n){J(n)?n=Ys[n]:n instanceof Jd||(n=jm(n)),n instanceof Jd&&!n.isDisposed()&&n.dispose()},v.env=at,v.extendChartView=function(n){var i=Hi.extend(n);return Hi.registerClass(i),i},v.extendComponentModel=function(n){var i=_i.extend(n);return _i.registerClass(i),i},v.extendComponentView=function(n){var i=Qi.extend(n);return Qi.registerClass(i),i},v.extendSeriesModel=function(n){var i=Yi.extend(n);return Yi.registerClass(i),i},v.format=iO,v.getCoordinateSystemDimensions=function(n){var i=ih.get(n);if(i)return i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice()},v.getInstanceByDom=jm,v.getInstanceById=function(n){return Ys[n]},v.getMap=function(n){var i=gw("getMap");return i&&i(n)},v.graphic=tO,v.helper=KP,v.init=function(n,i,e){var r=!(e&&e.ssr);if(r){var o=jm(n);if(o)return o}var a=new Jd(n,i,e);return a.id="ec_"+xP++,Ys[a.id]=a,r&&O_(n,Bm,a.id),kw(a),_o.trigger("afterinit",a),a},v.innerDrawElementOnCanvas=Cm,v.matrix=If,v.number=JP,v.parseGeoJSON=av,v.parseGeoJson=av,v.registerAction=xo,v.registerCoordinateSystem=Ow,v.registerLayout=Ew,v.registerLoading=Gm,v.registerLocale=Vg,v.registerMap=Rw,v.registerPostInit=Lw,v.registerPostUpdate=Pw,v.registerPreprocessor=Vm,v.registerProcessor=Fm,v.registerTheme=Hm,v.registerTransform=zw,v.registerUpdateLifecycle=np,v.registerVisual=Ua,v.setCanvasCreator=function(n){Qe({createCanvas:n})},v.setPlatformAPI=Qe,v.throttle=Fd,v.time=eO,v.use=fi,v.util=nO,v.vector=Fr,v.version="5.4.3",v.zrUtil=It,v.zrender=YA,Object.defineProperty(v,"__esModule",{value:!0})}),function(v,ke){"function"==typeof define&&define.amd?define(ke):"object"==typeof exports?module.exports=ke(require,exports,module):v.Tether=ke()}(this,function(v,ke,Le){"use strict";function u(ne){var J=(getComputedStyle(ne)||{}).position,we=[];if("fixed"===J)return[ne];for(var Ge=ne;Ge=Ge.parentNode;){var Pe=void 0;try{Pe=getComputedStyle(Ge)}catch(Yt){}if(null==Pe)return we.push(Ge),we;/(auto|scroll)/.test(Pe.overflow+Pe.overflowY+Pe.overflowX)&&("absolute"!==J||["relative","absolute","fixed"].indexOf(Pe.position)>=0)&&we.push(Ge)}return we.push(document.body),we}function zt(ne){var ee=void 0;ne===document?(ee=document,ne=document.documentElement):ee=ne.ownerDocument;var J=ee.documentElement,we={},Ge=ne.getBoundingClientRect();for(var Pe in Ge)we[Pe]=Ge[Pe];var Ve=T(ee);return we.top-=Ve.top,we.left-=Ve.left,void 0===we.width&&(we.width=document.body.scrollWidth-we.left-we.right),void 0===we.height&&(we.height=document.body.scrollHeight-we.top-we.bottom),we.top=we.top-J.clientTop,we.left=we.left-J.clientLeft,we.right=ee.body.clientWidth-we.width-we.left,we.bottom=ee.body.clientHeight-we.height-we.top,we}function g(ne){return ne.offsetParent||document.documentElement}function L(){var ne=document.createElement("div");ne.style.width="100%",ne.style.height="200px";var ee=document.createElement("div");Te(ee.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),ee.appendChild(ne),document.body.appendChild(ee);var J=ne.offsetWidth;ee.style.overflow="scroll";var we=ne.offsetWidth;J===we&&(we=ee.clientWidth),document.body.removeChild(ee);var Ge=J-we;return{width:Ge,height:Ge}}function Te(){var ne=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],ee=[];return Array.prototype.push.apply(ee,arguments),ee.slice(1).forEach(function(J){if(J)for(var we in J)({}).hasOwnProperty.call(J,we)&&(ne[we]=J[we])}),ne}function w(ne,ee){if(void 0!==ne.classList)ee.split(" ").forEach(function(Ge){Ge.trim()&&ne.classList.remove(Ge)});else{var J=new RegExp("(^| )"+ee.split(" ").join("|")+"( |$)","gi"),we=at(ne).replace(J," ");vt(ne,we)}}function f(ne,ee){if(void 0!==ne.classList)ee.split(" ").forEach(function(we){we.trim()&&ne.classList.add(we)});else{w(ne,ee);var J=at(ne)+" "+ee;vt(ne,J)}}function Fe(ne,ee){if(void 0!==ne.classList)return ne.classList.contains(ee);var J=at(ne);return new RegExp("(^| )"+ee+"( |$)","gi").test(J)}function at(ne){return ne.className instanceof SVGAnimatedString?ne.className.baseVal:ne.className}function vt(ne,ee){ne.setAttribute("class",ee)}function ft(ne,ee,J){J.forEach(function(we){-1===ee.indexOf(we)&&Fe(ne,we)&&w(ne,we)}),ee.forEach(function(we){Fe(ne,we)||f(ne,we)})}function Pt(ne,ee){if(!(ne instanceof ee))throw new TypeError("Cannot call a class as a function")}function At(ne,ee){var J=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return ne+J>=ee&&ee>=ne-J}function Ct(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function Qt(){for(var ne={top:0,left:0},ee=arguments.length,J=Array(ee),we=0;ee>we;we++)J[we]=arguments[we];return J.forEach(function(Ge){var Pe=Ge.top,Ve=Ge.left;"string"==typeof Pe&&(Pe=parseFloat(Pe,10)),"string"==typeof Ve&&(Ve=parseFloat(Ve,10)),ne.top+=Pe,ne.left+=Ve}),ne}function ut(ne,ee){return"string"==typeof ne.left&&-1!==ne.left.indexOf("%")&&(ne.left=parseFloat(ne.left,10)/100*ee.width),"string"==typeof ne.top&&-1!==ne.top.indexOf("%")&&(ne.top=parseFloat(ne.top,10)/100*ee.height),ne}var R=function(){function ne(ee,J){for(var we=0;we<J.length;we++){var Ge=J[we];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(ee,Ge.key,Ge)}}return function(ee,J,we){return J&&ne(ee.prototype,J),we&&ne(ee,we),ee}}(),gt=void 0;void 0===gt&&(gt={modules:[]});var ne,Ke=(ne=0,function(){return++ne}),rt={},T=function(ne){var ee=ne._tetherZeroElement;void 0===ee&&((ee=ne.createElement("div")).setAttribute("data-tether-id",Ke()),Te(ee.style,{top:0,left:0,position:"absolute"}),ne.body.appendChild(ee),ne._tetherZeroElement=ee);var J=ee.getAttribute("data-tether-id");if(void 0===rt[J]){rt[J]={};var we=ee.getBoundingClientRect();for(var Ge in we)rt[J][Ge]=we[Ge];De(function(){delete rt[J]})}return rt[J]},j=[],De=function(ne){j.push(ne)},k=function(){for(var ne=void 0;ne=j.pop();)ne()},M=function(){function ne(){Pt(this,ne)}return R(ne,[{key:"on",value:function(ee,J,we){var Ge=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[ee]&&(this.bindings[ee]=[]),this.bindings[ee].push({handler:J,ctx:we,once:Ge})}},{key:"once",value:function(ee,J,we){this.on(ee,J,we,!0)}},{key:"off",value:function(ee,J){if(void 0===this.bindings||void 0===this.bindings[ee])if(void 0===J)delete this.bindings[ee];else for(var we=0;we<this.bindings[ee].length;)this.bindings[ee][we].handler===J?this.bindings[ee].splice(we,1):++we}},{key:"trigger",value:function(ee){if(void 0!==this.bindings&&this.bindings[ee]){for(var J=0,we=arguments.length,Ge=Array(we>1?we-1:0),Pe=1;we>Pe;Pe++)Ge[Pe-1]=arguments[Pe];for(;J<this.bindings[ee].length;){var Ve=this.bindings[ee][J],kt=Ve.handler,Rt=Ve.ctx,wt=Ve.once,Yt=Rt;void 0===Yt&&(Yt=this),kt.apply(Yt,Ge),wt?this.bindings[ee].splice(J,1):++J}}}}]),ne}();gt.Utils={getScrollParents:u,getBounds:zt,getOffsetParent:g,extend:Te,addClass:f,removeClass:w,hasClass:Fe,updateClasses:ft,defer:De,flush:k,uniqueId:Ke,Evented:M,getScrollBarSize:L};var Q=function(ee,J){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return function ne(ee,J){var we=[],Ge=!0,Pe=!1,Ve=void 0;try{for(var kt,Rt=ee[Symbol.iterator]();!(Ge=(kt=Rt.next()).done)&&(we.push(kt.value),!J||we.length!==J);Ge=!0);}catch(wt){Pe=!0,Ve=wt}finally{try{!Ge&&Rt.return&&Rt.return()}finally{if(Pe)throw Ve}}return we}(ee,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")};if(R=function(){function ne(ee,J){for(var we=0;we<J.length;we++){var Ge=J[we];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(ee,Ge.key,Ge)}}return function(ee,J,we){return J&&ne(ee.prototype,J),we&&ne(ee,we),ee}}(),void 0===gt)throw new Error("You must include the utils.js file before tether.js");var u=(tt=gt.Utils).getScrollParents,g=(zt=tt.getBounds,tt.getOffsetParent),f=(Te=tt.extend,tt.addClass),w=tt.removeClass,L=(ft=tt.updateClasses,De=tt.defer,k=tt.flush,tt.getScrollBarSize),N=function(){if("undefined"==typeof document)return"";for(var ne=document.createElement("div"),ee=["transform","webkitTransform","OTransform","MozTransform","msTransform"],J=0;J<ee.length;++J){var we=ee[J];if(void 0!==ne.style[we])return we}}(),H=[],q=function(){H.forEach(function(ne){ne.position(!1)}),k()};!function(){var ne=null,ee=null,J=null,we=function Ge(){return void 0!==ee&&ee>16?(ee=Math.min(ee-16,250),void(J=setTimeout(Ge,250))):void(void 0!==ne&&Ct()-ne<10||(void 0!==J&&(clearTimeout(J),J=null),ne=Ct(),q(),ee=Ct()-ne))};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(Ge){window.addEventListener(Ge,we)})}();var re={center:"center",left:"right",right:"left"},Z={middle:"middle",top:"bottom",bottom:"top"},de={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},pe=function(ne,ee){var J=ne.left,we=ne.top;return"auto"===J&&(J=re[ee.left]),"auto"===we&&(we=Z[ee.top]),{left:J,top:we}},ve=function(ne){var ee=ne.left,J=ne.top;return void 0!==de[ne.left]&&(ee=de[ne.left]),void 0!==de[ne.top]&&(J=de[ne.top]),{left:ee,top:J}},We=function(ne){var ee=ne.split(" "),J=Q(ee,2);return{top:J[0],left:J[1]}},Ie=We,Ne=function(){function ne(ee){var J=this;Pt(this,ne),this.position=this.position.bind(this),H.push(this),this.history=[],this.setOptions(ee,!1),gt.modules.forEach(function(we){void 0!==we.initialize&&we.initialize.call(J)}),this.position()}return R(ne,[{key:"getClass",value:function(){var ee=arguments.length<=0||void 0===arguments[0]?"":arguments[0],J=this.options.classes;return void 0!==J&&J[ee]?this.options.classes[ee]:this.options.classPrefix?this.options.classPrefix+"-"+ee:ee}},{key:"setOptions",value:function(ee){var J=this,we=arguments.length<=1||void 0===arguments[1]||arguments[1],Ge={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=Te(Ge,ee);var Pe=this.options,Ve=Pe.element,kt=Pe.target,Rt=Pe.targetModifier;if(this.element=Ve,this.target=kt,this.targetModifier=Rt,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(wt){if(void 0===J[wt])throw new Error("Tether Error: Both element and target must be defined");void 0!==J[wt].jquery?J[wt]=J[wt][0]:"string"==typeof J[wt]&&(J[wt]=document.querySelector(J[wt]))}),f(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&f(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=Ie(this.options.targetAttachment),this.attachment=Ie(this.options.attachment),this.offset=We(this.options.offset),this.targetOffset=We(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),this.scrollParents="scroll-handle"===this.targetModifier?[this.target]:u(this.target),!1!==this.options.enabled&&this.enable(we)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return zt(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((J={height:(ee=zt(this.target)).height,width:ee.width,top:ee.top,left:ee.left}).height=Math.min(J.height,ee.height-(pageYOffset-ee.top)),J.height=Math.min(J.height,ee.height-(ee.top+ee.height-(pageYOffset+innerHeight))),J.height=Math.min(innerHeight,J.height),J.height-=2,J.width=Math.min(J.width,ee.width-(pageXOffset-ee.left)),J.width=Math.min(J.width,ee.width-(ee.left+ee.width-(pageXOffset+innerWidth))),J.width=Math.min(innerWidth,J.width),J.width-=2,J.top<pageYOffset&&(J.top=pageYOffset),J.left<pageXOffset&&(J.left=pageXOffset),J);if("scroll-handle"===this.targetModifier){var ee=void 0,we=this.target;we===document.body?(we=document.documentElement,ee={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):ee=zt(we);var Ge=getComputedStyle(we),Ve=0;(we.scrollWidth>we.clientWidth||[Ge.overflow,Ge.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(Ve=15);var kt=ee.height-parseFloat(Ge.borderTopWidth)-parseFloat(Ge.borderBottomWidth)-Ve,J={width:15,height:.975*kt*(kt/we.scrollHeight),left:ee.left+ee.width-parseFloat(Ge.borderLeftWidth)-15},Rt=0;return 408>kt&&this.target===document.body&&(Rt=-11e-5*Math.pow(kt,2)-.00727*kt+22.58),this.target!==document.body&&(J.height=Math.max(J.height,24)),J.top=this.target.scrollTop/(we.scrollHeight-kt)*(kt-J.height-Rt)+ee.top+parseFloat(Ge.borderTopWidth),this.target===document.body&&(J.height=Math.max(J.height,24)),J}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(ee,J){return void 0===this._cache&&(this._cache={}),void 0===this._cache[ee]&&(this._cache[ee]=J.call(this)),this._cache[ee]}},{key:"enable",value:function(){var ee=this,J=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&f(this.target,this.getClass("enabled")),f(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(we){we!==document&&we.addEventListener("scroll",ee.position)}),J&&this.position()}},{key:"disable",value:function(){var ee=this;w(this.target,this.getClass("enabled")),w(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(J){J.removeEventListener("scroll",ee.position)})}},{key:"destroy",value:function(){var ee=this;this.disable(),H.forEach(function(J,we){return J===ee?void H.splice(we,1):void 0})}},{key:"updateAttachClasses",value:function(ee,J){var we=this;ee=ee||this.attachment,J=J||this.targetAttachment,void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var Pe=this._addAttachClasses;ee.top&&Pe.push(this.getClass("element-attached")+"-"+ee.top),ee.left&&Pe.push(this.getClass("element-attached")+"-"+ee.left),J.top&&Pe.push(this.getClass("target-attached")+"-"+J.top),J.left&&Pe.push(this.getClass("target-attached")+"-"+J.left);var Ve=[];["left","top","bottom","right","middle","center"].forEach(function(kt){Ve.push(we.getClass("element-attached")+"-"+kt),Ve.push(we.getClass("target-attached")+"-"+kt)}),De(function(){void 0!==we._addAttachClasses&&(ft(we.element,we._addAttachClasses,Ve),!1!==we.options.addTargetClasses&&ft(we.target,we._addAttachClasses,Ve),delete we._addAttachClasses)})}},{key:"position",value:function(){var Ae,ce,K,se,Me,ee=this,J=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var we=pe(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,we);var Ge=this.cache("element-bounds",function(){return zt(ee.element)}),Pe=Ge.width,Ve=Ge.height;if(0===Pe&&0===Ve&&void 0!==this.lastSize){var kt=this.lastSize;Pe=kt.width,Ve=kt.height}else this.lastSize={width:Pe,height:Ve};var Rt=this.cache("target-bounds",function(){return ee.getTargetBounds()}),wt=Rt,Yt=ut(ve(this.attachment),{width:Pe,height:Ve}),Xt=ut(ve(we),wt),Ht=ut(this.offset,{width:Pe,height:Ve}),Et=ut(this.targetOffset,wt);Yt=Qt(Yt,Ht),Xt=Qt(Xt,Et);for(var nt=Rt.left+Xt.left-Yt.left,ie=Rt.top+Xt.top-Yt.top,oe=0;oe<gt.modules.length;++oe){var ue=gt.modules[oe],ge=ue.position.call(this,{left:nt,top:ie,targetAttachment:we,targetPos:Rt,elementPos:Ge,offset:Yt,targetOffset:Xt,manualOffset:Ht,manualTargetOffset:Et,scrollbarSize:Oe,attachment:this.attachment});if(!1===ge)return!1;void 0!==ge&&"object"==typeof ge&&(ie=ge.top,nt=ge.left)}var _e={page:{top:ie,left:nt},viewport:{top:ie-pageYOffset,bottom:pageYOffset-ie-Ve+innerHeight,left:nt-pageXOffset,right:pageXOffset-nt-Pe+innerWidth}},Oe=void 0;return document.body.scrollWidth>window.innerWidth&&(Oe=this.cache("scrollbar-size",L),_e.viewport.bottom-=Oe.height),document.body.scrollHeight>window.innerHeight&&(Oe=this.cache("scrollbar-size",L),_e.viewport.right-=Oe.width),(-1===["","static"].indexOf(document.body.style.position)||-1===["","static"].indexOf(document.body.parentElement.style.position))&&(_e.page.bottom=document.body.scrollHeight-ie-Ve,_e.page.right=document.body.scrollWidth-nt-Pe),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&(Ae=ee.cache("target-offsetparent",function(){return g(ee.target)}),ce=ee.cache("target-offsetparent-bounds",function(){return zt(Ae)}),K=getComputedStyle(Ae),se=ce,Me={},["Top","Left","Bottom","Right"].forEach(function(Xe){Me[Xe.toLowerCase()]=parseFloat(K["border"+Xe+"Width"])}),ce.right=document.body.scrollWidth-ce.left-se.width+Me.right,ce.bottom=document.body.scrollHeight-ce.top-se.height+Me.bottom,_e.page.top>=ce.top+Me.top&&_e.page.bottom>=ce.bottom&&_e.page.left>=ce.left+Me.left&&_e.page.right>=ce.right&&(_e.offset={top:_e.page.top-ce.top+Ae.scrollTop-Me.top,left:_e.page.left-ce.left+Ae.scrollLeft-Me.left})),this.move(_e),this.history.unshift(_e),this.history.length>3&&this.history.pop(),J&&k(),!0}}},{key:"move",value:function(ee){var J=this;if(void 0!==this.element.parentNode){var we={};for(var Ge in ee)for(var Pe in we[Ge]={},ee[Ge]){for(var Ve=!1,kt=0;kt<this.history.length;++kt){var Rt=this.history[kt];if(void 0!==Rt[Ge]&&!At(Rt[Ge][Pe],ee[Ge][Pe])){Ve=!0;break}}Ve||(we[Ge][Pe]=!0)}var wt={top:"",left:"",right:"",bottom:""},Yt=function(ge,_e){if(!1!==(void 0!==J.options.optimizations?J.options.optimizations.gpu:null)){var ce=void 0,K=void 0;ge.top?(wt.top=0,ce=_e.top):(wt.bottom=0,ce=-_e.bottom),ge.left?(wt.left=0,K=_e.left):(wt.right=0,K=-_e.right),wt[N]="translateX("+Math.round(K)+"px) translateY("+Math.round(ce)+"px)","msTransform"!==N&&(wt[N]+=" translateZ(0)")}else ge.top?wt.top=_e.top+"px":wt.bottom=_e.bottom+"px",ge.left?wt.left=_e.left+"px":wt.right=_e.right+"px"},Xt=!1;if((we.page.top||we.page.bottom)&&(we.page.left||we.page.right)?(wt.position="absolute",Yt(we.page,ee.page)):(we.viewport.top||we.viewport.bottom)&&(we.viewport.left||we.viewport.right)?(wt.position="fixed",Yt(we.viewport,ee.viewport)):void 0!==we.offset&&we.offset.top&&we.offset.left?function(){wt.position="absolute";var ge=J.cache("target-offsetparent",function(){return g(J.target)});g(J.element)!==ge&&De(function(){J.element.parentNode.removeChild(J.element),ge.appendChild(J.element)}),Yt(we.offset,ee.offset),Xt=!0}():(wt.position="absolute",Yt({top:!0,left:!0},ee.page)),!Xt){for(var Ht=!0,Et=this.element.parentNode;Et&&"BODY"!==Et.tagName;){if("static"!==getComputedStyle(Et).position){Ht=!1;break}Et=Et.parentNode}Ht||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element))}var nt={},ie=!1;for(var Pe in wt){var oe=wt[Pe];this.element.style[Pe]!==oe&&(ie=!0,nt[Pe]=oe)}ie&&De(function(){Te(J.element.style,nt)})}}}]),ne}();Ne.modules=[],gt.position=q;var F=Te(Ne,gt),Te=(Q=function(ee,J){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return function ne(ee,J){var we=[],Ge=!0,Pe=!1,Ve=void 0;try{for(var kt,Rt=ee[Symbol.iterator]();!(Ge=(kt=Rt.next()).done)&&(we.push(kt.value),!J||we.length!==J);Ge=!0);}catch(wt){Pe=!0,Ve=wt}finally{try{!Ge&&Rt.return&&Rt.return()}finally{if(Pe)throw Ve}}return we}(ee,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")},zt=(tt=gt.Utils).getBounds,tt.extend),ht=(ft=tt.updateClasses,De=tt.defer,["left","top","right","bottom"]);gt.modules.push({position:function(ne){var ee=this,J=ne.top,we=ne.left,Ge=ne.targetAttachment;if(!this.options.constraints)return!0;var Pe=this.cache("element-bounds",function(){return zt(ee.element)}),Ve=Pe.height,kt=Pe.width;if(0===kt&&0===Ve&&void 0!==this.lastSize){var Rt=this.lastSize;kt=Rt.width,Ve=Rt.height}var wt=this.cache("target-bounds",function(){return ee.getTargetBounds()}),Yt=wt.height,Xt=wt.width,Ht=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(oe){var ue=oe.outOfBoundsClass,ge=oe.pinnedClass;ue&&Ht.push(ue),ge&&Ht.push(ge)}),Ht.forEach(function(oe){["left","top","right","bottom"].forEach(function(ue){Ht.push(oe+"-"+ue)})});var Et=[],nt=Te({},Ge),ie=Te({},this.attachment);return this.options.constraints.forEach(function(oe){var ue=oe.to,ge=oe.attachment,_e=oe.pin;void 0===ge&&(ge="");var Oe=void 0,Ae=void 0;if(ge.indexOf(" ")>=0){var ce=ge.split(" "),K=Q(ce,2);Ae=K[0],Oe=K[1]}else Oe=Ae=ge;var se=function Qe(ne,ee){return"scrollParent"===ee?ee=ne.scrollParents[0]:"window"===ee&&(ee=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),ee===document&&(ee=ee.documentElement),void 0!==ee.nodeType&&(we=J=zt(ee),Ge=getComputedStyle(ee),ee=[we.left,we.top,J.width+we.left,J.height+we.top],ht.forEach(function(Pe,Ve){"Top"===(Pe=Pe[0].toUpperCase()+Pe.substr(1))||"Left"===Pe?ee[Ve]+=parseFloat(Ge["border"+Pe+"Width"]):ee[Ve]-=parseFloat(Ge["border"+Pe+"Width"])})),ee;var J,we,Ge}(ee,ue);("target"===Ae||"both"===Ae)&&(J<se[1]&&"top"===nt.top&&(J+=Yt,nt.top="bottom"),J+Ve>se[3]&&"bottom"===nt.top&&(J-=Yt,nt.top="top")),"together"===Ae&&("top"===nt.top&&("bottom"===ie.top&&J<se[1]?(J+=Yt,nt.top="bottom",J+=Ve,ie.top="top"):"top"===ie.top&&J+Ve>se[3]&&J-(Ve-Yt)>=se[1]&&(J-=Ve-Yt,nt.top="bottom",ie.top="bottom")),"bottom"===nt.top&&("top"===ie.top&&J+Ve>se[3]?(J-=Yt,nt.top="top",J-=Ve,ie.top="bottom"):"bottom"===ie.top&&J<se[1]&&J+(2*Ve-Yt)<=se[3]&&(J+=Ve-Yt,nt.top="top",ie.top="top")),"middle"===nt.top&&(J+Ve>se[3]&&"top"===ie.top?(J-=Ve,ie.top="bottom"):J<se[1]&&"bottom"===ie.top&&(J+=Ve,ie.top="top"))),("target"===Oe||"both"===Oe)&&(we<se[0]&&"left"===nt.left&&(we+=Xt,nt.left="right"),we+kt>se[2]&&"right"===nt.left&&(we-=Xt,nt.left="left")),"together"===Oe&&(we<se[0]&&"left"===nt.left?"right"===ie.left?(we+=Xt,nt.left="right",we+=kt,ie.left="left"):"left"===ie.left&&(we+=Xt,nt.left="right",we-=kt,ie.left="right"):we+kt>se[2]&&"right"===nt.left?"left"===ie.left?(we-=Xt,nt.left="left",we-=kt,ie.left="right"):"right"===ie.left&&(we-=Xt,nt.left="left",we+=kt,ie.left="left"):"center"===nt.left&&(we+kt>se[2]&&"left"===ie.left?(we-=kt,ie.left="right"):we<se[0]&&"right"===ie.left&&(we+=kt,ie.left="left"))),("element"===Ae||"both"===Ae)&&(J<se[1]&&"bottom"===ie.top&&(J+=Ve,ie.top="top"),J+Ve>se[3]&&"top"===ie.top&&(J-=Ve,ie.top="bottom")),("element"===Oe||"both"===Oe)&&(we<se[0]&&("right"===ie.left?(we+=kt,ie.left="left"):"center"===ie.left&&(we+=kt/2,ie.left="left")),we+kt>se[2]&&("left"===ie.left?(we-=kt,ie.left="right"):"center"===ie.left&&(we-=kt/2,ie.left="right"))),"string"==typeof _e?_e=_e.split(",").map(function(He){return He.trim()}):!0===_e&&(_e=["top","left","right","bottom"]),_e=_e||[];var He,Me=[],xe=[];J<se[1]&&(_e.indexOf("top")>=0?(J=se[1],Me.push("top")):xe.push("top")),J+Ve>se[3]&&(_e.indexOf("bottom")>=0?(J=se[3]-Ve,Me.push("bottom")):xe.push("bottom")),we<se[0]&&(_e.indexOf("left")>=0?(we=se[0],Me.push("left")):xe.push("left")),we+kt>se[2]&&(_e.indexOf("right")>=0?(we=se[2]-kt,Me.push("right")):xe.push("right")),Me.length&&(He=void 0!==ee.options.pinnedClass?ee.options.pinnedClass:ee.getClass("pinned"),Et.push(He),Me.forEach(function(Xe){Et.push(He+"-"+Xe)})),xe.length&&function(){var He;He=void 0!==ee.options.outOfBoundsClass?ee.options.outOfBoundsClass:ee.getClass("out-of-bounds"),Et.push(He),xe.forEach(function(Xe){Et.push(He+"-"+Xe)})}(),(Me.indexOf("left")>=0||Me.indexOf("right")>=0)&&(ie.left=nt.left=!1),(Me.indexOf("top")>=0||Me.indexOf("bottom")>=0)&&(ie.top=nt.top=!1),(nt.top!==Ge.top||nt.left!==Ge.left||ie.top!==ee.attachment.top||ie.left!==ee.attachment.left)&&ee.updateAttachClasses(ie,nt)}),De(function(){!1!==ee.options.addTargetClasses&&ft(ee.target,Et,Ht),ft(ee.element,Et,Ht)}),{top:J,left:we}}});var tt,zt=(tt=gt.Utils).getBounds,ft=tt.updateClasses;return De=tt.defer,gt.modules.push({position:function(ne){var ee=this,J=ne.top,we=ne.left,Ge=this.cache("element-bounds",function(){return zt(ee.element)}),Pe=Ge.height,Ve=Ge.width,kt=this.getTargetBounds(),Rt=J+Pe,wt=we+Ve,Yt=[];J<=kt.bottom&&Rt>=kt.top&&["left","right"].forEach(function(nt){var ie=kt[nt];(ie===we||ie===wt)&&Yt.push(nt)}),we<=kt.right&&wt>=kt.left&&["top","bottom"].forEach(function(nt){var ie=kt[nt];(ie===J||ie===Rt)&&Yt.push(nt)});var Xt=[],Ht=[];return Xt.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(nt){Xt.push(ee.getClass("abutted")+"-"+nt)}),Yt.length&&Ht.push(this.getClass("abutted")),Yt.forEach(function(nt){Ht.push(ee.getClass("abutted")+"-"+nt)}),De(function(){!1!==ee.options.addTargetClasses&&ft(ee.target,Ht,Xt),ft(ee.element,Ht,Xt)}),!0}}),Q=function(ee,J){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return function ne(ee,J){var we=[],Ge=!0,Pe=!1,Ve=void 0;try{for(var kt,Rt=ee[Symbol.iterator]();!(Ge=(kt=Rt.next()).done)&&(we.push(kt.value),!J||we.length!==J);Ge=!0);}catch(wt){Pe=!0,Ve=wt}finally{try{!Ge&&Rt.return&&Rt.return()}finally{if(Pe)throw Ve}}return we}(ee,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")},gt.modules.push({position:function(ne){var ee=ne.top,J=ne.left;if(this.options.shift){var we=this.options.shift;"function"==typeof this.options.shift&&(we=this.options.shift.call(this,{top:ee,left:J}));var Ge=void 0,Pe=void 0;if("string"==typeof we){(we=we.split(" "))[1]=we[1]||we[0];var kt=Q(we,2);Ge=kt[0],Pe=kt[1],Ge=parseFloat(Ge,10),Pe=parseFloat(Pe,10)}else Ge=we.top,Pe=we.left;return{top:ee+=Ge,left:J+=Pe}}}}),F}),function(v,ke){"object"==typeof exports&&"undefined"!=typeof module?ke(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],ke):ke(v.bootstrap={},v.jQuery,v.Popper)}(this,function(v,ke,Le){"use strict";function Fe(Q,ne){for(var ee=0;ee<ne.length;ee++){var J=ne[ee];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,J.key,J)}}function at(Q,ne,ee){return ne&&Fe(Q.prototype,ne),ee&&Fe(Q,ee),Q}function vt(){return(vt=Object.assign||function(Q){for(var ne=1;ne<arguments.length;ne++){var ee=arguments[ne];for(var J in ee)Object.prototype.hasOwnProperty.call(ee,J)&&(Q[J]=ee[J])}return Q}).apply(this,arguments)}ke=ke&&ke.hasOwnProperty("default")?ke.default:ke,Le=Le&&Le.hasOwnProperty("default")?Le.default:Le;var Pt,At,Ct,Qt,ut,Qe,T,j,M,R,u,g,f,w,N,Z,de,pe,Q,ne,J,ve=(Q=ke,ne=!1,J={TRANSITION_END:"bsTransitionEnd",getUID:function(we){do{we+=~~(1e6*Math.random())}while(document.getElementById(we));return we},getSelectorFromElement:function(we){var Ge,Pe=we.getAttribute("data-target");Pe&&"#"!==Pe||(Pe=we.getAttribute("href")||""),"#"===Pe.charAt(0)&&(Ge=Pe,Pe=Ge="function"==typeof Q.escapeSelector?Q.escapeSelector(Ge).substr(1):Ge.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1"));try{return Q(document).find(Pe).length>0?Pe:null}catch(Ve){return null}},reflow:function(we){return we.offsetHeight},triggerTransitionEnd:function(we){Q(we).trigger(ne.end)},supportsTransitionEnd:function(){return Boolean(ne)},isElement:function(we){return(we[0]||we).nodeType},typeCheckConfig:function(we,Ge,Pe){for(var Ve in Pe)if(Object.prototype.hasOwnProperty.call(Pe,Ve)){var kt=Pe[Ve],Rt=Ge[Ve],wt=Rt&&J.isElement(Rt)?"element":{}.toString.call(Rt).match(/\s([a-zA-Z]+)/)[1].toLowerCase();if(!new RegExp(kt).test(wt))throw new Error(we.toUpperCase()+': Option "'+Ve+'" provided type "'+wt+'" but expected type "'+kt+'".')}}},ne=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},Q.fn.emulateTransitionEnd=function ee(we){var Ge=this,Pe=!1;return Q(this).one(J.TRANSITION_END,function(){Pe=!0}),setTimeout(function(){Pe||J.triggerTransitionEnd(Ge)},we),this},J.supportsTransitionEnd()&&(Q.event.special[J.TRANSITION_END]={bindType:ne.end,delegateType:ne.end,handle:function(we){if(Q(we.target).is(this))return we.handleObj.handler.apply(this,arguments)}}),J),We=(Qt="."+(Ct="bs.alert"),ut=(Pt=ke).fn[At="alert"],Qe={CLOSE:"close"+Qt,CLOSED:"closed"+Qt,CLICK_DATA_API:"click"+Qt+".data-api"},T=function(){function Q(ee){this._element=ee}var ne=Q.prototype;return ne.close=function(ee){var J=this._getRootElement(ee=ee||this._element);this._triggerCloseEvent(J).isDefaultPrevented()||this._removeElement(J)},ne.dispose=function(){Pt.removeData(this._element,Ct),this._element=null},ne._getRootElement=function(ee){var J=ve.getSelectorFromElement(ee),we=!1;return J&&(we=Pt(J)[0]),we||(we=Pt(ee).closest(".alert")[0]),we},ne._triggerCloseEvent=function(ee){var J=Pt.Event(Qe.CLOSE);return Pt(ee).trigger(J),J},ne._removeElement=function(ee){var J=this;Pt(ee).removeClass("show"),ve.supportsTransitionEnd()&&Pt(ee).hasClass("fade")?Pt(ee).one(ve.TRANSITION_END,function(we){return J._destroyElement(ee,we)}).emulateTransitionEnd(150):this._destroyElement(ee)},ne._destroyElement=function(ee){Pt(ee).detach().trigger(Qe.CLOSED).remove()},Q._jQueryInterface=function(ee){return this.each(function(){var J=Pt(this),we=J.data(Ct);we||(we=new Q(this),J.data(Ct,we)),"close"===ee&&we[ee](this)})},Q._handleDismiss=function(ee){return function(J){J&&J.preventDefault(),ee.close(this)}},at(Q,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),Q}(),Pt(document).on(Qe.CLICK_DATA_API,'[data-dismiss="alert"]',T._handleDismiss(new T)),Pt.fn[At]=T._jQueryInterface,Pt.fn[At].Constructor=T,Pt.fn[At].noConflict=function(){return Pt.fn[At]=ut,T._jQueryInterface},T),Ie=(u="."+(R="bs.button"),f=(j=ke).fn[M="button"],w="active",N='[data-toggle^="button"]',Z=".btn",de={CLICK_DATA_API:"click"+u+(g=".data-api"),FOCUS_BLUR_DATA_API:"focus"+u+g+" blur"+u+g},pe=function(){function Q(ee){this._element=ee}var ne=Q.prototype;return ne.toggle=function(){var ee=!0,J=!0,we=j(this._element).closest('[data-toggle="buttons"]')[0];if(we){var Ge=j(this._element).find("input")[0];if(Ge){if("radio"===Ge.type)if(Ge.checked&&j(this._element).hasClass(w))ee=!1;else{var Pe=j(we).find(".active")[0];Pe&&j(Pe).removeClass(w)}if(ee){if(Ge.hasAttribute("disabled")||we.hasAttribute("disabled")||Ge.classList.contains("disabled")||we.classList.contains("disabled"))return;Ge.checked=!j(this._element).hasClass(w),j(Ge).trigger("change")}Ge.focus(),J=!1}}J&&this._element.setAttribute("aria-pressed",!j(this._element).hasClass(w)),ee&&j(this._element).toggleClass(w)},ne.dispose=function(){j.removeData(this._element,R),this._element=null},Q._jQueryInterface=function(ee){return this.each(function(){var J=j(this).data(R);J||(J=new Q(this),j(this).data(R,J)),"toggle"===ee&&J[ee]()})},at(Q,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),Q}(),j(document).on(de.CLICK_DATA_API,N,function(Q){Q.preventDefault();var ne=Q.target;j(ne).hasClass("btn")||(ne=j(ne).closest(Z)),pe._jQueryInterface.call(j(ne),"toggle")}).on(de.FOCUS_BLUR_DATA_API,N,function(Q){var ne=j(Q.target).closest(Z)[0];j(ne).toggleClass("focus",/^focus(in)?$/.test(Q.type))}),j.fn[M]=pe._jQueryInterface,j.fn[M].Constructor=pe,j.fn[M].noConflict=function(){return j.fn[M]=f,pe._jQueryInterface},pe),Ne=function(Q){var ne="carousel",ee="bs.carousel",J="."+ee,we=Q.fn[ne],Ge={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},Pe={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},Ve="next",kt="prev",Yt={SLIDE:"slide"+J,SLID:"slid"+J,KEYDOWN:"keydown"+J,MOUSEENTER:"mouseenter"+J,MOUSELEAVE:"mouseleave"+J,TOUCHEND:"touchend"+J,LOAD_DATA_API:"load"+J+".data-api",CLICK_DATA_API:"click"+J+".data-api"},Ht="active",_e=function(){function Oe(ce,K){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(K),this._element=Q(ce)[0],this._indicatorsElement=Q(this._element).find(".carousel-indicators")[0],this._addEventListeners()}var Ae=Oe.prototype;return Ae.next=function(){this._isSliding||this._slide(Ve)},Ae.nextWhenVisible=function(){!document.hidden&&Q(this._element).is(":visible")&&"hidden"!==Q(this._element).css("visibility")&&this.next()},Ae.prev=function(){this._isSliding||this._slide(kt)},Ae.pause=function(ce){ce||(this._isPaused=!0),Q(this._element).find(".carousel-item-next, .carousel-item-prev")[0]&&ve.supportsTransitionEnd()&&(ve.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},Ae.cycle=function(ce){ce||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},Ae.to=function(ce){var K=this;this._activeElement=Q(this._element).find(".active.carousel-item")[0];var se=this._getItemIndex(this._activeElement);if(!(ce>this._items.length-1||ce<0))if(this._isSliding)Q(this._element).one(Yt.SLID,function(){return K.to(ce)});else{if(se===ce)return this.pause(),void this.cycle();this._slide(ce>se?Ve:kt,this._items[ce])}},Ae.dispose=function(){Q(this._element).off(J),Q.removeData(this._element,ee),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},Ae._getConfig=function(ce){return ce=vt({},Ge,ce),ve.typeCheckConfig(ne,ce,Pe),ce},Ae._addEventListeners=function(){var ce=this;this._config.keyboard&&Q(this._element).on(Yt.KEYDOWN,function(K){return ce._keydown(K)}),"hover"===this._config.pause&&(Q(this._element).on(Yt.MOUSEENTER,function(K){return ce.pause(K)}).on(Yt.MOUSELEAVE,function(K){return ce.cycle(K)}),"ontouchstart"in document.documentElement&&Q(this._element).on(Yt.TOUCHEND,function(){ce.pause(),ce.touchTimeout&&clearTimeout(ce.touchTimeout),ce.touchTimeout=setTimeout(function(K){return ce.cycle(K)},500+ce._config.interval)}))},Ae._keydown=function(ce){if(!/input|textarea/i.test(ce.target.tagName))switch(ce.which){case 37:ce.preventDefault(),this.prev();break;case 39:ce.preventDefault(),this.next()}},Ae._getItemIndex=function(ce){return this._items=Q.makeArray(Q(ce).parent().find(".carousel-item")),this._items.indexOf(ce)},Ae._getItemByDirection=function(ce,K){var se=ce===Ve,Me=ce===kt,xe=this._getItemIndex(K);if((Me&&0===xe||se&&xe===this._items.length-1)&&!this._config.wrap)return K;var Xe=(xe+(ce===kt?-1:1))%this._items.length;return-1===Xe?this._items[this._items.length-1]:this._items[Xe]},Ae._triggerSlideEvent=function(ce,K){var se=this._getItemIndex(ce),Me=this._getItemIndex(Q(this._element).find(".active.carousel-item")[0]),xe=Q.Event(Yt.SLIDE,{relatedTarget:ce,direction:K,from:Me,to:se});return Q(this._element).trigger(xe),xe},Ae._setActiveIndicatorElement=function(ce){if(this._indicatorsElement){Q(this._indicatorsElement).find(".active").removeClass(Ht);var K=this._indicatorsElement.children[this._getItemIndex(ce)];K&&Q(K).addClass(Ht)}},Ae._slide=function(ce,K){var se,Me,xe,He=this,Xe=Q(this._element).find(".active.carousel-item")[0],$e=this._getItemIndex(Xe),Be=K||Xe&&this._getItemByDirection(ce,Xe),Ze=this._getItemIndex(Be),_t=Boolean(this._interval);if(ce===Ve?(se="carousel-item-left",Me="carousel-item-next",xe="left"):(se="carousel-item-right",Me="carousel-item-prev",xe="right"),Be&&Q(Be).hasClass(Ht))this._isSliding=!1;else if(!this._triggerSlideEvent(Be,xe).isDefaultPrevented()&&Xe&&Be){this._isSliding=!0,_t&&this.pause(),this._setActiveIndicatorElement(Be);var It=Q.Event(Yt.SLID,{relatedTarget:Be,direction:xe,from:$e,to:Ze});ve.supportsTransitionEnd()&&Q(this._element).hasClass("slide")?(Q(Be).addClass(Me),ve.reflow(Be),Q(Xe).addClass(se),Q(Be).addClass(se),Q(Xe).one(ve.TRANSITION_END,function(){Q(Be).removeClass(se+" "+Me).addClass(Ht),Q(Xe).removeClass(Ht+" "+Me+" "+se),He._isSliding=!1,setTimeout(function(){return Q(He._element).trigger(It)},0)}).emulateTransitionEnd(600)):(Q(Xe).removeClass(Ht),Q(Be).addClass(Ht),this._isSliding=!1,Q(this._element).trigger(It)),_t&&this.cycle()}},Oe._jQueryInterface=function(ce){return this.each(function(){var K=Q(this).data(ee),se=vt({},Ge,Q(this).data());"object"==typeof ce&&(se=vt({},se,ce));var Me="string"==typeof ce?ce:se.slide;if(K||(K=new Oe(this,se),Q(this).data(ee,K)),"number"==typeof ce)K.to(ce);else if("string"==typeof Me){if(void 0===K[Me])throw new TypeError('No method named "'+Me+'"');K[Me]()}else se.interval&&(K.pause(),K.cycle())})},Oe._dataApiClickHandler=function(ce){var K=ve.getSelectorFromElement(this);if(K){var se=Q(K)[0];if(se&&Q(se).hasClass("carousel")){var Me=vt({},Q(se).data(),Q(this).data()),xe=this.getAttribute("data-slide-to");xe&&(Me.interval=!1),Oe._jQueryInterface.call(Q(se),Me),xe&&Q(se).data(ee).to(xe),ce.preventDefault()}}},at(Oe,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Ge}}]),Oe}();return Q(document).on(Yt.CLICK_DATA_API,"[data-slide], [data-slide-to]",_e._dataApiClickHandler),Q(window).on(Yt.LOAD_DATA_API,function(){Q('[data-ride="carousel"]').each(function(){var Oe=Q(this);_e._jQueryInterface.call(Oe,Oe.data())})}),Q.fn[ne]=_e._jQueryInterface,Q.fn[ne].Constructor=_e,Q.fn[ne].noConflict=function(){return Q.fn[ne]=we,_e._jQueryInterface},_e}(ke),F=function(Q){var ne="collapse",ee="bs.collapse",J="."+ee,we=Q.fn[ne],Ge={toggle:!0,parent:""},Pe={toggle:"boolean",parent:"(string|element)"},Ve={SHOW:"show"+J,SHOWN:"shown"+J,HIDE:"hide"+J,HIDDEN:"hidden"+J,CLICK_DATA_API:"click"+J+".data-api"},kt="show",Rt="collapse",wt="collapsing",Yt="collapsed",nt=function(){function ie(ue,ge){this._isTransitioning=!1,this._element=ue,this._config=this._getConfig(ge),this._triggerArray=Q.makeArray(Q('[data-toggle="collapse"][href="#'+ue.id+'"],[data-toggle="collapse"][data-target="#'+ue.id+'"]'));for(var _e=Q('[data-toggle="collapse"]'),Oe=0;Oe<_e.length;Oe++){var Ae=_e[Oe],ce=ve.getSelectorFromElement(Ae);null!==ce&&Q(ce).filter(ue).length>0&&(this._selector=ce,this._triggerArray.push(Ae))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var oe=ie.prototype;return oe.toggle=function(){Q(this._element).hasClass(kt)?this.hide():this.show()},oe.show=function(){var ue,ge,_e=this;if(!(this._isTransitioning||Q(this._element).hasClass(kt)||(this._parent&&0===(ue=Q.makeArray(Q(this._parent).find(".show, .collapsing").filter('[data-parent="'+this._config.parent+'"]'))).length&&(ue=null),ue&&(ge=Q(ue).not(this._selector).data(ee))&&ge._isTransitioning))){var Oe=Q.Event(Ve.SHOW);if(Q(this._element).trigger(Oe),!Oe.isDefaultPrevented()){ue&&(ie._jQueryInterface.call(Q(ue).not(this._selector),"hide"),ge||Q(ue).data(ee,null));var Ae=this._getDimension();Q(this._element).removeClass(Rt).addClass(wt),this._element.style[Ae]=0,this._triggerArray.length>0&&Q(this._triggerArray).removeClass(Yt).attr("aria-expanded",!0),this.setTransitioning(!0);var ce=function(){Q(_e._element).removeClass(wt).addClass(Rt).addClass(kt),_e._element.style[Ae]="",_e.setTransitioning(!1),Q(_e._element).trigger(Ve.SHOWN)};if(ve.supportsTransitionEnd()){var K="scroll"+(Ae[0].toUpperCase()+Ae.slice(1));Q(this._element).one(ve.TRANSITION_END,ce).emulateTransitionEnd(600),this._element.style[Ae]=this._element[K]+"px"}else ce()}}},oe.hide=function(){var ue=this;if(!this._isTransitioning&&Q(this._element).hasClass(kt)){var ge=Q.Event(Ve.HIDE);if(Q(this._element).trigger(ge),!ge.isDefaultPrevented()){var _e=this._getDimension();if(this._element.style[_e]=this._element.getBoundingClientRect()[_e]+"px",ve.reflow(this._element),Q(this._element).addClass(wt).removeClass(Rt).removeClass(kt),this._triggerArray.length>0)for(var Oe=0;Oe<this._triggerArray.length;Oe++){var Ae=this._triggerArray[Oe],ce=ve.getSelectorFromElement(Ae);null!==ce&&(Q(ce).hasClass(kt)||Q(Ae).addClass(Yt).attr("aria-expanded",!1))}this.setTransitioning(!0);var K=function(){ue.setTransitioning(!1),Q(ue._element).removeClass(wt).addClass(Rt).trigger(Ve.HIDDEN)};this._element.style[_e]="",ve.supportsTransitionEnd()?Q(this._element).one(ve.TRANSITION_END,K).emulateTransitionEnd(600):K()}}},oe.setTransitioning=function(ue){this._isTransitioning=ue},oe.dispose=function(){Q.removeData(this._element,ee),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},oe._getConfig=function(ue){return(ue=vt({},Ge,ue)).toggle=Boolean(ue.toggle),ve.typeCheckConfig(ne,ue,Pe),ue},oe._getDimension=function(){return Q(this._element).hasClass("width")?"width":"height"},oe._getParent=function(){var ue=this,ge=null;ve.isElement(this._config.parent)?(ge=this._config.parent,void 0!==this._config.parent.jquery&&(ge=this._config.parent[0])):ge=Q(this._config.parent)[0];var _e='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return Q(ge).find(_e).each(function(Oe,Ae){ue._addAriaAndCollapsedClass(ie._getTargetFromElement(Ae),[Ae])}),ge},oe._addAriaAndCollapsedClass=function(ue,ge){if(ue){var _e=Q(ue).hasClass(kt);ge.length>0&&Q(ge).toggleClass(Yt,!_e).attr("aria-expanded",_e)}},ie._getTargetFromElement=function(ue){var ge=ve.getSelectorFromElement(ue);return ge?Q(ge)[0]:null},ie._jQueryInterface=function(ue){return this.each(function(){var ge=Q(this),_e=ge.data(ee),Oe=vt({},Ge,ge.data(),"object"==typeof ue&&ue);if(!_e&&Oe.toggle&&/show|hide/.test(ue)&&(Oe.toggle=!1),_e||(_e=new ie(this,Oe),ge.data(ee,_e)),"string"==typeof ue){if(void 0===_e[ue])throw new TypeError('No method named "'+ue+'"');_e[ue]()}})},at(ie,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Ge}}]),ie}();return Q(document).on(Ve.CLICK_DATA_API,'[data-toggle="collapse"]',function(ie){"A"===ie.currentTarget.tagName&&ie.preventDefault();var oe=Q(this),ue=ve.getSelectorFromElement(this);Q(ue).each(function(){var ge=Q(this),_e=ge.data(ee)?"toggle":oe.data();nt._jQueryInterface.call(ge,_e)})}),Q.fn[ne]=nt._jQueryInterface,Q.fn[ne].Constructor=nt,Q.fn[ne].noConflict=function(){return Q.fn[ne]=we,nt._jQueryInterface},nt}(ke),Te=function(Q){var ne="dropdown",ee="bs.dropdown",J="."+ee,we=".data-api",Ge=Q.fn[ne],Pe=new RegExp("38|40|27"),Ve={HIDE:"hide"+J,HIDDEN:"hidden"+J,SHOW:"show"+J,SHOWN:"shown"+J,CLICK:"click"+J,CLICK_DATA_API:"click"+J+we,KEYDOWN_DATA_API:"keydown"+J+we,KEYUP_DATA_API:"keyup"+J+we},kt="disabled",Rt="show",Ht="dropdown-menu-right",ie='[data-toggle="dropdown"]',ue=".dropdown-menu",xe={offset:0,flip:!0,boundary:"scrollParent"},He={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},Xe=function(){function $e(Ze,_t){this._element=Ze,this._popper=null,this._config=this._getConfig(_t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var Be=$e.prototype;return Be.toggle=function(){if(!this._element.disabled&&!Q(this._element).hasClass(kt)){var Ze=$e._getParentFromElement(this._element),_t=Q(this._menu).hasClass(Rt);if($e._clearMenus(),!_t){var It={relatedTarget:this._element},Vt=Q.Event(Ve.SHOW,It);if(Q(Ze).trigger(Vt),!Vt.isDefaultPrevented()){if(!this._inNavbar){if(void 0===Le)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var Wt=this._element;Q(Ze).hasClass("dropup")&&(Q(this._menu).hasClass("dropdown-menu-left")||Q(this._menu).hasClass(Ht))&&(Wt=Ze),"scrollParent"!==this._config.boundary&&Q(Ze).addClass("position-static"),this._popper=new Le(Wt,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===Q(Ze).closest(".navbar-nav").length&&Q("body").children().on("mouseover",null,Q.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),Q(this._menu).toggleClass(Rt),Q(Ze).toggleClass(Rt).trigger(Q.Event(Ve.SHOWN,It))}}}},Be.dispose=function(){Q.removeData(this._element,ee),Q(this._element).off(J),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},Be.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},Be._addEventListeners=function(){var Ze=this;Q(this._element).on(Ve.CLICK,function(_t){_t.preventDefault(),_t.stopPropagation(),Ze.toggle()})},Be._getConfig=function(Ze){return Ze=vt({},this.constructor.Default,Q(this._element).data(),Ze),ve.typeCheckConfig(ne,Ze,this.constructor.DefaultType),Ze},Be._getMenuElement=function(){if(!this._menu){var Ze=$e._getParentFromElement(this._element);this._menu=Q(Ze).find(ue)[0]}return this._menu},Be._getPlacement=function(){var Ze=Q(this._element).parent(),_t="bottom-start";return Ze.hasClass("dropup")?(_t="top-start",Q(this._menu).hasClass(Ht)&&(_t="top-end")):Ze.hasClass("dropright")?_t="right-start":Ze.hasClass("dropleft")?_t="left-start":Q(this._menu).hasClass(Ht)&&(_t="bottom-end"),_t},Be._detectNavbar=function(){return Q(this._element).closest(".navbar").length>0},Be._getPopperConfig=function(){var Ze=this,_t={};return"function"==typeof this._config.offset?_t.fn=function(It){return It.offsets=vt({},It.offsets,Ze._config.offset(It.offsets)||{}),It}:_t.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:_t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}},$e._jQueryInterface=function(Ze){return this.each(function(){var _t=Q(this).data(ee);if(_t||(_t=new $e(this,"object"==typeof Ze?Ze:null),Q(this).data(ee,_t)),"string"==typeof Ze){if(void 0===_t[Ze])throw new TypeError('No method named "'+Ze+'"');_t[Ze]()}})},$e._clearMenus=function(Ze){if(!Ze||3!==Ze.which&&("keyup"!==Ze.type||9===Ze.which))for(var _t=Q.makeArray(Q(ie)),It=0;It<_t.length;It++){var Vt=$e._getParentFromElement(_t[It]),Wt=Q(_t[It]).data(ee),$t={relatedTarget:_t[It]};if(Wt){var Zt=Wt._menu;if(Q(Vt).hasClass(Rt)&&!(Ze&&("click"===Ze.type&&/input|textarea/i.test(Ze.target.tagName)||"keyup"===Ze.type&&9===Ze.which)&&Q.contains(Vt,Ze.target))){var ki=Q.Event(Ve.HIDE,$t);Q(Vt).trigger(ki),ki.isDefaultPrevented()||("ontouchstart"in document.documentElement&&Q("body").children().off("mouseover",null,Q.noop),_t[It].setAttribute("aria-expanded","false"),Q(Zt).removeClass(Rt),Q(Vt).removeClass(Rt).trigger(Q.Event(Ve.HIDDEN,$t)))}}}},$e._getParentFromElement=function(Ze){var _t,It=ve.getSelectorFromElement(Ze);return It&&(_t=Q(It)[0]),_t||Ze.parentNode},$e._dataApiKeydownHandler=function(Ze){if((/input|textarea/i.test(Ze.target.tagName)?!(32===Ze.which||27!==Ze.which&&(40!==Ze.which&&38!==Ze.which||Q(Ze.target).closest(ue).length)):Pe.test(Ze.which))&&(Ze.preventDefault(),Ze.stopPropagation(),!this.disabled&&!Q(this).hasClass(kt))){var _t=$e._getParentFromElement(this),It=Q(_t).hasClass(Rt);if((It||27===Ze.which&&32===Ze.which)&&(!It||27!==Ze.which&&32!==Ze.which)){var Vt=Q(_t).find(".dropdown-menu .dropdown-item:not(.disabled)").get();if(0!==Vt.length){var Wt=Vt.indexOf(Ze.target);38===Ze.which&&Wt>0&&Wt--,40===Ze.which&&Wt<Vt.length-1&&Wt++,Wt<0&&(Wt=0),Vt[Wt].focus()}}else{if(27===Ze.which){var $t=Q(_t).find(ie)[0];Q($t).trigger("focus")}Q(this).trigger("click")}}},at($e,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return xe}},{key:"DefaultType",get:function(){return He}}]),$e}();return Q(document).on(Ve.KEYDOWN_DATA_API,ie,Xe._dataApiKeydownHandler).on(Ve.KEYDOWN_DATA_API,ue,Xe._dataApiKeydownHandler).on(Ve.CLICK_DATA_API+" "+Ve.KEYUP_DATA_API,Xe._clearMenus).on(Ve.CLICK_DATA_API,ie,function($e){$e.preventDefault(),$e.stopPropagation(),Xe._jQueryInterface.call(Q(this),"toggle")}).on(Ve.CLICK_DATA_API,".dropdown form",function($e){$e.stopPropagation()}),Q.fn[ne]=Xe._jQueryInterface,Q.fn[ne].Constructor=Xe,Q.fn[ne].noConflict=function(){return Q.fn[ne]=Ge,Xe._jQueryInterface},Xe}(ke),ht=function(Q){var ee="bs.modal",J="."+ee,we=Q.fn.modal,Ge={backdrop:!0,keyboard:!0,focus:!0,show:!0},Pe={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Ve={HIDE:"hide"+J,HIDDEN:"hidden"+J,SHOW:"show"+J,SHOWN:"shown"+J,FOCUSIN:"focusin"+J,RESIZE:"resize"+J,CLICK_DISMISS:"click.dismiss"+J,KEYDOWN_DISMISS:"keydown.dismiss"+J,MOUSEUP_DISMISS:"mouseup.dismiss"+J,MOUSEDOWN_DISMISS:"mousedown.dismiss"+J,CLICK_DATA_API:"click"+J+".data-api"},wt="modal-open",Yt="fade",Xt="show",Ht_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Et=function(){function nt(oe,ue){this._config=this._getConfig(ue),this._element=oe,this._dialog=Q(oe).find(".modal-dialog")[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var ie=nt.prototype;return ie.toggle=function(oe){return this._isShown?this.hide():this.show(oe)},ie.show=function(oe){var ue=this;if(!this._isTransitioning&&!this._isShown){ve.supportsTransitionEnd()&&Q(this._element).hasClass(Yt)&&(this._isTransitioning=!0);var ge=Q.Event(Ve.SHOW,{relatedTarget:oe});Q(this._element).trigger(ge),this._isShown||ge.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),Q(document.body).addClass(wt),this._setEscapeEvent(),this._setResizeEvent(),Q(this._element).on(Ve.CLICK_DISMISS,'[data-dismiss="modal"]',function(_e){return ue.hide(_e)}),Q(this._dialog).on(Ve.MOUSEDOWN_DISMISS,function(){Q(ue._element).one(Ve.MOUSEUP_DISMISS,function(_e){Q(_e.target).is(ue._element)&&(ue._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return ue._showElement(oe)}))}},ie.hide=function(oe){var ue=this;if(oe&&oe.preventDefault(),!this._isTransitioning&&this._isShown){var ge=Q.Event(Ve.HIDE);if(Q(this._element).trigger(ge),this._isShown&&!ge.isDefaultPrevented()){this._isShown=!1;var _e=ve.supportsTransitionEnd()&&Q(this._element).hasClass(Yt);_e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),Q(document).off(Ve.FOCUSIN),Q(this._element).removeClass(Xt),Q(this._element).off(Ve.CLICK_DISMISS),Q(this._dialog).off(Ve.MOUSEDOWN_DISMISS),_e?Q(this._element).one(ve.TRANSITION_END,function(Oe){return ue._hideModal(Oe)}).emulateTransitionEnd(300):this._hideModal()}}},ie.dispose=function(){Q.removeData(this._element,ee),Q(window,document,this._element,this._backdrop).off(J),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},ie.handleUpdate=function(){this._adjustDialog()},ie._getConfig=function(oe){return oe=vt({},Ge,oe),ve.typeCheckConfig("modal",oe,Pe),oe},ie._showElement=function(oe){var ue=this,ge=ve.supportsTransitionEnd()&&Q(this._element).hasClass(Yt);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,ge&&ve.reflow(this._element),Q(this._element).addClass(Xt),this._config.focus&&this._enforceFocus();var _e=Q.Event(Ve.SHOWN,{relatedTarget:oe}),Oe=function(){ue._config.focus&&ue._element.focus(),ue._isTransitioning=!1,Q(ue._element).trigger(_e)};ge?Q(this._dialog).one(ve.TRANSITION_END,Oe).emulateTransitionEnd(300):Oe()},ie._enforceFocus=function(){var oe=this;Q(document).off(Ve.FOCUSIN).on(Ve.FOCUSIN,function(ue){document!==ue.target&&oe._element!==ue.target&&0===Q(oe._element).has(ue.target).length&&oe._element.focus()})},ie._setEscapeEvent=function(){var oe=this;this._isShown&&this._config.keyboard?Q(this._element).on(Ve.KEYDOWN_DISMISS,function(ue){27===ue.which&&(ue.preventDefault(),oe.hide())}):this._isShown||Q(this._element).off(Ve.KEYDOWN_DISMISS)},ie._setResizeEvent=function(){var oe=this;this._isShown?Q(window).on(Ve.RESIZE,function(ue){return oe.handleUpdate(ue)}):Q(window).off(Ve.RESIZE)},ie._hideModal=function(){var oe=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){Q(document.body).removeClass(wt),oe._resetAdjustments(),oe._resetScrollbar(),Q(oe._element).trigger(Ve.HIDDEN)})},ie._removeBackdrop=function(){this._backdrop&&(Q(this._backdrop).remove(),this._backdrop=null)},ie._showBackdrop=function(oe){var ue=this,ge=Q(this._element).hasClass(Yt)?Yt:"";if(this._isShown&&this._config.backdrop){var _e=ve.supportsTransitionEnd()&&ge;if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",ge&&Q(this._backdrop).addClass(ge),Q(this._backdrop).appendTo(document.body),Q(this._element).on(Ve.CLICK_DISMISS,function(Ae){ue._ignoreBackdropClick?ue._ignoreBackdropClick=!1:Ae.target===Ae.currentTarget&&("static"===ue._config.backdrop?ue._element.focus():ue.hide())}),_e&&ve.reflow(this._backdrop),Q(this._backdrop).addClass(Xt),!oe)return;if(!_e)return void oe();Q(this._backdrop).one(ve.TRANSITION_END,oe).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){Q(this._backdrop).removeClass(Xt);var Oe=function(){ue._removeBackdrop(),oe&&oe()};ve.supportsTransitionEnd()&&Q(this._element).hasClass(Yt)?Q(this._backdrop).one(ve.TRANSITION_END,Oe).emulateTransitionEnd(150):Oe()}else oe&&oe()},ie._adjustDialog=function(){var oe=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&oe&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!oe&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},ie._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},ie._checkScrollbar=function(){var oe=document.body.getBoundingClientRect();this._isBodyOverflowing=oe.left+oe.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},ie._setScrollbar=function(){var oe=this;if(this._isBodyOverflowing){Q(Ht_FIXED_CONTENT).each(function(_e,Oe){var Ae=Q(Oe)[0].style.paddingRight,ce=Q(Oe).css("padding-right");Q(Oe).data("padding-right",Ae).css("padding-right",parseFloat(ce)+oe._scrollbarWidth+"px")}),Q(".sticky-top").each(function(_e,Oe){var Ae=Q(Oe)[0].style.marginRight,ce=Q(Oe).css("margin-right");Q(Oe).data("margin-right",Ae).css("margin-right",parseFloat(ce)-oe._scrollbarWidth+"px")}),Q(".navbar-toggler").each(function(_e,Oe){var Ae=Q(Oe)[0].style.marginRight,ce=Q(Oe).css("margin-right");Q(Oe).data("margin-right",Ae).css("margin-right",parseFloat(ce)+oe._scrollbarWidth+"px")});var ue=document.body.style.paddingRight,ge=Q("body").css("padding-right");Q("body").data("padding-right",ue).css("padding-right",parseFloat(ge)+this._scrollbarWidth+"px")}},ie._resetScrollbar=function(){Q(Ht_FIXED_CONTENT).each(function(ue,ge){var _e=Q(ge).data("padding-right");void 0!==_e&&Q(ge).css("padding-right",_e).removeData("padding-right")}),Q(".sticky-top, .navbar-toggler").each(function(ue,ge){var _e=Q(ge).data("margin-right");void 0!==_e&&Q(ge).css("margin-right",_e).removeData("margin-right")});var oe=Q("body").data("padding-right");void 0!==oe&&Q("body").css("padding-right",oe).removeData("padding-right")},ie._getScrollbarWidth=function(){var oe=document.createElement("div");oe.className="modal-scrollbar-measure",document.body.appendChild(oe);var ue=oe.getBoundingClientRect().width-oe.clientWidth;return document.body.removeChild(oe),ue},nt._jQueryInterface=function(oe,ue){return this.each(function(){var ge=Q(this).data(ee),_e=vt({},nt.Default,Q(this).data(),"object"==typeof oe&&oe);if(ge||(ge=new nt(this,_e),Q(this).data(ee,ge)),"string"==typeof oe){if(void 0===ge[oe])throw new TypeError('No method named "'+oe+'"');ge[oe](ue)}else _e.show&&ge.show(ue)})},at(nt,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Ge}}]),nt}();return Q(document).on(Ve.CLICK_DATA_API,'[data-toggle="modal"]',function(nt){var ie,oe=this,ue=ve.getSelectorFromElement(this);ue&&(ie=Q(ue)[0]);var ge=Q(ie).data(ee)?"toggle":vt({},Q(ie).data(),Q(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||nt.preventDefault();var _e=Q(ie).one(Ve.SHOW,function(Oe){Oe.isDefaultPrevented()||_e.one(Ve.HIDDEN,function(){Q(oe).is(":visible")&&oe.focus()})});Et._jQueryInterface.call(Q(ie),ge,this)}),Q.fn.modal=Et._jQueryInterface,Q.fn.modal.Constructor=Et,Q.fn.modal.noConflict=function(){return Q.fn.modal=we,Et._jQueryInterface},Et}(ke),tt=function(Q){var ne="tooltip",ee="bs.tooltip",J="."+ee,we=Q.fn[ne],Ge=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Pe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},Ve={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},kt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},Rt="show",Yt={HIDE:"hide"+J,HIDDEN:"hidden"+J,SHOW:"show"+J,SHOWN:"shown"+J,INSERTED:"inserted"+J,CLICK:"click"+J,FOCUSIN:"focusin"+J,FOCUSOUT:"focusout"+J,MOUSEENTER:"mouseenter"+J,MOUSELEAVE:"mouseleave"+J},Xt="fade",Ht="show",ie="hover",oe="focus",_e=function(){function Oe(ce,K){if(void 0===Le)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=ce,this.config=this._getConfig(K),this.tip=null,this._setListeners()}var Ae=Oe.prototype;return Ae.enable=function(){this._isEnabled=!0},Ae.disable=function(){this._isEnabled=!1},Ae.toggleEnabled=function(){this._isEnabled=!this._isEnabled},Ae.toggle=function(ce){if(this._isEnabled)if(ce){var K=this.constructor.DATA_KEY,se=Q(ce.currentTarget).data(K);se||(se=new this.constructor(ce.currentTarget,this._getDelegateConfig()),Q(ce.currentTarget).data(K,se)),se._activeTrigger.click=!se._activeTrigger.click,se._isWithActiveTrigger()?se._enter(null,se):se._leave(null,se)}else{if(Q(this.getTipElement()).hasClass(Ht))return void this._leave(null,this);this._enter(null,this)}},Ae.dispose=function(){clearTimeout(this._timeout),Q.removeData(this.element,this.constructor.DATA_KEY),Q(this.element).off(this.constructor.EVENT_KEY),Q(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&Q(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},Ae.show=function(){var ce=this;if("none"===Q(this.element).css("display"))throw new Error("Please use show on visible elements");var K=Q.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){Q(this.element).trigger(K);var se=Q.contains(this.element.ownerDocument.documentElement,this.element);if(K.isDefaultPrevented()||!se)return;var Me=this.getTipElement(),xe=ve.getUID(this.constructor.NAME);Me.setAttribute("id",xe),this.element.setAttribute("aria-describedby",xe),this.setContent(),this.config.animation&&Q(Me).addClass(Xt);var He="function"==typeof this.config.placement?this.config.placement.call(this,Me,this.element):this.config.placement,Xe=this._getAttachment(He);this.addAttachmentClass(Xe);var $e=!1===this.config.container?document.body:Q(this.config.container);Q(Me).data(this.constructor.DATA_KEY,this),Q.contains(this.element.ownerDocument.documentElement,this.tip)||Q(Me).appendTo($e),Q(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Le(this.element,Me,{placement:Xe,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(Ze){Ze.originalPlacement!==Ze.placement&&ce._handlePopperPlacementChange(Ze)},onUpdate:function(Ze){ce._handlePopperPlacementChange(Ze)}}),Q(Me).addClass(Ht),"ontouchstart"in document.documentElement&&Q("body").children().on("mouseover",null,Q.noop);var Be=function(){ce.config.animation&&ce._fixTransition();var Ze=ce._hoverState;ce._hoverState=null,Q(ce.element).trigger(ce.constructor.Event.SHOWN),"out"===Ze&&ce._leave(null,ce)};ve.supportsTransitionEnd()&&Q(this.tip).hasClass(Xt)?Q(this.tip).one(ve.TRANSITION_END,Be).emulateTransitionEnd(Oe._TRANSITION_DURATION):Be()}},Ae.hide=function(ce){var K=this,se=this.getTipElement(),Me=Q.Event(this.constructor.Event.HIDE),xe=function(){K._hoverState!==Rt&&se.parentNode&&se.parentNode.removeChild(se),K._cleanTipClass(),K.element.removeAttribute("aria-describedby"),Q(K.element).trigger(K.constructor.Event.HIDDEN),null!==K._popper&&K._popper.destroy(),ce&&ce()};Q(this.element).trigger(Me),Me.isDefaultPrevented()||(Q(se).removeClass(Ht),"ontouchstart"in document.documentElement&&Q("body").children().off("mouseover",null,Q.noop),this._activeTrigger.click=!1,this._activeTrigger[oe]=!1,this._activeTrigger[ie]=!1,ve.supportsTransitionEnd()&&Q(this.tip).hasClass(Xt)?Q(se).one(ve.TRANSITION_END,xe).emulateTransitionEnd(150):xe(),this._hoverState="")},Ae.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},Ae.isWithContent=function(){return Boolean(this.getTitle())},Ae.addAttachmentClass=function(ce){Q(this.getTipElement()).addClass("bs-tooltip-"+ce)},Ae.getTipElement=function(){return this.tip=this.tip||Q(this.config.template)[0],this.tip},Ae.setContent=function(){var ce=Q(this.getTipElement());this.setElementContent(ce.find(".tooltip-inner"),this.getTitle()),ce.removeClass(Xt+" "+Ht)},Ae.setElementContent=function(ce,K){var se=this.config.html;"object"==typeof K&&(K.nodeType||K.jquery)?se?Q(K).parent().is(ce)||ce.empty().append(K):ce.text(Q(K).text()):ce[se?"html":"text"](K)},Ae.getTitle=function(){var ce=this.element.getAttribute("data-original-title");return ce||(ce="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),ce},Ae._getAttachment=function(ce){return Ve[ce.toUpperCase()]},Ae._setListeners=function(){var ce=this;this.config.trigger.split(" ").forEach(function(K){if("click"===K)Q(ce.element).on(ce.constructor.Event.CLICK,ce.config.selector,function(xe){return ce.toggle(xe)});else if("manual"!==K){var se=K===ie?ce.constructor.Event.MOUSEENTER:ce.constructor.Event.FOCUSIN,Me=K===ie?ce.constructor.Event.MOUSELEAVE:ce.constructor.Event.FOCUSOUT;Q(ce.element).on(se,ce.config.selector,function(xe){return ce._enter(xe)}).on(Me,ce.config.selector,function(xe){return ce._leave(xe)})}Q(ce.element).closest(".modal").on("hide.bs.modal",function(){return ce.hide()})}),this.config.selector?this.config=vt({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},Ae._fixTitle=function(){var ce=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==ce)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},Ae._enter=function(ce,K){var se=this.constructor.DATA_KEY;(K=K||Q(ce.currentTarget).data(se))||(K=new this.constructor(ce.currentTarget,this._getDelegateConfig()),Q(ce.currentTarget).data(se,K)),ce&&(K._activeTrigger["focusin"===ce.type?oe:ie]=!0),Q(K.getTipElement()).hasClass(Ht)||K._hoverState===Rt?K._hoverState=Rt:(clearTimeout(K._timeout),K._hoverState=Rt,K.config.delay&&K.config.delay.show?K._timeout=setTimeout(function(){K._hoverState===Rt&&K.show()},K.config.delay.show):K.show())},Ae._leave=function(ce,K){var se=this.constructor.DATA_KEY;(K=K||Q(ce.currentTarget).data(se))||(K=new this.constructor(ce.currentTarget,this._getDelegateConfig()),Q(ce.currentTarget).data(se,K)),ce&&(K._activeTrigger["focusout"===ce.type?oe:ie]=!1),K._isWithActiveTrigger()||(clearTimeout(K._timeout),K._hoverState="out",K.config.delay&&K.config.delay.hide?K._timeout=setTimeout(function(){"out"===K._hoverState&&K.hide()},K.config.delay.hide):K.hide())},Ae._isWithActiveTrigger=function(){for(var ce in this._activeTrigger)if(this._activeTrigger[ce])return!0;return!1},Ae._getConfig=function(ce){return"number"==typeof(ce=vt({},this.constructor.Default,Q(this.element).data(),ce)).delay&&(ce.delay={show:ce.delay,hide:ce.delay}),"number"==typeof ce.title&&(ce.title=ce.title.toString()),"number"==typeof ce.content&&(ce.content=ce.content.toString()),ve.typeCheckConfig(ne,ce,this.constructor.DefaultType),ce},Ae._getDelegateConfig=function(){var ce={};if(this.config)for(var K in this.config)this.constructor.Default[K]!==this.config[K]&&(ce[K]=this.config[K]);return ce},Ae._cleanTipClass=function(){var ce=Q(this.getTipElement()),K=ce.attr("class").match(Ge);null!==K&&K.length>0&&ce.removeClass(K.join(""))},Ae._handlePopperPlacementChange=function(ce){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(ce.placement))},Ae._fixTransition=function(){var ce=this.getTipElement(),K=this.config.animation;null===ce.getAttribute("x-placement")&&(Q(ce).removeClass(Xt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=K)},Oe._jQueryInterface=function(ce){return this.each(function(){var K=Q(this).data(ee),se="object"==typeof ce&&ce;if((K||!/dispose|hide/.test(ce))&&(K||(K=new Oe(this,se),Q(this).data(ee,K)),"string"==typeof ce)){if(void 0===K[ce])throw new TypeError('No method named "'+ce+'"');K[ce]()}})},at(Oe,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return kt}},{key:"NAME",get:function(){return ne}},{key:"DATA_KEY",get:function(){return ee}},{key:"Event",get:function(){return Yt}},{key:"EVENT_KEY",get:function(){return J}},{key:"DefaultType",get:function(){return Pe}}]),Oe}();return Q.fn[ne]=_e._jQueryInterface,Q.fn[ne].Constructor=_e,Q.fn[ne].noConflict=function(){return Q.fn[ne]=we,_e._jQueryInterface},_e}(ke),zt=function(Q){var ne="popover",ee="bs.popover",J="."+ee,we=Q.fn[ne],Ge=new RegExp("(^|\\s)bs-popover\\S+","g"),Pe=vt({},tt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Ve=vt({},tt.DefaultType,{content:"(string|element|function)"}),Xt={HIDE:"hide"+J,HIDDEN:"hidden"+J,SHOW:"show"+J,SHOWN:"shown"+J,INSERTED:"inserted"+J,CLICK:"click"+J,FOCUSIN:"focusin"+J,FOCUSOUT:"focusout"+J,MOUSEENTER:"mouseenter"+J,MOUSELEAVE:"mouseleave"+J},Ht=function(Et){var nt,ie;function oe(){return Et.apply(this,arguments)||this}ie=Et,(nt=oe).prototype=Object.create(ie.prototype),nt.prototype.constructor=nt,nt.__proto__=ie;var ue=oe.prototype;return ue.isWithContent=function(){return this.getTitle()||this._getContent()},ue.addAttachmentClass=function(ge){Q(this.getTipElement()).addClass("bs-popover-"+ge)},ue.getTipElement=function(){return this.tip=this.tip||Q(this.config.template)[0],this.tip},ue.setContent=function(){var ge=Q(this.getTipElement());this.setElementContent(ge.find(".popover-header"),this.getTitle());var _e=this._getContent();"function"==typeof _e&&(_e=_e.call(this.element)),this.setElementContent(ge.find(".popover-body"),_e),ge.removeClass("fade show")},ue._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},ue._cleanTipClass=function(){var ge=Q(this.getTipElement()),_e=ge.attr("class").match(Ge);null!==_e&&_e.length>0&&ge.removeClass(_e.join(""))},oe._jQueryInterface=function(ge){return this.each(function(){var _e=Q(this).data(ee),Oe="object"==typeof ge?ge:null;if((_e||!/destroy|hide/.test(ge))&&(_e||(_e=new oe(this,Oe),Q(this).data(ee,_e)),"string"==typeof ge)){if(void 0===_e[ge])throw new TypeError('No method named "'+ge+'"');_e[ge]()}})},at(oe,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Pe}},{key:"NAME",get:function(){return ne}},{key:"DATA_KEY",get:function(){return ee}},{key:"Event",get:function(){return Xt}},{key:"EVENT_KEY",get:function(){return J}},{key:"DefaultType",get:function(){return Ve}}]),oe}(tt);return Q.fn[ne]=Ht._jQueryInterface,Q.fn[ne].Constructor=Ht,Q.fn[ne].noConflict=function(){return Q.fn[ne]=we,Ht._jQueryInterface},Ht}(ke),ft=function(Q){var ne="scrollspy",ee="bs.scrollspy",J="."+ee,we=Q.fn[ne],Ge={offset:10,method:"auto",target:""},Pe={offset:"number",method:"string",target:"(string|element)"},Ve={ACTIVATE:"activate"+J,SCROLL:"scroll"+J,LOAD_DATA_API:"load"+J+".data-api"},Rt="active",Xt="position",Ht=function(){function Et(ie,oe){var ue=this;this._element=ie,this._scrollElement="BODY"===ie.tagName?window:ie,this._config=this._getConfig(oe),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Q(this._scrollElement).on(Ve.SCROLL,function(ge){return ue._process(ge)}),this.refresh(),this._process()}var nt=Et.prototype;return nt.refresh=function(){var ie=this,ue="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":Xt:this._config.method,ge=ue===Xt?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Q.makeArray(Q(this._selector)).map(function(_e){var Oe,Ae=ve.getSelectorFromElement(_e);if(Ae&&(Oe=Q(Ae)[0]),Oe){var ce=Oe.getBoundingClientRect();if(ce.width||ce.height)return[Q(Oe)[ue]().top+ge,Ae]}return null}).filter(function(_e){return _e}).sort(function(_e,Oe){return _e[0]-Oe[0]}).forEach(function(_e){ie._offsets.push(_e[0]),ie._targets.push(_e[1])})},nt.dispose=function(){Q.removeData(this._element,ee),Q(this._scrollElement).off(J),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},nt._getConfig=function(ie){if("string"!=typeof(ie=vt({},Ge,ie)).target){var oe=Q(ie.target).attr("id");oe||(oe=ve.getUID(ne),Q(ie.target).attr("id",oe)),ie.target="#"+oe}return ve.typeCheckConfig(ne,ie,Pe),ie},nt._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},nt._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},nt._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},nt._process=function(){var ie=this._getScrollTop()+this._config.offset,oe=this._getScrollHeight(),ue=this._config.offset+oe-this._getOffsetHeight();if(this._scrollHeight!==oe&&this.refresh(),ie>=ue){var ge=this._targets[this._targets.length-1];this._activeTarget!==ge&&this._activate(ge)}else{if(this._activeTarget&&ie<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var _e=this._offsets.length;_e--;)this._activeTarget!==this._targets[_e]&&ie>=this._offsets[_e]&&(void 0===this._offsets[_e+1]||ie<this._offsets[_e+1])&&this._activate(this._targets[_e])}},nt._activate=function(ie){this._activeTarget=ie,this._clear();var oe=this._selector.split(",");oe=oe.map(function(ge){return ge+'[data-target="'+ie+'"],'+ge+'[href="'+ie+'"]'});var ue=Q(oe.join(","));ue.hasClass("dropdown-item")?(ue.closest(".dropdown").find(".dropdown-toggle").addClass(Rt),ue.addClass(Rt)):(ue.addClass(Rt),ue.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass(Rt),ue.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass(Rt)),Q(this._scrollElement).trigger(Ve.ACTIVATE,{relatedTarget:ie})},nt._clear=function(){Q(this._selector).filter(".active").removeClass(Rt)},Et._jQueryInterface=function(ie){return this.each(function(){var oe=Q(this).data(ee);if(oe||(oe=new Et(this,"object"==typeof ie&&ie),Q(this).data(ee,oe)),"string"==typeof ie){if(void 0===oe[ie])throw new TypeError('No method named "'+ie+'"');oe[ie]()}})},at(Et,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Ge}}]),Et}();return Q(window).on(Ve.LOAD_DATA_API,function(){for(var Et=Q.makeArray(Q('[data-spy="scroll"]')),nt=Et.length;nt--;){var ie=Q(Et[nt]);Ht._jQueryInterface.call(ie,ie.data())}}),Q.fn[ne]=Ht._jQueryInterface,Q.fn[ne].Constructor=Ht,Q.fn[ne].noConflict=function(){return Q.fn[ne]=we,Ht._jQueryInterface},Ht}(ke),De=function(Q){var ne="bs.tab",ee="."+ne,J=Q.fn.tab,we={HIDE:"hide"+ee,HIDDEN:"hidden"+ee,SHOW:"show"+ee,SHOWN:"shown"+ee,CLICK_DATA_API:"click.bs.tab.data-api"},Pe="active",Xt=".active",Ht="> li > .active",oe=function(){function ue(_e){this._element=_e}var ge=ue.prototype;return ge.show=function(){var _e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&Q(this._element).hasClass(Pe)||Q(this._element).hasClass("disabled"))){var Oe,Ae,ce=Q(this._element).closest(".nav, .list-group")[0],K=ve.getSelectorFromElement(this._element);if(ce){var se="UL"===ce.nodeName?Ht:Xt;Ae=(Ae=Q.makeArray(Q(ce).find(se)))[Ae.length-1]}var Me=Q.Event(we.HIDE,{relatedTarget:this._element}),xe=Q.Event(we.SHOW,{relatedTarget:Ae});if(Ae&&Q(Ae).trigger(Me),Q(this._element).trigger(xe),!xe.isDefaultPrevented()&&!Me.isDefaultPrevented()){K&&(Oe=Q(K)[0]),this._activate(this._element,ce);var He=function(){var Xe=Q.Event(we.HIDDEN,{relatedTarget:_e._element}),$e=Q.Event(we.SHOWN,{relatedTarget:Ae});Q(Ae).trigger(Xe),Q(_e._element).trigger($e)};Oe?this._activate(Oe,Oe.parentNode,He):He()}}},ge.dispose=function(){Q.removeData(this._element,ne),this._element=null},ge._activate=function(_e,Oe,Ae){var ce=this,K=("UL"===Oe.nodeName?Q(Oe).find(Ht):Q(Oe).children(Xt))[0],se=Ae&&ve.supportsTransitionEnd()&&K&&Q(K).hasClass("fade"),Me=function(){return ce._transitionComplete(_e,K,Ae)};K&&se?Q(K).one(ve.TRANSITION_END,Me).emulateTransitionEnd(150):Me()},ge._transitionComplete=function(_e,Oe,Ae){if(Oe){Q(Oe).removeClass("show "+Pe);var ce=Q(Oe.parentNode).find("> .dropdown-menu .active")[0];ce&&Q(ce).removeClass(Pe),"tab"===Oe.getAttribute("role")&&Oe.setAttribute("aria-selected",!1)}if(Q(_e).addClass(Pe),"tab"===_e.getAttribute("role")&&_e.setAttribute("aria-selected",!0),ve.reflow(_e),Q(_e).addClass("show"),_e.parentNode&&Q(_e.parentNode).hasClass("dropdown-menu")){var K=Q(_e).closest(".dropdown")[0];K&&Q(K).find(".dropdown-toggle").addClass(Pe),_e.setAttribute("aria-expanded",!0)}Ae&&Ae()},ue._jQueryInterface=function(_e){return this.each(function(){var Oe=Q(this),Ae=Oe.data(ne);if(Ae||(Ae=new ue(this),Oe.data(ne,Ae)),"string"==typeof _e){if(void 0===Ae[_e])throw new TypeError('No method named "'+_e+'"');Ae[_e]()}})},at(ue,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),ue}();return Q(document).on(we.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(ue){ue.preventDefault(),oe._jQueryInterface.call(Q(this),"show")}),Q.fn.tab=oe._jQueryInterface,Q.fn.tab.Constructor=oe,Q.fn.tab.noConflict=function(){return Q.fn.tab=J,oe._jQueryInterface},oe}(ke);(function(Q){if(void 0===Q)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var ne=Q.fn.jquery.split(" ")[0].split(".");if(ne[0]<2&&ne[1]<9||1===ne[0]&&9===ne[1]&&ne[2]<1||ne[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")})(ke),v.Util=ve,v.Alert=We,v.Button=Ie,v.Carousel=Ne,v.Collapse=F,v.Dropdown=Te,v.Modal=ht,v.Popover=zt,v.Scrollspy=ft,v.Tab=De,v.Tooltip=tt,Object.defineProperty(v,"__esModule",{value:!0})}),function(v){"function"==typeof define&&define.amd?define(["jquery"],v):v(jQuery)}(function(v){function Fe(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},v.extend(this._defaults,this.regional[""]),this.regional.en=v.extend(!0,{},this.regional[""]),this.regional["en-US"]=v.extend(!0,{},this.regional.en),this.dpDiv=at(v("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function at(u){var g="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return u.on("mouseout",g,function(){v(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&v(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&v(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",g,vt)}function vt(){v.datepicker._isDisabledDatepicker(j.inline?j.dpDiv.parent()[0]:j.input[0])||(v(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),v(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&v(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&v(this).addClass("ui-datepicker-next-hover"))}function Pt(u,g){for(var f in v.extend(u,g),g)null==g[f]&&(u[f]=g[f]);return u}function At(u){return function(){var g=this.element.val();u.apply(this,arguments),this._refresh(),g!==this.element.val()&&this._trigger("change")}}v.ui=v.ui||{},v.ui.version="1.12.1";var u,Ct=0,Qt=Array.prototype.slice;v.cleanData=(u=v.cleanData,function(g){var f,w,k;for(k=0;null!=(w=g[k]);k++)try{(f=v._data(w,"events"))&&f.remove&&v(w).triggerHandler("remove")}catch(L){}u(g)}),v.widget=function(u,g,f){var w,k,L,N={},H=u.split(".")[0],q=H+"-"+(u=u.split(".")[1]);return f||(f=g,g=v.Widget),v.isArray(f)&&(f=v.extend.apply(null,[{}].concat(f))),v.expr[":"][q.toLowerCase()]=function(re){return!!v.data(re,q)},v[H]=v[H]||{},w=v[H][u],k=v[H][u]=function(re,Z){return this._createWidget?void(arguments.length&&this._createWidget(re,Z)):new k(re,Z)},v.extend(k,w,{version:f.version,_proto:v.extend({},f),_childConstructors:[]}),(L=new g).options=v.widget.extend({},L.options),v.each(f,function(re,Z){return v.isFunction(Z)?void(N[re]=function(){function de(){return g.prototype[re].apply(this,arguments)}function pe(ve){return g.prototype[re].apply(this,ve)}return function(){var ve,We=this._super,Ie=this._superApply;return this._super=de,this._superApply=pe,ve=Z.apply(this,arguments),this._super=We,this._superApply=Ie,ve}}()):void(N[re]=Z)}),k.prototype=v.widget.extend(L,{widgetEventPrefix:w&&L.widgetEventPrefix||u},N,{constructor:k,namespace:H,widgetName:u,widgetFullName:q}),w?(v.each(w._childConstructors,function(re,Z){var de=Z.prototype;v.widget(de.namespace+"."+de.widgetName,k,Z._proto)}),delete w._childConstructors):g._childConstructors.push(k),v.widget.bridge(u,k),k},v.widget.extend=function(u){for(var g,f,w=Qt.call(arguments,1),k=0,L=w.length;L>k;k++)for(g in w[k])f=w[k][g],w[k].hasOwnProperty(g)&&void 0!==f&&(u[g]=v.isPlainObject(f)?v.isPlainObject(u[g])?v.widget.extend({},u[g],f):v.widget.extend({},f):f);return u},v.widget.bridge=function(u,g){var f=g.prototype.widgetFullName||u;v.fn[u]=function(w){var k="string"==typeof w,L=Qt.call(arguments,1),N=this;return k?this.length||"instance"!==w?this.each(function(){var H,q=v.data(this,f);return"instance"===w?(N=q,!1):q?v.isFunction(q[w])&&"_"!==w.charAt(0)?(H=q[w].apply(q,L))!==q&&void 0!==H?(N=H&&H.jquery?N.pushStack(H.get()):H,!1):void 0:v.error("no such method '"+w+"' for "+u+" widget instance"):v.error("cannot call methods on "+u+" prior to initialization; attempted to call method '"+w+"'")}):N=void 0:(L.length&&(w=v.widget.extend.apply(null,[w].concat(L))),this.each(function(){var H=v.data(this,f);H?(H.option(w||{}),H._init&&H._init()):v.data(this,f,new g(w,this))})),N}},v.Widget=function(){},v.Widget._childConstructors=[],v.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(u,g){g=v(g||this.defaultElement||this)[0],this.element=v(g),this.uuid=Ct++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=v(),this.hoverable=v(),this.focusable=v(),this.classesElementLookup={},g!==this&&(v.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(f){f.target===g&&this.destroy()}}),this.document=v(g.style?g.ownerDocument:g.document||g),this.window=v(this.document[0].defaultView||this.document[0].parentWindow)),this.options=v.widget.extend({},this.options,this._getCreateOptions(),u),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:v.noop,_create:v.noop,_init:v.noop,destroy:function(){var u=this;this._destroy(),v.each(this.classesElementLookup,function(g,f){u._removeClass(f,g)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:v.noop,widget:function(){return this.element},option:function(u,g){var f,w,k,L=u;if(0===arguments.length)return v.widget.extend({},this.options);if("string"==typeof u)if(L={},f=u.split("."),u=f.shift(),f.length){for(w=L[u]=v.widget.extend({},this.options[u]),k=0;f.length-1>k;k++)w[f[k]]=w[f[k]]||{},w=w[f[k]];if(u=f.pop(),1===arguments.length)return void 0===w[u]?null:w[u];w[u]=g}else{if(1===arguments.length)return void 0===this.options[u]?null:this.options[u];L[u]=g}return this._setOptions(L),this},_setOptions:function(u){var g;for(g in u)this._setOption(g,u[g]);return this},_setOption:function(u,g){return"classes"===u&&this._setOptionClasses(g),this.options[u]=g,"disabled"===u&&this._setOptionDisabled(g),this},_setOptionClasses:function(u){var g,f,w;for(g in u)w=this.classesElementLookup[g],u[g]!==this.options.classes[g]&&w&&w.length&&(f=v(w.get()),this._removeClass(w,g),f.addClass(this._classes({element:f,keys:g,classes:u,add:!0})))},_setOptionDisabled:function(u){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!u),u&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(u){function g(k,L){var N,H;for(H=0;k.length>H;H++)N=w.classesElementLookup[k[H]]||v(),N=v(u.add?v.unique(N.get().concat(u.element.get())):N.not(u.element).get()),w.classesElementLookup[k[H]]=N,f.push(k[H]),L&&u.classes[k[H]]&&f.push(u.classes[k[H]])}var f=[],w=this;return u=v.extend({element:this.element,classes:this.options.classes||{}},u),this._on(u.element,{remove:"_untrackClassesElement"}),u.keys&&g(u.keys.match(/\S+/g)||[],!0),u.extra&&g(u.extra.match(/\S+/g)||[]),f.join(" ")},_untrackClassesElement:function(u){var g=this;v.each(g.classesElementLookup,function(f,w){-1!==v.inArray(u.target,w)&&(g.classesElementLookup[f]=v(w.not(u.target).get()))})},_removeClass:function(u,g,f){return this._toggleClass(u,g,f,!1)},_addClass:function(u,g,f){return this._toggleClass(u,g,f,!0)},_toggleClass:function(u,g,f,w){var k="string"==typeof u||null===u,L={extra:k?g:f,keys:k?u:g,element:k?this.element:u,add:w="boolean"==typeof w?w:f};return L.element.toggleClass(this._classes(L),w),this},_on:function(u,g,f){var w,k=this;"boolean"!=typeof u&&(f=g,g=u,u=!1),f?(g=w=v(g),this.bindings=this.bindings.add(g)):(f=g,g=this.element,w=this.widget()),v.each(f,function(L,N){function H(){return u||!0!==k.options.disabled&&!v(this).hasClass("ui-state-disabled")?("string"==typeof N?k[N]:N).apply(k,arguments):void 0}"string"!=typeof N&&(H.guid=N.guid=N.guid||H.guid||v.guid++);var q=L.match(/^([\w:-]*)\s*(.*)$/),re=q[1]+k.eventNamespace,Z=q[2];Z?w.on(re,Z,H):g.on(re,H)})},_off:function(u,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,u.off(g).off(g),this.bindings=v(this.bindings.not(u).get()),this.focusable=v(this.focusable.not(u).get()),this.hoverable=v(this.hoverable.not(u).get())},_delay:function(u,g){var w=this;return setTimeout(function f(){return("string"==typeof u?w[u]:u).apply(w,arguments)},g||0)},_hoverable:function(u){this.hoverable=this.hoverable.add(u),this._on(u,{mouseenter:function(g){this._addClass(v(g.currentTarget),null,"ui-state-hover")},mouseleave:function(g){this._removeClass(v(g.currentTarget),null,"ui-state-hover")}})},_focusable:function(u){this.focusable=this.focusable.add(u),this._on(u,{focusin:function(g){this._addClass(v(g.currentTarget),null,"ui-state-focus")},focusout:function(g){this._removeClass(v(g.currentTarget),null,"ui-state-focus")}})},_trigger:function(u,g,f){var w,k,L=this.options[u];if(f=f||{},(g=v.Event(g)).type=(u===this.widgetEventPrefix?u:this.widgetEventPrefix+u).toLowerCase(),g.target=this.element[0],k=g.originalEvent)for(w in k)w in g||(g[w]=k[w]);return this.element.trigger(g,f),!(v.isFunction(L)&&!1===L.apply(this.element[0],[g].concat(f))||g.isDefaultPrevented())}},v.each({show:"fadeIn",hide:"fadeOut"},function(u,g){v.Widget.prototype["_"+u]=function(f,w,k){"string"==typeof w&&(w={effect:w});var L,N=w?!0===w||"number"==typeof w?g:w.effect||g:u;"number"==typeof(w=w||{})&&(w={duration:w}),L=!v.isEmptyObject(w),w.complete=k,w.delay&&f.delay(w.delay),L&&v.effects&&v.effects.effect[N]?f[u](w):N!==u&&f[N]?f[N](w.duration,w.easing,k):f.queue(function(H){v(this)[u](),k&&k.call(f[0]),H()})}}),function(){function u(pe,ve,We){return[parseFloat(pe[0])*(Z.test(pe[0])?ve/100:1),parseFloat(pe[1])*(Z.test(pe[1])?We/100:1)]}function g(pe,ve){return parseInt(v.css(pe,ve),10)||0}function f(pe){var ve=pe[0];return 9===ve.nodeType?{width:pe.width(),height:pe.height(),offset:{top:0,left:0}}:v.isWindow(ve)?{width:pe.width(),height:pe.height(),offset:{top:pe.scrollTop(),left:pe.scrollLeft()}}:ve.preventDefault?{width:0,height:0,offset:{top:ve.pageY,left:ve.pageX}}:{width:pe.outerWidth(),height:pe.outerHeight(),offset:pe.offset()}}var w,k=Math.max,L=Math.abs,N=/left|center|right/,H=/top|center|bottom/,q=/[\+\-]\d+(\.[\d]+)?%?/,re=/^\w+/,Z=/%$/,de=v.fn.position;v.position={scrollbarWidth:function(){if(void 0!==w)return w;var pe,ve,We=v("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),Ie=We.children()[0];return v("body").append(We),pe=Ie.offsetWidth,We.css("overflow","scroll"),pe===(ve=Ie.offsetWidth)&&(ve=We[0].clientWidth),We.remove(),w=pe-ve},getScrollInfo:function(pe){var ve=pe.isWindow||pe.isDocument?"":pe.element.css("overflow-x"),We=pe.isWindow||pe.isDocument?"":pe.element.css("overflow-y"),Ie="scroll"===ve||"auto"===ve&&pe.width<pe.element[0].scrollWidth;return{width:"scroll"===We||"auto"===We&&pe.height<pe.element[0].scrollHeight?v.position.scrollbarWidth():0,height:Ie?v.position.scrollbarWidth():0}},getWithinInfo:function(pe){var ve=v(pe||window),We=v.isWindow(ve[0]),Ie=!!ve[0]&&9===ve[0].nodeType;return{element:ve,isWindow:We,isDocument:Ie,offset:We||Ie?{left:0,top:0}:v(pe).offset(),scrollLeft:ve.scrollLeft(),scrollTop:ve.scrollTop(),width:ve.outerWidth(),height:ve.outerHeight()}}},v.fn.position=function(pe){if(!pe||!pe.of)return de.apply(this,arguments);pe=v.extend({},pe);var ve,We,Ie,Ne,F,Te,ht=v(pe.of),tt=v.position.getWithinInfo(pe.within),zt=v.position.getScrollInfo(tt),ft=(pe.collision||"flip").split(" "),De={};return Te=f(ht),ht[0].preventDefault&&(pe.at="left top"),We=Te.width,Ie=Te.height,F=v.extend({},Ne=Te.offset),v.each(["my","at"],function(){var Q,ne,ee=(pe[this]||"").split(" ");1===ee.length&&(ee=N.test(ee[0])?ee.concat(["center"]):H.test(ee[0])?["center"].concat(ee):["center","center"]),ee[0]=N.test(ee[0])?ee[0]:"center",ee[1]=H.test(ee[1])?ee[1]:"center",Q=q.exec(ee[0]),ne=q.exec(ee[1]),De[this]=[Q?Q[0]:0,ne?ne[0]:0],pe[this]=[re.exec(ee[0])[0],re.exec(ee[1])[0]]}),1===ft.length&&(ft[1]=ft[0]),"right"===pe.at[0]?F.left+=We:"center"===pe.at[0]&&(F.left+=We/2),"bottom"===pe.at[1]?F.top+=Ie:"center"===pe.at[1]&&(F.top+=Ie/2),ve=u(De.at,We,Ie),F.left+=ve[0],F.top+=ve[1],this.each(function(){var Q,ne,ee=v(this),J=ee.outerWidth(),we=ee.outerHeight(),Ge=g(this,"marginLeft"),Pe=g(this,"marginTop"),Ve=J+Ge+g(this,"marginRight")+zt.width,kt=we+Pe+g(this,"marginBottom")+zt.height,Rt=v.extend({},F),wt=u(De.my,ee.outerWidth(),ee.outerHeight());"right"===pe.my[0]?Rt.left-=J:"center"===pe.my[0]&&(Rt.left-=J/2),"bottom"===pe.my[1]?Rt.top-=we:"center"===pe.my[1]&&(Rt.top-=we/2),Rt.left+=wt[0],Rt.top+=wt[1],Q={marginLeft:Ge,marginTop:Pe},v.each(["left","top"],function(Yt,Xt){v.ui.position[ft[Yt]]&&v.ui.position[ft[Yt]][Xt](Rt,{targetWidth:We,targetHeight:Ie,elemWidth:J,elemHeight:we,collisionPosition:Q,collisionWidth:Ve,collisionHeight:kt,offset:[ve[0]+wt[0],ve[1]+wt[1]],my:pe.my,at:pe.at,within:tt,elem:ee})}),pe.using&&(ne=function(Yt){var Xt=Ne.left-Rt.left,Ht=Xt+We-J,Et=Ne.top-Rt.top,nt=Et+Ie-we,ie={target:{element:ht,left:Ne.left,top:Ne.top,width:We,height:Ie},element:{element:ee,left:Rt.left,top:Rt.top,width:J,height:we},horizontal:0>Ht?"left":Xt>0?"right":"center",vertical:0>nt?"top":Et>0?"bottom":"middle"};J>We&&We>L(Xt+Ht)&&(ie.horizontal="center"),we>Ie&&Ie>L(Et+nt)&&(ie.vertical="middle"),ie.important=k(L(Xt),L(Ht))>k(L(Et),L(nt))?"horizontal":"vertical",pe.using.call(this,Yt,ie)}),ee.offset(v.extend(Rt,{using:ne}))})},v.ui.position={fit:{left:function(pe,ve){var Ie=ve.within,Ne=Ie.isWindow?Ie.scrollLeft:Ie.offset.left,F=Ie.width,Te=pe.left-ve.collisionPosition.marginLeft,ht=Ne-Te,tt=Te+ve.collisionWidth-F-Ne;ve.collisionWidth>F?ht>0&&0>=tt?pe.left+=ht-(pe.left+ht+ve.collisionWidth-F-Ne):pe.left=tt>0&&0>=ht?Ne:ht>tt?Ne+F-ve.collisionWidth:Ne:ht>0?pe.left+=ht:tt>0?pe.left-=tt:pe.left=k(pe.left-Te,pe.left)},top:function(pe,ve){var Ie=ve.within,Ne=Ie.isWindow?Ie.scrollTop:Ie.offset.top,F=ve.within.height,Te=pe.top-ve.collisionPosition.marginTop,ht=Ne-Te,tt=Te+ve.collisionHeight-F-Ne;ve.collisionHeight>F?ht>0&&0>=tt?pe.top+=ht-(pe.top+ht+ve.collisionHeight-F-Ne):pe.top=tt>0&&0>=ht?Ne:ht>tt?Ne+F-ve.collisionHeight:Ne:ht>0?pe.top+=ht:tt>0?pe.top-=tt:pe.top=k(pe.top-Te,pe.top)}},flip:{left:function(pe,ve){var We,Ie,Ne=ve.within,Te=Ne.width,ht=Ne.isWindow?Ne.scrollLeft:Ne.offset.left,tt=pe.left-ve.collisionPosition.marginLeft,zt=tt-ht,ft=tt+ve.collisionWidth-Te-ht,De="left"===ve.my[0]?-ve.elemWidth:"right"===ve.my[0]?ve.elemWidth:0,Q="left"===ve.at[0]?ve.targetWidth:"right"===ve.at[0]?-ve.targetWidth:0,ne=-2*ve.offset[0];0>zt?(0>(We=pe.left+De+Q+ne+ve.collisionWidth-Te-(Ne.offset.left+Ne.scrollLeft))||L(zt)>We)&&(pe.left+=De+Q+ne):ft>0&&((Ie=pe.left-ve.collisionPosition.marginLeft+De+Q+ne-ht)>0||ft>L(Ie))&&(pe.left+=De+Q+ne)},top:function(pe,ve){var We,Ie,Ne=ve.within,Te=Ne.height,ht=Ne.isWindow?Ne.scrollTop:Ne.offset.top,tt=pe.top-ve.collisionPosition.marginTop,zt=tt-ht,ft=tt+ve.collisionHeight-Te-ht,Q="top"===ve.my[1]?-ve.elemHeight:"bottom"===ve.my[1]?ve.elemHeight:0,ne="top"===ve.at[1]?ve.targetHeight:"bottom"===ve.at[1]?-ve.targetHeight:0,ee=-2*ve.offset[1];0>zt?(0>(Ie=pe.top+Q+ne+ee+ve.collisionHeight-Te-(Ne.offset.top+Ne.scrollTop))||L(zt)>Ie)&&(pe.top+=Q+ne+ee):ft>0&&((We=pe.top-ve.collisionPosition.marginTop+Q+ne+ee-ht)>0||ft>L(We))&&(pe.top+=Q+ne+ee)}},flipfit:{left:function(){v.ui.position.flip.left.apply(this,arguments),v.ui.position.fit.left.apply(this,arguments)},top:function(){v.ui.position.flip.top.apply(this,arguments),v.ui.position.fit.top.apply(this,arguments)}}}}(),v.extend(v.expr[":"],{data:v.expr.createPseudo?v.expr.createPseudo(function(u){return function(g){return!!v.data(g,u)}}):function(u,g,f){return!!v.data(u,f[3])}}),v.fn.extend({disableSelection:function(){var u="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(u+".ui-disableSelection",function(g){g.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var ut="ui-effects-",Qe="ui-effects-style",gt="ui-effects-animated",Ke=v;v.effects={effect:{}},function(u,g){function f(Ie,Ne,F){var Te=de[Ne.type]||{};return null==Ie?F||!Ne.def?null:Ne.def:(Ie=Te.floor?~~Ie:parseFloat(Ie),isNaN(Ie)?Ne.def:Te.mod?(Ie+Te.mod)%Te.mod:0>Ie?0:Ie>Te.max?Te.max:Ie)}function w(Ie){var Ne=re(),F=Ne._rgba=[];return Ie=Ie.toLowerCase(),We(q,function(Te,ht){var tt,zt=ht.re.exec(Ie),ft=zt&&ht.parse(zt),De=ht.space||"rgba";return ft?(tt=Ne[De](ft),Ne[Z[De].cache]=tt[Z[De].cache],F=Ne._rgba=tt._rgba,!1):g}),F.length?("0,0,0,0"===F.join()&&u.extend(F,L.transparent),Ne):L[Ie]}function k(Ie,Ne,F){return 1>6*(F=(F+1)%1)?Ie+6*(Ne-Ie)*F:1>2*F?Ne:2>3*F?Ie+6*(Ne-Ie)*(2/3-F):Ie}var L,H=/^([\-+])=\s*(\d+\.?\d*)/,q=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(Ie){return[Ie[1],Ie[2],Ie[3],Ie[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(Ie){return[2.55*Ie[1],2.55*Ie[2],2.55*Ie[3],Ie[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(Ie){return[parseInt(Ie[1],16),parseInt(Ie[2],16),parseInt(Ie[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(Ie){return[parseInt(Ie[1]+Ie[1],16),parseInt(Ie[2]+Ie[2],16),parseInt(Ie[3]+Ie[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(Ie){return[Ie[1],Ie[2]/100,Ie[3]/100,Ie[4]]}}],re=u.Color=function(Ie,Ne,F,Te){return new u.Color.fn.parse(Ie,Ne,F,Te)},Z={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},de={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},pe=re.support={},ve=u("<p>")[0],We=u.each;ve.style.cssText="background-color:rgba(1,1,1,.5)",pe.rgba=ve.style.backgroundColor.indexOf("rgba")>-1,We(Z,function(Ie,Ne){Ne.cache="_"+Ie,Ne.props.alpha={idx:3,type:"percent",def:1}}),re.fn=u.extend(re.prototype,{parse:function(Ie,Ne,F,Te){if(Ie===g)return this._rgba=[null,null,null,null],this;(Ie.jquery||Ie.nodeType)&&(Ie=u(Ie).css(Ne),Ne=g);var ht=this,tt=u.type(Ie),zt=this._rgba=[];return Ne!==g&&(Ie=[Ie,Ne,F,Te],tt="array"),"string"===tt?this.parse(w(Ie)||L._default):"array"===tt?(We(Z.rgba.props,function(ft,De){zt[De.idx]=f(Ie[De.idx],De)}),this):"object"===tt?(We(Z,Ie instanceof re?function(ft,De){Ie[De.cache]&&(ht[De.cache]=Ie[De.cache].slice())}:function(ft,De){var Q=De.cache;We(De.props,function(ne,ee){if(!ht[Q]&&De.to){if("alpha"===ne||null==Ie[ne])return;ht[Q]=De.to(ht._rgba)}ht[Q][ee.idx]=f(Ie[ne],ee,!0)}),ht[Q]&&0>u.inArray(null,ht[Q].slice(0,3))&&(ht[Q][3]=1,De.from&&(ht._rgba=De.from(ht[Q])))}),this):g},is:function(Ie){var Ne=re(Ie),F=!0,Te=this;return We(Z,function(ht,tt){var zt,ft=Ne[tt.cache];return ft&&(zt=Te[tt.cache]||tt.to&&tt.to(Te._rgba)||[],We(tt.props,function(De,Q){return null!=ft[Q.idx]?F=ft[Q.idx]===zt[Q.idx]:g})),F}),F},_space:function(){var Ie=[],Ne=this;return We(Z,function(F,Te){Ne[Te.cache]&&Ie.push(F)}),Ie.pop()},transition:function(Ie,Ne){var F=re(Ie),Te=F._space(),ht=Z[Te],tt=0===this.alpha()?re("transparent"):this,zt=tt[ht.cache]||ht.to(tt._rgba),ft=zt.slice();return F=F[ht.cache],We(ht.props,function(De,Q){var ne=Q.idx,ee=zt[ne],J=F[ne],we=de[Q.type]||{};null!==J&&(null===ee?ft[ne]=J:(we.mod&&(J-ee>we.mod/2?ee+=we.mod:ee-J>we.mod/2&&(ee-=we.mod)),ft[ne]=f((J-ee)*Ne+ee,Q)))}),this[Te](ft)},blend:function(Ie){if(1===this._rgba[3])return this;var Ne=this._rgba.slice(),F=Ne.pop(),Te=re(Ie)._rgba;return re(u.map(Ne,function(ht,tt){return(1-F)*Te[tt]+F*ht}))},toRgbaString:function(){var Ie="rgba(",Ne=u.map(this._rgba,function(F,Te){return null==F?Te>2?1:0:F});return 1===Ne[3]&&(Ne.pop(),Ie="rgb("),Ie+Ne.join()+")"},toHslaString:function(){var Ie="hsla(",Ne=u.map(this.hsla(),function(F,Te){return null==F&&(F=Te>2?1:0),Te&&3>Te&&(F=Math.round(100*F)+"%"),F});return 1===Ne[3]&&(Ne.pop(),Ie="hsl("),Ie+Ne.join()+")"},toHexString:function(Ie){var Ne=this._rgba.slice(),F=Ne.pop();return Ie&&Ne.push(~~(255*F)),"#"+u.map(Ne,function(Te){return 1===(Te=(Te||0).toString(16)).length?"0"+Te:Te}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),re.fn.parse.prototype=re.fn,Z.hsla.to=function(Ie){if(null==Ie[0]||null==Ie[1]||null==Ie[2])return[null,null,null,Ie[3]];var F,Te=Ie[0]/255,ht=Ie[1]/255,tt=Ie[2]/255,zt=Ie[3],ft=Math.max(Te,ht,tt),De=Math.min(Te,ht,tt),Q=ft-De,ne=ft+De,ee=.5*ne;return F=0===Q?0:.5>=ee?Q/ne:Q/(2-ne),[Math.round(De===ft?0:Te===ft?60*(ht-tt)/Q+360:ht===ft?60*(tt-Te)/Q+120:60*(Te-ht)/Q+240)%360,F,ee,null==zt?1:zt]},Z.hsla.from=function(Ie){if(null==Ie[0]||null==Ie[1]||null==Ie[2])return[null,null,null,Ie[3]];var Ne=Ie[0]/360,F=Ie[1],Te=Ie[2],ht=Ie[3],tt=.5>=Te?Te*(1+F):Te+F-Te*F,zt=2*Te-tt;return[Math.round(255*k(zt,tt,Ne+1/3)),Math.round(255*k(zt,tt,Ne)),Math.round(255*k(zt,tt,Ne-1/3)),ht]},We(Z,function(Ie,Ne){var F=Ne.props,Te=Ne.cache,ht=Ne.to,tt=Ne.from;re.fn[Ie]=function(zt){if(ht&&!this[Te]&&(this[Te]=ht(this._rgba)),zt===g)return this[Te].slice();var ft,De=u.type(zt),Q="array"===De||"object"===De?zt:arguments,ne=this[Te].slice();return We(F,function(ee,J){var we=Q["object"===De?ee:J.idx];null==we&&(we=ne[J.idx]),ne[J.idx]=f(we,J)}),tt?((ft=re(tt(ne)))[Te]=ne,ft):re(ne)},We(F,function(zt,ft){re.fn[zt]||(re.fn[zt]=function(De){var Q,ne=u.type(De),ee="alpha"===zt?this._hsla?"hsla":"rgba":Ie,J=this[ee](),we=J[ft.idx];return"undefined"===ne?we:("function"===ne&&(De=De.call(this,we),ne=u.type(De)),null==De&&ft.empty?this:("string"===ne&&(Q=H.exec(De))&&(De=we+parseFloat(Q[2])*("+"===Q[1]?1:-1)),J[ft.idx]=De,this[ee](J)))})})}),re.hook=function(Ie){var Ne=Ie.split(" ");We(Ne,function(F,Te){u.cssHooks[Te]={set:function(ht,tt){var zt,ft,De="";if("transparent"!==tt&&("string"!==u.type(tt)||(zt=w(tt)))){if(tt=re(zt||tt),!pe.rgba&&1!==tt._rgba[3]){for(ft="backgroundColor"===Te?ht.parentNode:ht;(""===De||"transparent"===De)&&ft&&ft.style;)try{De=u.css(ft,"backgroundColor"),ft=ft.parentNode}catch(Q){}tt=tt.blend(De&&"transparent"!==De?De:"_default")}tt=tt.toRgbaString()}try{ht.style[Te]=tt}catch(Q){}}},u.fx.step[Te]=function(ht){ht.colorInit||(ht.start=re(ht.elem,Te),ht.end=re(ht.end),ht.colorInit=!0),u.cssHooks[Te].set(ht.elem,ht.start.transition(ht.end,ht.pos))}})},re.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),u.cssHooks.borderColor={expand:function(Ie){var Ne={};return We(["Top","Right","Bottom","Left"],function(F,Te){Ne["border"+Te+"Color"]=Ie}),Ne}},L=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(Ke),function(){function u(k){var L,N,H=k.ownerDocument.defaultView?k.ownerDocument.defaultView.getComputedStyle(k,null):k.currentStyle,q={};if(H&&H.length&&H[0]&&H[H[0]])for(N=H.length;N--;)"string"==typeof H[L=H[N]]&&(q[v.camelCase(L)]=H[L]);else for(L in H)"string"==typeof H[L]&&(q[L]=H[L]);return q}var k,f=["add","remove","toggle"],w={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};v.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(k,L){v.fx.step[L]=function(N){("none"!==N.end&&!N.setAttr||1===N.pos&&!N.setAttr)&&(Ke.style(N.elem,L,N.end),N.setAttr=!0)}}),v.fn.addBack||(v.fn.addBack=function(k){return this.add(null==k?this.prevObject:this.prevObject.filter(k))}),v.effects.animateClass=function(k,L,N,H){var q=v.speed(L,N,H);return this.queue(function(){var re,Z=v(this),de=Z.attr("class")||"",pe=q.children?Z.find("*").addBack():Z;pe=pe.map(function(){return{el:v(this),start:u(this)}}),(re=function(){v.each(f,function(ve,We){k[We]&&Z[We+"Class"](k[We])})})(),pe=pe.map(function(){return this.end=u(this.el[0]),this.diff=function g(k,L){var N,H,q={};for(N in L)k[N]!==(H=L[N])&&(w[N]||(v.fx.step[N]||!isNaN(parseFloat(H)))&&(q[N]=H));return q}(this.start,this.end),this}),Z.attr("class",de),pe=pe.map(function(){var ve=this,We=v.Deferred(),Ie=v.extend({},q,{queue:!1,complete:function(){We.resolve(ve)}});return this.el.animate(this.diff,Ie),We.promise()}),v.when.apply(v,pe.get()).done(function(){re(),v.each(arguments,function(){var ve=this.el;v.each(this.diff,function(We){ve.css(We,"")})}),q.complete.call(Z[0])})})},v.fn.extend({addClass:(k=v.fn.addClass,function(L,N,H,q){return N?v.effects.animateClass.call(this,{add:L},N,H,q):k.apply(this,arguments)}),removeClass:function(k){return function(L,N,H,q){return arguments.length>1?v.effects.animateClass.call(this,{remove:L},N,H,q):k.apply(this,arguments)}}(v.fn.removeClass),toggleClass:function(k){return function(L,N,H,q,re){return"boolean"==typeof N||void 0===N?H?v.effects.animateClass.call(this,N?{add:L}:{remove:L},H,q,re):k.apply(this,arguments):v.effects.animateClass.call(this,{toggle:L},N,H,q)}}(v.fn.toggleClass),switchClass:function(k,L,N,H,q){return v.effects.animateClass.call(this,{add:L,remove:k},N,H,q)}})}(),function(){function u(w,k,L,N){return v.isPlainObject(w)&&(k=w,w=w.effect),w={effect:w},null==k&&(k={}),v.isFunction(k)&&(N=k,L=null,k={}),("number"==typeof k||v.fx.speeds[k])&&(N=L,L=k,k={}),v.isFunction(L)&&(N=L,L=null),k&&v.extend(w,k),L=L||k.duration,w.duration=v.fx.off?0:"number"==typeof L?L:L in v.fx.speeds?v.fx.speeds[L]:v.fx.speeds._default,w.complete=N||k.complete,w}function g(w){return!(w&&"number"!=typeof w&&!v.fx.speeds[w]&&("string"!=typeof w||v.effects.effect[w])&&!v.isFunction(w)&&("object"!=typeof w||w.effect))}function f(w,k){var L=k.outerWidth(),N=k.outerHeight(),q=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(w)||["",0,L,N,0];return{top:parseFloat(q[1])||0,right:"auto"===q[2]?L:parseFloat(q[2]),bottom:"auto"===q[3]?N:parseFloat(q[3]),left:parseFloat(q[4])||0}}var w;v.expr&&v.expr.filters&&v.expr.filters.animated&&(v.expr.filters.animated=(w=v.expr.filters.animated,function(k){return!!v(k).data(gt)||w(k)})),!1!==v.uiBackCompat&&v.extend(v.effects,{save:function(w,k){for(var L=0,N=k.length;N>L;L++)null!==k[L]&&w.data(ut+k[L],w[0].style[k[L]])},restore:function(w,k){for(var L,N=0,H=k.length;H>N;N++)null!==k[N]&&(L=w.data(ut+k[N]),w.css(k[N],L))},setMode:function(w,k){return"toggle"===k&&(k=w.is(":hidden")?"show":"hide"),k},createWrapper:function(w){if(w.parent().is(".ui-effects-wrapper"))return w.parent();var k={width:w.outerWidth(!0),height:w.outerHeight(!0),float:w.css("float")},L=v("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),N={width:w.width(),height:w.height()},H=document.activeElement;return w.wrap(L),(w[0]===H||v.contains(w[0],H))&&v(H).trigger("focus"),L=w.parent(),"static"===w.css("position")?(L.css({position:"relative"}),w.css({position:"relative"})):(v.extend(k,{position:w.css("position"),zIndex:w.css("z-index")}),v.each(["top","left","bottom","right"],function(q,re){k[re]=w.css(re),isNaN(parseInt(k[re],10))&&(k[re]="auto")}),w.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),w.css(N),L.css(k).show()},removeWrapper:function(w){var k=document.activeElement;return w.parent().is(".ui-effects-wrapper")&&(w.parent().replaceWith(w),(w[0]===k||v.contains(w[0],k))&&v(k).trigger("focus")),w}}),v.extend(v.effects,{version:"1.12.1",define:function(w,k,L){return L||(L=k,k="effect"),v.effects.effect[w]=L,v.effects.effect[w].mode=k,L},scaledDimensions:function(w,k,L){if(0===k)return{height:0,width:0,outerHeight:0,outerWidth:0};var N="horizontal"!==L?(k||100)/100:1,H="vertical"!==L?(k||100)/100:1;return{height:w.height()*H,width:w.width()*N,outerHeight:w.outerHeight()*H,outerWidth:w.outerWidth()*N}},clipToBox:function(w){return{width:w.clip.right-w.clip.left,height:w.clip.bottom-w.clip.top,left:w.clip.left,top:w.clip.top}},unshift:function(w,k,L){var N=w.queue();k>1&&N.splice.apply(N,[1,0].concat(N.splice(k,L))),w.dequeue()},saveStyle:function(w){w.data(Qe,w[0].style.cssText)},restoreStyle:function(w){w[0].style.cssText=w.data(Qe)||"",w.removeData(Qe)},mode:function(w,k){var L=w.is(":hidden");return"toggle"===k&&(k=L?"show":"hide"),(L?"hide"===k:"show"===k)&&(k="none"),k},getBaseline:function(w,k){var L,N;switch(w[0]){case"top":L=0;break;case"middle":L=.5;break;case"bottom":L=1;break;default:L=w[0]/k.height}switch(w[1]){case"left":N=0;break;case"center":N=.5;break;case"right":N=1;break;default:N=w[1]/k.width}return{x:N,y:L}},createPlaceholder:function(w){var k,L=w.css("position"),N=w.position();return w.css({marginTop:w.css("marginTop"),marginBottom:w.css("marginBottom"),marginLeft:w.css("marginLeft"),marginRight:w.css("marginRight")}).outerWidth(w.outerWidth()).outerHeight(w.outerHeight()),/^(static|relative)/.test(L)&&(L="absolute",k=v("<"+w[0].nodeName+">").insertAfter(w).css({display:/^(inline|ruby)/.test(w.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:w.css("marginTop"),marginBottom:w.css("marginBottom"),marginLeft:w.css("marginLeft"),marginRight:w.css("marginRight"),float:w.css("float")}).outerWidth(w.outerWidth()).outerHeight(w.outerHeight()).addClass("ui-effects-placeholder"),w.data(ut+"placeholder",k)),w.css({position:L,left:N.left,top:N.top}),k},removePlaceholder:function(w){var k=ut+"placeholder",L=w.data(k);L&&(L.remove(),w.removeData(k))},cleanUp:function(w){v.effects.restoreStyle(w),v.effects.removePlaceholder(w)},setTransition:function(w,k,L,N){return N=N||{},v.each(k,function(H,q){var re=w.cssUnit(q);re[0]>0&&(N[q]=re[0]*L+re[1])}),N}}),v.fn.extend({effect:function(){function w(ve){function Ie(){v.isFunction(re)&&re.call(Ne[0]),v.isFunction(ve)&&ve()}var Ne=v(this);k.mode=de.shift(),!1===v.uiBackCompat||N?"none"===k.mode?(Ne[Z](),Ie()):L.call(Ne[0],k,function We(){Ne.removeData(gt),v.effects.cleanUp(Ne),"hide"===k.mode&&Ne.hide(),Ie()}):(Ne.is(":hidden")?"hide"===Z:"show"===Z)?(Ne[Z](),Ie()):L.call(Ne[0],k,Ie)}var k=u.apply(this,arguments),L=v.effects.effect[k.effect],N=L.mode,H=k.queue,q=H||"fx",re=k.complete,Z=k.mode,de=[],pe=function(ve){var We=v(this),Ie=v.effects.mode(We,Z)||N;We.data(gt,!0),de.push(Ie),N&&("show"===Ie||Ie===N&&"hide"===Ie)&&We.show(),N&&"none"===Ie||v.effects.saveStyle(We),v.isFunction(ve)&&ve()};return v.fx.off||!L?Z?this[Z](k.duration,re):this.each(function(){re&&re.call(this)}):!1===H?this.each(pe).each(w):this.queue(q,pe).queue(q,w)},show:function(w){return function(k){if(g(k))return w.apply(this,arguments);var L=u.apply(this,arguments);return L.mode="show",this.effect.call(this,L)}}(v.fn.show),hide:function(w){return function(k){if(g(k))return w.apply(this,arguments);var L=u.apply(this,arguments);return L.mode="hide",this.effect.call(this,L)}}(v.fn.hide),toggle:function(w){return function(k){if(g(k)||"boolean"==typeof k)return w.apply(this,arguments);var L=u.apply(this,arguments);return L.mode="toggle",this.effect.call(this,L)}}(v.fn.toggle),cssUnit:function(w){var k=this.css(w),L=[];return v.each(["em","px","%","pt"],function(N,H){k.indexOf(H)>0&&(L=[parseFloat(k),H])}),L},cssClip:function(w){return w?this.css("clip","rect("+w.top+"px "+w.right+"px "+w.bottom+"px "+w.left+"px)"):f(this.css("clip"),this)},transfer:function(w,k){var L=v(this),N=v(w.to),H="fixed"===N.css("position"),q=v("body"),re=H?q.scrollTop():0,Z=H?q.scrollLeft():0,de=N.offset(),pe={top:de.top-re,left:de.left-Z,height:N.innerHeight(),width:N.innerWidth()},ve=L.offset(),We=v("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(w.className).css({top:ve.top-re,left:ve.left-Z,height:L.innerHeight(),width:L.innerWidth(),position:H?"fixed":"absolute"}).animate(pe,w.duration,w.easing,function(){We.remove(),v.isFunction(k)&&k()})}}),v.fx.step.clip=function(w){w.clipInit||(w.start=v(w.elem).cssClip(),"string"==typeof w.end&&(w.end=f(w.end,w.elem)),w.clipInit=!0),v(w.elem).cssClip({top:w.pos*(w.end.top-w.start.top)+w.start.top,right:w.pos*(w.end.right-w.start.right)+w.start.right,bottom:w.pos*(w.end.bottom-w.start.bottom)+w.start.bottom,left:w.pos*(w.end.left-w.start.left)+w.start.left})}}(),function(){var u={};v.each(["Quad","Cubic","Quart","Quint","Expo"],function(g,f){u[f]=function(w){return Math.pow(w,g+2)}}),v.extend(u,{Sine:function(g){return 1-Math.cos(g*Math.PI/2)},Circ:function(g){return 1-Math.sqrt(1-g*g)},Elastic:function(g){return 0===g||1===g?g:-Math.pow(2,8*(g-1))*Math.sin((80*(g-1)-7.5)*Math.PI/15)},Back:function(g){return g*g*(3*g-2)},Bounce:function(g){for(var f,w=4;((f=Math.pow(2,--w))-1)/11>g;);return 1/Math.pow(4,3-w)-7.5625*Math.pow((3*f-2)/22-g,2)}}),v.each(u,function(g,f){v.easing["easeIn"+g]=f,v.easing["easeOut"+g]=function(w){return 1-f(1-w)},v.easing["easeInOut"+g]=function(w){return.5>w?f(2*w)/2:1-f(-2*w+2)/2}})}(),v.effects.define("blind","hide",function(u,g){var f={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},w=v(this),k=u.direction||"up",L=w.cssClip(),N={clip:v.extend({},L)},H=v.effects.createPlaceholder(w);N.clip[f[k][0]]=N.clip[f[k][1]],"show"===u.mode&&(w.cssClip(N.clip),H&&H.css(v.effects.clipToBox(N)),N.clip=L),H&&H.animate(v.effects.clipToBox(N),u.duration,u.easing),w.animate(N,{queue:!1,duration:u.duration,easing:u.easing,complete:g})}),v.effects.define("bounce",function(u,g){var f,w,k,L=v(this),N=u.mode,H="hide"===N,q="show"===N,re=u.direction||"up",Z=u.distance,de=u.times||5,pe=2*de+(q||H?1:0),ve=u.duration/pe,We=u.easing,Ie="up"===re||"down"===re?"top":"left",Ne="up"===re||"left"===re,F=0,Te=L.queue().length;for(v.effects.createPlaceholder(L),k=L.css(Ie),Z||(Z=L["top"===Ie?"outerHeight":"outerWidth"]()/3),q&&((w={opacity:1})[Ie]=k,L.css("opacity",0).css(Ie,Ne?2*-Z:2*Z).animate(w,ve,We)),H&&(Z/=Math.pow(2,de-1)),(w={})[Ie]=k;de>F;F++)(f={})[Ie]=(Ne?"-=":"+=")+Z,L.animate(f,ve,We).animate(w,ve,We),Z=H?2*Z:Z/2;H&&((f={opacity:0})[Ie]=(Ne?"-=":"+=")+Z,L.animate(f,ve,We)),L.queue(g),v.effects.unshift(L,Te,pe+1)}),v.effects.define("clip","hide",function(u,g){var f,w={},k=v(this),L=u.direction||"vertical",N="both"===L,H=N||"horizontal"===L,q=N||"vertical"===L;f=k.cssClip(),w.clip={top:q?(f.bottom-f.top)/2:f.top,right:H?(f.right-f.left)/2:f.right,bottom:q?(f.bottom-f.top)/2:f.bottom,left:H?(f.right-f.left)/2:f.left},v.effects.createPlaceholder(k),"show"===u.mode&&(k.cssClip(w.clip),w.clip=f),k.animate(w,{queue:!1,duration:u.duration,easing:u.easing,complete:g})}),v.effects.define("drop","hide",function(u,g){var f,w=v(this),L="show"===u.mode,N=u.direction||"left",H="up"===N||"down"===N?"top":"left",q="up"===N||"left"===N?"-=":"+=",re="+="===q?"-=":"+=",Z={opacity:0};v.effects.createPlaceholder(w),f=u.distance||w["top"===H?"outerHeight":"outerWidth"](!0)/2,Z[H]=q+f,L&&(w.css(Z),Z[H]=re+f,Z.opacity=1),w.animate(Z,{queue:!1,duration:u.duration,easing:u.easing,complete:g})}),v.effects.define("explode","hide",function(u,g){function f(){Te.push(this),Te.length===Z*de&&function w(){pe.css({visibility:"visible"}),v(Te).remove(),g()}()}var k,L,N,H,q,re,Z=u.pieces?Math.round(Math.sqrt(u.pieces)):3,de=Z,pe=v(this),We="show"===u.mode,Ie=pe.show().css("visibility","hidden").offset(),Ne=Math.ceil(pe.outerWidth()/de),F=Math.ceil(pe.outerHeight()/Z),Te=[];for(k=0;Z>k;k++)for(H=Ie.top+k*F,re=k-(Z-1)/2,L=0;de>L;L++)N=Ie.left+L*Ne,q=L-(de-1)/2,pe.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-L*Ne,top:-k*F}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:Ne,height:F,left:N+(We?q*Ne:0),top:H+(We?re*F:0),opacity:We?0:1}).animate({left:N+(We?0:q*Ne),top:H+(We?0:re*F),opacity:We?1:0},u.duration||500,u.easing,f)}),v.effects.define("fade","toggle",function(u,g){var f="show"===u.mode;v(this).css("opacity",f?0:1).animate({opacity:f?1:0},{queue:!1,duration:u.duration,easing:u.easing,complete:g})}),v.effects.define("fold","hide",function(u,g){var f=v(this),w=u.mode,k="show"===w,L="hide"===w,N=u.size||15,H=/([0-9]+)%/.exec(N),re=u.horizFirst?["right","bottom"]:["bottom","right"],Z=u.duration/2,de=v.effects.createPlaceholder(f),pe=f.cssClip(),ve={clip:v.extend({},pe)},We={clip:v.extend({},pe)},Ie=[pe[re[0]],pe[re[1]]],Ne=f.queue().length;H&&(N=parseInt(H[1],10)/100*Ie[L?0:1]),ve.clip[re[0]]=N,We.clip[re[0]]=N,We.clip[re[1]]=0,k&&(f.cssClip(We.clip),de&&de.css(v.effects.clipToBox(We)),We.clip=pe),f.queue(function(F){de&&de.animate(v.effects.clipToBox(ve),Z,u.easing).animate(v.effects.clipToBox(We),Z,u.easing),F()}).animate(ve,Z,u.easing).animate(We,Z,u.easing).queue(g),v.effects.unshift(f,Ne,4)}),v.effects.define("highlight","show",function(u,g){var f=v(this),w={backgroundColor:f.css("backgroundColor")};"hide"===u.mode&&(w.opacity=0),v.effects.saveStyle(f),f.css({backgroundImage:"none",backgroundColor:u.color||"#ffff99"}).animate(w,{queue:!1,duration:u.duration,easing:u.easing,complete:g})}),v.effects.define("size",function(u,g){var f,w,k,L=v(this),N=["fontSize"],H=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],q=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],re=u.mode,Z="effect"!==re,de=u.scale||"both",pe=u.origin||["middle","center"],ve=L.css("position"),We=L.position(),Ie=v.effects.scaledDimensions(L),Ne=u.from||Ie,F=u.to||v.effects.scaledDimensions(L,0);v.effects.createPlaceholder(L),"show"===re&&(k=Ne,Ne=F,F=k),w={from:{y:Ne.height/Ie.height,x:Ne.width/Ie.width},to:{y:F.height/Ie.height,x:F.width/Ie.width}},("box"===de||"both"===de)&&(w.from.y!==w.to.y&&(Ne=v.effects.setTransition(L,H,w.from.y,Ne),F=v.effects.setTransition(L,H,w.to.y,F)),w.from.x!==w.to.x&&(Ne=v.effects.setTransition(L,q,w.from.x,Ne),F=v.effects.setTransition(L,q,w.to.x,F))),("content"===de||"both"===de)&&w.from.y!==w.to.y&&(Ne=v.effects.setTransition(L,N,w.from.y,Ne),F=v.effects.setTransition(L,N,w.to.y,F)),pe&&(f=v.effects.getBaseline(pe,Ie),Ne.top=(Ie.outerHeight-Ne.outerHeight)*f.y+We.top,Ne.left=(Ie.outerWidth-Ne.outerWidth)*f.x+We.left,F.top=(Ie.outerHeight-F.outerHeight)*f.y+We.top,F.left=(Ie.outerWidth-F.outerWidth)*f.x+We.left),L.css(Ne),("content"===de||"both"===de)&&(H=H.concat(["marginTop","marginBottom"]).concat(N),q=q.concat(["marginLeft","marginRight"]),L.find("*[width]").each(function(){var Te=v(this),ht=v.effects.scaledDimensions(Te),tt={height:ht.height*w.from.y,width:ht.width*w.from.x,outerHeight:ht.outerHeight*w.from.y,outerWidth:ht.outerWidth*w.from.x},zt={height:ht.height*w.to.y,width:ht.width*w.to.x,outerHeight:ht.height*w.to.y,outerWidth:ht.width*w.to.x};w.from.y!==w.to.y&&(tt=v.effects.setTransition(Te,H,w.from.y,tt),zt=v.effects.setTransition(Te,H,w.to.y,zt)),w.from.x!==w.to.x&&(tt=v.effects.setTransition(Te,q,w.from.x,tt),zt=v.effects.setTransition(Te,q,w.to.x,zt)),Z&&v.effects.saveStyle(Te),Te.css(tt),Te.animate(zt,u.duration,u.easing,function(){Z&&v.effects.restoreStyle(Te)})})),L.animate(F,{queue:!1,duration:u.duration,easing:u.easing,complete:function(){var Te=L.offset();0===F.opacity&&L.css("opacity",Ne.opacity),Z||(L.css("position","static"===ve?"relative":ve).offset(Te),v.effects.saveStyle(L)),g()}})}),v.effects.define("scale",function(u,g){var f=v(this),w=u.mode,k=parseInt(u.percent,10)||(0===parseInt(u.percent,10)||"effect"!==w?0:100),L=v.extend(!0,{from:v.effects.scaledDimensions(f),to:v.effects.scaledDimensions(f,k,u.direction||"both"),origin:u.origin||["middle","center"]},u);u.fade&&(L.from.opacity=1,L.to.opacity=0),v.effects.effect.size.call(this,L,g)}),v.effects.define("puff","hide",function(u,g){var f=v.extend(!0,{},u,{fade:!0,percent:parseInt(u.percent,10)||150});v.effects.effect.scale.call(this,f,g)}),v.effects.define("pulsate","show",function(u,g){var f=v(this),w=u.mode,k="show"===w,H=2*(u.times||5)+(k||"hide"===w?1:0),q=u.duration/H,re=0,Z=1,de=f.queue().length;for((k||!f.is(":visible"))&&(f.css("opacity",0).show(),re=1);H>Z;Z++)f.animate({opacity:re},q,u.easing),re=1-re;f.animate({opacity:re},q,u.easing),f.queue(g),v.effects.unshift(f,de,H+1)}),v.effects.define("shake",function(u,g){var f=1,w=v(this),k=u.direction||"left",L=u.distance||20,N=u.times||3,H=2*N+1,q=Math.round(u.duration/H),re="up"===k||"down"===k?"top":"left",Z="up"===k||"left"===k,de={},pe={},ve={},We=w.queue().length;for(v.effects.createPlaceholder(w),de[re]=(Z?"-=":"+=")+L,pe[re]=(Z?"+=":"-=")+2*L,ve[re]=(Z?"-=":"+=")+2*L,w.animate(de,q,u.easing);N>f;f++)w.animate(pe,q,u.easing).animate(ve,q,u.easing);w.animate(pe,q,u.easing).animate(de,q/2,u.easing).queue(g),v.effects.unshift(w,We,H+1)}),v.effects.define("slide","show",function(u,g){var f,w,k=v(this),L={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},N=u.mode,H=u.direction||"left",q="up"===H||"down"===H?"top":"left",re="up"===H||"left"===H,Z=u.distance||k["top"===q?"outerHeight":"outerWidth"](!0),de={};v.effects.createPlaceholder(k),f=k.cssClip(),w=k.position()[q],de[q]=(re?-1:1)*Z+w,de.clip=k.cssClip(),de.clip[L[H][1]]=de.clip[L[H][0]],"show"===N&&(k.cssClip(de.clip),k.css(q,de[q]),de.clip=f,de[q]=w),k.animate(de,{queue:!1,duration:u.duration,easing:u.easing,complete:g})}),!1!==v.uiBackCompat&&v.effects.define("transfer",function(u,g){v(this).transfer(u,g)}),v.ui.focusable=function(u,g){var f,w,k,L,N,H=u.nodeName.toLowerCase();return"area"===H?(w=(f=u.parentNode).name,!(!u.href||!w||"map"!==f.nodeName.toLowerCase())&&(k=v("img[usemap='#"+w+"']")).length>0&&k.is(":visible")):(/^(input|select|textarea|button|object)$/.test(H)?(L=!u.disabled)&&(N=v(u).closest("fieldset")[0])&&(L=!N.disabled):L="a"===H&&u.href||g,L&&v(u).is(":visible")&&function ke(u){for(var g=u.css("visibility");"inherit"===g;)g=(u=u.parent()).css("visibility");return"hidden"!==g}(v(u)))},v.extend(v.expr[":"],{focusable:function(u){return v.ui.focusable(u,null!=v.attr(u,"tabindex"))}}),v.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):v(this[0].form)},v.ui.formResetMixin={_formResetHandler:function(){var u=v(this);setTimeout(function(){var g=u.data("ui-form-reset-instances");v.each(g,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var u=this.form.data("ui-form-reset-instances")||[];u.length||this.form.on("reset.ui-form-reset",this._formResetHandler),u.push(this),this.form.data("ui-form-reset-instances",u)}},_unbindFormResetHandler:function(){if(this.form.length){var u=this.form.data("ui-form-reset-instances");u.splice(v.inArray(this,u),1),u.length?this.form.data("ui-form-reset-instances",u):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===v.fn.jquery.substring(0,3)&&(v.each(["Width","Height"],function(u,g){function f(N,H,q,re){return v.each(w,function(){H-=parseFloat(v.css(N,"padding"+this))||0,q&&(H-=parseFloat(v.css(N,"border"+this+"Width"))||0),re&&(H-=parseFloat(v.css(N,"margin"+this))||0)}),H}var w="Width"===g?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),L={innerWidth:v.fn.innerWidth,innerHeight:v.fn.innerHeight,outerWidth:v.fn.outerWidth,outerHeight:v.fn.outerHeight};v.fn["inner"+g]=function(N){return void 0===N?L["inner"+g].call(this):this.each(function(){v(this).css(k,f(this,N)+"px")})},v.fn["outer"+g]=function(N,H){return"number"!=typeof N?L["outer"+g].call(this,N):this.each(function(){v(this).css(k,f(this,N,!0,H)+"px")})}}),v.fn.addBack=function(u){return this.add(null==u?this.prevObject:this.prevObject.filter(u))}),v.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},v.ui.escapeSelector=function(){var u=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(g){return g.replace(u,"\\$1")}}(),v.fn.labels=function(){var u,g,f,w,k;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(w=this.eq(0).parents("label"),(f=this.attr("id"))&&(k=(u=this.eq(0).parents().last()).add(u.length?u.siblings():this.siblings()),g="label[for='"+v.ui.escapeSelector(f)+"']",w=w.add(k.find(g).addBack(g))),this.pushStack(w))},v.fn.scrollParent=function(u){var g=this.css("position"),f="absolute"===g,w=u?/(auto|scroll|hidden)/:/(auto|scroll)/,k=this.parents().filter(function(){var L=v(this);return(!f||"static"!==L.css("position"))&&w.test(L.css("overflow")+L.css("overflow-y")+L.css("overflow-x"))}).eq(0);return"fixed"!==g&&k.length?k:v(this[0].ownerDocument||document)},v.extend(v.expr[":"],{tabbable:function(u){var g=v.attr(u,"tabindex"),f=null!=g;return(!f||g>=0)&&v.ui.focusable(u,f)}}),v.fn.extend({uniqueId:function(){var u=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&v(this).removeAttr("id")})}}),v.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var u=this.options;this.prevShow=this.prevHide=v(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),u.collapsible||!1!==u.active&&null!=u.active||(u.active=0),this._processPanels(),0>u.active&&(u.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():v()}},_createIcons:function(){var u,g,f=this.options.icons;f&&(u=v("<span>"),this._addClass(u,"ui-accordion-header-icon","ui-icon "+f.header),u.prependTo(this.headers),g=this.active.children(".ui-accordion-header-icon"),this._removeClass(g,f.header)._addClass(g,null,f.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var u;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),u=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&u.css("height","")},_setOption:function(u,g){return"active"===u?void this._activate(g):("event"===u&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(g)),this._super(u,g),"collapsible"!==u||g||!1!==this.options.active||this._activate(0),void("icons"===u&&(this._destroyIcons(),g&&this._createIcons())))},_setOptionDisabled:function(u){this._super(u),this.element.attr("aria-disabled",u),this._toggleClass(null,"ui-state-disabled",!!u),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!u)},_keydown:function(u){if(!u.altKey&&!u.ctrlKey){var g=v.ui.keyCode,f=this.headers.length,w=this.headers.index(u.target),k=!1;switch(u.keyCode){case g.RIGHT:case g.DOWN:k=this.headers[(w+1)%f];break;case g.LEFT:case g.UP:k=this.headers[(w-1+f)%f];break;case g.SPACE:case g.ENTER:this._eventHandler(u);break;case g.HOME:k=this.headers[0];break;case g.END:k=this.headers[f-1]}k&&(v(u.target).attr("tabIndex",-1),v(k).attr("tabIndex",0),v(k).trigger("focus"),u.preventDefault())}},_panelKeyDown:function(u){u.keyCode===v.ui.keyCode.UP&&u.ctrlKey&&v(u.currentTarget).prev().trigger("focus")},refresh:function(){var u=this.options;this._processPanels(),!1===u.active&&!0===u.collapsible||!this.headers.length?(u.active=!1,this.active=v()):!1===u.active?this._activate(0):this.active.length&&!v.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(u.active=!1,this.active=v()):this._activate(Math.max(0,u.active-1)):u.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var u=this.headers,g=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),g&&(this._off(u.not(this.headers)),this._off(g.not(this.panels)))},_refresh:function(){var u,g=this.options,f=g.heightStyle,w=this.element.parent();this.active=this._findActive(g.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var k=v(this),L=k.uniqueId().attr("id"),N=k.next(),H=N.uniqueId().attr("id");k.attr("aria-controls",H),N.attr("aria-labelledby",L)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(g.event),"fill"===f?(u=w.height(),this.element.siblings(":visible").each(function(){var k=v(this),L=k.css("position");"absolute"!==L&&"fixed"!==L&&(u-=k.outerHeight(!0))}),this.headers.each(function(){u-=v(this).outerHeight(!0)}),this.headers.next().each(function(){v(this).height(Math.max(0,u-v(this).innerHeight()+v(this).height()))}).css("overflow","auto")):"auto"===f&&(u=0,this.headers.next().each(function(){var k=v(this).is(":visible");k||v(this).show(),u=Math.max(u,v(this).css("height","").height()),k||v(this).hide()}).height(u))},_activate:function(u){var g=this._findActive(u)[0];g!==this.active[0]&&this._eventHandler({target:g=g||this.active[0],currentTarget:g,preventDefault:v.noop})},_findActive:function(u){return"number"==typeof u?this.headers.eq(u):v()},_setupEvents:function(u){var g={keydown:"_keydown"};u&&v.each(u.split(" "),function(f,w){g[w]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,g),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(u){var g,f,w=this.options,k=this.active,L=v(u.currentTarget),N=L[0]===k[0],H=N&&w.collapsible,q=H?v():L.next(),re=k.next(),Z={oldHeader:k,oldPanel:re,newHeader:H?v():L,newPanel:q};u.preventDefault(),N&&!w.collapsible||!1===this._trigger("beforeActivate",u,Z)||(w.active=!H&&this.headers.index(L),this.active=N?v():L,this._toggle(Z),this._removeClass(k,"ui-accordion-header-active","ui-state-active"),w.icons&&(g=k.children(".ui-accordion-header-icon"),this._removeClass(g,null,w.icons.activeHeader)._addClass(g,null,w.icons.header)),N||(this._removeClass(L,"ui-accordion-header-collapsed")._addClass(L,"ui-accordion-header-active","ui-state-active"),w.icons&&(f=L.children(".ui-accordion-header-icon"),this._removeClass(f,null,w.icons.header)._addClass(f,null,w.icons.activeHeader)),this._addClass(L.next(),"ui-accordion-content-active")))},_toggle:function(u){var g=u.newPanel,f=this.prevShow.length?this.prevShow:u.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=g,this.prevHide=f,this.options.animate?this._animate(g,f,u):(f.hide(),g.show(),this._toggleComplete(u)),f.attr({"aria-hidden":"true"}),f.prev().attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&f.length?f.prev().attr({tabIndex:-1,"aria-expanded":"false"}):g.length&&this.headers.filter(function(){return 0===parseInt(v(this).attr("tabIndex"),10)}).attr("tabIndex",-1),g.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(u,g,f){var w,k,L,N=this,H=0,q=u.css("box-sizing"),re=u.length&&(!g.length||u.index()<g.index()),Z=this.options.animate||{},de=re&&Z.down||Z,pe=function(){N._toggleComplete(f)};return"number"==typeof de&&(L=de),"string"==typeof de&&(k=de),k=k||de.easing||Z.easing,L=L||de.duration||Z.duration,g.length?u.length?(w=u.show().outerHeight(),g.animate(this.hideProps,{duration:L,easing:k,step:function(ve,We){We.now=Math.round(ve)}}),void u.hide().animate(this.showProps,{duration:L,easing:k,complete:pe,step:function(ve,We){We.now=Math.round(ve),"height"!==We.prop?"content-box"===q&&(H+=We.now):"content"!==N.options.heightStyle&&(We.now=Math.round(w-g.outerHeight()-H),H=0)}})):g.animate(this.hideProps,L,k,pe):u.animate(this.showProps,L,k,pe)},_toggleComplete:function(u){var g=u.oldPanel,f=g.prev();this._removeClass(g,"ui-accordion-content-active"),this._removeClass(f,"ui-accordion-header-active")._addClass(f,"ui-accordion-header-collapsed"),g.length&&(g.parent()[0].className=g.parent()[0].className),this._trigger("activate",null,u)}}),v.ui.safeActiveElement=function(u){var g;try{g=u.activeElement}catch(f){g=u.body}return g||(g=u.body),g.nodeName||(g=u.body),g},v.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(u){u.preventDefault()},"click .ui-menu-item":function(u){var g=v(u.target),f=v(v.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&g.not(".ui-state-disabled").length&&(this.select(u),u.isPropagationStopped()||(this.mouseHandled=!0),g.has(".ui-menu").length?this.expand(u):!this.element.is(":focus")&&f.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(u){if(!this.previousFilter){var g=v(u.target).closest(".ui-menu-item"),f=v(u.currentTarget);g[0]===f[0]&&(this._removeClass(f.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(u,f))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(u,g){var f=this.active||this.element.find(this.options.items).eq(0);g||this.focus(u,f)},blur:function(u){this._delay(function(){!v.contains(this.element[0],v.ui.safeActiveElement(this.document[0]))&&this.collapseAll(u)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(u){this._closeOnDocumentClick(u)&&this.collapseAll(u),this.mouseHandled=!1}})},_destroy:function(){var g=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),g.children().each(function(){var f=v(this);f.data("ui-menu-submenu-caret")&&f.remove()})},_keydown:function(u){var g,f,w,k,L=!0;switch(u.keyCode){case v.ui.keyCode.PAGE_UP:this.previousPage(u);break;case v.ui.keyCode.PAGE_DOWN:this.nextPage(u);break;case v.ui.keyCode.HOME:this._move("first","first",u);break;case v.ui.keyCode.END:this._move("last","last",u);break;case v.ui.keyCode.UP:this.previous(u);break;case v.ui.keyCode.DOWN:this.next(u);break;case v.ui.keyCode.LEFT:this.collapse(u);break;case v.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(u);break;case v.ui.keyCode.ENTER:case v.ui.keyCode.SPACE:this._activate(u);break;case v.ui.keyCode.ESCAPE:this.collapse(u);break;default:L=!1,f=this.previousFilter||"",k=!1,w=u.keyCode>=96&&105>=u.keyCode?""+(u.keyCode-96):String.fromCharCode(u.keyCode),clearTimeout(this.filterTimer),w===f?k=!0:w=f+w,g=this._filterMenuItems(w),(g=k&&-1!==g.index(this.active.next())?this.active.nextAll(".ui-menu-item"):g).length||(w=String.fromCharCode(u.keyCode),g=this._filterMenuItems(w)),g.length?(this.focus(u,g),this.previousFilter=w,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}L&&u.preventDefault()},_activate:function(u){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(u):this.select(u))},refresh:function(){var g,f,w,k,L=this,N=this.options.icons.submenu,H=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),f=H.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var q=v(this),re=q.prev(),Z=v("<span>").data("ui-menu-submenu-caret",!0);L._addClass(Z,"ui-menu-icon","ui-icon "+N),re.attr("aria-haspopup","true").prepend(Z),q.attr("aria-labelledby",re.attr("id"))}),this._addClass(f,"ui-menu","ui-widget ui-widget-content ui-front"),(g=H.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var q=v(this);L._isDivider(q)&&L._addClass(q,"ui-menu-divider","ui-widget-content")}),k=(w=g.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(w,"ui-menu-item")._addClass(k,"ui-menu-item-wrapper"),g.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!v.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(u,g){if("icons"===u){var f=this.element.find(".ui-menu-icon");this._removeClass(f,null,this.options.icons.submenu)._addClass(f,null,g.submenu)}this._super(u,g)},_setOptionDisabled:function(u){this._super(u),this.element.attr("aria-disabled",u+""),this._toggleClass(null,"ui-state-disabled",!!u)},focus:function(u,g){var f,w,k;this.blur(u,u&&"focus"===u.type),this._scrollIntoView(g),this.active=g.first(),w=this.active.children(".ui-menu-item-wrapper"),this._addClass(w,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",w.attr("id")),k=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(k,null,"ui-state-active"),u&&"keydown"===u.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(f=g.children(".ui-menu")).length&&u&&/^mouse/.test(u.type)&&this._startOpening(f),this.activeMenu=g.parent(),this._trigger("focus",u,{item:g})},_scrollIntoView:function(u){var g,f,w,k,L,N;this._hasScroll()&&(g=parseFloat(v.css(this.activeMenu[0],"borderTopWidth"))||0,f=parseFloat(v.css(this.activeMenu[0],"paddingTop"))||0,w=u.offset().top-this.activeMenu.offset().top-g-f,k=this.activeMenu.scrollTop(),L=this.activeMenu.height(),N=u.outerHeight(),0>w?this.activeMenu.scrollTop(k+w):w+N>L&&this.activeMenu.scrollTop(k+w-L+N))},blur:function(u,g){g||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",u,{item:this.active}),this.active=null)},_startOpening:function(u){clearTimeout(this.timer),"true"===u.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(u)},this.delay))},_open:function(u){var g=v.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(u.parents(".ui-menu")).hide().attr("aria-hidden","true"),u.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(g)},collapseAll:function(u,g){clearTimeout(this.timer),this.timer=this._delay(function(){var f=g?this.element:v(u&&u.target).closest(this.element.find(".ui-menu"));f.length||(f=this.element),this._close(f),this.blur(u),this._removeClass(f.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=f},this.delay)},_close:function(u){u||(u=this.active?this.active.parent():this.element),u.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(u){return!v(u.target).closest(".ui-menu").length},_isDivider:function(u){return!/[^\-\u2014\u2013\s]/.test(u.text())},collapse:function(u){var g=this.active&&this.active.parent().closest(".ui-menu-item",this.element);g&&g.length&&(this._close(),this.focus(u,g))},expand:function(u){var g=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();g&&g.length&&(this._open(g.parent()),this._delay(function(){this.focus(u,g)}))},next:function(u){this._move("next","first",u)},previous:function(u){this._move("prev","last",u)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(u,g,f){var w;this.active&&(w="first"===u||"last"===u?this.active["first"===u?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[u+"All"](".ui-menu-item").eq(0)),w&&w.length&&this.active||(w=this.activeMenu.find(this.options.items)[g]()),this.focus(f,w)},nextPage:function(u){var g,f,w;return this.active?void(this.isLastItem()||(this._hasScroll()?(f=this.active.offset().top,w=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(g=v(this)).offset().top-f-w}),this.focus(u,g)):this.focus(u,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(u)},previousPage:function(u){var g,f,w;return this.active?void(this.isFirstItem()||(this._hasScroll()?(f=this.active.offset().top,w=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(g=v(this)).offset().top-f+w>0}),this.focus(u,g)):this.focus(u,this.activeMenu.find(this.options.items).first()))):void this.next(u)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(u){this.active=this.active||v(u.target).closest(".ui-menu-item");var g={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(u,!0),this._trigger("select",u,g)},_filterMenuItems:function(u){var g=u.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),f=RegExp("^"+g,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return f.test(v.trim(v(this).children(".ui-menu-item-wrapper").text()))})}}),v.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var u,g,f,w=this.element[0].nodeName.toLowerCase(),k="textarea"===w,L="input"===w;this.isMultiLine=k||!L&&this._isContentEditable(this.element),this.valueMethod=this.element[k||L?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(N){if(this.element.prop("readOnly"))return u=!0,f=!0,void(g=!0);u=!1,f=!1,g=!1;var H=v.ui.keyCode;switch(N.keyCode){case H.PAGE_UP:u=!0,this._move("previousPage",N);break;case H.PAGE_DOWN:u=!0,this._move("nextPage",N);break;case H.UP:u=!0,this._keyEvent("previous",N);break;case H.DOWN:u=!0,this._keyEvent("next",N);break;case H.ENTER:this.menu.active&&(u=!0,N.preventDefault(),this.menu.select(N));break;case H.TAB:this.menu.active&&this.menu.select(N);break;case H.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(N),N.preventDefault());break;default:g=!0,this._searchTimeout(N)}},keypress:function(N){if(u)return u=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&N.preventDefault());if(!g){var H=v.ui.keyCode;switch(N.keyCode){case H.PAGE_UP:this._move("previousPage",N);break;case H.PAGE_DOWN:this._move("nextPage",N);break;case H.UP:this._keyEvent("previous",N);break;case H.DOWN:this._keyEvent("next",N)}}},input:function(N){return f?(f=!1,void N.preventDefault()):void this._searchTimeout(N)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(N){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(N),void this._change(N))}}),this._initSource(),this.menu=v("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(N){N.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==v.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(N,H){var q,re;return this.isNewMenu&&(this.isNewMenu=!1,N.originalEvent&&/^mouse/.test(N.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){v(N.target).trigger(N.originalEvent)})):(re=H.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",N,{item:re})&&N.originalEvent&&/^key/.test(N.originalEvent.type)&&this._value(re.value),void((q=H.item.attr("aria-label")||re.value)&&v.trim(q).length&&(this.liveRegion.children().hide(),v("<div>").text(q).appendTo(this.liveRegion))))},menuselect:function(N,H){var q=H.item.data("ui-autocomplete-item"),re=this.previous;this.element[0]!==v.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=re,this._delay(function(){this.previous=re,this.selectedItem=q})),!1!==this._trigger("select",N,{item:q})&&this._value(q.value),this.term=this._value(),this.close(N),this.selectedItem=q}}),this.liveRegion=v("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(u,g){this._super(u,g),"source"===u&&this._initSource(),"appendTo"===u&&this.menu.element.appendTo(this._appendTo()),"disabled"===u&&g&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(u){var g=this.menu.element[0];return u.target===this.element[0]||u.target===g||v.contains(g,u.target)},_closeOnClickOutside:function(u){this._isEventTargetInWidget(u)||this.close()},_appendTo:function(){var u=this.options.appendTo;return u&&(u=u.jquery||u.nodeType?v(u):this.document.find(u).eq(0)),u&&u[0]||(u=this.element.closest(".ui-front, dialog")),u.length||(u=this.document[0].body),u},_initSource:function(){var u,g,f=this;v.isArray(this.options.source)?(u=this.options.source,this.source=function(w,k){k(v.ui.autocomplete.filter(u,w.term))}):"string"==typeof this.options.source?(g=this.options.source,this.source=function(w,k){f.xhr&&f.xhr.abort(),f.xhr=v.ajax({url:g,data:w,dataType:"json",success:function(L){k(L)},error:function(){k([])}})}):this.source=this.options.source},_searchTimeout:function(u){clearTimeout(this.searching),this.searching=this._delay(function(){var g=this.term===this._value(),f=this.menu.element.is(":visible");(!g||g&&!f&&!(u.altKey||u.ctrlKey||u.metaKey||u.shiftKey))&&(this.selectedItem=null,this.search(null,u))},this.options.delay)},search:function(u,g){return u=null!=u?u:this._value(),this.term=this._value(),u.length<this.options.minLength?this.close(g):!1!==this._trigger("search",g)?this._search(u):void 0},_search:function(u){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:u},this._response())},_response:function(){var u=++this.requestIndex;return v.proxy(function(g){u===this.requestIndex&&this.__response(g),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(u){u&&(u=this._normalize(u)),this._trigger("response",null,{content:u}),!this.options.disabled&&u&&u.length&&!this.cancelSearch?(this._suggest(u),this._trigger("open")):this._close()},close:function(u){this.cancelSearch=!0,this._close(u)},_close:function(u){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",u))},_change:function(u){this.previous!==this._value()&&this._trigger("change",u,{item:this.selectedItem})},_normalize:function(u){return u.length&&u[0].label&&u[0].value?u:v.map(u,function(g){return"string"==typeof g?{label:g,value:g}:v.extend({},g,{label:g.label||g.value,value:g.value||g.label})})},_suggest:function(u){var g=this.menu.element.empty();this._renderMenu(g,u),this.isNewMenu=!0,this.menu.refresh(),g.show(),this._resizeMenu(),g.position(v.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var u=this.menu.element;u.outerWidth(Math.max(u.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(u,g){var f=this;v.each(g,function(w,k){f._renderItemData(u,k)})},_renderItemData:function(u,g){return this._renderItem(u,g).data("ui-autocomplete-item",g)},_renderItem:function(u,g){return v("<li>").append(v("<div>").text(g.label)).appendTo(u)},_move:function(u,g){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(u)||this.menu.isLastItem()&&/^next/.test(u)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[u](g):void this.search(null,g)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(u,g){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(u,g),g.preventDefault())},_isContentEditable:function(u){if(!u.length)return!1;var g=u.prop("contentEditable");return"inherit"===g?this._isContentEditable(u.parent()):"true"===g}}),v.extend(v.ui.autocomplete,{escapeRegex:function(u){return u.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(u,g){var f=RegExp(v.ui.autocomplete.escapeRegex(g),"i");return v.grep(u,function(w){return f.test(w.label||w.value||w)})}}),v.widget("ui.autocomplete",v.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(u){return u+(u>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(u){var g;this._superApply(arguments),this.options.disabled||this.cancelSearch||(g=u&&u.length?this.options.messages.results(u.length):this.options.messages.noResults,this.liveRegion.children().hide(),v("<div>").text(g).appendTo(this.liveRegion))}});var j,T=/ui-corner-([a-z]){2,6}/g;v.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var u=this,g=[];v.each(this.options.items,function(f,w){var k,L={};return w?"controlgroupLabel"===f?((k=u.element.find(w)).each(function(){var N=v(this);N.children(".ui-controlgroup-label-contents").length||N.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),u._addClass(k,null,"ui-widget ui-widget-content ui-state-default"),void(g=g.concat(k.get()))):void(v.fn[f]&&(L=u["_"+f+"Options"]?u["_"+f+"Options"]("middle"):{classes:{}},u.element.find(w).each(function(){var N=v(this),H=N[f]("instance"),q=v.widget.extend({},L);if("button"!==f||!N.parent(".ui-spinner").length){H||(H=N[f]()[f]("instance")),H&&(q.classes=u._resolveClassesValues(q.classes,H)),N[f](q);var re=N[f]("widget");v.data(re[0],"ui-controlgroup-data",H||N[f]("instance")),g.push(re[0])}}))):void 0}),this.childWidgets=v(v.unique(g)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(u){this.childWidgets.each(function(){var f=v(this).data("ui-controlgroup-data");f&&f[u]&&f[u]()})},_updateCornerClass:function(u,g){var w=this._buildSimpleOptions(g,"label").classes.label;this._removeClass(u,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(u,null,w)},_buildSimpleOptions:function(u,g){var f="vertical"===this.options.direction,w={classes:{}};return w.classes[g]={middle:"",first:"ui-corner-"+(f?"top":"left"),last:"ui-corner-"+(f?"bottom":"right"),only:"ui-corner-all"}[u],w},_spinnerOptions:function(u){var g=this._buildSimpleOptions(u,"ui-spinner");return g.classes["ui-spinner-up"]="",g.classes["ui-spinner-down"]="",g},_buttonOptions:function(u){return this._buildSimpleOptions(u,"ui-button")},_checkboxradioOptions:function(u){return this._buildSimpleOptions(u,"ui-checkboxradio-label")},_selectmenuOptions:function(u){var g="vertical"===this.options.direction;return{width:!!g&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(g?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(g?"top":"left")},last:{"ui-selectmenu-button-open":g?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(g?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[u]}},_resolveClassesValues:function(u,g){var f={};return v.each(u,function(w){var k=g.options.classes[w]||"";k=v.trim(k.replace(T,"")),f[w]=(k+" "+u[w]).replace(/\s+/g," ")}),f},_setOption:function(u,g){return"direction"===u&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(u,g),"disabled"===u?void this._callChildMethod(g?"disable":"enable"):void this.refresh()},refresh:function(){var u,g=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),u=this.childWidgets,this.options.onlyVisible&&(u=u.filter(":visible")),u.length&&(v.each(["first","last"],function(f,w){var k=u[w]().data("ui-controlgroup-data");if(k&&g["_"+k.widgetName+"Options"]){var L=g["_"+k.widgetName+"Options"](1===u.length?"only":w);L.classes=g._resolveClassesValues(L.classes,k),k.element[k.widgetName](L)}else g._updateCornerClass(u[w](),w)}),this._callChildMethod("refresh"))}}),v.widget("ui.checkboxradio",[v.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var u,g,f=this,w=this._super()||{};return this._readType(),g=this.element.labels(),this.label=v(g[g.length-1]),this.label.length||v.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){f.originalLabel+=3===this.nodeType?v(this).text():this.outerHTML}),this.originalLabel&&(w.label=this.originalLabel),null!=(u=this.element[0].disabled)&&(w.disabled=u),w},_create:function(){var u=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),u&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var u=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===u&&/radio|checkbox/.test(this.type)||v.error("Can't create checkboxradio on element.nodeName="+u+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var g=this.element[0].name,f="input[name='"+v.ui.escapeSelector(g)+"']";return g?(this.form.length?v(this.form[0].elements).filter(f):v(f).filter(function(){return 0===v(this).form().length})).not(this.element):v([])},_toggleClasses:function(){var u=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",u),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",u)._toggleClass(this.icon,null,"ui-icon-blank",!u),"radio"===this.type&&this._getRadioGroup().each(function(){var g=v(this).checkboxradio("instance");g&&g._removeClass(g.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(u,g){return"label"!==u||g?(this._super(u,g),"disabled"===u?(this._toggleClass(this.label,null,"ui-state-disabled",g),void(this.element[0].disabled=g)):void this.refresh()):void 0},_updateIcon:function(u){var g="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=v("<span>"),this.iconSpace=v("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(g+=u?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,u?"ui-icon-blank":"ui-icon-check")):g+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",g),u||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var u=this.label.contents().not(this.element[0]);this.icon&&(u=u.not(this.icon[0])),this.iconSpace&&(u=u.not(this.iconSpace[0])),u.remove(),this.label.append(this.options.label)},refresh:function(){var u=this.element[0].checked,g=this.element[0].disabled;this._updateIcon(u),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",u),null!==this.options.label&&this._updateLabel(),g!==this.options.disabled&&this._setOptions({disabled:g})}}]),v.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var u,g=this._super()||{};return this.isInput=this.element.is("input"),null!=(u=this.element[0].disabled)&&(g.disabled=u),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(g.label=this.originalLabel),g},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(u){u.keyCode===v.ui.keyCode.SPACE&&(u.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(u,g){var f="iconPosition"!==u,w=f?this.options.iconPosition:g,k="top"===w||"bottom"===w;this.icon?f&&this._removeClass(this.icon,null,this.options.icon):(this.icon=v("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),f&&this._addClass(this.icon,null,g),this._attachIcon(w),k?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=v("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(w))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(u){this.icon[/^(?:end|bottom)/.test(u)?"before":"after"](this.iconSpace)},_attachIcon:function(u){this.element[/^(?:end|bottom)/.test(u)?"append":"prepend"](this.icon)},_setOptions:function(u){(void 0===u.showLabel?this.options.showLabel:u.showLabel)||(void 0===u.icon?this.options.icon:u.icon)||(u.showLabel=!0),this._super(u)},_setOption:function(u,g){"icon"===u&&(g?this._updateIcon(u,g):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===u&&this._updateIcon(u,g),"showLabel"===u&&(this._toggleClass("ui-button-icon-only",null,!g),this._updateTooltip()),"label"===u&&(this.isInput?this.element.val(g):(this.element.html(g),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(u,g),"disabled"===u&&(this._toggleClass(null,"ui-state-disabled",g),this.element[0].disabled=g,g&&this.element.blur())},refresh:function(){var u=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");u!==this.options.disabled&&this._setOptions({disabled:u}),this._updateTooltip()}}),!1!==v.uiBackCompat&&(v.widget("ui.button",v.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(u,g){return"text"===u?void this._super("showLabel",g):("showLabel"===u&&(this.options.text=g),"icon"===u&&(this.options.icons.primary=g),"icons"===u&&(g.primary?(this._super("icon",g.primary),this._super("iconPosition","beginning")):g.secondary&&(this._super("icon",g.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),v.fn.button=function(u){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?u.apply(this,arguments):(v.ui.checkboxradio||v.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(v.fn.button),v.fn.buttonset=function(){return v.ui.controlgroup||v.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),v.extend(v.ui,{datepicker:{version:"1.12.1"}}),v.extend(Fe.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(u){return Pt(this._defaults,u||{}),this},_attachDatepicker:function(u,g){var f,w,k;w="div"===(f=u.nodeName.toLowerCase())||"span"===f,u.id||(this.uuid+=1,u.id="dp"+this.uuid),(k=this._newInst(v(u),w)).settings=v.extend({},g||{}),"input"===f?this._connectDatepicker(u,k):w&&this._inlineDatepicker(u,k)},_newInst:function(u,g){return{id:u[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:u,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:g,dpDiv:g?at(v("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(u,g){var f=v(u);g.append=v([]),g.trigger=v([]),f.hasClass(this.markerClassName)||(this._attachments(f,g),f.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(g),v.data(u,"datepicker",g),g.settings.disabled&&this._disableDatepicker(u))},_attachments:function(u,g){var f,w,k,L=this._get(g,"appendText"),N=this._get(g,"isRTL");g.append&&g.append.remove(),L&&(g.append=v("<span class='"+this._appendClass+"'>"+L+"</span>"),u[N?"before":"after"](g.append)),u.off("focus",this._showDatepicker),g.trigger&&g.trigger.remove(),("focus"===(f=this._get(g,"showOn"))||"both"===f)&&u.on("focus",this._showDatepicker),("button"===f||"both"===f)&&(w=this._get(g,"buttonText"),k=this._get(g,"buttonImage"),g.trigger=v(this._get(g,"buttonImageOnly")?v("<img/>").addClass(this._triggerClass).attr({src:k,alt:w,title:w}):v("<button type='button'></button>").addClass(this._triggerClass).html(k?v("<img/>").attr({src:k,alt:w,title:w}):w)),u[N?"before":"after"](g.trigger),g.trigger.on("click",function(){return v.datepicker._datepickerShowing&&v.datepicker._lastInput===u[0]?v.datepicker._hideDatepicker():(v.datepicker._datepickerShowing&&v.datepicker._lastInput!==u[0]&&v.datepicker._hideDatepicker(),v.datepicker._showDatepicker(u[0])),!1}))},_autoSize:function(u){if(this._get(u,"autoSize")&&!u.inline){var g,f,w,k,L=new Date(2009,11,20),N=this._get(u,"dateFormat");N.match(/[DM]/)&&(L.setMonth((g=function(H){for(f=0,w=0,k=0;H.length>k;k++)H[k].length>f&&(f=H[k].length,w=k);return w})(this._get(u,N.match(/MM/)?"monthNames":"monthNamesShort"))),L.setDate(g(this._get(u,N.match(/DD/)?"dayNames":"dayNamesShort"))+20-L.getDay())),u.input.attr("size",this._formatDate(u,L).length)}},_inlineDatepicker:function(u,g){var f=v(u);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(g.dpDiv),v.data(u,"datepicker",g),this._setDate(g,this._getDefaultDate(g),!0),this._updateDatepicker(g),this._updateAlternate(g),g.settings.disabled&&this._disableDatepicker(u),g.dpDiv.css("display","block"))},_dialogDatepicker:function(u,g,f,w,k){var N,H,q,re,Z=this._dialogInst;return Z||(this.uuid+=1,this._dialogInput=v("<input type='text' id='dp"+this.uuid+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),v("body").append(this._dialogInput),(Z=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},v.data(this._dialogInput[0],"datepicker",Z)),Pt(Z.settings,w||{}),g=g&&g.constructor===Date?this._formatDate(Z,g):g,this._dialogInput.val(g),this._pos=k?k.length?k:[k.pageX,k.pageY]:null,this._pos||(N=document.documentElement.clientWidth,H=document.documentElement.clientHeight,q=document.documentElement.scrollLeft||document.body.scrollLeft,re=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[N/2-100+q,H/2-150+re]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),Z.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),v.blockUI&&v.blockUI(this.dpDiv),v.data(this._dialogInput[0],"datepicker",Z),this},_destroyDatepicker:function(u){var g,f=v(u),w=v.data(u,"datepicker");f.hasClass(this.markerClassName)&&(g=u.nodeName.toLowerCase(),v.removeData(u,"datepicker"),"input"===g?(w.append.remove(),w.trigger.remove(),f.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===g||"span"===g)&&f.removeClass(this.markerClassName).empty(),j===w&&(j=null))},_enableDatepicker:function(u){var g,f,w=v(u),k=v.data(u,"datepicker");w.hasClass(this.markerClassName)&&("input"===(g=u.nodeName.toLowerCase())?(u.disabled=!1,k.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===g||"span"===g)&&((f=w.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),f.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=v.map(this._disabledInputs,function(L){return L===u?null:L}))},_disableDatepicker:function(u){var g,f,w=v(u),k=v.data(u,"datepicker");w.hasClass(this.markerClassName)&&("input"===(g=u.nodeName.toLowerCase())?(u.disabled=!0,k.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===g||"span"===g)&&((f=w.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),f.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=v.map(this._disabledInputs,function(L){return L===u?null:L}),this._disabledInputs[this._disabledInputs.length]=u)},_isDisabledDatepicker:function(u){if(!u)return!1;for(var g=0;this._disabledInputs.length>g;g++)if(this._disabledInputs[g]===u)return!0;return!1},_getInst:function(u){try{return v.data(u,"datepicker")}catch(g){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(u,g,f){var w,k,L,N,H=this._getInst(u);return 2===arguments.length&&"string"==typeof g?"defaults"===g?v.extend({},v.datepicker._defaults):H?"all"===g?v.extend({},H.settings):this._get(H,g):null:(w=g||{},"string"==typeof g&&((w={})[g]=f),void(H&&(this._curInst===H&&this._hideDatepicker(),k=this._getDateDatepicker(u,!0),L=this._getMinMaxDate(H,"min"),N=this._getMinMaxDate(H,"max"),Pt(H.settings,w),null!==L&&void 0!==w.dateFormat&&void 0===w.minDate&&(H.settings.minDate=this._formatDate(H,L)),null!==N&&void 0!==w.dateFormat&&void 0===w.maxDate&&(H.settings.maxDate=this._formatDate(H,N)),"disabled"in w&&(w.disabled?this._disableDatepicker(u):this._enableDatepicker(u)),this._attachments(v(u),H),this._autoSize(H),this._setDate(H,k),this._updateAlternate(H),this._updateDatepicker(H))))},_changeDatepicker:function(u,g,f){this._optionDatepicker(u,g,f)},_refreshDatepicker:function(u){var g=this._getInst(u);g&&this._updateDatepicker(g)},_setDateDatepicker:function(u,g){var f=this._getInst(u);f&&(this._setDate(f,g),this._updateDatepicker(f),this._updateAlternate(f))},_getDateDatepicker:function(u,g){var f=this._getInst(u);return f&&!f.inline&&this._setDateFromField(f,g),f?this._getDate(f):null},_doKeyDown:function(u){var g,f,w,k=v.datepicker._getInst(u.target),L=!0,N=k.dpDiv.is(".ui-datepicker-rtl");if(k._keyEvent=!0,v.datepicker._datepickerShowing)switch(u.keyCode){case 9:v.datepicker._hideDatepicker(),L=!1;break;case 13:return(w=v("td."+v.datepicker._dayOverClass+":not(."+v.datepicker._currentClass+")",k.dpDiv))[0]&&v.datepicker._selectDay(u.target,k.selectedMonth,k.selectedYear,w[0]),(g=v.datepicker._get(k,"onSelect"))?(f=v.datepicker._formatDate(k),g.apply(k.input?k.input[0]:null,[f,k])):v.datepicker._hideDatepicker(),!1;case 27:v.datepicker._hideDatepicker();break;case 33:v.datepicker._adjustDate(u.target,u.ctrlKey?-v.datepicker._get(k,"stepBigMonths"):-v.datepicker._get(k,"stepMonths"),"M");break;case 34:v.datepicker._adjustDate(u.target,u.ctrlKey?+v.datepicker._get(k,"stepBigMonths"):+v.datepicker._get(k,"stepMonths"),"M");break;case 35:(u.ctrlKey||u.metaKey)&&v.datepicker._clearDate(u.target),L=u.ctrlKey||u.metaKey;break;case 36:(u.ctrlKey||u.metaKey)&&v.datepicker._gotoToday(u.target),L=u.ctrlKey||u.metaKey;break;case 37:(u.ctrlKey||u.metaKey)&&v.datepicker._adjustDate(u.target,N?1:-1,"D"),L=u.ctrlKey||u.metaKey,u.originalEvent.altKey&&v.datepicker._adjustDate(u.target,u.ctrlKey?-v.datepicker._get(k,"stepBigMonths"):-v.datepicker._get(k,"stepMonths"),"M");break;case 38:(u.ctrlKey||u.metaKey)&&v.datepicker._adjustDate(u.target,-7,"D"),L=u.ctrlKey||u.metaKey;break;case 39:(u.ctrlKey||u.metaKey)&&v.datepicker._adjustDate(u.target,N?-1:1,"D"),L=u.ctrlKey||u.metaKey,u.originalEvent.altKey&&v.datepicker._adjustDate(u.target,u.ctrlKey?+v.datepicker._get(k,"stepBigMonths"):+v.datepicker._get(k,"stepMonths"),"M");break;case 40:(u.ctrlKey||u.metaKey)&&v.datepicker._adjustDate(u.target,7,"D"),L=u.ctrlKey||u.metaKey;break;default:L=!1}else 36===u.keyCode&&u.ctrlKey?v.datepicker._showDatepicker(this):L=!1;L&&(u.preventDefault(),u.stopPropagation())},_doKeyPress:function(u){var g,f,w=v.datepicker._getInst(u.target);return v.datepicker._get(w,"constrainInput")?(g=v.datepicker._possibleChars(v.datepicker._get(w,"dateFormat")),f=String.fromCharCode(null==u.charCode?u.keyCode:u.charCode),u.ctrlKey||u.metaKey||" ">f||!g||g.indexOf(f)>-1):void 0},_doKeyUp:function(u){var f=v.datepicker._getInst(u.target);if(f.input.val()!==f.lastVal)try{v.datepicker.parseDate(v.datepicker._get(f,"dateFormat"),f.input?f.input.val():null,v.datepicker._getFormatConfig(f))&&(v.datepicker._setDateFromField(f),v.datepicker._updateAlternate(f),v.datepicker._updateDatepicker(f))}catch(w){}return!0},_showDatepicker:function(u){var g,f,w,k,L,N,H;"input"!==(u=u.target||u).nodeName.toLowerCase()&&(u=v("input",u.parentNode)[0]),v.datepicker._isDisabledDatepicker(u)||v.datepicker._lastInput===u||(g=v.datepicker._getInst(u),v.datepicker._curInst&&v.datepicker._curInst!==g&&(v.datepicker._curInst.dpDiv.stop(!0,!0),g&&v.datepicker._datepickerShowing&&v.datepicker._hideDatepicker(v.datepicker._curInst.input[0])),!1!==(w=(f=v.datepicker._get(g,"beforeShow"))?f.apply(u,[u,g]):{})&&(Pt(g.settings,w),g.lastVal=null,v.datepicker._lastInput=u,v.datepicker._setDateFromField(g),v.datepicker._inDialog&&(u.value=""),v.datepicker._pos||(v.datepicker._pos=v.datepicker._findPos(u),v.datepicker._pos[1]+=u.offsetHeight),k=!1,v(u).parents().each(function(){return!(k|="fixed"===v(this).css("position"))}),L={left:v.datepicker._pos[0],top:v.datepicker._pos[1]},v.datepicker._pos=null,g.dpDiv.empty(),g.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),v.datepicker._updateDatepicker(g),L=v.datepicker._checkOffset(g,L,k),g.dpDiv.css({position:v.datepicker._inDialog&&v.blockUI?"static":k?"fixed":"absolute",display:"none",left:L.left+"px",top:L.top+"px"}),g.inline||(N=v.datepicker._get(g,"showAnim"),H=v.datepicker._get(g,"duration"),g.dpDiv.css("z-index",function Le(u){for(var g,f;u.length&&u[0]!==document;){if(("absolute"===(g=u.css("position"))||"relative"===g||"fixed"===g)&&(f=parseInt(u.css("zIndex"),10),!isNaN(f)&&0!==f))return f;u=u.parent()}return 0}(v(u))+1),v.datepicker._datepickerShowing=!0,v.effects&&v.effects.effect[N]?g.dpDiv.show(N,v.datepicker._get(g,"showOptions"),H):g.dpDiv[N||"show"](N?H:null),v.datepicker._shouldFocusInput(g)&&g.input.trigger("focus"),v.datepicker._curInst=g)))},_updateDatepicker:function(u){this.maxRows=4,j=u,u.dpDiv.empty().append(this._generateHTML(u)),this._attachHandlers(u);var g,f=this._getNumberOfMonths(u),w=f[1],L=u.dpDiv.find("."+this._dayOverClass+" a");L.length>0&&vt.apply(L.get(0)),u.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),w>1&&u.dpDiv.addClass("ui-datepicker-multi-"+w).css("width",17*w+"em"),u.dpDiv[(1!==f[0]||1!==f[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),u.dpDiv[(this._get(u,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),u===v.datepicker._curInst&&v.datepicker._datepickerShowing&&v.datepicker._shouldFocusInput(u)&&u.input.trigger("focus"),u.yearshtml&&(g=u.yearshtml,setTimeout(function(){g===u.yearshtml&&u.yearshtml&&u.dpDiv.find("select.ui-datepicker-year:first").replaceWith(u.yearshtml),g=u.yearshtml=null},0))},_shouldFocusInput:function(u){return u.input&&u.input.is(":visible")&&!u.input.is(":disabled")&&!u.input.is(":focus")},_checkOffset:function(u,g,f){var w=u.dpDiv.outerWidth(),k=u.dpDiv.outerHeight(),L=u.input?u.input.outerWidth():0,N=u.input?u.input.outerHeight():0,H=document.documentElement.clientWidth+(f?0:v(document).scrollLeft()),q=document.documentElement.clientHeight+(f?0:v(document).scrollTop());return g.left-=this._get(u,"isRTL")?w-L:0,g.left-=f&&g.left===u.input.offset().left?v(document).scrollLeft():0,g.top-=f&&g.top===u.input.offset().top+N?v(document).scrollTop():0,g.left-=Math.min(g.left,g.left+w>H&&H>w?Math.abs(g.left+w-H):0),g.top-=Math.min(g.top,g.top+k>q&&q>k?Math.abs(k+N):0),g},_findPos:function(u){for(var g,f=this._getInst(u),w=this._get(f,"isRTL");u&&("hidden"===u.type||1!==u.nodeType||v.expr.filters.hidden(u));)u=u[w?"previousSibling":"nextSibling"];return[(g=v(u).offset()).left,g.top]},_hideDatepicker:function(u){var g,f,w,k,L=this._curInst;!L||u&&L!==v.data(u,"datepicker")||this._datepickerShowing&&(g=this._get(L,"showAnim"),f=this._get(L,"duration"),w=function(){v.datepicker._tidyDialog(L)},v.effects&&(v.effects.effect[g]||v.effects[g])?L.dpDiv.hide(g,v.datepicker._get(L,"showOptions"),f,w):L.dpDiv["slideDown"===g?"slideUp":"fadeIn"===g?"fadeOut":"hide"](g?f:null,w),g||w(),this._datepickerShowing=!1,(k=this._get(L,"onClose"))&&k.apply(L.input?L.input[0]:null,[L.input?L.input.val():"",L]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),v.blockUI&&(v.unblockUI(),v("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(u){u.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(u){if(v.datepicker._curInst){var g=v(u.target),f=v.datepicker._getInst(g[0]);(g[0].id!==v.datepicker._mainDivId&&0===g.parents("#"+v.datepicker._mainDivId).length&&!g.hasClass(v.datepicker.markerClassName)&&!g.closest("."+v.datepicker._triggerClass).length&&v.datepicker._datepickerShowing&&(!v.datepicker._inDialog||!v.blockUI)||g.hasClass(v.datepicker.markerClassName)&&v.datepicker._curInst!==f)&&v.datepicker._hideDatepicker()}},_adjustDate:function(u,g,f){var w=v(u),k=this._getInst(w[0]);this._isDisabledDatepicker(w[0])||(this._adjustInstDate(k,g+("M"===f?this._get(k,"showCurrentAtPos"):0),f),this._updateDatepicker(k))},_gotoToday:function(u){var g,f=v(u),w=this._getInst(f[0]);this._get(w,"gotoCurrent")&&w.currentDay?(w.selectedDay=w.currentDay,w.drawMonth=w.selectedMonth=w.currentMonth,w.drawYear=w.selectedYear=w.currentYear):(g=new Date,w.selectedDay=g.getDate(),w.drawMonth=w.selectedMonth=g.getMonth(),w.drawYear=w.selectedYear=g.getFullYear()),this._notifyChange(w),this._adjustDate(f)},_selectMonthYear:function(u,g,f){var w=v(u),k=this._getInst(w[0]);k["selected"+("M"===f?"Month":"Year")]=k["draw"+("M"===f?"Month":"Year")]=parseInt(g.options[g.selectedIndex].value,10),this._notifyChange(k),this._adjustDate(w)},_selectDay:function(u,g,f,w){var k,L=v(u);v(w).hasClass(this._unselectableClass)||this._isDisabledDatepicker(L[0])||((k=this._getInst(L[0])).selectedDay=k.currentDay=v("a",w).html(),k.selectedMonth=k.currentMonth=g,k.selectedYear=k.currentYear=f,this._selectDate(u,this._formatDate(k,k.currentDay,k.currentMonth,k.currentYear)))},_clearDate:function(u){var g=v(u);this._selectDate(g,"")},_selectDate:function(u,g){var f,w=v(u),k=this._getInst(w[0]);g=null!=g?g:this._formatDate(k),k.input&&k.input.val(g),this._updateAlternate(k),(f=this._get(k,"onSelect"))?f.apply(k.input?k.input[0]:null,[g,k]):k.input&&k.input.trigger("change"),k.inline?this._updateDatepicker(k):(this._hideDatepicker(),this._lastInput=k.input[0],"object"!=typeof k.input[0]&&k.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(u){var g,f,w,k=this._get(u,"altField");k&&(g=this._get(u,"altFormat")||this._get(u,"dateFormat"),f=this._getDate(u),w=this.formatDate(g,f,this._getFormatConfig(u)),v(k).val(w))},noWeekends:function(u){var g=u.getDay();return[g>0&&6>g,""]},iso8601Week:function(u){var g,f=new Date(u.getTime());return f.setDate(f.getDate()+4-(f.getDay()||7)),g=f.getTime(),f.setMonth(0),f.setDate(1),Math.floor(Math.round((g-f)/864e5)/7)+1},parseDate:function(u,g,f){if(null==u||null==g)throw"Invalid arguments";if(""==(g="object"==typeof g?""+g:g+""))return null;var w,k,L,N,H=0,q=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff,re="string"!=typeof q?q:(new Date).getFullYear()%100+parseInt(q,10),Z=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort,de=(f?f.dayNames:null)||this._defaults.dayNames,pe=(f?f.monthNamesShort:null)||this._defaults.monthNamesShort,ve=(f?f.monthNames:null)||this._defaults.monthNames,We=-1,Ie=-1,Ne=-1,F=-1,Te=!1,ht=function(De){var Q=u.length>w+1&&u.charAt(w+1)===De;return Q&&w++,Q},tt=function(De){var Q=ht(De),ne="@"===De?14:"!"===De?20:"y"===De&&Q?4:"o"===De?3:2,J=RegExp("^\\d{"+("y"===De?ne:1)+","+ne+"}"),we=g.substring(H).match(J);if(!we)throw"Missing number at position "+H;return H+=we[0].length,parseInt(we[0],10)},zt=function(De,Q,ne){var ee=-1,J=v.map(ht(De)?ne:Q,function(we,Ge){return[[Ge,we]]}).sort(function(we,Ge){return-(we[1].length-Ge[1].length)});if(v.each(J,function(we,Ge){var Pe=Ge[1];return g.substr(H,Pe.length).toLowerCase()===Pe.toLowerCase()?(ee=Ge[0],H+=Pe.length,!1):void 0}),-1!==ee)return ee+1;throw"Unknown name at position "+H},ft=function(){if(g.charAt(H)!==u.charAt(w))throw"Unexpected literal at position "+H;H++};for(w=0;u.length>w;w++)if(Te)"'"!==u.charAt(w)||ht("'")?ft():Te=!1;else switch(u.charAt(w)){case"d":Ne=tt("d");break;case"D":zt("D",Z,de);break;case"o":F=tt("o");break;case"m":Ie=tt("m");break;case"M":Ie=zt("M",pe,ve);break;case"y":We=tt("y");break;case"@":We=(N=new Date(tt("@"))).getFullYear(),Ie=N.getMonth()+1,Ne=N.getDate();break;case"!":We=(N=new Date((tt("!")-this._ticksTo1970)/1e4)).getFullYear(),Ie=N.getMonth()+1,Ne=N.getDate();break;case"'":ht("'")?ft():Te=!0;break;default:ft()}if(g.length>H&&(L=g.substr(H),!/^\s+/.test(L)))throw"Extra/unparsed characters found in date: "+L;if(-1===We?We=(new Date).getFullYear():100>We&&(We+=(new Date).getFullYear()-(new Date).getFullYear()%100+(re>=We?0:-100)),F>-1)for(Ie=1,Ne=F;!((k=this._getDaysInMonth(We,Ie-1))>=Ne);)Ie++,Ne-=k;if((N=this._daylightSavingAdjust(new Date(We,Ie-1,Ne))).getFullYear()!==We||N.getMonth()+1!==Ie||N.getDate()!==Ne)throw"Invalid date";return N},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(u,g,f){if(!g)return"";var w,k=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort,L=(f?f.dayNames:null)||this._defaults.dayNames,N=(f?f.monthNamesShort:null)||this._defaults.monthNamesShort,H=(f?f.monthNames:null)||this._defaults.monthNames,q=function(ve){var We=u.length>w+1&&u.charAt(w+1)===ve;return We&&w++,We},re=function(ve,We,Ie){var Ne=""+We;if(q(ve))for(;Ie>Ne.length;)Ne="0"+Ne;return Ne},Z=function(ve,We,Ie,Ne){return q(ve)?Ne[We]:Ie[We]},de="",pe=!1;if(g)for(w=0;u.length>w;w++)if(pe)"'"!==u.charAt(w)||q("'")?de+=u.charAt(w):pe=!1;else switch(u.charAt(w)){case"d":de+=re("d",g.getDate(),2);break;case"D":de+=Z("D",g.getDay(),k,L);break;case"o":de+=re("o",Math.round((new Date(g.getFullYear(),g.getMonth(),g.getDate()).getTime()-new Date(g.getFullYear(),0,0).getTime())/864e5),3);break;case"m":de+=re("m",g.getMonth()+1,2);break;case"M":de+=Z("M",g.getMonth(),N,H);break;case"y":de+=q("y")?g.getFullYear():(10>g.getFullYear()%100?"0":"")+g.getFullYear()%100;break;case"@":de+=g.getTime();break;case"!":de+=1e4*g.getTime()+this._ticksTo1970;break;case"'":q("'")?de+="'":pe=!0;break;default:de+=u.charAt(w)}return de},_possibleChars:function(u){var g,f="",w=!1,k=function(L){var N=u.length>g+1&&u.charAt(g+1)===L;return N&&g++,N};for(g=0;u.length>g;g++)if(w)"'"!==u.charAt(g)||k("'")?f+=u.charAt(g):w=!1;else switch(u.charAt(g)){case"d":case"m":case"y":case"@":f+="0123456789";break;case"D":case"M":return null;case"'":k("'")?f+="'":w=!0;break;default:f+=u.charAt(g)}return f},_get:function(u,g){return void 0!==u.settings[g]?u.settings[g]:this._defaults[g]},_setDateFromField:function(u,g){if(u.input.val()!==u.lastVal){var f=this._get(u,"dateFormat"),w=u.lastVal=u.input?u.input.val():null,k=this._getDefaultDate(u),L=k,N=this._getFormatConfig(u);try{L=this.parseDate(f,w,N)||k}catch(H){w=g?"":w}u.selectedDay=L.getDate(),u.drawMonth=u.selectedMonth=L.getMonth(),u.drawYear=u.selectedYear=L.getFullYear(),u.currentDay=w?L.getDate():0,u.currentMonth=w?L.getMonth():0,u.currentYear=w?L.getFullYear():0,this._adjustInstDate(u)}},_getDefaultDate:function(u){return this._restrictMinMax(u,this._determineDate(u,this._get(u,"defaultDate"),new Date))},_determineDate:function(u,g,f){var N,H,L=null==g||""===g?f:"string"==typeof g?function(N){try{return v.datepicker.parseDate(v.datepicker._get(u,"dateFormat"),N,v.datepicker._getFormatConfig(u))}catch(ve){}for(var H=(N.toLowerCase().match(/^c/)?v.datepicker._getDate(u):null)||new Date,q=H.getFullYear(),re=H.getMonth(),Z=H.getDate(),de=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,pe=de.exec(N);pe;){switch(pe[2]||"d"){case"d":case"D":Z+=parseInt(pe[1],10);break;case"w":case"W":Z+=7*parseInt(pe[1],10);break;case"m":case"M":re+=parseInt(pe[1],10),Z=Math.min(Z,v.datepicker._getDaysInMonth(q,re));break;case"y":case"Y":q+=parseInt(pe[1],10),Z=Math.min(Z,v.datepicker._getDaysInMonth(q,re))}pe=de.exec(N)}return new Date(q,re,Z)}(g):"number"==typeof g?isNaN(g)?f:(N=g,(H=new Date).setDate(H.getDate()+N),H):new Date(g.getTime());return(L=L&&""+L=="Invalid Date"?f:L)&&(L.setHours(0),L.setMinutes(0),L.setSeconds(0),L.setMilliseconds(0)),this._daylightSavingAdjust(L)},_daylightSavingAdjust:function(u){return u?(u.setHours(u.getHours()>12?u.getHours()+2:0),u):null},_setDate:function(u,g,f){var w=!g,k=u.selectedMonth,L=u.selectedYear,N=this._restrictMinMax(u,this._determineDate(u,g,new Date));u.selectedDay=u.currentDay=N.getDate(),u.drawMonth=u.selectedMonth=u.currentMonth=N.getMonth(),u.drawYear=u.selectedYear=u.currentYear=N.getFullYear(),k===u.selectedMonth&&L===u.selectedYear||f||this._notifyChange(u),this._adjustInstDate(u),u.input&&u.input.val(w?"":this._formatDate(u))},_getDate:function(u){return!u.currentYear||u.input&&""===u.input.val()?null:this._daylightSavingAdjust(new Date(u.currentYear,u.currentMonth,u.currentDay))},_attachHandlers:function(u){var g=this._get(u,"stepMonths"),f="#"+u.id.replace(/\\\\/g,"\\");u.dpDiv.find("[data-handler]").map(function(){var w={prev:function(){v.datepicker._adjustDate(f,-g,"M")},next:function(){v.datepicker._adjustDate(f,+g,"M")},hide:function(){v.datepicker._hideDatepicker()},today:function(){v.datepicker._gotoToday(f)},selectDay:function(){return v.datepicker._selectDay(f,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return v.datepicker._selectMonthYear(f,this,"M"),!1},selectYear:function(){return v.datepicker._selectMonthYear(f,this,"Y"),!1}};v(this).on(this.getAttribute("data-event"),w[this.getAttribute("data-handler")])})},_generateHTML:function(u){var g,f,w,k,L,N,H,q,re,Z,de,pe,ve,We,Ie,Ne,F,Te,ht,tt,zt,ft,De,Q,ne,ee,J,we,Ge,Pe,Ve,kt,Rt,wt,Yt,Xt,Ht,Et,nt,ie=new Date,oe=this._daylightSavingAdjust(new Date(ie.getFullYear(),ie.getMonth(),ie.getDate())),ue=this._get(u,"isRTL"),ge=this._get(u,"showButtonPanel"),_e=this._get(u,"hideIfNoPrevNext"),Oe=this._get(u,"navigationAsDateFormat"),Ae=this._getNumberOfMonths(u),ce=this._get(u,"showCurrentAtPos"),K=this._get(u,"stepMonths"),se=1!==Ae[0]||1!==Ae[1],Me=this._daylightSavingAdjust(u.currentDay?new Date(u.currentYear,u.currentMonth,u.currentDay):new Date(9999,9,9)),xe=this._getMinMaxDate(u,"min"),He=this._getMinMaxDate(u,"max"),Xe=u.drawMonth-ce,$e=u.drawYear;if(0>Xe&&(Xe+=12,$e--),He)for(g=this._daylightSavingAdjust(new Date(He.getFullYear(),He.getMonth()-Ae[0]*Ae[1]+1,He.getDate())),g=xe&&xe>g?xe:g;this._daylightSavingAdjust(new Date($e,Xe,1))>g;)0>--Xe&&(Xe=11,$e--);for(u.drawMonth=Xe,u.drawYear=$e,f=this._get(u,"prevText"),f=Oe?this.formatDate(f,this._daylightSavingAdjust(new Date($e,Xe-K,1)),this._getFormatConfig(u)):f,w=this._canAdjustMonth(u,-1,$e,Xe)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+f+"'><span class='ui-icon ui-icon-circle-triangle-"+(ue?"e":"w")+"'>"+f+"</span></a>":_e?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+f+"'><span class='ui-icon ui-icon-circle-triangle-"+(ue?"e":"w")+"'>"+f+"</span></a>",k=this._get(u,"nextText"),k=Oe?this.formatDate(k,this._daylightSavingAdjust(new Date($e,Xe+K,1)),this._getFormatConfig(u)):k,L=this._canAdjustMonth(u,1,$e,Xe)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+k+"'><span class='ui-icon ui-icon-circle-triangle-"+(ue?"w":"e")+"'>"+k+"</span></a>":_e?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+k+"'><span class='ui-icon ui-icon-circle-triangle-"+(ue?"w":"e")+"'>"+k+"</span></a>",N=this._get(u,"currentText"),H=this._get(u,"gotoCurrent")&&u.currentDay?Me:oe,N=Oe?this.formatDate(N,H,this._getFormatConfig(u)):N,q=u.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(u,"closeText")+"</button>",re=ge?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ue?q:"")+(this._isInRange(u,H)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+N+"</button>":"")+(ue?"":q)+"</div>":"",Z=parseInt(this._get(u,"firstDay"),10),Z=isNaN(Z)?0:Z,de=this._get(u,"showWeek"),pe=this._get(u,"dayNames"),ve=this._get(u,"dayNamesMin"),We=this._get(u,"monthNames"),Ie=this._get(u,"monthNamesShort"),Ne=this._get(u,"beforeShowDay"),F=this._get(u,"showOtherMonths"),Te=this._get(u,"selectOtherMonths"),ht=this._getDefaultDate(u),tt="",ft=0;Ae[0]>ft;ft++){for(De="",this.maxRows=4,Q=0;Ae[1]>Q;Q++){if(ne=this._daylightSavingAdjust(new Date($e,Xe,u.selectedDay)),ee=" ui-corner-all",J="",se){if(J+="<div class='ui-datepicker-group",Ae[1]>1)switch(Q){case 0:J+=" ui-datepicker-group-first",ee=" ui-corner-"+(ue?"right":"left");break;case Ae[1]-1:J+=" ui-datepicker-group-last",ee=" ui-corner-"+(ue?"left":"right");break;default:J+=" ui-datepicker-group-middle",ee=""}J+="'>"}for(J+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+ee+"'>"+(/all|left/.test(ee)&&0===ft?ue?L:w:"")+(/all|right/.test(ee)&&0===ft?ue?w:L:"")+this._generateMonthYearHeader(u,Xe,$e,xe,He,ft>0||Q>0,We,Ie)+"</div><table class='ui-datepicker-calendar'><thead><tr>",we=de?"<th class='ui-datepicker-week-col'>"+this._get(u,"weekHeader")+"</th>":"",zt=0;7>zt;zt++)we+="<th scope='col'"+((zt+Z+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+pe[Ge=(zt+Z)%7]+"'>"+ve[Ge]+"</span></th>";for(J+=we+"</tr></thead><tbody>",Pe=this._getDaysInMonth($e,Xe),$e===u.selectedYear&&Xe===u.selectedMonth&&(u.selectedDay=Math.min(u.selectedDay,Pe)),Ve=(this._getFirstDayOfMonth($e,Xe)-Z+7)%7,kt=Math.ceil((Ve+Pe)/7),this.maxRows=Rt=se&&this.maxRows>kt?this.maxRows:kt,wt=this._daylightSavingAdjust(new Date($e,Xe,1-Ve)),Yt=0;Rt>Yt;Yt++){for(J+="<tr>",Xt=de?"<td class='ui-datepicker-week-col'>"+this._get(u,"calculateWeek")(wt)+"</td>":"",zt=0;7>zt;zt++)Ht=Ne?Ne.apply(u.input?u.input[0]:null,[wt]):[!0,""],nt=(Et=wt.getMonth()!==Xe)&&!Te||!Ht[0]||xe&&xe>wt||He&&wt>He,Xt+="<td class='"+((zt+Z+6)%7>=5?" ui-datepicker-week-end":"")+(Et?" ui-datepicker-other-month":"")+(wt.getTime()===ne.getTime()&&Xe===u.selectedMonth&&u._keyEvent||ht.getTime()===wt.getTime()&&ht.getTime()===ne.getTime()?" "+this._dayOverClass:"")+(nt?" "+this._unselectableClass+" ui-state-disabled":"")+(Et&&!F?"":" "+Ht[1]+(wt.getTime()===Me.getTime()?" "+this._currentClass:"")+(wt.getTime()===oe.getTime()?" ui-datepicker-today":""))+"'"+(Et&&!F||!Ht[2]?"":" title='"+Ht[2].replace(/'/g,"&#39;")+"'")+(nt?"":" data-handler='selectDay' data-event='click' data-month='"+wt.getMonth()+"' data-year='"+wt.getFullYear()+"'")+">"+(Et&&!F?"&#xa0;":nt?"<span class='ui-state-default'>"+wt.getDate()+"</span>":"<a class='ui-state-default"+(wt.getTime()===oe.getTime()?" ui-state-highlight":"")+(wt.getTime()===Me.getTime()?" ui-state-active":"")+(Et?" ui-priority-secondary":"")+"' href='#'>"+wt.getDate()+"</a>")+"</td>",wt.setDate(wt.getDate()+1),wt=this._daylightSavingAdjust(wt);J+=Xt+"</tr>"}++Xe>11&&(Xe=0,$e++),De+=J+="</tbody></table>"+(se?"</div>"+(Ae[0]>0&&Q===Ae[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}tt+=De}return tt+=re,u._keyEvent=!1,tt},_generateMonthYearHeader:function(u,g,f,w,k,L,N,H){var q,re,Z,de,pe,ve,We,Ie,Ne=this._get(u,"changeMonth"),F=this._get(u,"changeYear"),Te=this._get(u,"showMonthAfterYear"),ht="<div class='ui-datepicker-title'>",tt="";if(L||!Ne)tt+="<span class='ui-datepicker-month'>"+N[g]+"</span>";else{for(q=w&&w.getFullYear()===f,re=k&&k.getFullYear()===f,tt+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",Z=0;12>Z;Z++)(!q||Z>=w.getMonth())&&(!re||k.getMonth()>=Z)&&(tt+="<option value='"+Z+"'"+(Z===g?" selected='selected'":"")+">"+H[Z]+"</option>");tt+="</select>"}if(Te||(ht+=tt+(!L&&Ne&&F?"":"&#xa0;")),!u.yearshtml)if(u.yearshtml="",L||!F)ht+="<span class='ui-datepicker-year'>"+f+"</span>";else{for(de=this._get(u,"yearRange").split(":"),pe=(new Date).getFullYear(),We=(ve=function(zt){var ft=zt.match(/c[+\-].*/)?f+parseInt(zt.substring(1),10):zt.match(/[+\-].*/)?pe+parseInt(zt,10):parseInt(zt,10);return isNaN(ft)?pe:ft})(de[0]),Ie=Math.max(We,ve(de[1]||"")),We=w?Math.max(We,w.getFullYear()):We,Ie=k?Math.min(Ie,k.getFullYear()):Ie,u.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";Ie>=We;We++)u.yearshtml+="<option value='"+We+"'"+(We===f?" selected='selected'":"")+">"+We+"</option>";u.yearshtml+="</select>",ht+=u.yearshtml,u.yearshtml=null}return ht+=this._get(u,"yearSuffix"),Te&&(ht+=(!L&&Ne&&F?"":"&#xa0;")+tt),ht+"</div>"},_adjustInstDate:function(u,g,f){var w=u.selectedYear+("Y"===f?g:0),k=u.selectedMonth+("M"===f?g:0),L=Math.min(u.selectedDay,this._getDaysInMonth(w,k))+("D"===f?g:0),N=this._restrictMinMax(u,this._daylightSavingAdjust(new Date(w,k,L)));u.selectedDay=N.getDate(),u.drawMonth=u.selectedMonth=N.getMonth(),u.drawYear=u.selectedYear=N.getFullYear(),("M"===f||"Y"===f)&&this._notifyChange(u)},_restrictMinMax:function(u,g){var f=this._getMinMaxDate(u,"min"),w=this._getMinMaxDate(u,"max"),k=f&&f>g?f:g;return w&&k>w?w:k},_notifyChange:function(u){var g=this._get(u,"onChangeMonthYear");g&&g.apply(u.input?u.input[0]:null,[u.selectedYear,u.selectedMonth+1,u])},_getNumberOfMonths:function(u){var g=this._get(u,"numberOfMonths");return null==g?[1,1]:"number"==typeof g?[1,g]:g},_getMinMaxDate:function(u,g){return this._determineDate(u,this._get(u,g+"Date"),null)},_getDaysInMonth:function(u,g){return 32-this._daylightSavingAdjust(new Date(u,g,32)).getDate()},_getFirstDayOfMonth:function(u,g){return new Date(u,g,1).getDay()},_canAdjustMonth:function(u,g,f,w){var k=this._getNumberOfMonths(u),L=this._daylightSavingAdjust(new Date(f,w+(0>g?g:k[0]*k[1]),1));return 0>g&&L.setDate(this._getDaysInMonth(L.getFullYear(),L.getMonth())),this._isInRange(u,L)},_isInRange:function(u,g){var f,w,k=this._getMinMaxDate(u,"min"),L=this._getMinMaxDate(u,"max"),N=null,H=null,q=this._get(u,"yearRange");return q&&(f=q.split(":"),w=(new Date).getFullYear(),N=parseInt(f[0],10),H=parseInt(f[1],10),f[0].match(/[+\-].*/)&&(N+=w),f[1].match(/[+\-].*/)&&(H+=w)),(!k||g.getTime()>=k.getTime())&&(!L||g.getTime()<=L.getTime())&&(!N||g.getFullYear()>=N)&&(!H||H>=g.getFullYear())},_getFormatConfig:function(u){var g=this._get(u,"shortYearCutoff");return{shortYearCutoff:g="string"!=typeof g?g:(new Date).getFullYear()%100+parseInt(g,10),dayNamesShort:this._get(u,"dayNamesShort"),dayNames:this._get(u,"dayNames"),monthNamesShort:this._get(u,"monthNamesShort"),monthNames:this._get(u,"monthNames")}},_formatDate:function(u,g,f,w){g||(u.currentDay=u.selectedDay,u.currentMonth=u.selectedMonth,u.currentYear=u.selectedYear);var k=g?"object"==typeof g?g:this._daylightSavingAdjust(new Date(w,f,g)):this._daylightSavingAdjust(new Date(u.currentYear,u.currentMonth,u.currentDay));return this.formatDate(this._get(u,"dateFormat"),k,this._getFormatConfig(u))}}),v.fn.datepicker=function(u){if(!this.length)return this;v.datepicker.initialized||(v(document).on("mousedown",v.datepicker._checkExternalClick),v.datepicker.initialized=!0),0===v("#"+v.datepicker._mainDivId).length&&v("body").append(v.datepicker.dpDiv);var g=Array.prototype.slice.call(arguments,1);return"string"!=typeof u||"isDisabled"!==u&&"getDate"!==u&&"widget"!==u?"option"===u&&2===arguments.length&&"string"==typeof arguments[1]?v.datepicker["_"+u+"Datepicker"].apply(v.datepicker,[this[0]].concat(g)):this.each(function(){"string"==typeof u?v.datepicker["_"+u+"Datepicker"].apply(v.datepicker,[this].concat(g)):v.datepicker._attachDatepicker(this,u)}):v.datepicker["_"+u+"Datepicker"].apply(v.datepicker,[this[0]].concat(g))},v.datepicker=new Fe,v.datepicker.initialized=!1,v.datepicker.uuid=(new Date).getTime(),v.datepicker.version="1.12.1",v.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var M=!1;v(document).on("mouseup",function(){M=!1}),v.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var u=this;this.element.on("mousedown."+this.widgetName,function(g){return u._mouseDown(g)}).on("click."+this.widgetName,function(g){return!0===v.data(g.target,u.widgetName+".preventClickEvent")?(v.removeData(g.target,u.widgetName+".preventClickEvent"),g.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(u){if(!M){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(u),this._mouseDownEvent=u;var g=this,f=1===u.which,w=!("string"!=typeof this.options.cancel||!u.target.nodeName)&&v(u.target).closest(this.options.cancel).length;return!(f&&!w&&this._mouseCapture(u)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=!1!==this._mouseStart(u),!this._mouseStarted)?(u.preventDefault(),0):(!0===v.data(u.target,this.widgetName+".preventClickEvent")&&v.removeData(u.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(k){return g._mouseMove(k)},this._mouseUpDelegate=function(k){return g._mouseUp(k)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),u.preventDefault(),M=!0,0)))}},_mouseMove:function(u){if(this._mouseMoved){if(v.ui.ie&&(!document.documentMode||9>document.documentMode)&&!u.button)return this._mouseUp(u);if(!u.which)if(u.originalEvent.altKey||u.originalEvent.ctrlKey||u.originalEvent.metaKey||u.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(u)}return(u.which||u.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(u),u.preventDefault()):(this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,u),this._mouseStarted?this._mouseDrag(u):this._mouseUp(u)),!this._mouseStarted)},_mouseUp:function(u){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,u.target===this._mouseDownEvent.target&&v.data(u.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(u)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,M=!1,u.preventDefault()},_mouseDistanceMet:function(u){return Math.max(Math.abs(this._mouseDownEvent.pageX-u.pageX),Math.abs(this._mouseDownEvent.pageY-u.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),v.ui.plugin={add:function(u,g,f){var w,k=v.ui[u].prototype;for(w in f)k.plugins[w]=k.plugins[w]||[],k.plugins[w].push([g,f[w]])},call:function(u,g,f,w){var k,L=u.plugins[g];if(L&&(w||u.element[0].parentNode&&11!==u.element[0].parentNode.nodeType))for(k=0;L.length>k;k++)u.options[L[k][0]]&&L[k][1].apply(u.element,f)}},v.ui.safeBlur=function(u){u&&"body"!==u.nodeName.toLowerCase()&&v(u).trigger("blur")},v.widget("ui.draggable",v.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(u,g){this._super(u,g),"handle"===u&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(u){var g=this.options;return!(this.helper||g.disabled||v(u.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(u),!this.handle||(this._blurActiveElement(u),this._blockFrames(!0===g.iframeFix?"iframe":g.iframeFix),0)))},_blockFrames:function(u){this.iframeBlocks=this.document.find(u).map(function(){var g=v(this);return v("<div>").css("position","absolute").appendTo(g.parent()).outerWidth(g.outerWidth()).outerHeight(g.outerHeight()).offset(g.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(u){var g=v.ui.safeActiveElement(this.document[0]);v(u.target).closest(g).length||v.ui.safeBlur(g)},_mouseStart:function(u){var g=this.options;return this.helper=this._createHelper(u),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),v.ui.ddmanager&&(v.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===v(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(u),this.originalPosition=this.position=this._generatePosition(u,!1),this.originalPageX=u.pageX,this.originalPageY=u.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this._setContainment(),!1===this._trigger("start",u)?(this._clear(),!1):(this._cacheHelperProportions(),v.ui.ddmanager&&!g.dropBehaviour&&v.ui.ddmanager.prepareOffsets(this,u),this._mouseDrag(u,!0),v.ui.ddmanager&&v.ui.ddmanager.dragStart(this,u),!0)},_refreshOffsets:function(u){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:u.pageX-this.offset.left,top:u.pageY-this.offset.top}},_mouseDrag:function(u,g){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(u,!0),this.positionAbs=this._convertPositionTo("absolute"),!g){var f=this._uiHash();if(!1===this._trigger("drag",u,f))return this._mouseUp(new v.Event("mouseup",u)),!1;this.position=f.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",v.ui.ddmanager&&v.ui.ddmanager.drag(this,u),!1},_mouseStop:function(u){var g=this,f=!1;return v.ui.ddmanager&&!this.options.dropBehaviour&&(f=v.ui.ddmanager.drop(this,u)),this.dropped&&(f=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!f||"valid"===this.options.revert&&f||!0===this.options.revert||v.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)?v(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==g._trigger("stop",u)&&g._clear()}):!1!==this._trigger("stop",u)&&this._clear(),!1},_mouseUp:function(u){return this._unblockFrames(),v.ui.ddmanager&&v.ui.ddmanager.dragStop(this,u),this.handleElement.is(u.target)&&this.element.trigger("focus"),v.ui.mouse.prototype._mouseUp.call(this,u)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new v.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(u){return!this.options.handle||!!v(u.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(u){var g=this.options,f=v.isFunction(g.helper),w=f?v(g.helper.apply(this.element[0],[u])):"clone"===g.helper?this.element.clone().removeAttr("id"):this.element;return w.parents("body").length||w.appendTo("parent"===g.appendTo?this.element[0].parentNode:g.appendTo),f&&w[0]===this.element[0]&&this._setPositionRelative(),w[0]===this.element[0]||/(fixed|absolute)/.test(w.css("position"))||w.css("position","absolute"),w},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(u){"string"==typeof u&&(u=u.split(" ")),v.isArray(u)&&(u={left:+u[0],top:+u[1]||0}),"left"in u&&(this.offset.click.left=u.left+this.margins.left),"right"in u&&(this.offset.click.left=this.helperProportions.width-u.right+this.margins.left),"top"in u&&(this.offset.click.top=u.top+this.margins.top),"bottom"in u&&(this.offset.click.top=this.helperProportions.height-u.bottom+this.margins.top)},_isRootNode:function(u){return/(html|body)/i.test(u.tagName)||u===this.document[0]},_getParentOffset:function(){var u=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&v.contains(this.scrollParent[0],this.offsetParent[0])&&(u.left+=this.scrollParent.scrollLeft(),u.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(u={top:0,left:0}),{top:u.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:u.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var u=this.element.position(),g=this._isRootNode(this.scrollParent[0]);return{top:u.top-(parseInt(this.helper.css("top"),10)||0)+(g?0:this.scrollParent.scrollTop()),left:u.left-(parseInt(this.helper.css("left"),10)||0)+(g?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,g,f,w=this.options,k=this.document[0];return this.relativeContainer=null,w.containment?"window"===w.containment?void(this.containment=[v(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,v(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,v(window).scrollLeft()+v(window).width()-this.helperProportions.width-this.margins.left,v(window).scrollTop()+(v(window).height()||k.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===w.containment?void(this.containment=[0,0,v(k).width()-this.helperProportions.width-this.margins.left,(v(k).height()||k.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):w.containment.constructor===Array?void(this.containment=w.containment):("parent"===w.containment&&(w.containment=this.helper[0].parentNode),void((f=(g=v(w.containment))[0])&&(u=/(scroll|auto)/.test(g.css("overflow")),this.containment=[(parseInt(g.css("borderLeftWidth"),10)||0)+(parseInt(g.css("paddingLeft"),10)||0),(parseInt(g.css("borderTopWidth"),10)||0)+(parseInt(g.css("paddingTop"),10)||0),(u?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(g.css("borderRightWidth"),10)||0)-(parseInt(g.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(g.css("borderBottomWidth"),10)||0)-(parseInt(g.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=g))):void(this.containment=null)},_convertPositionTo:function(u,g){g||(g=this.position);var f="absolute"===u?1:-1,w=this._isRootNode(this.scrollParent[0]);return{top:g.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.offset.scroll.top:w?0:this.offset.scroll.top)*f,left:g.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.offset.scroll.left:w?0:this.offset.scroll.left)*f}},_generatePosition:function(u,g){var f,w,k,L,N=this.options,H=this._isRootNode(this.scrollParent[0]),q=u.pageX,re=u.pageY;return H&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),g&&(this.containment&&(this.relativeContainer?(w=this.relativeContainer.offset(),f=[this.containment[0]+w.left,this.containment[1]+w.top,this.containment[2]+w.left,this.containment[3]+w.top]):f=this.containment,u.pageX-this.offset.click.left<f[0]&&(q=f[0]+this.offset.click.left),u.pageY-this.offset.click.top<f[1]&&(re=f[1]+this.offset.click.top),u.pageX-this.offset.click.left>f[2]&&(q=f[2]+this.offset.click.left),u.pageY-this.offset.click.top>f[3]&&(re=f[3]+this.offset.click.top)),N.grid&&(k=N.grid[1]?this.originalPageY+Math.round((re-this.originalPageY)/N.grid[1])*N.grid[1]:this.originalPageY,re=f?k-this.offset.click.top>=f[1]||k-this.offset.click.top>f[3]?k:k-this.offset.click.top>=f[1]?k-N.grid[1]:k+N.grid[1]:k,L=N.grid[0]?this.originalPageX+Math.round((q-this.originalPageX)/N.grid[0])*N.grid[0]:this.originalPageX,q=f?L-this.offset.click.left>=f[0]||L-this.offset.click.left>f[2]?L:L-this.offset.click.left>=f[0]?L-N.grid[0]:L+N.grid[0]:L),"y"===N.axis&&(q=this.originalPageX),"x"===N.axis&&(re=this.originalPageY)),{top:re-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:H?0:this.offset.scroll.top),left:q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:H?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(u,g,f){return f=f||this._uiHash(),v.ui.plugin.call(this,u,[g,f,this],!0),/^(drag|start|stop)/.test(u)&&(this.positionAbs=this._convertPositionTo("absolute"),f.offset=this.positionAbs),v.Widget.prototype._trigger.call(this,u,g,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),v.ui.plugin.add("draggable","connectToSortable",{start:function(u,g,f){var w=v.extend({},g,{item:f.element});f.sortables=[],v(f.options.connectToSortable).each(function(){var k=v(this).sortable("instance");k&&!k.options.disabled&&(f.sortables.push(k),k.refreshPositions(),k._trigger("activate",u,w))})},stop:function(u,g,f){var w=v.extend({},g,{item:f.element});f.cancelHelperRemoval=!1,v.each(f.sortables,function(){var k=this;k.isOver?(k.isOver=0,f.cancelHelperRemoval=!0,k.cancelHelperRemoval=!1,k._storedCSS={position:k.placeholder.css("position"),top:k.placeholder.css("top"),left:k.placeholder.css("left")},k._mouseStop(u),k.options.helper=k.options._helper):(k.cancelHelperRemoval=!0,k._trigger("deactivate",u,w))})},drag:function(u,g,f){v.each(f.sortables,function(){var w=!1,k=this;k.positionAbs=f.positionAbs,k.helperProportions=f.helperProportions,k.offset.click=f.offset.click,k._intersectsWith(k.containerCache)&&(w=!0,v.each(f.sortables,function(){return this.positionAbs=f.positionAbs,this.helperProportions=f.helperProportions,this.offset.click=f.offset.click,this!==k&&this._intersectsWith(this.containerCache)&&v.contains(k.element[0],this.element[0])&&(w=!1),w})),w?(k.isOver||(k.isOver=1,f._parent=g.helper.parent(),k.currentItem=g.helper.appendTo(k.element).data("ui-sortable-item",!0),k.options._helper=k.options.helper,k.options.helper=function(){return g.helper[0]},u.target=k.currentItem[0],k._mouseCapture(u,!0),k._mouseStart(u,!0,!0),k.offset.click.top=f.offset.click.top,k.offset.click.left=f.offset.click.left,k.offset.parent.left-=f.offset.parent.left-k.offset.parent.left,k.offset.parent.top-=f.offset.parent.top-k.offset.parent.top,f._trigger("toSortable",u),f.dropped=k.element,v.each(f.sortables,function(){this.refreshPositions()}),f.currentItem=f.element,k.fromOutside=f),k.currentItem&&(k._mouseDrag(u),g.position=k.position)):k.isOver&&(k.isOver=0,k.cancelHelperRemoval=!0,k.options._revert=k.options.revert,k.options.revert=!1,k._trigger("out",u,k._uiHash(k)),k._mouseStop(u,!0),k.options.revert=k.options._revert,k.options.helper=k.options._helper,k.placeholder&&k.placeholder.remove(),g.helper.appendTo(f._parent),f._refreshOffsets(u),g.position=f._generatePosition(u,!0),f._trigger("fromSortable",u),f.dropped=!1,v.each(f.sortables,function(){this.refreshPositions()}))})}}),v.ui.plugin.add("draggable","cursor",{start:function(u,g,f){var w=v("body"),k=f.options;w.css("cursor")&&(k._cursor=w.css("cursor")),w.css("cursor",k.cursor)},stop:function(u,g,f){var w=f.options;w._cursor&&v("body").css("cursor",w._cursor)}}),v.ui.plugin.add("draggable","opacity",{start:function(u,g,f){var w=v(g.helper),k=f.options;w.css("opacity")&&(k._opacity=w.css("opacity")),w.css("opacity",k.opacity)},stop:function(u,g,f){var w=f.options;w._opacity&&v(g.helper).css("opacity",w._opacity)}}),v.ui.plugin.add("draggable","scroll",{start:function(u,g,f){f.scrollParentNotHidden||(f.scrollParentNotHidden=f.helper.scrollParent(!1)),f.scrollParentNotHidden[0]!==f.document[0]&&"HTML"!==f.scrollParentNotHidden[0].tagName&&(f.overflowOffset=f.scrollParentNotHidden.offset())},drag:function(u,g,f){var w=f.options,k=!1,L=f.scrollParentNotHidden[0],N=f.document[0];L!==N&&"HTML"!==L.tagName?(w.axis&&"x"===w.axis||(f.overflowOffset.top+L.offsetHeight-u.pageY<w.scrollSensitivity?L.scrollTop=k=L.scrollTop+w.scrollSpeed:u.pageY-f.overflowOffset.top<w.scrollSensitivity&&(L.scrollTop=k=L.scrollTop-w.scrollSpeed)),w.axis&&"y"===w.axis||(f.overflowOffset.left+L.offsetWidth-u.pageX<w.scrollSensitivity?L.scrollLeft=k=L.scrollLeft+w.scrollSpeed:u.pageX-f.overflowOffset.left<w.scrollSensitivity&&(L.scrollLeft=k=L.scrollLeft-w.scrollSpeed))):(w.axis&&"x"===w.axis||(u.pageY-v(N).scrollTop()<w.scrollSensitivity?k=v(N).scrollTop(v(N).scrollTop()-w.scrollSpeed):v(window).height()-(u.pageY-v(N).scrollTop())<w.scrollSensitivity&&(k=v(N).scrollTop(v(N).scrollTop()+w.scrollSpeed))),w.axis&&"y"===w.axis||(u.pageX-v(N).scrollLeft()<w.scrollSensitivity?k=v(N).scrollLeft(v(N).scrollLeft()-w.scrollSpeed):v(window).width()-(u.pageX-v(N).scrollLeft())<w.scrollSensitivity&&(k=v(N).scrollLeft(v(N).scrollLeft()+w.scrollSpeed)))),!1!==k&&v.ui.ddmanager&&!w.dropBehaviour&&v.ui.ddmanager.prepareOffsets(f,u)}}),v.ui.plugin.add("draggable","snap",{start:function(u,g,f){var w=f.options;f.snapElements=[],v(w.snap.constructor!==String?w.snap.items||":data(ui-draggable)":w.snap).each(function(){var k=v(this),L=k.offset();this!==f.element[0]&&f.snapElements.push({item:this,width:k.outerWidth(),height:k.outerHeight(),top:L.top,left:L.left})})},drag:function(u,g,f){var w,k,L,N,H,q,re,Z,de,pe,ve=f.options,We=ve.snapTolerance,Ie=g.offset.left,Ne=Ie+f.helperProportions.width,F=g.offset.top,Te=F+f.helperProportions.height;for(de=f.snapElements.length-1;de>=0;de--)q=(H=f.snapElements[de].left-f.margins.left)+f.snapElements[de].width,Z=(re=f.snapElements[de].top-f.margins.top)+f.snapElements[de].height,H-We>Ne||Ie>q+We||re-We>Te||F>Z+We||!v.contains(f.snapElements[de].item.ownerDocument,f.snapElements[de].item)?(f.snapElements[de].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,u,v.extend(f._uiHash(),{snapItem:f.snapElements[de].item})),f.snapElements[de].snapping=!1):("inner"!==ve.snapMode&&(w=We>=Math.abs(re-Te),k=We>=Math.abs(Z-F),L=We>=Math.abs(H-Ne),N=We>=Math.abs(q-Ie),w&&(g.position.top=f._convertPositionTo("relative",{top:re-f.helperProportions.height,left:0}).top),k&&(g.position.top=f._convertPositionTo("relative",{top:Z,left:0}).top),L&&(g.position.left=f._convertPositionTo("relative",{top:0,left:H-f.helperProportions.width}).left),N&&(g.position.left=f._convertPositionTo("relative",{top:0,left:q}).left)),pe=w||k||L||N,"outer"!==ve.snapMode&&(w=We>=Math.abs(re-F),k=We>=Math.abs(Z-Te),L=We>=Math.abs(H-Ie),N=We>=Math.abs(q-Ne),w&&(g.position.top=f._convertPositionTo("relative",{top:re,left:0}).top),k&&(g.position.top=f._convertPositionTo("relative",{top:Z-f.helperProportions.height,left:0}).top),L&&(g.position.left=f._convertPositionTo("relative",{top:0,left:H}).left),N&&(g.position.left=f._convertPositionTo("relative",{top:0,left:q-f.helperProportions.width}).left)),!f.snapElements[de].snapping&&(w||k||L||N||pe)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,u,v.extend(f._uiHash(),{snapItem:f.snapElements[de].item})),f.snapElements[de].snapping=w||k||L||N||pe)}}),v.ui.plugin.add("draggable","stack",{start:function(u,g,f){var w,L=v.makeArray(v(f.options.stack)).sort(function(N,H){return(parseInt(v(N).css("zIndex"),10)||0)-(parseInt(v(H).css("zIndex"),10)||0)});L.length&&(w=parseInt(v(L[0]).css("zIndex"),10)||0,v(L).each(function(N){v(this).css("zIndex",w+N)}),this.css("zIndex",w+L.length))}}),v.ui.plugin.add("draggable","zIndex",{start:function(u,g,f){var w=v(g.helper),k=f.options;w.css("zIndex")&&(k._zIndex=w.css("zIndex")),w.css("zIndex",k.zIndex)},stop:function(u,g,f){var w=f.options;w._zIndex&&v(g.helper).css("zIndex",w._zIndex)}}),v.widget("ui.resizable",v.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(u){return parseFloat(u)||0},_isNumber:function(u){return!isNaN(parseFloat(u))},_hasScroll:function(u,g){if("hidden"===v(u).css("overflow"))return!1;var f=g&&"left"===g?"scrollLeft":"scrollTop",w=!1;return u[f]>0||(u[f]=1,w=u[f]>0,u[f]=0,w)},_create:function(){var u,g=this.options,f=this;this._addClass("ui-resizable"),v.extend(this,{_aspectRatio:!!g.aspectRatio,aspectRatio:g.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(v("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,u={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(u),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(u),this._proportionallyResize()),this._setupHandles(),g.autoHide&&v(this.element).on("mouseenter",function(){g.disabled||(f._removeClass("ui-resizable-autohide"),f._handles.show())}).on("mouseleave",function(){g.disabled||f.resizing||(f._addClass("ui-resizable-autohide"),f._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var u,g=function(f){v(f).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(g(this.element),this.originalElement.css({position:(u=this.element).css("position"),width:u.outerWidth(),height:u.outerHeight(),top:u.css("top"),left:u.css("left")}).insertAfter(u),u.remove()),this.originalElement.css("resize",this.originalResizeStyle),g(this.originalElement),this},_setOption:function(u,g){"handles"===(this._super(u,g),u)&&(this._removeHandles(),this._setupHandles())},_setupHandles:function(){var u,g,f,w,k,L=this.options,N=this;if(this.handles=L.handles||(v(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=v(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),f=this.handles.split(","),this.handles={},g=0;f.length>g;g++)w="ui-resizable-"+(u=v.trim(f[g])),k=v("<div>"),this._addClass(k,"ui-resizable-handle "+w),k.css({zIndex:L.zIndex}),this.handles[u]=".ui-resizable-"+u,this.element.append(k);this._renderAxis=function(H){var q,re,Z,de;for(q in H=H||this.element,this.handles)this.handles[q].constructor===String?this.handles[q]=this.element.children(this.handles[q]).first().show():(this.handles[q].jquery||this.handles[q].nodeType)&&(this.handles[q]=v(this.handles[q]),this._on(this.handles[q],{mousedown:N._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(re=v(this.handles[q],this.element),de=/sw|ne|nw|se|n|s/.test(q)?re.outerHeight():re.outerWidth(),Z=["padding",/ne|nw|n/.test(q)?"Top":/se|sw|s/.test(q)?"Bottom":/^e$/.test(q)?"Right":"Left"].join(""),H.css(Z,de),this._proportionallyResize()),this._handles=this._handles.add(this.handles[q])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){N.resizing||(this.className&&(k=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),N.axis=k&&k[1]?k[1]:"se")}),L.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(u){var g,f,w=!1;for(g in this.handles)((f=v(this.handles[g])[0])===u.target||v.contains(f,u.target))&&(w=!0);return!this.options.disabled&&w},_mouseStart:function(u){var g,f,w,k=this.options,L=this.element;return this.resizing=!0,this._renderProxy(),g=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),k.containment&&(g+=v(k.containment).scrollLeft()||0,f+=v(k.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:L.width(),height:L.height()},this.originalSize=this._helper?{width:L.outerWidth(),height:L.outerHeight()}:{width:L.width(),height:L.height()},this.sizeDiff={width:L.outerWidth()-L.width(),height:L.outerHeight()-L.height()},this.originalPosition={left:g,top:f},this.originalMousePosition={left:u.pageX,top:u.pageY},this.aspectRatio="number"==typeof k.aspectRatio?k.aspectRatio:this.originalSize.width/this.originalSize.height||1,w=v(".ui-resizable-"+this.axis).css("cursor"),v("body").css("cursor","auto"===w?this.axis+"-resize":w),this._addClass("ui-resizable-resizing"),this._propagate("start",u),!0},_mouseDrag:function(u){var g,f,w=this.originalMousePosition,L=u.pageX-w.left||0,N=u.pageY-w.top||0,H=this._change[this.axis];return this._updatePrevProperties(),H&&(g=H.apply(this,[u,L,N]),this._updateVirtualBoundaries(u.shiftKey),(this._aspectRatio||u.shiftKey)&&(g=this._updateRatio(g,u)),g=this._respectSize(g,u),this._updateCache(g),this._propagate("resize",u),f=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),v.isEmptyObject(f)||(this._updatePrevProperties(),this._trigger("resize",u,this.ui()),this._applyChanges())),!1},_mouseStop:function(u){this.resizing=!1;var g,f,w,k,L,N,H,q=this.options,re=this;return this._helper&&(w=(f=(g=this._proportionallyResizeElements).length&&/textarea/i.test(g[0].nodeName))&&this._hasScroll(g[0],"left")?0:re.sizeDiff.height,k=f?0:re.sizeDiff.width,L={width:re.helper.width()-k,height:re.helper.height()-w},N=parseFloat(re.element.css("left"))+(re.position.left-re.originalPosition.left)||null,H=parseFloat(re.element.css("top"))+(re.position.top-re.originalPosition.top)||null,q.animate||this.element.css(v.extend(L,{top:H,left:N})),re.helper.height(re.size.height),re.helper.width(re.size.width),this._helper&&!q.animate&&this._proportionallyResize()),v("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",u),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var u={};return this.position.top!==this.prevPosition.top&&(u.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(u.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(u.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(u.height=this.size.height+"px"),this.helper.css(u),u},_updateVirtualBoundaries:function(u){var g,f,w,k,L,N=this.options;L={minWidth:this._isNumber(N.minWidth)?N.minWidth:0,maxWidth:this._isNumber(N.maxWidth)?N.maxWidth:1/0,minHeight:this._isNumber(N.minHeight)?N.minHeight:0,maxHeight:this._isNumber(N.maxHeight)?N.maxHeight:1/0},(this._aspectRatio||u)&&(w=L.minWidth/this.aspectRatio,f=L.maxHeight*this.aspectRatio,k=L.maxWidth/this.aspectRatio,(g=L.minHeight*this.aspectRatio)>L.minWidth&&(L.minWidth=g),w>L.minHeight&&(L.minHeight=w),L.maxWidth>f&&(L.maxWidth=f),L.maxHeight>k&&(L.maxHeight=k)),this._vBoundaries=L},_updateCache:function(u){this.offset=this.helper.offset(),this._isNumber(u.left)&&(this.position.left=u.left),this._isNumber(u.top)&&(this.position.top=u.top),this._isNumber(u.height)&&(this.size.height=u.height),this._isNumber(u.width)&&(this.size.width=u.width)},_updateRatio:function(u){var g=this.position,f=this.size,w=this.axis;return this._isNumber(u.height)?u.width=u.height*this.aspectRatio:this._isNumber(u.width)&&(u.height=u.width/this.aspectRatio),"sw"===w&&(u.left=g.left+(f.width-u.width),u.top=null),"nw"===w&&(u.top=g.top+(f.height-u.height),u.left=g.left+(f.width-u.width)),u},_respectSize:function(u){var g=this._vBoundaries,f=this.axis,w=this._isNumber(u.width)&&g.maxWidth&&g.maxWidth<u.width,k=this._isNumber(u.height)&&g.maxHeight&&g.maxHeight<u.height,L=this._isNumber(u.width)&&g.minWidth&&g.minWidth>u.width,N=this._isNumber(u.height)&&g.minHeight&&g.minHeight>u.height,H=this.originalPosition.left+this.originalSize.width,q=this.originalPosition.top+this.originalSize.height,re=/sw|nw|w/.test(f),Z=/nw|ne|n/.test(f);return L&&(u.width=g.minWidth),N&&(u.height=g.minHeight),w&&(u.width=g.maxWidth),k&&(u.height=g.maxHeight),L&&re&&(u.left=H-g.minWidth),w&&re&&(u.left=H-g.maxWidth),N&&Z&&(u.top=q-g.minHeight),k&&Z&&(u.top=q-g.maxHeight),u.width||u.height||u.left||!u.top?u.width||u.height||u.top||!u.left||(u.left=null):u.top=null,u},_getPaddingPlusBorderDimensions:function(u){for(var g=0,f=[],w=[u.css("borderTopWidth"),u.css("borderRightWidth"),u.css("borderBottomWidth"),u.css("borderLeftWidth")],k=[u.css("paddingTop"),u.css("paddingRight"),u.css("paddingBottom"),u.css("paddingLeft")];4>g;g++)f[g]=parseFloat(w[g])||0,f[g]+=parseFloat(k[g])||0;return{height:f[0]+f[2],width:f[1]+f[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var u,g=0,f=this.helper||this.element;this._proportionallyResizeElements.length>g;g++)u=this._proportionallyResizeElements[g],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(u)),u.css({height:f.height()-this.outerDimensions.height||0,width:f.width()-this.outerDimensions.width||0})},_renderProxy:function(){var g=this.options;this.elementOffset=this.element.offset(),this._helper?(this.helper=this.helper||v("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++g.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(u,g){return{width:this.originalSize.width+g}},w:function(u,g){return{left:this.originalPosition.left+g,width:this.originalSize.width-g}},n:function(u,g,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(u,g,f){return{height:this.originalSize.height+f}},se:function(u,g,f){return v.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[u,g,f]))},sw:function(u,g,f){return v.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[u,g,f]))},ne:function(u,g,f){return v.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[u,g,f]))},nw:function(u,g,f){return v.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[u,g,f]))}},_propagate:function(u,g){v.ui.plugin.call(this,u,[g,this.ui()]),"resize"!==u&&this._trigger(u,g,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),v.ui.plugin.add("resizable","animate",{stop:function(u){var g=v(this).resizable("instance"),f=g.options,w=g._proportionallyResizeElements,k=w.length&&/textarea/i.test(w[0].nodeName),L=k&&g._hasScroll(w[0],"left")?0:g.sizeDiff.height,H={width:g.size.width-(k?0:g.sizeDiff.width),height:g.size.height-L},q=parseFloat(g.element.css("left"))+(g.position.left-g.originalPosition.left)||null,re=parseFloat(g.element.css("top"))+(g.position.top-g.originalPosition.top)||null;g.element.animate(v.extend(H,re&&q?{top:re,left:q}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var Z={width:parseFloat(g.element.css("width")),height:parseFloat(g.element.css("height")),top:parseFloat(g.element.css("top")),left:parseFloat(g.element.css("left"))};w&&w.length&&v(w[0]).css({width:Z.width,height:Z.height}),g._updateCache(Z),g._propagate("resize",u)}})}}),v.ui.plugin.add("resizable","containment",{start:function(){var u,g,f,w,k,L,N,H=v(this).resizable("instance"),re=H.element,Z=H.options.containment,de=Z instanceof v?Z.get(0):/parent/.test(Z)?re.parent().get(0):Z;de&&(H.containerElement=v(de),/document/.test(Z)||Z===document?(H.containerOffset={left:0,top:0},H.containerPosition={left:0,top:0},H.parentData={element:v(document),left:0,top:0,width:v(document).width(),height:v(document).height()||document.body.parentNode.scrollHeight}):(u=v(de),g=[],v(["Top","Right","Left","Bottom"]).each(function(pe,ve){g[pe]=H._num(u.css("padding"+ve))}),H.containerOffset=u.offset(),H.containerPosition=u.position(),H.containerSize={height:u.innerHeight()-g[3],width:u.innerWidth()-g[1]},f=H.containerOffset,w=H.containerSize.height,k=H.containerSize.width,L=H._hasScroll(de,"left")?de.scrollWidth:k,N=H._hasScroll(de)?de.scrollHeight:w,H.parentData={element:de,left:f.left,top:f.top,width:L,height:N}))},resize:function(u){var g,f,w,k,L=v(this).resizable("instance"),N=L.options,H=L.containerOffset,q=L.position,re=L._aspectRatio||u.shiftKey,Z={top:0,left:0},de=L.containerElement,pe=!0;de[0]!==document&&/static/.test(de.css("position"))&&(Z=H),q.left<(L._helper?H.left:0)&&(L.size.width=L.size.width+(L._helper?L.position.left-H.left:L.position.left-Z.left),re&&(L.size.height=L.size.width/L.aspectRatio,pe=!1),L.position.left=N.helper?H.left:0),q.top<(L._helper?H.top:0)&&(L.size.height=L.size.height+(L._helper?L.position.top-H.top:L.position.top),re&&(L.size.width=L.size.height*L.aspectRatio,pe=!1),L.position.top=L._helper?H.top:0),w=L.containerElement.get(0)===L.element.parent().get(0),k=/relative|absolute/.test(L.containerElement.css("position")),w&&k?(L.offset.left=L.parentData.left+L.position.left,L.offset.top=L.parentData.top+L.position.top):(L.offset.left=L.element.offset().left,L.offset.top=L.element.offset().top),g=Math.abs(L.sizeDiff.width+(L._helper?L.offset.left-Z.left:L.offset.left-H.left)),f=Math.abs(L.sizeDiff.height+(L._helper?L.offset.top-Z.top:L.offset.top-H.top)),g+L.size.width>=L.parentData.width&&(L.size.width=L.parentData.width-g,re&&(L.size.height=L.size.width/L.aspectRatio,pe=!1)),f+L.size.height>=L.parentData.height&&(L.size.height=L.parentData.height-f,re&&(L.size.width=L.size.height*L.aspectRatio,pe=!1)),pe||(L.position.left=L.prevPosition.left,L.position.top=L.prevPosition.top,L.size.width=L.prevSize.width,L.size.height=L.prevSize.height)},stop:function(){var u=v(this).resizable("instance"),g=u.options,f=u.containerOffset,w=u.containerPosition,k=u.containerElement,L=v(u.helper),N=L.offset(),H=L.outerWidth()-u.sizeDiff.width,q=L.outerHeight()-u.sizeDiff.height;u._helper&&!g.animate&&/relative/.test(k.css("position"))&&v(this).css({left:N.left-w.left-f.left,width:H,height:q}),u._helper&&!g.animate&&/static/.test(k.css("position"))&&v(this).css({left:N.left-w.left-f.left,width:H,height:q})}}),v.ui.plugin.add("resizable","alsoResize",{start:function(){var u=v(this).resizable("instance");v(u.options.alsoResize).each(function(){var f=v(this);f.data("ui-resizable-alsoresize",{width:parseFloat(f.width()),height:parseFloat(f.height()),left:parseFloat(f.css("left")),top:parseFloat(f.css("top"))})})},resize:function(u,g){var f=v(this).resizable("instance"),k=f.originalSize,L=f.originalPosition,N={height:f.size.height-k.height||0,width:f.size.width-k.width||0,top:f.position.top-L.top||0,left:f.position.left-L.left||0};v(f.options.alsoResize).each(function(){var H=v(this),q=v(this).data("ui-resizable-alsoresize"),re={},Z=H.parents(g.originalElement[0]).length?["width","height"]:["width","height","top","left"];v.each(Z,function(de,pe){var ve=(q[pe]||0)+(N[pe]||0);ve&&ve>=0&&(re[pe]=ve||null)}),H.css(re)})},stop:function(){v(this).removeData("ui-resizable-alsoresize")}}),v.ui.plugin.add("resizable","ghost",{start:function(){var u=v(this).resizable("instance"),g=u.size;u.ghost=u.originalElement.clone(),u.ghost.css({opacity:.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}),u._addClass(u.ghost,"ui-resizable-ghost"),!1!==v.uiBackCompat&&"string"==typeof u.options.ghost&&u.ghost.addClass(this.options.ghost),u.ghost.appendTo(u.helper)},resize:function(){var u=v(this).resizable("instance");u.ghost&&u.ghost.css({position:"relative",height:u.size.height,width:u.size.width})},stop:function(){var u=v(this).resizable("instance");u.ghost&&u.helper&&u.helper.get(0).removeChild(u.ghost.get(0))}}),v.ui.plugin.add("resizable","grid",{resize:function(){var u,g=v(this).resizable("instance"),f=g.options,w=g.size,k=g.originalSize,L=g.originalPosition,N=g.axis,H="number"==typeof f.grid?[f.grid,f.grid]:f.grid,q=H[0]||1,re=H[1]||1,Z=Math.round((w.width-k.width)/q)*q,de=Math.round((w.height-k.height)/re)*re,pe=k.width+Z,ve=k.height+de,We=f.maxWidth&&pe>f.maxWidth,Ie=f.maxHeight&&ve>f.maxHeight,Ne=f.minWidth&&f.minWidth>pe,F=f.minHeight&&f.minHeight>ve;f.grid=H,Ne&&(pe+=q),F&&(ve+=re),We&&(pe-=q),Ie&&(ve-=re),/^(se|s|e)$/.test(N)?(g.size.width=pe,g.size.height=ve):/^(ne)$/.test(N)?(g.size.width=pe,g.size.height=ve,g.position.top=L.top-de):/^(sw)$/.test(N)?(g.size.width=pe,g.size.height=ve,g.position.left=L.left-Z):((0>=ve-re||0>=pe-q)&&(u=g._getPaddingPlusBorderDimensions(this)),ve-re>0?(g.size.height=ve,g.position.top=L.top-de):(g.size.height=ve=re-u.height,g.position.top=L.top+k.height-ve),pe-q>0?(g.size.width=pe,g.position.left=L.left-Z):(g.size.width=pe=q-u.width,g.position.left=L.left+k.width-pe))}}),v.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(u){var g=v(this).css(u).offset().top;0>g&&v(this).css("top",u.top-g)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&v.fn.draggable&&this._makeDraggable(),this.options.resizable&&v.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var u=this.options.appendTo;return u&&(u.jquery||u.nodeType)?v(u):this.document.find(u||"body").eq(0)},_destroy:function(){var u,g=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(u=g.parent.children().eq(g.index)).length&&u[0]!==this.element[0]?u.before(this.element):g.parent.append(this.element)},widget:function(){return this.uiDialog},disable:v.noop,enable:v.noop,close:function(u){var g=this;this._isOpen&&!1!==this._trigger("beforeClose",u)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||v.ui.safeBlur(v.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){g._trigger("close",u)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(u,g){var f=!1,w=this.uiDialog.siblings(".ui-front:visible").map(function(){return+v(this).css("z-index")}).get(),k=Math.max.apply(null,w);return k>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",k+1),f=!0),f&&!g&&this._trigger("focus",u),f},open:function(){var u=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=v(v.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){u._focusTabbable(),u._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var u=this._focusedElement;u||(u=this.element.find("[autofocus]")),u.length||(u=this.element.find(":tabbable")),u.length||(u=this.uiDialogButtonPane.find(":tabbable")),u.length||(u=this.uiDialogTitlebarClose.filter(":tabbable")),u.length||(u=this.uiDialog),u.eq(0).trigger("focus")},_keepFocus:function(u){function g(){var f=v.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===f||v.contains(this.uiDialog[0],f)||this._focusTabbable()}u.preventDefault(),g.call(this),this._delay(g)},_createWrapper:function(){this.uiDialog=v("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(u){if(this.options.closeOnEscape&&!u.isDefaultPrevented()&&u.keyCode&&u.keyCode===v.ui.keyCode.ESCAPE)return u.preventDefault(),void this.close(u);if(u.keyCode===v.ui.keyCode.TAB&&!u.isDefaultPrevented()){var g=this.uiDialog.find(":tabbable"),f=g.filter(":first"),w=g.filter(":last");u.target!==w[0]&&u.target!==this.uiDialog[0]||u.shiftKey?u.target!==f[0]&&u.target!==this.uiDialog[0]||!u.shiftKey||(this._delay(function(){w.trigger("focus")}),u.preventDefault()):(this._delay(function(){f.trigger("focus")}),u.preventDefault())}},mousedown:function(u){this._moveToTop(u)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var u;this.uiDialogTitlebar=v("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(g){v(g.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=v("<button type='button'></button>").button({label:v("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(g){g.preventDefault(),this.close(g)}}),u=v("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(u,"ui-dialog-title"),this._title(u),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":u.attr("id")})},_title:function(u){this.options.title?u.text(this.options.title):u.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=v("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=v("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var u=this,g=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),v.isEmptyObject(g)||v.isArray(g)&&!g.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(v.each(g,function(f,w){var k,L;w=v.isFunction(w)?{click:w,text:f}:w,w=v.extend({type:"button"},w),k=w.click,L={icon:w.icon,iconPosition:w.iconPosition,showLabel:w.showLabel,icons:w.icons,text:w.text},delete w.click,delete w.icon,delete w.iconPosition,delete w.showLabel,delete w.icons,"boolean"==typeof w.text&&delete w.text,v("<button></button>",w).button(L).appendTo(u.uiButtonSet).on("click",function(){k.apply(u.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function u(w){return{position:w.position,offset:w.offset}}var g=this,f=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(w,k){g._addClass(v(this),"ui-dialog-dragging"),g._blockFrames(),g._trigger("dragStart",w,u(k))},drag:function(w,k){g._trigger("drag",w,u(k))},stop:function(w,k){var L=k.offset.left-g.document.scrollLeft(),N=k.offset.top-g.document.scrollTop();f.position={my:"left top",at:"left"+(L>=0?"+":"")+L+" top"+(N>=0?"+":"")+N,of:g.window},g._removeClass(v(this),"ui-dialog-dragging"),g._unblockFrames(),g._trigger("dragStop",w,u(k))}})},_makeResizable:function(){function u(N){return{originalPosition:N.originalPosition,originalSize:N.originalSize,position:N.position,size:N.size}}var g=this,f=this.options,w=f.resizable,k=this.uiDialog.css("position"),L="string"==typeof w?w:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:this._minHeight(),handles:L,start:function(N,H){g._addClass(v(this),"ui-dialog-resizing"),g._blockFrames(),g._trigger("resizeStart",N,u(H))},resize:function(N,H){g._trigger("resize",N,u(H))},stop:function(N,H){var q=g.uiDialog.offset(),re=q.left-g.document.scrollLeft(),Z=q.top-g.document.scrollTop();f.height=g.uiDialog.height(),f.width=g.uiDialog.width(),f.position={my:"left top",at:"left"+(re>=0?"+":"")+re+" top"+(Z>=0?"+":"")+Z,of:g.window},g._removeClass(v(this),"ui-dialog-resizing"),g._unblockFrames(),g._trigger("resizeStop",N,u(H))}}).css("position",k)},_trackFocus:function(){this._on(this.widget(),{focusin:function(u){this._makeFocusTarget(),this._focusedElement=v(u.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var u=this._trackingInstances(),g=v.inArray(this,u);-1!==g&&u.splice(g,1)},_trackingInstances:function(){var u=this.document.data("ui-dialog-instances");return u||this.document.data("ui-dialog-instances",u=[]),u},_minHeight:function(){var u=this.options;return"auto"===u.height?u.minHeight:Math.min(u.minHeight,u.height)},_position:function(){var u=this.uiDialog.is(":visible");u||this.uiDialog.show(),this.uiDialog.position(this.options.position),u||this.uiDialog.hide()},_setOptions:function(u){var g=this,f=!1,w={};v.each(u,function(k,L){g._setOption(k,L),k in g.sizeRelatedOptions&&(f=!0),k in g.resizableRelatedOptions&&(w[k]=L)}),f&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",w)},_setOption:function(u,g){var f,w,k=this.uiDialog;"disabled"!==u&&(this._super(u,g),"appendTo"===u&&this.uiDialog.appendTo(this._appendTo()),"buttons"===u&&this._createButtons(),"closeText"===u&&this.uiDialogTitlebarClose.button({label:v("<a>").text(""+this.options.closeText).html()}),"draggable"===u&&((f=k.is(":data(ui-draggable)"))&&!g&&k.draggable("destroy"),!f&&g&&this._makeDraggable()),"position"===u&&this._position(),"resizable"===u&&((w=k.is(":data(ui-resizable)"))&&!g&&k.resizable("destroy"),w&&"string"==typeof g&&k.resizable("option","handles",g),w||!1===g||this._makeResizable()),"title"===u&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var u,g,f,w=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),w.minWidth>w.width&&(w.width=w.minWidth),u=this.uiDialog.css({height:"auto",width:w.width}).outerHeight(),g=Math.max(0,w.minHeight-u),f="number"==typeof w.maxHeight?Math.max(0,w.maxHeight-u):"none","auto"===w.height?this.element.css({minHeight:g,maxHeight:f,height:"auto"}):this.element.height(Math.max(0,w.height-u)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var u=v(this);return v("<div>").css({position:"absolute",width:u.outerWidth(),height:u.outerHeight()}).appendTo(u.parent()).offset(u.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(u){return!!v(u.target).closest(".ui-dialog").length||!!v(u.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var u=!0;this._delay(function(){u=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(g){u||this._allowInteraction(g)||(g.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=v("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var u=this.document.data("ui-dialog-overlays")-1;u?this.document.data("ui-dialog-overlays",u):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==v.uiBackCompat&&v.widget("ui.dialog",v.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(u,g){"dialogClass"===u&&this.uiDialog.removeClass(this.options.dialogClass).addClass(g),this._superApply(arguments)}}),v.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var u,g=this.options,f=g.accept;this.isover=!1,this.isout=!0,this.accept=v.isFunction(f)?f:function(w){return w.is(f)},this.proportions=function(){return arguments.length?void(u=arguments[0]):u||(u={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(g.scope),g.addClasses&&this._addClass("ui-droppable")},_addToManager:function(u){v.ui.ddmanager.droppables[u]=v.ui.ddmanager.droppables[u]||[],v.ui.ddmanager.droppables[u].push(this)},_splice:function(u){for(var g=0;u.length>g;g++)u[g]===this&&u.splice(g,1)},_destroy:function(){this._splice(v.ui.ddmanager.droppables[this.options.scope])},_setOption:function(u,g){"accept"===u?this.accept=v.isFunction(g)?g:function(w){return w.is(g)}:"scope"===u&&(this._splice(v.ui.ddmanager.droppables[this.options.scope]),this._addToManager(g)),this._super(u,g)},_activate:function(u){var g=v.ui.ddmanager.current;this._addActiveClass(),g&&this._trigger("activate",u,this.ui(g))},_deactivate:function(u){var g=v.ui.ddmanager.current;this._removeActiveClass(),g&&this._trigger("deactivate",u,this.ui(g))},_over:function(u){var g=v.ui.ddmanager.current;g&&(g.currentItem||g.element)[0]!==this.element[0]&&this.accept.call(this.element[0],g.currentItem||g.element)&&(this._addHoverClass(),this._trigger("over",u,this.ui(g)))},_out:function(u){var g=v.ui.ddmanager.current;g&&(g.currentItem||g.element)[0]!==this.element[0]&&this.accept.call(this.element[0],g.currentItem||g.element)&&(this._removeHoverClass(),this._trigger("out",u,this.ui(g)))},_drop:function(u,g){var f=g||v.ui.ddmanager.current,w=!1;return!(!f||(f.currentItem||f.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var k=v(this).droppable("instance");return k.options.greedy&&!k.options.disabled&&k.options.scope===f.options.scope&&k.accept.call(k.element[0],f.currentItem||f.element)&&R(f,v.extend(k,{offset:k.element.offset()}),k.options.tolerance,u)?(w=!0,!1):void 0}),!w&&!!this.accept.call(this.element[0],f.currentItem||f.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",u,this.ui(f)),this.element))},ui:function(u){return{draggable:u.currentItem||u.element,helper:u.helper,position:u.position,offset:u.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var R=v.ui.intersect=function(){function u(g,f,w){return g>=f&&f+w>g}return function(g,f,w,k){if(!f.offset)return!1;var L=(g.positionAbs||g.position.absolute).left+g.margins.left,N=(g.positionAbs||g.position.absolute).top+g.margins.top,H=L+g.helperProportions.width,q=N+g.helperProportions.height,re=f.offset.left,Z=f.offset.top,de=re+f.proportions().width,pe=Z+f.proportions().height;switch(w){case"fit":return L>=re&&de>=H&&N>=Z&&pe>=q;case"intersect":return L+g.helperProportions.width/2>re&&de>H-g.helperProportions.width/2&&N+g.helperProportions.height/2>Z&&pe>q-g.helperProportions.height/2;case"pointer":return u(k.pageY,Z,f.proportions().height)&&u(k.pageX,re,f.proportions().width);case"touch":return(N>=Z&&pe>=N||q>=Z&&pe>=q||Z>N&&q>pe)&&(L>=re&&de>=L||H>=re&&de>=H||re>L&&H>de);default:return!1}}}();v.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(u,g){var f,w,k=v.ui.ddmanager.droppables[u.options.scope]||[],L=g?g.type:null,N=(u.currentItem||u.element).find(":data(ui-droppable)").addBack();e:for(f=0;k.length>f;f++)if(!(k[f].options.disabled||u&&!k[f].accept.call(k[f].element[0],u.currentItem||u.element))){for(w=0;N.length>w;w++)if(N[w]===k[f].element[0]){k[f].proportions().height=0;continue e}k[f].visible="none"!==k[f].element.css("display"),k[f].visible&&("mousedown"===L&&k[f]._activate.call(k[f],g),k[f].offset=k[f].element.offset(),k[f].proportions({width:k[f].element[0].offsetWidth,height:k[f].element[0].offsetHeight}))}},drop:function(u,g){var f=!1;return v.each((v.ui.ddmanager.droppables[u.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&R(u,this,this.options.tolerance,g)&&(f=this._drop.call(this,g)||f),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],u.currentItem||u.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,g)))}),f},dragStart:function(u,g){u.element.parentsUntil("body").on("scroll.droppable",function(){u.options.refreshPositions||v.ui.ddmanager.prepareOffsets(u,g)})},drag:function(u,g){u.options.refreshPositions&&v.ui.ddmanager.prepareOffsets(u,g),v.each(v.ui.ddmanager.droppables[u.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var f,w,k,L=R(u,this,this.options.tolerance,g),N=!L&&this.isover?"isout":L&&!this.isover?"isover":null;N&&(this.options.greedy&&(w=this.options.scope,(k=this.element.parents(":data(ui-droppable)").filter(function(){return v(this).droppable("instance").options.scope===w})).length&&((f=v(k[0]).droppable("instance")).greedyChild="isover"===N)),f&&"isover"===N&&(f.isover=!1,f.isout=!0,f._out.call(f,g)),this[N]=!0,this["isout"===N?"isover":"isout"]=!1,this["isover"===N?"_over":"_out"].call(this,g),f&&"isout"===N&&(f.isout=!1,f.isover=!0,f._over.call(f,g)))}})},dragStop:function(u,g){u.element.parentsUntil("body").off("scroll.droppable"),u.options.refreshPositions||v.ui.ddmanager.prepareOffsets(u,g)}},!1!==v.uiBackCompat&&v.widget("ui.droppable",v.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),v.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=v("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(u){return void 0===u?this.options.value:(this.options.value=this._constrainedValue(u),void this._refreshValue())},_constrainedValue:function(u){return void 0===u&&(u=this.options.value),this.indeterminate=!1===u,"number"!=typeof u&&(u=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,u))},_setOptions:function(u){var g=u.value;delete u.value,this._super(u),this.options.value=this._constrainedValue(g),this._refreshValue()},_setOption:function(u,g){"max"===u&&(g=Math.max(this.min,g)),this._super(u,g)},_setOptionDisabled:function(u){this._super(u),this.element.attr("aria-disabled",u),this._toggleClass(null,"ui-state-disabled",!!u)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var u=this.options.value,g=this._percentage();this.valueDiv.toggle(this.indeterminate||u>this.min).width(g.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,u===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=v("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":u}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==u&&(this.oldValue=u,this._trigger("change")),u===this.options.max&&this._trigger("complete")}}),v.widget("ui.selectable",v.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var u=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){u.elementPos=v(u.element[0]).offset(),u.selectees=v(u.options.filter,u.element[0]),u._addClass(u.selectees,"ui-selectee"),u.selectees.each(function(){var g=v(this),f=g.offset(),w={left:f.left-u.elementPos.left,top:f.top-u.elementPos.top};v.data(this,"selectable-item",{element:this,$element:g,left:w.left,top:w.top,right:w.left+g.outerWidth(),bottom:w.top+g.outerHeight(),startselected:!1,selected:g.hasClass("ui-selected"),selecting:g.hasClass("ui-selecting"),unselecting:g.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=v("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(u){var g=this,f=this.options;this.opos=[u.pageX,u.pageY],this.elementPos=v(this.element[0]).offset(),this.options.disabled||(this.selectees=v(f.filter,this.element[0]),this._trigger("start",u),v(f.appendTo).append(this.helper),this.helper.css({left:u.pageX,top:u.pageY,width:0,height:0}),f.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var w=v.data(this,"selectable-item");w.startselected=!0,u.metaKey||u.ctrlKey||(g._removeClass(w.$element,"ui-selected"),w.selected=!1,g._addClass(w.$element,"ui-unselecting"),w.unselecting=!0,g._trigger("unselecting",u,{unselecting:w.element}))}),v(u.target).parents().addBack().each(function(){var w,k=v.data(this,"selectable-item");return k?(w=!u.metaKey&&!u.ctrlKey||!k.$element.hasClass("ui-selected"),g._removeClass(k.$element,w?"ui-unselecting":"ui-selected")._addClass(k.$element,w?"ui-selecting":"ui-unselecting"),k.unselecting=!w,k.selecting=w,k.selected=w,w?g._trigger("selecting",u,{selecting:k.element}):g._trigger("unselecting",u,{unselecting:k.element}),!1):void 0}))},_mouseDrag:function(u){if(this.dragged=!0,!this.options.disabled){var g,f=this,w=this.options,k=this.opos[0],L=this.opos[1],N=u.pageX,H=u.pageY;return k>N&&(g=N,N=k,k=g),L>H&&(g=H,H=L,L=g),this.helper.css({left:k,top:L,width:N-k,height:H-L}),this.selectees.each(function(){var q=v.data(this,"selectable-item"),re=!1,Z={};q&&q.element!==f.element[0]&&(Z.left=q.left+f.elementPos.left,Z.right=q.right+f.elementPos.left,Z.top=q.top+f.elementPos.top,Z.bottom=q.bottom+f.elementPos.top,"touch"===w.tolerance?re=!(Z.left>N||k>Z.right||Z.top>H||L>Z.bottom):"fit"===w.tolerance&&(re=Z.left>k&&N>Z.right&&Z.top>L&&H>Z.bottom),re?(q.selected&&(f._removeClass(q.$element,"ui-selected"),q.selected=!1),q.unselecting&&(f._removeClass(q.$element,"ui-unselecting"),q.unselecting=!1),q.selecting||(f._addClass(q.$element,"ui-selecting"),q.selecting=!0,f._trigger("selecting",u,{selecting:q.element}))):(q.selecting&&((u.metaKey||u.ctrlKey)&&q.startselected?(f._removeClass(q.$element,"ui-selecting"),q.selecting=!1,f._addClass(q.$element,"ui-selected"),q.selected=!0):(f._removeClass(q.$element,"ui-selecting"),q.selecting=!1,q.startselected&&(f._addClass(q.$element,"ui-unselecting"),q.unselecting=!0),f._trigger("unselecting",u,{unselecting:q.element}))),q.selected&&(u.metaKey||u.ctrlKey||q.startselected||(f._removeClass(q.$element,"ui-selected"),q.selected=!1,f._addClass(q.$element,"ui-unselecting"),q.unselecting=!0,f._trigger("unselecting",u,{unselecting:q.element})))))}),!1}},_mouseStop:function(u){var g=this;return this.dragged=!1,v(".ui-unselecting",this.element[0]).each(function(){var f=v.data(this,"selectable-item");g._removeClass(f.$element,"ui-unselecting"),f.unselecting=!1,f.startselected=!1,g._trigger("unselected",u,{unselected:f.element})}),v(".ui-selecting",this.element[0]).each(function(){var f=v.data(this,"selectable-item");g._removeClass(f.$element,"ui-selecting")._addClass(f.$element,"ui-selected"),f.selecting=!1,f.selected=!0,f.startselected=!0,g._trigger("selected",u,{selected:f.element})}),this._trigger("stop",u),this.helper.remove(),!1}}),v.widget("ui.selectmenu",[v.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var u=this.element.uniqueId().attr("id");this.ids={element:u,button:u+"-button",menu:u+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=v()},_drawButton:function(){var u,g=this,f=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(w){this.button.focus(),w.preventDefault()}}),this.element.hide(),this.button=v("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),u=v("<span>").appendTo(this.button),this._addClass(u,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(f).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){g._rendered||g._refreshMenu()})},_drawMenu:function(){var u=this;this.menu=v("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=v("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(g,f){g.preventDefault(),u._setSelection(),u._select(f.item.data("ui-selectmenu-item"),g)},focus:function(g,f){var w=f.item.data("ui-selectmenu-item");null!=u.focusIndex&&w.index!==u.focusIndex&&(u._trigger("focus",g,{item:w}),u.isOpen||u._select(w,g)),u.focusIndex=w.index,u.button.attr("aria-activedescendant",u.menuItems.eq(w.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var u,g=this.element.find("option");this.menu.empty(),this._parseOptions(g),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,g.length&&(u=this._getSelectedItem(),this.menuInstance.focus(null,u),this._setAria(u.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(u){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",u)))},_position:function(){this.menuWrap.position(v.extend({of:this.button},this.options.position))},close:function(u){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",u))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(u){var g=v("<span>");return this._setText(g,u.label),this._addClass(g,"ui-selectmenu-text"),g},_renderMenu:function(u,g){var f=this,w="";v.each(g,function(k,L){var N;L.optgroup!==w&&(N=v("<li>",{text:L.optgroup}),f._addClass(N,"ui-selectmenu-optgroup","ui-menu-divider"+(L.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),N.appendTo(u),w=L.optgroup),f._renderItemData(u,L)})},_renderItemData:function(u,g){return this._renderItem(u,g).data("ui-selectmenu-item",g)},_renderItem:function(u,g){var f=v("<li>"),w=v("<div>",{title:g.element.attr("title")});return g.disabled&&this._addClass(f,null,"ui-state-disabled"),this._setText(w,g.label),f.append(w).appendTo(u)},_setText:function(u,g){g?u.text(g):u.html("&#160;")},_move:function(u,g){var f,w,k=".ui-menu-item";this.isOpen?f=this.menuItems.eq(this.focusIndex).parent("li"):(f=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),k+=":not(.ui-state-disabled)"),(w="first"===u||"last"===u?f["first"===u?"prevAll":"nextAll"](k).eq(-1):f[u+"All"](k).eq(0)).length&&this.menuInstance.focus(g,w)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(u){this[this.isOpen?"close":"open"](u)},_setSelection:function(){var u;this.range&&(window.getSelection?((u=window.getSelection()).removeAllRanges(),u.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(u){this.isOpen&&(v(u.target).closest(".ui-selectmenu-menu, #"+v.ui.escapeSelector(this.ids.button)).length||this.close(u))}},_buttonEvents:{mousedown:function(){var u;window.getSelection?(u=window.getSelection()).rangeCount&&(this.range=u.getRangeAt(0)):this.range=document.selection.createRange()},click:function(u){this._setSelection(),this._toggle(u)},keydown:function(u){var g=!0;switch(u.keyCode){case v.ui.keyCode.TAB:case v.ui.keyCode.ESCAPE:this.close(u),g=!1;break;case v.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(u);break;case v.ui.keyCode.UP:u.altKey?this._toggle(u):this._move("prev",u);break;case v.ui.keyCode.DOWN:u.altKey?this._toggle(u):this._move("next",u);break;case v.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(u):this._toggle(u);break;case v.ui.keyCode.LEFT:this._move("prev",u);break;case v.ui.keyCode.RIGHT:this._move("next",u);break;case v.ui.keyCode.HOME:case v.ui.keyCode.PAGE_UP:this._move("first",u);break;case v.ui.keyCode.END:case v.ui.keyCode.PAGE_DOWN:this._move("last",u);break;default:this.menu.trigger(u),g=!1}g&&u.preventDefault()}},_selectFocusedItem:function(u){var g=this.menuItems.eq(this.focusIndex).parent("li");g.hasClass("ui-state-disabled")||this._select(g.data("ui-selectmenu-item"),u)},_select:function(u,g){var f=this.element[0].selectedIndex;this.element[0].selectedIndex=u.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(u)),this._setAria(u),this._trigger("select",g,{item:u}),u.index!==f&&this._trigger("change",g,{item:u}),this.close(g)},_setAria:function(u){var g=this.menuItems.eq(u.index).attr("id");this.button.attr({"aria-labelledby":g,"aria-activedescendant":g}),this.menu.attr("aria-activedescendant",g)},_setOption:function(u,g){if("icons"===u){var f=this.button.find("span.ui-icon");this._removeClass(f,null,this.options.icons.button)._addClass(f,null,g.button)}this._super(u,g),"appendTo"===u&&this.menuWrap.appendTo(this._appendTo()),"width"===u&&this._resizeButton()},_setOptionDisabled:function(u){this._super(u),this.menuInstance.option("disabled",u),this.button.attr("aria-disabled",u),this._toggleClass(this.button,null,"ui-state-disabled",u),this.element.prop("disabled",u),u?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var u=this.options.appendTo;return u&&(u=u.jquery||u.nodeType?v(u):this.document.find(u).eq(0)),u&&u[0]||(u=this.element.closest(".ui-front, dialog")),u.length||(u=this.document[0].body),u},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var u=this.options.width;return!1===u?void this.button.css("width",""):(null===u&&(u=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(u))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var u=this._super();return u.disabled=this.element.prop("disabled"),u},_parseOptions:function(u){var g=this,f=[];u.each(function(w,k){f.push(g._parseOption(v(k),w))}),this.items=f},_parseOption:function(u,g){var f=u.parent("optgroup");return{element:u,index:g,value:u.val(),label:u.text(),optgroup:f.attr("label")||"",disabled:f.prop("disabled")||u.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),v.widget("ui.slider",v.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var u,g,f=this.options,w=this.element.find(".ui-slider-handle"),L=[];for(w.length>(g=f.values&&f.values.length||1)&&(w.slice(g).remove(),w=w.slice(0,g)),u=w.length;g>u;u++)L.push("<span tabindex='0'></span>");this.handles=w.add(v(L.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(N){v(this).data("ui-slider-handle-index",N).attr("tabIndex",0)})},_createRange:function(){var u=this.options;u.range?(!0===u.range&&(u.values?u.values.length&&2!==u.values.length?u.values=[u.values[0],u.values[0]]:v.isArray(u.values)&&(u.values=u.values.slice(0)):u.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=v("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===u.range||"max"===u.range)&&this._addClass(this.range,"ui-slider-range-"+u.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(u){var f,w,k,L,H,q,re=this,Z=this.options;return!Z.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),f=this._normValueFromMouse({x:u.pageX,y:u.pageY}),w=this._valueMax()-this._valueMin()+1,this.handles.each(function(de){var pe=Math.abs(f-re.values(de));(w>pe||w===pe&&(de===re._lastChangedValue||re.values(de)===Z.min))&&(w=pe,k=v(this),L=de)}),!1!==this._start(u,L)&&(this._mouseSliding=!0,this._handleIndex=L,this._addClass(k,null,"ui-state-active"),k.trigger("focus"),H=k.offset(),q=!v(u.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=q?{left:0,top:0}:{left:u.pageX-H.left-k.width()/2,top:u.pageY-H.top-k.height()/2-(parseInt(k.css("borderTopWidth"),10)||0)-(parseInt(k.css("borderBottomWidth"),10)||0)+(parseInt(k.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(u,L,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(u){var f=this._normValueFromMouse({x:u.pageX,y:u.pageY});return this._slide(u,this._handleIndex,f),!1},_mouseStop:function(u){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(u,this._handleIndex),this._change(u,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(u){var g,f,w,k,L;return"horizontal"===this.orientation?(g=this.elementSize.width,f=u.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,f=u.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(w=f/g)>1&&(w=1),0>w&&(w=0),"vertical"===this.orientation&&(w=1-w),k=this._valueMax()-this._valueMin(),L=this._valueMin()+w*k,this._trimAlignValue(L)},_uiHash:function(u,g,f){var w={handle:this.handles[u],handleIndex:u,value:void 0!==g?g:this.value()};return this._hasMultipleValues()&&(w.value=void 0!==g?g:this.values(u),w.values=f||this.values()),w},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(u,g){return this._trigger("start",u,this._uiHash(g))},_slide:function(u,g,f){var k,L=this.value(),N=this.values();this._hasMultipleValues()&&(k=this.values(g?0:1),L=this.values(g),2===this.options.values.length&&!0===this.options.range&&(f=0===g?Math.min(k,f):Math.max(k,f)),N[g]=f),f!==L&&!1!==this._trigger("slide",u,this._uiHash(g,f,N))&&(this._hasMultipleValues()?this.values(g,f):this.value(f))},_stop:function(u,g){this._trigger("stop",u,this._uiHash(g))},_change:function(u,g){this._keySliding||this._mouseSliding||(this._lastChangedValue=g,this._trigger("change",u,this._uiHash(g)))},value:function(u){return arguments.length?(this.options.value=this._trimAlignValue(u),this._refreshValue(),void this._change(null,0)):this._value()},values:function(u,g){var f,w,k;if(arguments.length>1)return this.options.values[u]=this._trimAlignValue(g),this._refreshValue(),void this._change(null,u);if(!arguments.length)return this._values();if(!v.isArray(arguments[0]))return this._hasMultipleValues()?this._values(u):this.value();for(f=this.options.values,w=arguments[0],k=0;f.length>k;k+=1)f[k]=this._trimAlignValue(w[k]),this._change(null,k);this._refreshValue()},_setOption:function(u,g){var f,w=0;switch("range"===u&&!0===this.options.range&&("min"===g?(this.options.value=this._values(0),this.options.values=null):"max"===g&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),v.isArray(this.options.values)&&(w=this.options.values.length),this._super(u,g),u){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(g),this.handles.css("horizontal"===g?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),f=w-1;f>=0;f--)this._change(null,f);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(u){this._super(u),this._toggleClass(null,"ui-state-disabled",!!u)},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(u){var f,w;if(arguments.length)return this._trimAlignValue(this.options.values[u]);if(this._hasMultipleValues()){for(f=this.options.values.slice(),w=0;f.length>w;w+=1)f[w]=this._trimAlignValue(f[w]);return f}return[]},_trimAlignValue:function(u){if(this._valueMin()>=u)return this._valueMin();if(u>=this._valueMax())return this._valueMax();var g=this.options.step>0?this.options.step:1,f=(u-this._valueMin())%g,w=u-f;return 2*Math.abs(f)>=g&&(w+=f>0?g:-g),parseFloat(w.toFixed(5))},_calculateNewMax:function(){var u=this.options.max,g=this._valueMin(),f=this.options.step;(u=Math.round((u-g)/f)*f+g)>this.options.max&&(u-=f),this.max=parseFloat(u.toFixed(this._precision()))},_precision:function(){var u=this._precisionOf(this.options.step);return null!==this.options.min&&(u=Math.max(u,this._precisionOf(this.options.min))),u},_precisionOf:function(u){var g=""+u,f=g.indexOf(".");return-1===f?0:g.length-f-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(u){"vertical"===u&&this.range.css({width:"",left:""}),"horizontal"===u&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var u,g,f,w,k,L=this.options.range,N=this.options,H=this,q=!this._animateOff&&N.animate,re={};this._hasMultipleValues()?this.handles.each(function(Z){g=(H.values(Z)-H._valueMin())/(H._valueMax()-H._valueMin())*100,re["horizontal"===H.orientation?"left":"bottom"]=g+"%",v(this).stop(1,1)[q?"animate":"css"](re,N.animate),!0===H.options.range&&("horizontal"===H.orientation?(0===Z&&H.range.stop(1,1)[q?"animate":"css"]({left:g+"%"},N.animate),1===Z&&H.range[q?"animate":"css"]({width:g-u+"%"},{queue:!1,duration:N.animate})):(0===Z&&H.range.stop(1,1)[q?"animate":"css"]({bottom:g+"%"},N.animate),1===Z&&H.range[q?"animate":"css"]({height:g-u+"%"},{queue:!1,duration:N.animate}))),u=g}):(f=this.value(),w=this._valueMin(),k=this._valueMax(),re["horizontal"===this.orientation?"left":"bottom"]=(g=k!==w?(f-w)/(k-w)*100:0)+"%",this.handle.stop(1,1)[q?"animate":"css"](re,N.animate),"min"===L&&"horizontal"===this.orientation&&this.range.stop(1,1)[q?"animate":"css"]({width:g+"%"},N.animate),"max"===L&&"horizontal"===this.orientation&&this.range.stop(1,1)[q?"animate":"css"]({width:100-g+"%"},N.animate),"min"===L&&"vertical"===this.orientation&&this.range.stop(1,1)[q?"animate":"css"]({height:g+"%"},N.animate),"max"===L&&"vertical"===this.orientation&&this.range.stop(1,1)[q?"animate":"css"]({height:100-g+"%"},N.animate))},_handleEvents:{keydown:function(u){var f,w,k,L=v(u.target).data("ui-slider-handle-index");switch(u.keyCode){case v.ui.keyCode.HOME:case v.ui.keyCode.END:case v.ui.keyCode.PAGE_UP:case v.ui.keyCode.PAGE_DOWN:case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(u.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(v(u.target),null,"ui-state-active"),!1===this._start(u,L)))return}switch(k=this.options.step,f=w=this._hasMultipleValues()?this.values(L):this.value(),u.keyCode){case v.ui.keyCode.HOME:w=this._valueMin();break;case v.ui.keyCode.END:w=this._valueMax();break;case v.ui.keyCode.PAGE_UP:w=this._trimAlignValue(f+(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.PAGE_DOWN:w=this._trimAlignValue(f-(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:if(f===this._valueMax())return;w=this._trimAlignValue(f+k);break;case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(f===this._valueMin())return;w=this._trimAlignValue(f-k)}this._slide(u,L,w)},keyup:function(u){var g=v(u.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(u,g),this._change(u,g),this._removeClass(v(u.target),null,"ui-state-active"))}}}),v.widget("ui.sortable",v.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(u,g,f){return u>=g&&g+f>u},_isFloating:function(u){return/left|right/.test(u.css("float"))||/inline|table-cell/.test(u.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(u,g){this._super(u,g),"handle"===u&&this._setHandleClassName()},_setHandleClassName:function(){var u=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),v.each(this.items,function(){u._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var u=this.items.length-1;u>=0;u--)this.items[u].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(u,g){var f=null,w=!1,k=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(u),v(u.target).parents().each(function(){return v.data(this,k.widgetName+"-item")===k?(f=v(this),!1):void 0}),v.data(u.target,k.widgetName+"-item")===k&&(f=v(u.target)),!f||this.options.handle&&!g&&(v(this.options.handle,f).find("*").addBack().each(function(){this===u.target&&(w=!0)}),!w)||(this.currentItem=f,this._removeCurrentsFromItems(),0)))},_mouseStart:function(u,g,f){var w,k,L=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(u),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},v.extend(this.offset,{click:{left:u.pageX-this.offset.left,top:u.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(u),this.originalPageX=u.pageX,this.originalPageY=u.pageY,L.cursorAt&&this._adjustOffsetFromHelper(L.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),L.containment&&this._setContainment(),L.cursor&&"auto"!==L.cursor&&(k=this.document.find("body"),this.storedCursor=k.css("cursor"),k.css("cursor",L.cursor),this.storedStylesheet=v("<style>*{ cursor: "+L.cursor+" !important; }</style>").appendTo(k)),L.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",L.opacity)),L.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",L.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",u,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!f)for(w=this.containers.length-1;w>=0;w--)this.containers[w]._trigger("activate",u,this._uiHash(this));return v.ui.ddmanager&&(v.ui.ddmanager.current=this),v.ui.ddmanager&&!L.dropBehaviour&&v.ui.ddmanager.prepareOffsets(this,u),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(u),!0},_mouseDrag:function(u){var g,f,w,k,L=this.options,N=!1;for(this.position=this._generatePosition(u),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-u.pageY<L.scrollSensitivity?this.scrollParent[0].scrollTop=N=this.scrollParent[0].scrollTop+L.scrollSpeed:u.pageY-this.overflowOffset.top<L.scrollSensitivity&&(this.scrollParent[0].scrollTop=N=this.scrollParent[0].scrollTop-L.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-u.pageX<L.scrollSensitivity?this.scrollParent[0].scrollLeft=N=this.scrollParent[0].scrollLeft+L.scrollSpeed:u.pageX-this.overflowOffset.left<L.scrollSensitivity&&(this.scrollParent[0].scrollLeft=N=this.scrollParent[0].scrollLeft-L.scrollSpeed)):(u.pageY-this.document.scrollTop()<L.scrollSensitivity?N=this.document.scrollTop(this.document.scrollTop()-L.scrollSpeed):this.window.height()-(u.pageY-this.document.scrollTop())<L.scrollSensitivity&&(N=this.document.scrollTop(this.document.scrollTop()+L.scrollSpeed)),u.pageX-this.document.scrollLeft()<L.scrollSensitivity?N=this.document.scrollLeft(this.document.scrollLeft()-L.scrollSpeed):this.window.width()-(u.pageX-this.document.scrollLeft())<L.scrollSensitivity&&(N=this.document.scrollLeft(this.document.scrollLeft()+L.scrollSpeed))),!1!==N&&v.ui.ddmanager&&!L.dropBehaviour&&v.ui.ddmanager.prepareOffsets(this,u)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),g=this.items.length-1;g>=0;g--)if(w=(f=this.items[g]).item[0],(k=this._intersectsWithPointer(f))&&f.instance===this.currentContainer&&w!==this.currentItem[0]&&this.placeholder[1===k?"next":"prev"]()[0]!==w&&!v.contains(this.placeholder[0],w)&&("semi-dynamic"!==this.options.type||!v.contains(this.element[0],w))){if(this.direction=1===k?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(u,f),this._trigger("change",u,this._uiHash());break}return this._contactContainers(u),v.ui.ddmanager&&v.ui.ddmanager.drag(this,u),this._trigger("sort",u,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(u,g){if(u){if(v.ui.ddmanager&&!this.options.dropBehaviour&&v.ui.ddmanager.drop(this,u),this.options.revert){var f=this,w=this.placeholder.offset(),k=this.options.axis,L={};k&&"x"!==k||(L.left=w.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),k&&"y"!==k||(L.top=w.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,v(this.helper).animate(L,parseInt(this.options.revert,10)||500,function(){f._clear(u)})}else this._clear(u,g);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new v.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var u=this.containers.length-1;u>=0;u--)this.containers[u]._trigger("deactivate",null,this._uiHash(this)),this.containers[u].containerCache.over&&(this.containers[u]._trigger("out",null,this._uiHash(this)),this.containers[u].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),v.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?v(this.domPosition.prev).after(this.currentItem):v(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(u){var g=this._getItemsAsjQuery(u&&u.connected),f=[];return u=u||{},v(g).each(function(){var w=(v(u.item||this).attr(u.attribute||"id")||"").match(u.expression||/(.+)[\-=_](.+)/);w&&f.push((u.key||w[1]+"[]")+"="+(u.key&&u.expression?w[1]:w[2]))}),!f.length&&u.key&&f.push(u.key+"="),f.join("&")},toArray:function(u){var g=this._getItemsAsjQuery(u&&u.connected),f=[];return u=u||{},g.each(function(){f.push(v(u.item||this).attr(u.attribute||"id")||"")}),f},_intersectsWith:function(u){var g=this.positionAbs.left,w=this.positionAbs.top,L=u.left,N=L+u.width,H=u.top,q=H+u.height,re=this.offset.click.top,Z=this.offset.click.left;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>u[this.floating?"width":"height"]?("x"===this.options.axis||w+re>H&&q>w+re)&&("y"===this.options.axis||g+Z>L&&N>g+Z):g+this.helperProportions.width/2>L&&N>g+this.helperProportions.width-this.helperProportions.width/2&&w+this.helperProportions.height/2>H&&q>w+this.helperProportions.height-this.helperProportions.height/2},_intersectsWithPointer:function(u){var g,f,w="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,u.top,u.height),k="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,u.left,u.width);return!(!w||!k)&&(g=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection(),this.floating?"right"===f||"down"===g?2:1:g&&("down"===g?2:1))},_intersectsWithSides:function(u){var g=this._isOverAxis(this.positionAbs.top+this.offset.click.top,u.top+u.height/2,u.height),f=this._isOverAxis(this.positionAbs.left+this.offset.click.left,u.left+u.width/2,u.width),w=this._getDragVerticalDirection(),k=this._getDragHorizontalDirection();return this.floating&&k?"right"===k&&f||"left"===k&&!f:w&&("down"===w&&g||"up"===w&&!g)},_getDragVerticalDirection:function(){var u=this.positionAbs.top-this.lastPositionAbs.top;return 0!==u&&(u>0?"down":"up")},_getDragHorizontalDirection:function(){var u=this.positionAbs.left-this.lastPositionAbs.left;return 0!==u&&(u>0?"right":"left")},refresh:function(u){return this._refreshItems(u),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var u=this.options;return u.connectWith.constructor===String?[u.connectWith]:u.connectWith},_getItemsAsjQuery:function(u){function g(){N.push(this)}var f,w,k,L,N=[],H=[],q=this._connectWith();if(q&&u)for(f=q.length-1;f>=0;f--)for(w=(k=v(q[f],this.document[0])).length-1;w>=0;w--)(L=v.data(k[w],this.widgetFullName))&&L!==this&&!L.options.disabled&&H.push([v.isFunction(L.options.items)?L.options.items.call(L.element):v(L.options.items,L.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),L]);for(H.push([v.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):v(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),f=H.length-1;f>=0;f--)H[f][0].each(g);return v(N)},_removeCurrentsFromItems:function(){var u=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=v.grep(this.items,function(g){for(var f=0;u.length>f;f++)if(u[f]===g.item[0])return!1;return!0})},_refreshItems:function(u){this.items=[],this.containers=[this];var g,f,w,k,L,N,H,q,re=this.items,Z=[[v.isFunction(this.options.items)?this.options.items.call(this.element[0],u,{item:this.currentItem}):v(this.options.items,this.element),this]],de=this._connectWith();if(de&&this.ready)for(g=de.length-1;g>=0;g--)for(f=(w=v(de[g],this.document[0])).length-1;f>=0;f--)(k=v.data(w[f],this.widgetFullName))&&k!==this&&!k.options.disabled&&(Z.push([v.isFunction(k.options.items)?k.options.items.call(k.element[0],u,{item:this.currentItem}):v(k.options.items,k.element),k]),this.containers.push(k));for(g=Z.length-1;g>=0;g--)for(L=Z[g][1],f=0,q=(N=Z[g][0]).length;q>f;f++)(H=v(N[f])).data(this.widgetName+"-item",L),re.push({item:H,instance:L,width:0,height:0,left:0,top:0})},refreshPositions:function(u){var g,f,w,k;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),g=this.items.length-1;g>=0;g--)(f=this.items[g]).instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(w=this.options.toleranceElement?v(this.options.toleranceElement,f.item):f.item,u||(f.width=w.outerWidth(),f.height=w.outerHeight()),k=w.offset(),f.left=k.left,f.top=k.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(g=this.containers.length-1;g>=0;g--)k=this.containers[g].element.offset(),this.containers[g].containerCache.left=k.left,this.containers[g].containerCache.top=k.top,this.containers[g].containerCache.width=this.containers[g].element.outerWidth(),this.containers[g].containerCache.height=this.containers[g].element.outerHeight();return this},_createPlaceholder:function(u){var g,f=(u=u||this).options;f.placeholder&&f.placeholder.constructor!==String||(g=f.placeholder,f.placeholder={element:function(){var w=u.currentItem[0].nodeName.toLowerCase(),k=v("<"+w+">",u.document[0]);return u._addClass(k,"ui-sortable-placeholder",g||u.currentItem[0].className)._removeClass(k,"ui-sortable-helper"),"tbody"===w?u._createTrPlaceholder(u.currentItem.find("tr").eq(0),v("<tr>",u.document[0]).appendTo(k)):"tr"===w?u._createTrPlaceholder(u.currentItem,k):"img"===w&&k.attr("src",u.currentItem.attr("src")),g||k.css("visibility","hidden"),k},update:function(w,k){(!g||f.forcePlaceholderSize)&&(k.height()||k.height(u.currentItem.innerHeight()-parseInt(u.currentItem.css("paddingTop")||0,10)-parseInt(u.currentItem.css("paddingBottom")||0,10)),k.width()||k.width(u.currentItem.innerWidth()-parseInt(u.currentItem.css("paddingLeft")||0,10)-parseInt(u.currentItem.css("paddingRight")||0,10)))}}),u.placeholder=v(f.placeholder.element.call(u.element,u.currentItem)),u.currentItem.after(u.placeholder),f.placeholder.update(u,u.placeholder)},_createTrPlaceholder:function(u,g){var f=this;u.children().each(function(){v("<td>&#160;</td>",f.document[0]).attr("colspan",v(this).attr("colspan")||1).appendTo(g)})},_contactContainers:function(u){var g,f,w,k,L,N,H,q,re,Z,de=null,pe=null;for(g=this.containers.length-1;g>=0;g--)if(!v.contains(this.currentItem[0],this.containers[g].element[0]))if(this._intersectsWith(this.containers[g].containerCache)){if(de&&v.contains(this.containers[g].element[0],de.element[0]))continue;de=this.containers[g],pe=g}else this.containers[g].containerCache.over&&(this.containers[g]._trigger("out",u,this._uiHash(this)),this.containers[g].containerCache.over=0);if(de)if(1===this.containers.length)this.containers[pe].containerCache.over||(this.containers[pe]._trigger("over",u,this._uiHash(this)),this.containers[pe].containerCache.over=1);else{for(w=1e4,k=null,L=(re=de.floating||this._isFloating(this.currentItem))?"left":"top",N=re?"width":"height",Z=re?"pageX":"pageY",f=this.items.length-1;f>=0;f--)v.contains(this.containers[pe].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(H=this.items[f].item.offset()[L],q=!1,u[Z]-H>this.items[f][N]/2&&(q=!0),w>Math.abs(u[Z]-H)&&(w=Math.abs(u[Z]-H),k=this.items[f],this.direction=q?"up":"down"));if(!k&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[pe])return void(this.currentContainer.containerCache.over||(this.containers[pe]._trigger("over",u,this._uiHash()),this.currentContainer.containerCache.over=1));k?this._rearrange(u,k,null,!0):this._rearrange(u,null,this.containers[pe].element,!0),this._trigger("change",u,this._uiHash()),this.containers[pe]._trigger("change",u,this._uiHash(this)),this.currentContainer=this.containers[pe],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[pe]._trigger("over",u,this._uiHash(this)),this.containers[pe].containerCache.over=1}},_createHelper:function(u){var g=this.options,f=v.isFunction(g.helper)?v(g.helper.apply(this.element[0],[u,this.currentItem])):"clone"===g.helper?this.currentItem.clone():this.currentItem;return f.parents("body").length||v("parent"!==g.appendTo?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0]),f[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!f[0].style.width||g.forceHelperSize)&&f.width(this.currentItem.width()),(!f[0].style.height||g.forceHelperSize)&&f.height(this.currentItem.height()),f},_adjustOffsetFromHelper:function(u){"string"==typeof u&&(u=u.split(" ")),v.isArray(u)&&(u={left:+u[0],top:+u[1]||0}),"left"in u&&(this.offset.click.left=u.left+this.margins.left),"right"in u&&(this.offset.click.left=this.helperProportions.width-u.right+this.margins.left),"top"in u&&(this.offset.click.top=u.top+this.margins.top),"bottom"in u&&(this.offset.click.top=this.helperProportions.height-u.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var u=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&v.contains(this.scrollParent[0],this.offsetParent[0])&&(u.left+=this.scrollParent.scrollLeft(),u.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&v.ui.ie)&&(u={top:0,left:0}),{top:u.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:u.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var u=this.currentItem.position();return{top:u.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:u.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,g,f,w=this.options;"parent"===w.containment&&(w.containment=this.helper[0].parentNode),("document"===w.containment||"window"===w.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===w.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===w.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(w.containment)||(u=v(w.containment)[0],g=v(w.containment).offset(),f="hidden"!==v(u).css("overflow"),this.containment=[g.left+(parseInt(v(u).css("borderLeftWidth"),10)||0)+(parseInt(v(u).css("paddingLeft"),10)||0)-this.margins.left,g.top+(parseInt(v(u).css("borderTopWidth"),10)||0)+(parseInt(v(u).css("paddingTop"),10)||0)-this.margins.top,g.left+(f?Math.max(u.scrollWidth,u.offsetWidth):u.offsetWidth)-(parseInt(v(u).css("borderLeftWidth"),10)||0)-(parseInt(v(u).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,g.top+(f?Math.max(u.scrollHeight,u.offsetHeight):u.offsetHeight)-(parseInt(v(u).css("borderTopWidth"),10)||0)-(parseInt(v(u).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(u,g){g||(g=this.position);var f="absolute"===u?1:-1,w="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&v.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(w[0].tagName);return{top:g.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:w.scrollTop())*f,left:g.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:w.scrollLeft())*f}},_generatePosition:function(u){var g,f,w=this.options,k=u.pageX,L=u.pageY,N="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&v.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,H=/(html|body)/i.test(N[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(u.pageX-this.offset.click.left<this.containment[0]&&(k=this.containment[0]+this.offset.click.left),u.pageY-this.offset.click.top<this.containment[1]&&(L=this.containment[1]+this.offset.click.top),u.pageX-this.offset.click.left>this.containment[2]&&(k=this.containment[2]+this.offset.click.left),u.pageY-this.offset.click.top>this.containment[3]&&(L=this.containment[3]+this.offset.click.top)),w.grid&&(g=this.originalPageY+Math.round((L-this.originalPageY)/w.grid[1])*w.grid[1],L=this.containment?g-this.offset.click.top>=this.containment[1]&&g-this.offset.click.top<=this.containment[3]?g:g-this.offset.click.top>=this.containment[1]?g-w.grid[1]:g+w.grid[1]:g,f=this.originalPageX+Math.round((k-this.originalPageX)/w.grid[0])*w.grid[0],k=this.containment?f-this.offset.click.left>=this.containment[0]&&f-this.offset.click.left<=this.containment[2]?f:f-this.offset.click.left>=this.containment[0]?f-w.grid[0]:f+w.grid[0]:f)),{top:L-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():H?0:N.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():H?0:N.scrollLeft())}},_rearrange:function(u,g,f,w){f?f[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?g.item[0]:g.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var k=this.counter;this._delay(function(){k===this.counter&&this.refreshPositions(!w)})},_clear:function(u,g){function f(L,N,H){return function(q){H._trigger(L,q,N._uiHash(N))}}this.reverting=!1;var w,k=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(w in this._storedCSS)("auto"===this._storedCSS[w]||"static"===this._storedCSS[w])&&(this._storedCSS[w]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!g&&k.push(function(L){this._trigger("receive",L,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||g||k.push(function(L){this._trigger("update",L,this._uiHash())}),this!==this.currentContainer&&(g||(k.push(function(L){this._trigger("remove",L,this._uiHash())}),k.push(function(L){return function(N){L._trigger("receive",N,this._uiHash(this))}}.call(this,this.currentContainer)),k.push(function(L){return function(N){L._trigger("update",N,this._uiHash(this))}}.call(this,this.currentContainer)))),w=this.containers.length-1;w>=0;w--)g||k.push(f("deactivate",this,this.containers[w])),this.containers[w].containerCache.over&&(k.push(f("out",this,this.containers[w])),this.containers[w].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,g||this._trigger("beforeStop",u,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!g){for(w=0;k.length>w;w++)k[w].call(this,u);this._trigger("stop",u,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===v.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(u){var g=u||this;return{helper:g.helper,placeholder:g.placeholder||v([]),position:g.position,originalPosition:g.originalPosition,offset:g.positionAbs,item:g.currentItem,sender:u?u.element:null}}}),v.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var u=this._super(),g=this.element;return v.each(["min","max","step"],function(f,w){var k=g.attr(w);null!=k&&k.length&&(u[w]=k)}),u},_events:{keydown:function(u){this._start(u)&&this._keydown(u)&&u.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(u){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",u)))},mousewheel:function(u,g){if(g){if(!this.spinning&&!this._start(u))return!1;this._spin((g>0?1:-1)*this.options.step,u),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(u)},100),u.preventDefault()}},"mousedown .ui-spinner-button":function(u){function g(){this.element[0]===v.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=f,this._delay(function(){this.previous=f}))}var f;f=this.element[0]===v.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),u.preventDefault(),g.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,g.call(this)}),!1!==this._start(u)&&this._repeat(null,v(u.currentTarget).hasClass("ui-spinner-up")?1:-1,u)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(u){return v(u.currentTarget).hasClass("ui-state-active")?!1!==this._start(u)&&void this._repeat(null,v(u.currentTarget).hasClass("ui-spinner-up")?1:-1,u):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(u){var g=this.options,f=v.ui.keyCode;switch(u.keyCode){case f.UP:return this._repeat(null,1,u),!0;case f.DOWN:return this._repeat(null,-1,u),!0;case f.PAGE_UP:return this._repeat(null,g.page,u),!0;case f.PAGE_DOWN:return this._repeat(null,-g.page,u),!0}return!1},_start:function(u){return!(!this.spinning&&!1===this._trigger("start",u)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(u,g,f){u=u||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,g,f)},u),this._spin(g*this.options.step,f)},_spin:function(u,g){var f=this.value()||0;this.counter||(this.counter=1),f=this._adjustValue(f+u*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",g,{value:f})||(this._value(f),this.counter++)},_increment:function(u){var g=this.options.incremental;return g?v.isFunction(g)?g(u):Math.floor(u*u*u/5e4-u*u/500+17*u/200+1):1},_precision:function(){var u=this._precisionOf(this.options.step);return null!==this.options.min&&(u=Math.max(u,this._precisionOf(this.options.min))),u},_precisionOf:function(u){var g=""+u,f=g.indexOf(".");return-1===f?0:g.length-f-1},_adjustValue:function(u){var g,f,w=this.options;return f=u-(g=null!==w.min?w.min:0),u=g+(f=Math.round(f/w.step)*w.step),u=parseFloat(u.toFixed(this._precision())),null!==w.max&&u>w.max?w.max:null!==w.min&&w.min>u?w.min:u},_stop:function(u){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",u))},_setOption:function(u,g){var f,w,k;return"culture"===u||"numberFormat"===u?(f=this._parse(this.element.val()),this.options[u]=g,void this.element.val(this._format(f))):(("max"===u||"min"===u||"step"===u)&&"string"==typeof g&&(g=this._parse(g)),"icons"===u&&(w=this.buttons.first().find(".ui-icon"),this._removeClass(w,null,this.options.icons.up),this._addClass(w,null,g.up),k=this.buttons.last().find(".ui-icon"),this._removeClass(k,null,this.options.icons.down),this._addClass(k,null,g.down)),void this._super(u,g))},_setOptionDisabled:function(u){this._super(u),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!u),this.element.prop("disabled",!!u),this.buttons.button(u?"disable":"enable")},_setOptions:At(function(u){this._super(u)}),_parse:function(u){return"string"==typeof u&&""!==u&&(u=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(u,10,this.options.culture):+u),""===u||isNaN(u)?null:u},_format:function(u){return""===u?"":window.Globalize&&this.options.numberFormat?Globalize.format(u,this.options.numberFormat,this.options.culture):u},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var u=this.value();return null!==u&&u===this._adjustValue(u)},_value:function(u,g){var f;""!==u&&null!==(f=this._parse(u))&&(g||(f=this._adjustValue(f)),u=this._format(f)),this.element.val(u),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:At(function(u){this._stepUp(u)}),_stepUp:function(u){this._start()&&(this._spin((u||1)*this.options.step),this._stop())},stepDown:At(function(u){this._stepDown(u)}),_stepDown:function(u){this._start()&&(this._spin((u||1)*-this.options.step),this._stop())},pageUp:At(function(u){this._stepUp((u||1)*this.options.page)}),pageDown:At(function(u){this._stepDown((u||1)*this.options.page)}),value:function(u){return arguments.length?void At(this._value).call(this,u):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==v.uiBackCompat&&v.widget("ui.spinner",v.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),v.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var u=/#.*$/;return function(g){var f,w;f=g.href.replace(u,""),w=location.href.replace(u,"");try{f=decodeURIComponent(f)}catch(k){}try{w=decodeURIComponent(w)}catch(k){}return g.hash.length>1&&f===w}}(),_create:function(){var u=this,g=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,g.collapsible),this._processTabs(),g.active=this._initialActive(),v.isArray(g.disabled)&&(g.disabled=v.unique(g.disabled.concat(v.map(this.tabs.filter(".ui-state-disabled"),function(f){return u.tabs.index(f)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(g.active):v(),this._refresh(),this.active.length&&this.load(g.active)},_initialActive:function(){var u=this.options.active,g=this.options.collapsible,f=location.hash.substring(1);return null===u&&(f&&this.tabs.each(function(w,k){return v(k).attr("aria-controls")===f?(u=w,!1):void 0}),null===u&&(u=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===u||-1===u)&&(u=!!this.tabs.length&&0)),!1!==u&&-1===(u=this.tabs.index(this.tabs.eq(u)))&&(u=!g&&0),!g&&!1===u&&this.anchors.length&&(u=0),u},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):v()}},_tabKeydown:function(u){var g=v(v.ui.safeActiveElement(this.document[0])).closest("li"),f=this.tabs.index(g),w=!0;if(!this._handlePageNav(u)){switch(u.keyCode){case v.ui.keyCode.RIGHT:case v.ui.keyCode.DOWN:f++;break;case v.ui.keyCode.UP:case v.ui.keyCode.LEFT:w=!1,f--;break;case v.ui.keyCode.END:f=this.anchors.length-1;break;case v.ui.keyCode.HOME:f=0;break;case v.ui.keyCode.SPACE:return u.preventDefault(),clearTimeout(this.activating),void this._activate(f);case v.ui.keyCode.ENTER:return u.preventDefault(),clearTimeout(this.activating),void this._activate(f!==this.options.active&&f);default:return}u.preventDefault(),clearTimeout(this.activating),f=this._focusNextTab(f,w),u.ctrlKey||u.metaKey||(g.attr("aria-selected","false"),this.tabs.eq(f).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",f)},this.delay))}},_panelKeydown:function(u){this._handlePageNav(u)||u.ctrlKey&&u.keyCode===v.ui.keyCode.UP&&(u.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(u){return u.altKey&&u.keyCode===v.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):u.altKey&&u.keyCode===v.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(u,g){for(var w=this.tabs.length-1;-1!==v.inArray((u>w&&(u=0),0>u&&(u=w),u),this.options.disabled);)u=g?u+1:u-1;return u},_focusNextTab:function(u,g){return u=this._findNextTab(u,g),this.tabs.eq(u).trigger("focus"),u},_setOption:function(u,g){return"active"===u?void this._activate(g):(this._super(u,g),"collapsible"===u&&(this._toggleClass("ui-tabs-collapsible",null,g),g||!1!==this.options.active||this._activate(0)),"event"===u&&this._setupEvents(g),void("heightStyle"===u&&this._setupHeightStyle(g)))},_sanitizeSelector:function(u){return u?u.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var u=this.options,g=this.tablist.children(":has(a[href])");u.disabled=v.map(g.filter(".ui-state-disabled"),function(f){return g.index(f)}),this._processTabs(),!1!==u.active&&this.anchors.length?this.active.length&&!v.contains(this.tablist[0],this.active[0])?this.tabs.length===u.disabled.length?(u.active=!1,this.active=v()):this._activate(this._findNextTab(Math.max(0,u.active-1),!1)):u.active=this.tabs.index(this.active):(u.active=!1,this.active=v()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var u=this,g=this.tabs,f=this.anchors,w=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(k){v(this).is(".ui-state-disabled")&&k.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){v(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return v("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=v(),this.anchors.each(function(k,L){var N,H,q,re=v(L).uniqueId().attr("id"),Z=v(L).closest("li"),de=Z.attr("aria-controls");u._isLocal(L)?(q=(N=L.hash).substring(1),H=u.element.find(u._sanitizeSelector(N))):(q=Z.attr("aria-controls")||v({}).uniqueId()[0].id,(H=u.element.find(N="#"+q)).length||(H=u._createPanel(q)).insertAfter(u.panels[k-1]||u.tablist),H.attr("aria-live","polite")),H.length&&(u.panels=u.panels.add(H)),de&&Z.data("ui-tabs-aria-controls",de),Z.attr({"aria-controls":q,"aria-labelledby":re}),H.attr("aria-labelledby",re)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),g&&(this._off(g.not(this.tabs)),this._off(f.not(this.anchors)),this._off(w.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(u){return v("<div>").attr("id",u).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(u){var g,f,w;for(v.isArray(u)&&(u.length?u.length===this.anchors.length&&(u=!0):u=!1),w=0;f=this.tabs[w];w++)g=v(f),!0===u||-1!==v.inArray(w,u)?(g.attr("aria-disabled","true"),this._addClass(g,null,"ui-state-disabled")):(g.removeAttr("aria-disabled"),this._removeClass(g,null,"ui-state-disabled"));this.options.disabled=u,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===u)},_setupEvents:function(u){var g={};u&&v.each(u.split(" "),function(f,w){g[w]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(f){f.preventDefault()}}),this._on(this.anchors,g),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(u){var g,f=this.element.parent();"fill"===u?(g=f.height(),g-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var w=v(this),k=w.css("position");"absolute"!==k&&"fixed"!==k&&(g-=w.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){g-=v(this).outerHeight(!0)}),this.panels.each(function(){v(this).height(Math.max(0,g-v(this).innerHeight()+v(this).height()))}).css("overflow","auto")):"auto"===u&&(g=0,this.panels.each(function(){g=Math.max(g,v(this).height("").height())}).height(g))},_eventHandler:function(u){var g=this.options,f=this.active,k=v(u.currentTarget).closest("li"),L=k[0]===f[0],N=L&&g.collapsible,H=N?v():this._getPanelForTab(k),q=f.length?this._getPanelForTab(f):v(),re={oldTab:f,oldPanel:q,newTab:N?v():k,newPanel:H};u.preventDefault(),k.hasClass("ui-state-disabled")||k.hasClass("ui-tabs-loading")||this.running||L&&!g.collapsible||!1===this._trigger("beforeActivate",u,re)||(g.active=!N&&this.tabs.index(k),this.active=L?v():k,this.xhr&&this.xhr.abort(),q.length||H.length||v.error("jQuery UI Tabs: Mismatching fragment identifier."),H.length&&this.load(this.tabs.index(k),u),this._toggle(u,re))},_toggle:function(u,g){function f(){k.running=!1,k._trigger("activate",u,g)}function w(){k._addClass(g.newTab.closest("li"),"ui-tabs-active","ui-state-active"),L.length&&k.options.show?k._show(L,k.options.show,f):(L.show(),f())}var k=this,L=g.newPanel,N=g.oldPanel;this.running=!0,N.length&&this.options.hide?this._hide(N,this.options.hide,function(){k._removeClass(g.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),w()}):(this._removeClass(g.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),N.hide(),w()),N.attr("aria-hidden","true"),g.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),L.length&&N.length?g.oldTab.attr("tabIndex",-1):L.length&&this.tabs.filter(function(){return 0===v(this).attr("tabIndex")}).attr("tabIndex",-1),L.attr("aria-hidden","false"),g.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(u){var g,f=this._findActive(u);f[0]!==this.active[0]&&(f.length||(f=this.active),g=f.find(".ui-tabs-anchor")[0],this._eventHandler({target:g,currentTarget:g,preventDefault:v.noop}))},_findActive:function(u){return!1===u?v():this.tabs.eq(u)},_getIndex:function(u){return"string"==typeof u&&(u=this.anchors.index(this.anchors.filter("[href$='"+v.ui.escapeSelector(u)+"']"))),u},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){v.data(this,"ui-tabs-destroy")?v(this).remove():v(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var u=v(this),g=u.data("ui-tabs-aria-controls");g?u.attr("aria-controls",g).removeData("ui-tabs-aria-controls"):u.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(u){var g=this.options.disabled;!1!==g&&(void 0===u?g=!1:(u=this._getIndex(u),g=v.isArray(g)?v.map(g,function(f){return f!==u?f:null}):v.map(this.tabs,function(f,w){return w!==u?w:null})),this._setOptionDisabled(g))},disable:function(u){var g=this.options.disabled;if(!0!==g){if(void 0===u)g=!0;else{if(u=this._getIndex(u),-1!==v.inArray(u,g))return;g=v.isArray(g)?v.merge([u],g).sort():[u]}this._setOptionDisabled(g)}},load:function(u,g){u=this._getIndex(u);var f=this,w=this.tabs.eq(u),k=w.find(".ui-tabs-anchor"),L=this._getPanelForTab(w),N={tab:w,panel:L},H=function(q,re){"abort"===re&&f.panels.stop(!1,!0),f._removeClass(w,"ui-tabs-loading"),L.removeAttr("aria-busy"),q===f.xhr&&delete f.xhr};this._isLocal(k[0])||(this.xhr=v.ajax(this._ajaxSettings(k,g,N)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(w,"ui-tabs-loading"),L.attr("aria-busy","true"),this.xhr.done(function(q,re,Z){setTimeout(function(){L.html(q),f._trigger("load",g,N),H(Z,re)},1)}).fail(function(q,re){setTimeout(function(){H(q,re)},1)})))},_ajaxSettings:function(u,g,f){var w=this;return{url:u.attr("href").replace(/#.*$/,""),beforeSend:function(k,L){return w._trigger("beforeLoad",g,v.extend({jqXHR:k,ajaxSettings:L},f))}}},_getPanelForTab:function(u){var g=v(u).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+g))}}),!1!==v.uiBackCompat&&v.widget("ui.tabs",v.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),v.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var u=v(this).attr("title")||"";return v("<a>").text(u).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(u,g){var f=(u.attr("aria-describedby")||"").split(/\s+/);f.push(g),u.data("ui-tooltip-id",g).attr("aria-describedby",v.trim(f.join(" ")))},_removeDescribedBy:function(u){var g=u.data("ui-tooltip-id"),f=(u.attr("aria-describedby")||"").split(/\s+/),w=v.inArray(g,f);-1!==w&&f.splice(w,1),u.removeData("ui-tooltip-id"),(f=v.trim(f.join(" ")))?u.attr("aria-describedby",f):u.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=v("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=v([])},_setOption:function(u,g){var f=this;this._super(u,g),"content"===u&&v.each(this.tooltips,function(w,k){f._updateContent(k.element)})},_setOptionDisabled:function(u){this[u?"_disable":"_enable"]()},_disable:function(){var u=this;v.each(this.tooltips,function(g,f){var w=v.Event("blur");w.target=w.currentTarget=f.element[0],u.close(w,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var g=v(this);return g.is("[title]")?g.data("ui-tooltip-title",g.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var u=v(this);u.data("ui-tooltip-title")&&u.attr("title",u.data("ui-tooltip-title"))}),this.disabledTitles=v([])},open:function(u){var g=this,f=v(u?u.target:this.element).closest(this.options.items);f.length&&!f.data("ui-tooltip-id")&&(f.attr("title")&&f.data("ui-tooltip-title",f.attr("title")),f.data("ui-tooltip-open",!0),u&&"mouseover"===u.type&&f.parents().each(function(){var w,k=v(this);k.data("ui-tooltip-open")&&((w=v.Event("blur")).target=w.currentTarget=this,g.close(w,!0)),k.attr("title")&&(k.uniqueId(),g.parents[this.id]={element:this,title:k.attr("title")},k.attr("title",""))}),this._registerCloseHandlers(u,f),this._updateContent(f,u))},_updateContent:function(u,g){var f,w=this.options.content,k=this,L=g?g.type:null;return"string"==typeof w||w.nodeType||w.jquery?this._open(g,u,w):void((f=w.call(u[0],function(N){k._delay(function(){u.data("ui-tooltip-open")&&(g&&(g.type=L),this._open(g,u,N))})}))&&this._open(g,u,f))},_open:function(u,g,f){function w(re){q.of=re,L.is(":hidden")||L.position(q)}var k,L,N,H,q=v.extend({},this.options.position);if(f){if(k=this._find(g))return void k.tooltip.find(".ui-tooltip-content").html(f);g.is("[title]")&&(u&&"mouseover"===u.type?g.attr("title",""):g.removeAttr("title")),k=this._tooltip(g),this._addDescribedBy(g,(L=k.tooltip).attr("id")),L.find(".ui-tooltip-content").html(f),this.liveRegion.children().hide(),(H=v("<div>").html(L.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),H.removeAttr("id").find("[id]").removeAttr("id"),H.appendTo(this.liveRegion),this.options.track&&u&&/^mouse/.test(u.type)?(this._on(this.document,{mousemove:w}),w(u)):L.position(v.extend({of:g},this.options.position)),L.hide(),this._show(L,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(N=this.delayedShow=setInterval(function(){L.is(":visible")&&(w(q.of),clearInterval(N))},v.fx.interval)),this._trigger("open",u,{tooltip:L})}},_registerCloseHandlers:function(u,g){var f={keyup:function(w){if(w.keyCode===v.ui.keyCode.ESCAPE){var k=v.Event(w);k.currentTarget=g[0],this.close(k,!0)}}};g[0]!==this.element[0]&&(f.remove=function(){this._removeTooltip(this._find(g).tooltip)}),u&&"mouseover"!==u.type||(f.mouseleave="close"),u&&"focusin"!==u.type||(f.focusout="close"),this._on(!0,g,f)},close:function(u){var g,f=this,w=v(u?u.currentTarget:this.element),k=this._find(w);return k?(g=k.tooltip,void(k.closing||(clearInterval(this.delayedShow),w.data("ui-tooltip-title")&&!w.attr("title")&&w.attr("title",w.data("ui-tooltip-title")),this._removeDescribedBy(w),k.hiding=!0,g.stop(!0),this._hide(g,this.options.hide,function(){f._removeTooltip(v(this))}),w.removeData("ui-tooltip-open"),this._off(w,"mouseleave focusout keyup"),w[0]!==this.element[0]&&this._off(w,"remove"),this._off(this.document,"mousemove"),u&&"mouseleave"===u.type&&v.each(this.parents,function(L,N){v(N.element).attr("title",N.title),delete f.parents[L]}),k.closing=!0,this._trigger("close",u,{tooltip:g}),k.hiding||(k.closing=!1)))):void w.removeData("ui-tooltip-open")},_tooltip:function(u){var g=v("<div>").attr("role","tooltip"),f=v("<div>").appendTo(g),w=g.uniqueId().attr("id");return this._addClass(f,"ui-tooltip-content"),this._addClass(g,"ui-tooltip","ui-widget ui-widget-content"),g.appendTo(this._appendTo(u)),this.tooltips[w]={element:u,tooltip:g}},_find:function(u){var g=u.data("ui-tooltip-id");return g?this.tooltips[g]:null},_removeTooltip:function(u){u.remove(),delete this.tooltips[u.attr("id")]},_appendTo:function(u){var g=u.closest(".ui-front, dialog");return g.length||(g=this.document[0].body),g},_destroy:function(){var u=this;v.each(this.tooltips,function(g,f){var w=v.Event("blur"),k=f.element;w.target=w.currentTarget=k[0],u.close(w,!0),v("#"+g).remove(),k.data("ui-tooltip-title")&&(k.attr("title")||k.attr("title",k.data("ui-tooltip-title")),k.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==v.uiBackCompat&&v.widget("ui.tooltip",v.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var u=this._superApply(arguments);return this.options.tooltipClass&&u.tooltip.addClass(this.options.tooltipClass),u}})}),function(v,ke){"object"==typeof exports&&"undefined"!=typeof module?module.exports=ke():"function"==typeof define&&define.amd?define(ke):v.Popper=ke()}(this,function(){"use strict";function v(K){return K&&"[object Function]"==={}.toString.call(K)}function ke(K,se){if(1!==K.nodeType)return[];var Me=window.getComputedStyle(K,null);return se?Me[se]:Me}function Le(K){return"HTML"===K.nodeName?K:K.parentNode||K.host}function Fe(K){if(!K||-1!==["HTML","BODY","#document"].indexOf(K.nodeName))return window.document.body;var se=ke(K);return/(auto|scroll)/.test(se.overflow+se.overflowY+se.overflowX)?K:Fe(Le(K))}function at(K){var se=K&&K.offsetParent,Me=se&&se.nodeName;return Me&&"BODY"!==Me&&"HTML"!==Me?-1!==["TD","TABLE"].indexOf(se.nodeName)&&"static"===ke(se,"position")?at(se):se:window.document.documentElement}function Pt(K){return null===K.parentNode?K:Pt(K.parentNode)}function At(K,se){if(!(K&&K.nodeType&&se&&se.nodeType))return window.document.documentElement;var Me=K.compareDocumentPosition(se)&Node.DOCUMENT_POSITION_FOLLOWING,xe=Me?K:se,He=Me?se:K,Xe=document.createRange();Xe.setStart(xe,0),Xe.setEnd(He,0);var $e=Xe.commonAncestorContainer;if(K!==$e&&se!==$e||xe.contains(He))return function vt(K){var se=K.nodeName;return"BODY"!==se&&("HTML"===se||at(K.firstElementChild)===K)}($e)?$e:at($e);var Be=Pt(K);return Be.host?At(Be.host,se):At(K,Pt(se).host)}function Ct(K){var se=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top",Me="top"===se?"scrollTop":"scrollLeft",xe=K.nodeName;if("BODY"===xe||"HTML"===xe){var He=window.document.documentElement,Xe=window.document.scrollingElement||He;return Xe[Me]}return K[Me]}function ut(K,se){var Me="x"===se?"Left":"Top",xe="Left"==Me?"Right":"Bottom";return+K["border"+Me+"Width"].split("px")[0]+ +K["border"+xe+"Width"].split("px")[0]}function Qe(K,se,Me,xe){return Ge(se["offset"+K],Me["client"+K],Me["offset"+K],nt()?Me["offset"+K]+xe["margin"+("Height"===K?"Top":"Left")]+xe["margin"+("Height"===K?"Bottom":"Right")]:0)}function gt(){var K=window.document.body,se=window.document.documentElement,Me=nt()&&window.getComputedStyle(se);return{height:Qe("Height",K,se,Me),width:Qe("Width",K,se,Me)}}function Ke(K){return ge({},K,{right:K.left+K.width,bottom:K.top+K.height})}function rt(K){var se={};if(nt())try{se=K.getBoundingClientRect();var Me=Ct(K,"top"),xe=Ct(K,"left");se.top+=Me,se.left+=xe,se.bottom+=Me,se.right+=xe}catch(Vt){}else se=K.getBoundingClientRect();var He={left:se.left,top:se.top,width:se.right-se.left,height:se.bottom-se.top},Xe="HTML"===K.nodeName?gt():{},Ze=K.offsetWidth-(Xe.width||K.clientWidth||He.right-He.left),_t=K.offsetHeight-(Xe.height||K.clientHeight||He.bottom-He.top);if(Ze||_t){var It=ke(K);Ze-=ut(It,"x"),_t-=ut(It,"y"),He.width-=Ze,He.height-=_t}return Ke(He)}function T(K,se){var Me=nt(),xe="HTML"===se.nodeName,He=rt(K),Xe=rt(se),$e=Fe(K),Be=ke(se),Ze=+Be.borderTopWidth.split("px")[0],_t=+Be.borderLeftWidth.split("px")[0],It=Ke({top:He.top-Xe.top-Ze,left:He.left-Xe.left-_t,width:He.width,height:He.height});if(It.marginTop=0,It.marginLeft=0,!Me&&xe){var Vt=+Be.marginTop.split("px")[0],Wt=+Be.marginLeft.split("px")[0];It.top-=Ze-Vt,It.bottom-=Ze-Vt,It.left-=_t-Wt,It.right-=_t-Wt,It.marginTop=Vt,It.marginLeft=Wt}return(Me?se.contains($e):se===$e&&"BODY"!==$e.nodeName)&&(It=function Qt(K,se){var Me=2<arguments.length&&void 0!==arguments[2]&&arguments[2],xe=Ct(se,"top"),He=Ct(se,"left"),Xe=Me?-1:1;return K.top+=xe*Xe,K.bottom+=xe*Xe,K.left+=He*Xe,K.right+=He*Xe,K}(It,se)),It}function M(K){var se=K.nodeName;return"BODY"!==se&&"HTML"!==se&&("fixed"===ke(K,"position")||M(Le(K)))}function R(K,se,Me,xe){var He={top:0,left:0},Xe=At(K,se);if("viewport"===xe)He=function j(K){var se=window.document.documentElement,Me=T(K,se),xe=Ge(se.clientWidth,window.innerWidth||0),He=Ge(se.clientHeight,window.innerHeight||0),Xe=Ct(se),$e=Ct(se,"left");return Ke({top:Xe-Me.top+Me.marginTop,left:$e-Me.left+Me.marginLeft,width:xe,height:He})}(Xe);else{var $e;"scrollParent"===xe?"BODY"===($e=Fe(Le(K))).nodeName&&($e=window.document.documentElement):$e="window"===xe?window.document.documentElement:xe;var Be=T($e,Xe);if("HTML"!==$e.nodeName||M(Xe))He=Be;else{var Ze=gt(),_t=Ze.height,It=Ze.width;He.top+=Be.top-Be.marginTop,He.bottom=_t+Be.top,He.left+=Be.left-Be.marginLeft,He.right=It+Be.left}}return He.left+=Me,He.top+=Me,He.right-=Me,He.bottom-=Me,He}function u(K){return K.width*K.height}function g(K,se,Me,xe,He){var Xe=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===K.indexOf("auto"))return K;var $e=R(Me,xe,Xe,He),Be={top:{width:$e.width,height:se.top-$e.top},right:{width:$e.right-se.right,height:$e.height},bottom:{width:$e.width,height:$e.bottom-se.bottom},left:{width:se.left-$e.left,height:$e.height}},Ze=Object.keys(Be).map(function(Wt){return ge({key:Wt},Be[Wt],{area:u(Be[Wt])})}).sort(function(Wt,$t){return $t.area-Wt.area}),_t=Ze.filter(function(Wt){return Wt.width>=Me.clientWidth&&Wt.height>=Me.clientHeight}),It=0<_t.length?_t[0].key:Ze[0].key,Vt=K.split("-")[1];return It+(Vt?"-"+Vt:"")}function f(K,se,Me){return T(Me,At(se,Me))}function w(K){var se=window.getComputedStyle(K),Me=parseFloat(se.marginTop)+parseFloat(se.marginBottom),xe=parseFloat(se.marginLeft)+parseFloat(se.marginRight);return{width:K.offsetWidth+xe,height:K.offsetHeight+Me}}function k(K){var se={left:"right",right:"left",bottom:"top",top:"bottom"};return K.replace(/left|right|bottom|top/g,function(Me){return se[Me]})}function L(K,se,Me){Me=Me.split("-")[0];var xe=w(K),He={width:xe.width,height:xe.height},Xe=-1!==["right","left"].indexOf(Me),$e=Xe?"top":"left",Be=Xe?"left":"top",Ze=Xe?"height":"width",_t=Xe?"width":"height";return He[$e]=se[$e]+se[Ze]/2-xe[Ze]/2,He[Be]=Me===Be?se[Be]-xe[_t]:se[k(Be)],He}function N(K,se){return Array.prototype.find?K.find(se):K.filter(se)[0]}function q(K,se,Me){var xe=void 0===Me?K:K.slice(0,function H(K,se,Me){if(Array.prototype.findIndex)return K.findIndex(function(He){return He[se]===Me});var xe=N(K,function(He){return He[se]===Me});return K.indexOf(xe)}(K,"name",Me));return xe.forEach(function(He){He.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var Xe=He.function||He.fn;He.enabled&&v(Xe)&&(se.offsets.popper=Ke(se.offsets.popper),se.offsets.reference=Ke(se.offsets.reference),se=Xe(se,He))}),se}function re(){if(!this.state.isDestroyed){var K={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};K.offsets.reference=f(0,this.popper,this.reference),K.placement=g(this.options.placement,K.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),K.originalPlacement=K.placement,K.offsets.popper=L(this.popper,K.offsets.reference,K.placement),K.offsets.popper.position="absolute",K=q(this.modifiers,K),this.state.isCreated?this.options.onUpdate(K):(this.state.isCreated=!0,this.options.onCreate(K))}}function Z(K,se){return K.some(function(Me){return Me.enabled&&Me.name===se})}function de(K){for(var se=[!1,"ms","Webkit","Moz","O"],Me=K.charAt(0).toUpperCase()+K.slice(1),xe=0;xe<se.length-1;xe++){var He=se[xe],Xe=He?""+He+Me:K;if(void 0!==window.document.body.style[Xe])return Xe}return null}function pe(){return this.state.isDestroyed=!0,Z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[de("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ve(K,se,Me,xe){var He="BODY"===K.nodeName,Xe=He?window:K;Xe.addEventListener(se,Me,{passive:!0}),He||ve(Fe(Xe.parentNode),se,Me,xe),xe.push(Xe)}function We(K,se,Me,xe){Me.updateBound=xe,window.addEventListener("resize",Me.updateBound,{passive:!0});var He=Fe(K);return ve(He,"scroll",Me.updateBound,Me.scrollParents),Me.scrollElement=He,Me.eventsEnabled=!0,Me}function Ie(){this.state.eventsEnabled||(this.state=We(this.reference,0,this.state,this.scheduleUpdate))}function F(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=function Ne(K,se){return window.removeEventListener("resize",se.updateBound),se.scrollParents.forEach(function(Me){Me.removeEventListener("scroll",se.updateBound)}),se.updateBound=null,se.scrollParents=[],se.scrollElement=null,se.eventsEnabled=!1,se}(0,this.state))}function Te(K){return""!==K&&!isNaN(parseFloat(K))&&isFinite(K)}function ht(K,se){Object.keys(se).forEach(function(Me){var xe="";-1!==["width","height","top","right","bottom","left"].indexOf(Me)&&Te(se[Me])&&(xe="px"),K.style[Me]=se[Me]+xe})}function zt(K,se,Me){var xe=N(K,function($e){return $e.name===se}),He=!!xe&&K.some(function($e){return $e.name===Me&&$e.enabled&&$e.order<xe.order});if(!He){var Xe="`"+se+"`";console.warn("`"+Me+"` modifier is required by "+Xe+" modifier in order to work, be sure to include it before "+Xe+"!")}return He}function De(K){var se=1<arguments.length&&void 0!==arguments[1]&&arguments[1],Me=Oe.indexOf(K),xe=Oe.slice(Me+1).concat(Oe.slice(0,Me));return se?xe.reverse():xe}for(var J=Math.min,we=Math.floor,Ge=Math.max,kt="undefined"!=typeof window,Rt=["Edge","Trident","Firefox"],wt=0,Yt=0;Yt<Rt.length;Yt+=1)if(kt&&0<=navigator.userAgent.indexOf(Rt[Yt])){wt=1;break}var Xt,K,Et=kt&&(K=window.MutationObserver,["native code","[object MutationObserverConstructor]"].some(function(se){return-1<(K||"").toString().indexOf(se)}))?function(K){var se=!1,Me=0,xe=document.createElement("span");return new MutationObserver(function(){K(),se=!1}).observe(xe,{attributes:!0}),function(){se||(se=!0,xe.setAttribute("x-index",Me),++Me)}}:function(K){var se=!1;return function(){se||(se=!0,setTimeout(function(){se=!1,K()},wt))}},nt=function(){return null==Xt&&(Xt=-1!==navigator.appVersion.indexOf("MSIE 10")),Xt},ie=function(K,se){if(!(K instanceof se))throw new TypeError("Cannot call a class as a function")},oe=function(){function K(se,Me){for(var xe,He=0;He<Me.length;He++)(xe=Me[He]).enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(se,xe.key,xe)}return function(se,Me,xe){return Me&&K(se.prototype,Me),xe&&K(se,xe),se}}(),ue=function(K,se,Me){return se in K?Object.defineProperty(K,se,{value:Me,enumerable:!0,configurable:!0,writable:!0}):K[se]=Me,K},ge=Object.assign||function(K){for(var se,Me=1;Me<arguments.length;Me++)for(var xe in se=arguments[Me])Object.prototype.hasOwnProperty.call(se,xe)&&(K[xe]=se[xe]);return K},_e=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Oe=_e.slice(3),ce=function(){function K(se,Me){var xe=this,He=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};ie(this,K),this.scheduleUpdate=function(){return requestAnimationFrame(xe.update)},this.update=Et(this.update.bind(this)),this.options=ge({},K.Defaults,He),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=se.jquery?se[0]:se,this.popper=Me.jquery?Me[0]:Me,this.options.modifiers={},Object.keys(ge({},K.Defaults.modifiers,He.modifiers)).forEach(function($e){xe.options.modifiers[$e]=ge({},K.Defaults.modifiers[$e]||{},He.modifiers?He.modifiers[$e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function($e){return ge({name:$e},xe.options.modifiers[$e])}).sort(function($e,Be){return $e.order-Be.order}),this.modifiers.forEach(function($e){$e.enabled&&v($e.onLoad)&&$e.onLoad(xe.reference,xe.popper,xe.options,$e,xe.state)}),this.update();var Xe=this.options.eventsEnabled;Xe&&this.enableEventListeners(),this.state.eventsEnabled=Xe}return oe(K,[{key:"update",value:function(){return re.call(this)}},{key:"destroy",value:function(){return pe.call(this)}},{key:"enableEventListeners",value:function(){return Ie.call(this)}},{key:"disableEventListeners",value:function(){return F.call(this)}}]),K}();return ce.Utils=("undefined"==typeof window?global:window).PopperUtils,ce.placements=_e,ce.Defaults={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(K){var se=K.placement,Me=se.split("-")[0],xe=se.split("-")[1];if(xe){var He=K.offsets,Xe=He.reference,$e=He.popper,Be=-1!==["bottom","top"].indexOf(Me),Ze=Be?"left":"top",_t=Be?"width":"height",It={start:ue({},Ze,Xe[Ze]),end:ue({},Ze,Xe[Ze]+Xe[_t]-$e[_t])};K.offsets.popper=ge({},$e,It[xe])}return K}},offset:{order:200,enabled:!0,fn:function ee(K,se){var Me,xe=se.offset,Xe=K.offsets,$e=Xe.popper,Be=Xe.reference,Ze=K.placement.split("-")[0];return Me=Te(+xe)?[+xe,0]:function ne(K,se,Me,xe){var He=[0,0],Xe=-1!==["right","left"].indexOf(xe),$e=K.split(/(\+|\-)/).map(function(It){return It.trim()}),Be=$e.indexOf(N($e,function(It){return-1!==It.search(/,|\s/)}));$e[Be]&&-1===$e[Be].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var Ze=/\s*,\s*|\s+/,_t=-1===Be?[$e]:[$e.slice(0,Be).concat([$e[Be].split(Ze)[0]]),[$e[Be].split(Ze)[1]].concat($e.slice(Be+1))];return _t=_t.map(function(It,Vt){var Wt=(1===Vt?!Xe:Xe)?"height":"width",$t=!1;return It.reduce(function(Zt,ki){return""===Zt[Zt.length-1]&&-1!==["+","-"].indexOf(ki)?(Zt[Zt.length-1]=ki,$t=!0,Zt):$t?(Zt[Zt.length-1]+=ki,$t=!1,Zt):Zt.concat(ki)},[]).map(function(Zt){return function Q(K,se,Me,xe){var He=K.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),Xe=+He[1],$e=He[2];return Xe?0===$e.indexOf("%")?Ke("%p"===$e?Me:xe)[se]/100*Xe:"vh"===$e||"vw"===$e?("vh"===$e?Ge(document.documentElement.clientHeight,window.innerHeight||0):Ge(document.documentElement.clientWidth,window.innerWidth||0))/100*Xe:Xe:K}(Zt,Wt,se,Me)})}),_t.forEach(function(It,Vt){It.forEach(function(Wt,$t){Te(Wt)&&(He[Vt]+=Wt*("-"===It[$t-1]?-1:1))})}),He}(xe,$e,Be,Ze),"left"===Ze?($e.top+=Me[0],$e.left-=Me[1]):"right"===Ze?($e.top+=Me[0],$e.left+=Me[1]):"top"===Ze?($e.left+=Me[0],$e.top-=Me[1]):"bottom"===Ze&&($e.left+=Me[0],$e.top+=Me[1]),K.popper=$e,K},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(K,se){var Me=se.boundariesElement||at(K.instance.popper);K.instance.reference===Me&&(Me=at(Me));var xe=R(K.instance.popper,K.instance.reference,se.padding,Me);se.boundaries=xe;var Xe=K.offsets.popper,$e={primary:function(Be){var Ze=Xe[Be];return Xe[Be]<xe[Be]&&!se.escapeWithReference&&(Ze=Ge(Xe[Be],xe[Be])),ue({},Be,Ze)},secondary:function(Be){var Ze="right"===Be?"left":"top",_t=Xe[Ze];return Xe[Be]>xe[Be]&&!se.escapeWithReference&&(_t=J(Xe[Ze],xe[Be]-("right"===Be?Xe.width:Xe.height))),ue({},Ze,_t)}};return se.priority.forEach(function(Be){var Ze=-1===["left","top"].indexOf(Be)?"secondary":"primary";Xe=ge({},Xe,$e[Ze](Be))}),K.offsets.popper=Xe,K},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(K){var se=K.offsets,Me=se.popper,xe=se.reference,He=K.placement.split("-")[0],Xe=we,$e=-1!==["top","bottom"].indexOf(He),Be=$e?"right":"bottom",Ze=$e?"left":"top",_t=$e?"width":"height";return Me[Be]<Xe(xe[Ze])&&(K.offsets.popper[Ze]=Xe(xe[Ze])-Me[_t]),Me[Ze]>Xe(xe[Be])&&(K.offsets.popper[Ze]=Xe(xe[Be])),K}},arrow:{order:500,enabled:!0,fn:function(K,se){if(!zt(K.instance.modifiers,"arrow","keepTogether"))return K;var Me=se.element;if("string"==typeof Me){if(!(Me=K.instance.popper.querySelector(Me)))return K}else if(!K.instance.popper.contains(Me))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),K;var xe=K.placement.split("-")[0],He=K.offsets,Xe=He.popper,$e=He.reference,Be=-1!==["left","right"].indexOf(xe),Ze=Be?"height":"width",_t=Be?"Top":"Left",It=_t.toLowerCase(),Vt=Be?"left":"top",Wt=Be?"bottom":"right",$t=w(Me)[Ze];$e[Wt]-$t<Xe[It]&&(K.offsets.popper[It]-=Xe[It]-($e[Wt]-$t)),$e[It]+$t>Xe[Wt]&&(K.offsets.popper[It]+=$e[It]+$t-Xe[Wt]);var Zt=$e[It]+$e[Ze]/2-$t/2,ki=ke(K.instance.popper,"margin"+_t).replace("px",""),ei=Zt-Ke(K.offsets.popper)[It]-ki;return ei=Ge(J(Xe[Ze]-$t,ei),0),K.arrowElement=Me,K.offsets.arrow={},K.offsets.arrow[It]=Math.round(ei),K.offsets.arrow[Vt]="",K},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(K,se){if(Z(K.instance.modifiers,"inner")||K.flipped&&K.placement===K.originalPlacement)return K;var Me=R(K.instance.popper,K.instance.reference,se.padding,se.boundariesElement),xe=K.placement.split("-")[0],He=k(xe),Xe=K.placement.split("-")[1]||"",$e=[];switch(se.behavior){case"flip":$e=[xe,He];break;case"clockwise":$e=De(xe);break;case"counterclockwise":$e=De(xe,!0);break;default:$e=se.behavior}return $e.forEach(function(Be,Ze){if(xe!==Be||$e.length===Ze+1)return K;xe=K.placement.split("-")[0],He=k(xe);var _t=K.offsets.popper,It=K.offsets.reference,Vt=we,Wt="left"===xe&&Vt(_t.right)>Vt(It.left)||"right"===xe&&Vt(_t.left)<Vt(It.right)||"top"===xe&&Vt(_t.bottom)>Vt(It.top)||"bottom"===xe&&Vt(_t.top)<Vt(It.bottom),$t=Vt(_t.left)<Vt(Me.left),Zt=Vt(_t.right)>Vt(Me.right),ki=Vt(_t.top)<Vt(Me.top),ei=Vt(_t.bottom)>Vt(Me.bottom),Pi="left"===xe&&$t||"right"===xe&&Zt||"top"===xe&&ki||"bottom"===xe&&ei,Ti=-1!==["top","bottom"].indexOf(xe),rn=!!se.flipVariations&&(Ti&&"start"===Xe&&$t||Ti&&"end"===Xe&&Zt||!Ti&&"start"===Xe&&ki||!Ti&&"end"===Xe&&ei);(Wt||Pi||rn)&&(K.flipped=!0,(Wt||Pi)&&(xe=$e[Ze+1]),rn&&(Xe=function ft(K){return"end"===K?"start":"start"===K?"end":K}(Xe)),K.placement=xe+(Xe?"-"+Xe:""),K.offsets.popper=ge({},K.offsets.popper,L(K.instance.popper,K.offsets.reference,K.placement)),K=q(K.instance.modifiers,K,"flip"))}),K},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(K){var se=K.placement,Me=se.split("-")[0],xe=K.offsets,He=xe.popper,Xe=xe.reference,$e=-1!==["left","right"].indexOf(Me),Be=-1===["top","left"].indexOf(Me);return He[$e?"left":"top"]=Xe[Me]-(Be?He[$e?"width":"height"]:0),K.placement=k(se),K.offsets.popper=Ke(He),K}},hide:{order:800,enabled:!0,fn:function(K){if(!zt(K.instance.modifiers,"hide","preventOverflow"))return K;var se=K.offsets.reference,Me=N(K.instance.modifiers,function(xe){return"preventOverflow"===xe.name}).boundaries;if(se.bottom<Me.top||se.left>Me.right||se.top>Me.bottom||se.right<Me.left){if(!0===K.hide)return K;K.hide=!0,K.attributes["x-out-of-boundaries"]=""}else{if(!1===K.hide)return K;K.hide=!1,K.attributes["x-out-of-boundaries"]=!1}return K}},computeStyle:{order:850,enabled:!0,fn:function(K,se){var Me=se.x,xe=se.y,He=K.offsets.popper,Xe=N(K.instance.modifiers,function(rn){return"applyStyle"===rn.name}).gpuAcceleration;void 0!==Xe&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var $e,Be,Ze=void 0===Xe?se.gpuAcceleration:Xe,It=rt(at(K.instance.popper)),Vt={position:He.position},Wt={left:we(He.left),top:we(He.top),bottom:we(He.bottom),right:we(He.right)},$t="bottom"===Me?"top":"bottom",Zt="right"===xe?"left":"right",ki=de("transform");if(Be="bottom"==$t?-It.height+Wt.bottom:Wt.top,$e="right"==Zt?-It.width+Wt.right:Wt.left,Ze&&ki)Vt[ki]="translate3d("+$e+"px, "+Be+"px, 0)",Vt[$t]=0,Vt[Zt]=0,Vt.willChange="transform";else{var Pi="right"==Zt?-1:1;Vt[$t]=Be*("bottom"==$t?-1:1),Vt[Zt]=$e*Pi,Vt.willChange=$t+", "+Zt}return K.attributes=ge({},{"x-placement":K.placement},K.attributes),K.styles=ge({},Vt,K.styles),K.arrowStyles=ge({},K.offsets.arrow,K.arrowStyles),K},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(K){return ht(K.instance.popper,K.styles),function tt(K,se){Object.keys(se).forEach(function(Me){!1===se[Me]?K.removeAttribute(Me):K.setAttribute(Me,se[Me])})}(K.instance.popper,K.attributes),K.arrowElement&&Object.keys(K.arrowStyles).length&&ht(K.arrowElement,K.arrowStyles),K},onLoad:function(K,se,Me,xe,He){var Xe=f(0,se,K),$e=g(Me.placement,Xe,se,K,Me.modifiers.flip.boundariesElement,Me.modifiers.flip.padding);return se.setAttribute("x-placement",$e),ht(se,{position:"absolute"}),Me},gpuAcceleration:void 0}}},ce}),function(v,ke){"use strict";"function"==typeof define&&define.amd?define([],function(){return ke.apply(v)}):"object"==typeof exports?module.exports=ke.call(v):v.Waves=ke.call(v)}("object"==typeof global?global:this,function(){"use strict";function Le(M){var R=typeof M;return"function"===R||"object"===R&&!!M}function at(M){var R=gt.call(M);return"[object String]"===R?Qe(M):Le(M)&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(R)&&M.hasOwnProperty("length")?M:function Fe(M){return Le(M)&&M.nodeType>0}(M)?[M]:[]}function vt(M){var R,u,g={top:0,left:0},f=M&&M.ownerDocument;return R=f.documentElement,void 0!==M.getBoundingClientRect&&(g=M.getBoundingClientRect()),u=function ke(M){return function v(M){return null!==M&&M===M.window}(M)?M:9===M.nodeType&&M.defaultView}(f),{top:g.top+u.pageYOffset-R.clientTop,left:g.left+u.pageXOffset-R.clientLeft}}function Pt(M){var R="";for(var u in M)M.hasOwnProperty(u)&&(R+=u+":"+M[u]+";");return R}function At(M,R,u){if(u){u.classList.remove("waves-rippling");var g=u.getAttribute("data-x"),f=u.getAttribute("data-y"),w=u.getAttribute("data-scale"),k=u.getAttribute("data-translate"),N=350-(Date.now()-Number(u.getAttribute("data-hold")));0>N&&(N=0),"mousemove"===M.type&&(N=150);var H="mousemove"===M.type?2500:rt.duration;setTimeout(function(){u.setAttribute("style",Pt({top:f+"px",left:g+"px",opacity:"0","-webkit-transition-duration":H+"ms","-moz-transition-duration":H+"ms","-o-transition-duration":H+"ms","transition-duration":H+"ms","-webkit-transform":w+" "+k,"-moz-transform":w+" "+k,"-ms-transform":w+" "+k,"-o-transform":w+" "+k,transform:w+" "+k})),setTimeout(function(){try{R.removeChild(u)}catch(re){return!1}},H)},N)}}function Qt(M){var R=function Ct(M){if(!1===j.allowEvent(M))return null;for(var R=null,u=M.target||M.srcElement;u.parentElement;){if(!(u instanceof SVGElement)&&u.classList.contains("waves-effect")){R=u;break}u=u.parentElement}return R}(M);if(null!==R){if(R.disabled||R.getAttribute("disabled")||R.classList.contains("disabled"))return;if(j.registerEvent(M),"touchstart"===M.type&&rt.delay){var u=!1,g=setTimeout(function(){g=null,rt.show(M,R)},rt.delay),f=function(k){g&&(clearTimeout(g),g=null,rt.show(M,R)),u||(u=!0,rt.hide(k,R))};R.addEventListener("touchmove",function(k){g&&(clearTimeout(g),g=null),f(k)},!1),R.addEventListener("touchend",f,!1),R.addEventListener("touchcancel",f,!1)}else rt.show(M,R),Ke&&(R.addEventListener("touchend",rt.hide,!1),R.addEventListener("touchcancel",rt.hide,!1)),R.addEventListener("mouseup",rt.hide,!1),R.addEventListener("mouseleave",rt.hide,!1)}}var ut=ut||{},Qe=document.querySelectorAll.bind(document),gt=Object.prototype.toString,Ke="ontouchstart"in window,rt={duration:750,delay:200,show:function(M,R,u){if(2===M.button)return!1;R=R||this;var g=document.createElement("div");g.className="waves-ripple waves-rippling",R.appendChild(g);var f=vt(R),w=0,k=0;"touches"in M&&M.touches.length?(w=M.touches[0].pageY-f.top,k=M.touches[0].pageX-f.left):(w=M.pageY-f.top,k=M.pageX-f.left),k=k>=0?k:0,w=w>=0?w:0;var L="scale("+R.clientWidth/100*3+")",N="translate(0,0)";u&&(N="translate("+u.x+"px, "+u.y+"px)"),g.setAttribute("data-hold",Date.now()),g.setAttribute("data-x",k),g.setAttribute("data-y",w),g.setAttribute("data-scale",L),g.setAttribute("data-translate",N);var H={top:w+"px",left:k+"px"};g.classList.add("waves-notransition"),g.setAttribute("style",Pt(H)),g.classList.remove("waves-notransition"),H["-webkit-transform"]=L+" "+N,H["-moz-transform"]=L+" "+N,H["-ms-transform"]=L+" "+N,H["-o-transform"]=L+" "+N,H.transform=L+" "+N,H.opacity="1";var q="mousemove"===M.type?2500:rt.duration;H["-webkit-transition-duration"]=q+"ms",H["-moz-transition-duration"]=q+"ms",H["-o-transition-duration"]=q+"ms",H["transition-duration"]=q+"ms",g.setAttribute("style",Pt(H))},hide:function(M,R){for(var u=(R=R||this).getElementsByClassName("waves-rippling"),g=0,f=u.length;f>g;g++)At(M,R,u[g])}},T={input:function(M){var R=M.parentNode;if("i"!==R.tagName.toLowerCase()||!R.classList.contains("waves-effect")){var u=document.createElement("i");u.className=M.className+" waves-input-wrapper",M.className="waves-button-input",R.replaceChild(u,M),u.appendChild(M);var g=window.getComputedStyle(M,null);u.setAttribute("style","color:"+g.color+";background:"+g.backgroundColor),M.setAttribute("style","background-color:rgba(0,0,0,0);")}},img:function(M){var R=M.parentNode;if("i"!==R.tagName.toLowerCase()||!R.classList.contains("waves-effect")){var u=document.createElement("i");R.replaceChild(u,M),u.appendChild(M)}}},j={touches:0,allowEvent:function(M){var R=!0;return/^(mousedown|mousemove)$/.test(M.type)&&j.touches&&(R=!1),R},registerEvent:function(M){var R=M.type;"touchstart"===R?j.touches+=1:/^(touchend|touchcancel)$/.test(R)&&setTimeout(function(){j.touches&&(j.touches-=1)},500)}};return ut.init=function(M){var R=document.body;"duration"in(M=M||{})&&(rt.duration=M.duration),"delay"in M&&(rt.delay=M.delay),Ke&&(R.addEventListener("touchstart",Qt,!1),R.addEventListener("touchcancel",j.registerEvent,!1),R.addEventListener("touchend",j.registerEvent,!1)),R.addEventListener("mousedown",Qt,!1)},ut.attach=function(M,R){M=at(M),"[object Array]"===gt.call(R)&&(R=R.join(" ")),R=R?" "+R:"";for(var u,g,f=0,w=M.length;w>f;f++)g=(u=M[f]).tagName.toLowerCase(),-1!==["input","img"].indexOf(g)&&(T[g](u),u=u.parentElement),-1===u.className.indexOf("waves-effect")&&(u.className+=" waves-effect"+R)},ut.ripple=function(M,R){var u=(M=at(M)).length;if((R=R||{}).wait=R.wait||0,R.position=R.position||null,u)for(var g,f,w,k={},L=0,N={type:"mousedown",button:1},H=function(re,Z){return function(){rt.hide(re,Z)}};u>L;L++)g=M[L],f=R.position||{x:g.clientWidth/2,y:g.clientHeight/2},w=vt(g),k.x=w.left+f.x,k.y=w.top+f.y,N.pageX=k.x,N.pageY=k.y,rt.show(N,g),R.wait>=0&&null!==R.wait&&setTimeout(H({type:"mouseup",button:1},g),R.wait)},ut.calm=function(M){for(var R={type:"mouseup",button:1},u=0,g=(M=at(M)).length;g>u;u++)rt.hide(R,M[u])},ut.displayEffect=function(M){ut.init(M)},ut}),function(v){v.fn.extend({slimScroll:function(ke){var Fe=v.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},ke);return this.each(function(){var at,vt,Pt,At,Ct,Qt,ut,Qe,gt="<div></div>",rt=!1,T=v(this);if(T.parent().hasClass(Fe.wrapperClass)){var j=T.scrollTop();if(f=T.siblings("."+Fe.barClass),g=T.siblings("."+Fe.railClass),H(),v.isPlainObject(ke)){if("height"in ke&&"auto"==ke.height){T.parent().css("height","auto"),T.css("height","auto");var M=T.parent().parent().height();T.parent().css("height",M),T.css("height",M)}else if("height"in ke){var R=ke.height;T.parent().css("height",R),T.css("height",R)}if("scrollTo"in ke)j=parseInt(Fe.scrollTo);else if("scrollBy"in ke)j+=parseInt(Fe.scrollBy);else if("destroy"in ke)return f.remove(),g.remove(),void T.unwrap();L(j,!1,!0)}}else if(!v.isPlainObject(ke)||!("destroy"in ke)){Fe.height="auto"==Fe.height?T.parent().height():Fe.height;var u=v(gt).addClass(Fe.wrapperClass).css({position:"relative",overflow:"hidden",width:Fe.width,height:Fe.height});T.css({overflow:"hidden",width:Fe.width,height:Fe.height});var g=v(gt).addClass(Fe.railClass).css({width:Fe.size,height:"100%",position:"absolute",top:0,display:Fe.alwaysVisible&&Fe.railVisible?"block":"none","border-radius":Fe.railBorderRadius,background:Fe.railColor,opacity:Fe.railOpacity,zIndex:90}),f=v(gt).addClass(Fe.barClass).css({background:Fe.color,width:Fe.size,position:"absolute",top:0,opacity:Fe.opacity,display:Fe.alwaysVisible?"block":"none","border-radius":Fe.borderRadius,BorderRadius:Fe.borderRadius,MozBorderRadius:Fe.borderRadius,WebkitBorderRadius:Fe.borderRadius,zIndex:99}),w="right"==Fe.position?{right:Fe.distance}:{left:Fe.distance};g.css(w),f.css(w),T.wrap(u),T.parent().append(f),T.parent().append(g),Fe.railDraggable&&f.bind("mousedown",function(Z){var de=v(document);return Pt=!0,t=parseFloat(f.css("top")),pageY=Z.pageY,de.bind("mousemove.slimscroll",function(pe){currTop=t+pe.pageY-pageY,f.css("top",currTop),L(0,f.position().top,!1)}),de.bind("mouseup.slimscroll",function(pe){Pt=!1,re(),de.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(Z){return Z.stopPropagation(),Z.preventDefault(),!1}),g.hover(function(){q()},function(){re()}),f.hover(function(){vt=!0},function(){vt=!1}),T.hover(function(){at=!0,q(),re()},function(){at=!1,re()}),T.bind("touchstart",function(Z,de){Z.originalEvent.touches.length&&(Ct=Z.originalEvent.touches[0].pageY)}),T.bind("touchmove",function(Z){rt||Z.originalEvent.preventDefault(),Z.originalEvent.touches.length&&(L((Ct-Z.originalEvent.touches[0].pageY)/Fe.touchScrollStep,!0),Ct=Z.originalEvent.touches[0].pageY)}),H(),"bottom"===Fe.start?(f.css({top:T.outerHeight()-f.outerHeight()}),L(0,!0)):"top"!==Fe.start&&(L(v(Fe.start).position().top,null,!0),Fe.alwaysVisible||f.hide()),function N(Z){window.addEventListener?(Z.addEventListener("DOMMouseScroll",k,!1),Z.addEventListener("mousewheel",k,!1)):document.attachEvent("onmousewheel",k)}(this)}function k(de){if(at){var pe=0;(de=de||window.event).wheelDelta&&(pe=-de.wheelDelta/120),de.detail&&(pe=de.detail/3),v(de.target||de.srcTarget||de.srcElement).closest("."+Fe.wrapperClass).is(T.parent())&&L(pe,!0),de.preventDefault&&!rt&&de.preventDefault(),rt||(de.returnValue=!1)}}function L(Z,de,pe){rt=!1;var ve=Z,We=T.outerHeight()-f.outerHeight();if(de&&(ve=parseInt(f.css("top"))+Z*parseInt(Fe.wheelStep)/100*f.outerHeight(),ve=Math.min(Math.max(ve,0),We),ve=Z>0?Math.ceil(ve):Math.floor(ve),f.css({top:ve+"px"})),ve=(ut=parseInt(f.css("top"))/(T.outerHeight()-f.outerHeight()))*(T[0].scrollHeight-T.outerHeight()),pe){var Ie=(ve=Z)/T[0].scrollHeight*T.outerHeight();Ie=Math.min(Math.max(Ie,0),We),f.css({top:Ie+"px"})}T.scrollTop(ve),T.trigger("slimscrolling",~~ve),q(),re()}function H(){Qt=Math.max(T.outerHeight()/T[0].scrollHeight*T.outerHeight(),30),f.css({height:Qt+"px"});var Z=Qt==T.outerHeight()?"none":"block";f.css({display:Z})}function q(){H(),clearTimeout(At),ut==~~ut?(rt=Fe.allowPageScroll,Qe!=ut&&T.trigger("slimscroll",0==~~ut?"top":"bottom")):rt=!1,Qe=ut,Qt>=T.outerHeight()?rt=!0:(f.stop(!0,!0).fadeIn("fast"),Fe.railVisible&&g.stop(!0,!0).fadeIn("fast"))}function re(){Fe.alwaysVisible||(At=setTimeout(function(){(!Fe.disableFadeOut||!at)&&!vt&&!Pt&&(f.fadeOut("slow"),g.fadeOut("slow"))},1e3))}}),this}}),v.fn.extend({slimscroll:v.fn.slimScroll})}(jQuery),function(v){"function"==typeof define&&define.amd?define(["jquery"],v):"object"==typeof exports?module.exports=v:v(jQuery)}(function(v){function ke(Qe){var gt=Qe||window.event,Ke=Ct.call(arguments,1),rt=0,T=0,j=0,M=0,R=0,u=0;if((Qe=v.event.fix(gt)).type="mousewheel","detail"in gt&&(j=-1*gt.detail),"wheelDelta"in gt&&(j=gt.wheelDelta),"wheelDeltaY"in gt&&(j=gt.wheelDeltaY),"wheelDeltaX"in gt&&(T=-1*gt.wheelDeltaX),"axis"in gt&&gt.axis===gt.HORIZONTAL_AXIS&&(T=-1*j,j=0),rt=0===j?T:j,"deltaY"in gt&&(rt=j=-1*gt.deltaY),"deltaX"in gt&&(T=gt.deltaX,0===j&&(rt=-1*T)),0!==j||0!==T){if(1===gt.deltaMode){var g=v.data(this,"mousewheel-line-height");rt*=g,j*=g,T*=g}else if(2===gt.deltaMode){var f=v.data(this,"mousewheel-page-height");rt*=f,j*=f,T*=f}if(M=Math.max(Math.abs(j),Math.abs(T)),(!vt||vt>M)&&(vt=M,Fe(gt,M)&&(vt/=40)),Fe(gt,M)&&(rt/=40,T/=40,j/=40),rt=Math[rt>=1?"floor":"ceil"](rt/vt),T=Math[T>=1?"floor":"ceil"](T/vt),j=Math[j>=1?"floor":"ceil"](j/vt),ut.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();R=Qe.clientX-w.left,u=Qe.clientY-w.top}return Qe.deltaX=T,Qe.deltaY=j,Qe.deltaFactor=vt,Qe.offsetX=R,Qe.offsetY=u,Qe.deltaMode=0,Ke.unshift(Qe,rt,T,j),at&&clearTimeout(at),at=setTimeout(Le,200),(v.event.dispatch||v.event.handle).apply(this,Ke)}}function Le(){vt=null}function Fe(Qe,gt){return ut.settings.adjustOldDeltas&&"mousewheel"===Qe.type&&gt%120==0}var at,vt,Pt=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],At="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],Ct=Array.prototype.slice;if(v.event.fixHooks)for(var Qt=Pt.length;Qt;)v.event.fixHooks[Pt[--Qt]]=v.event.mouseHooks;var ut=v.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var Qe=At.length;Qe;)this.addEventListener(At[--Qe],ke,!1);else this.onmousewheel=ke;v.data(this,"mousewheel-line-height",ut.getLineHeight(this)),v.data(this,"mousewheel-page-height",ut.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var Qe=At.length;Qe;)this.removeEventListener(At[--Qe],ke,!1);else this.onmousewheel=null;v.removeData(this,"mousewheel-line-height"),v.removeData(this,"mousewheel-page-height")},getLineHeight:function(Qe){var gt=v(Qe),Ke=gt["offsetParent"in v.fn?"offsetParent":"parent"]();return Ke.length||(Ke=v("body")),parseInt(Ke.css("fontSize"),10)||parseInt(gt.css("fontSize"),10)||16},getPageHeight:function(Qe){return v(Qe).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};v.fn.extend({mousewheel:function(Qe){return Qe?this.bind("mousewheel",Qe):this.trigger("mousewheel")},unmousewheel:function(Qe){return this.unbind("mousewheel",Qe)}})}),function(v){"function"==typeof define&&define.amd?define(["jquery"],v):"object"==typeof exports?module.exports=v:v(jQuery)}(function(v){function ke(Qe){var gt=Qe||window.event,Ke=Ct.call(arguments,1),rt=0,T=0,j=0,M=0,R=0,u=0;if((Qe=v.event.fix(gt)).type="mousewheel","detail"in gt&&(j=-1*gt.detail),"wheelDelta"in gt&&(j=gt.wheelDelta),"wheelDeltaY"in gt&&(j=gt.wheelDeltaY),"wheelDeltaX"in gt&&(T=-1*gt.wheelDeltaX),"axis"in gt&&gt.axis===gt.HORIZONTAL_AXIS&&(T=-1*j,j=0),rt=0===j?T:j,"deltaY"in gt&&(rt=j=-1*gt.deltaY),"deltaX"in gt&&(T=gt.deltaX,0===j&&(rt=-1*T)),0!==j||0!==T){if(1===gt.deltaMode){var g=v.data(this,"mousewheel-line-height");rt*=g,j*=g,T*=g}else if(2===gt.deltaMode){var f=v.data(this,"mousewheel-page-height");rt*=f,j*=f,T*=f}if(M=Math.max(Math.abs(j),Math.abs(T)),(!vt||vt>M)&&(vt=M,Fe(gt,M)&&(vt/=40)),Fe(gt,M)&&(rt/=40,T/=40,j/=40),rt=Math[rt>=1?"floor":"ceil"](rt/vt),T=Math[T>=1?"floor":"ceil"](T/vt),j=Math[j>=1?"floor":"ceil"](j/vt),ut.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();R=Qe.clientX-w.left,u=Qe.clientY-w.top}return Qe.deltaX=T,Qe.deltaY=j,Qe.deltaFactor=vt,Qe.offsetX=R,Qe.offsetY=u,Qe.deltaMode=0,Ke.unshift(Qe,rt,T,j),at&&clearTimeout(at),at=setTimeout(Le,200),(v.event.dispatch||v.event.handle).apply(this,Ke)}}function Le(){vt=null}function Fe(Qe,gt){return ut.settings.adjustOldDeltas&&"mousewheel"===Qe.type&&gt%120==0}var at,vt,Pt=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],At="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],Ct=Array.prototype.slice;if(v.event.fixHooks)for(var Qt=Pt.length;Qt;)v.event.fixHooks[Pt[--Qt]]=v.event.mouseHooks;var ut=v.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var Qe=At.length;Qe;)this.addEventListener(At[--Qe],ke,!1);else this.onmousewheel=ke;v.data(this,"mousewheel-line-height",ut.getLineHeight(this)),v.data(this,"mousewheel-page-height",ut.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var Qe=At.length;Qe;)this.removeEventListener(At[--Qe],ke,!1);else this.onmousewheel=null;v.removeData(this,"mousewheel-line-height"),v.removeData(this,"mousewheel-page-height")},getLineHeight:function(Qe){var gt=v(Qe),Ke=gt["offsetParent"in v.fn?"offsetParent":"parent"]();return Ke.length||(Ke=v("body")),parseInt(Ke.css("fontSize"),10)||parseInt(gt.css("fontSize"),10)||16},getPageHeight:function(Qe){return v(Qe).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};v.fn.extend({mousewheel:function(Qe){return Qe?this.bind("mousewheel",Qe):this.trigger("mousewheel")},unmousewheel:function(Qe){return this.unbind("mousewheel",Qe)}})}),function(v){"function"==typeof define&&define.amd?define(["jquery"],v):"undefined"!=typeof module&&module.exports?module.exports=v:v(jQuery,window,document)}(function(v){var Le,Fe,at;Le="function"==typeof define&&define.amd,Fe="undefined"!=typeof module&&module.exports,at="https:"==document.location.protocol?"https:":"http:",Le||(Fe?require("jquery-mousewheel")(v):v.event.special.mousewheel||v("head").append(decodeURI("%3Cscript src="+at+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var ke,Le="mCustomScrollbar",Fe="mCS",at=".mCustomScrollbar",vt={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},Pt=0,At={},Ct=window.attachEvent&&!window.addEventListener?1:0,Qt=!1,ut=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],Qe={init:function(oe){oe=v.extend(!0,{},vt,oe);var ue=gt.call(this);if(oe.live){var ge=oe.liveSelector||this.selector||at,_e=v(ge);if("off"===oe.live)return void rt(ge);At[ge]=setTimeout(function(){_e.mCustomScrollbar(oe),"once"===oe.live&&_e.length&&rt(ge)},500)}else rt(ge);return oe.setWidth=oe.set_width?oe.set_width:oe.setWidth,oe.setHeight=oe.set_height?oe.set_height:oe.setHeight,oe.axis=oe.horizontalScroll?"x":T(oe.axis),oe.scrollInertia=oe.scrollInertia>0&&oe.scrollInertia<17?17:oe.scrollInertia,"object"!=typeof oe.mouseWheel&&1==oe.mouseWheel&&(oe.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),oe.mouseWheel.scrollAmount=oe.mouseWheelPixels?oe.mouseWheelPixels:oe.mouseWheel.scrollAmount,oe.mouseWheel.normalizeDelta=oe.advanced.normalizeMouseWheelDelta?oe.advanced.normalizeMouseWheelDelta:oe.mouseWheel.normalizeDelta,oe.scrollButtons.scrollType=j(oe.scrollButtons.scrollType),Ke(oe),v(ue).each(function(){var Oe=v(this);if(!Oe.data(Fe)){Oe.data(Fe,{idx:++Pt,opt:oe,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:Oe.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var Ae=Oe.data(Fe),ce=Ae.opt,K=Oe.data("mcs-axis"),se=Oe.data("mcs-scrollbar-position"),Me=Oe.data("mcs-theme");K&&(ce.axis=K),se&&(ce.scrollbarPosition=se),Me&&(ce.theme=Me,Ke(ce)),M.call(this),Ae&&ce.callbacks.onCreate&&"function"==typeof ce.callbacks.onCreate&&ce.callbacks.onCreate.call(this),v("#mCSB_"+Ae.idx+"_container img:not(."+ut[2]+")").addClass(ut[2]),Qe.update.call(null,Oe)}})},update:function(ie,oe){var ue=ie||gt.call(this);return v(ue).each(function(){var ge=v(this);if(ge.data(Fe)){var _e=ge.data(Fe),Oe=_e.opt,Ae=v("#mCSB_"+_e.idx+"_container"),ce=v("#mCSB_"+_e.idx),K=[v("#mCSB_"+_e.idx+"_dragger_vertical"),v("#mCSB_"+_e.idx+"_dragger_horizontal")];if(!Ae.length)return;_e.tweenRunning&&Ge(ge),oe&&_e&&Oe.callbacks.onBeforeUpdate&&"function"==typeof Oe.callbacks.onBeforeUpdate&&Oe.callbacks.onBeforeUpdate.call(this),ge.hasClass(ut[3])&&ge.removeClass(ut[3]),ge.hasClass(ut[4])&&ge.removeClass(ut[4]),ce.css("max-height","none"),ce.height()!==ge.height()&&ce.css("max-height",ge.height()),u.call(this),"y"===Oe.axis||Oe.advanced.autoExpandHorizontalScroll||Ae.css("width",R(Ae)),_e.overflowed=L.call(this),re.call(this),Oe.autoDraggerLength&&f.call(this),w.call(this),H.call(this);var se=[Math.abs(Ae[0].offsetTop),Math.abs(Ae[0].offsetLeft)];"x"!==Oe.axis&&(_e.overflowed[0]?K[0].height()>K[0].parent().height()?N.call(this):(Pe(ge,se[0].toString(),{dir:"y",dur:0,overwrite:"none"}),_e.contentReset.y=null):(N.call(this),"y"===Oe.axis?q.call(this):"yx"===Oe.axis&&_e.overflowed[1]&&Pe(ge,se[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==Oe.axis&&(_e.overflowed[1]?K[1].width()>K[1].parent().width()?N.call(this):(Pe(ge,se[1].toString(),{dir:"x",dur:0,overwrite:"none"}),_e.contentReset.x=null):(N.call(this),"x"===Oe.axis?q.call(this):"yx"===Oe.axis&&_e.overflowed[0]&&Pe(ge,se[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),oe&&_e&&(2===oe&&Oe.callbacks.onImageLoad&&"function"==typeof Oe.callbacks.onImageLoad?Oe.callbacks.onImageLoad.call(this):3===oe&&Oe.callbacks.onSelectorChange&&"function"==typeof Oe.callbacks.onSelectorChange?Oe.callbacks.onSelectorChange.call(this):Oe.callbacks.onUpdate&&"function"==typeof Oe.callbacks.onUpdate&&Oe.callbacks.onUpdate.call(this)),J.call(this)}})},scrollTo:function(ie,oe){if(void 0!==ie&&null!=ie){var ue=gt.call(this);return v(ue).each(function(){var ge=v(this);if(ge.data(Fe)){var _e=ge.data(Fe),Oe=_e.opt,ce=v.extend(!0,{},{trigger:"external",scrollInertia:Oe.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},oe),K=ne.call(this,ie),se=ce.scrollInertia>0&&ce.scrollInertia<17?17:ce.scrollInertia;K[0]=ee.call(this,K[0],"y"),K[1]=ee.call(this,K[1],"x"),ce.moveDragger&&(K[0]*=_e.scrollRatio.y,K[1]*=_e.scrollRatio.x),ce.dur=nt()?0:se,setTimeout(function(){null!=K[0]&&"x"!==Oe.axis&&_e.overflowed[0]&&(ce.dir="y",ce.overwrite="all",Pe(ge,K[0].toString(),ce)),null!=K[1]&&"y"!==Oe.axis&&_e.overflowed[1]&&(ce.dir="x",ce.overwrite="none",Pe(ge,K[1].toString(),ce))},ce.timeout)}})}},stop:function(){var ie=gt.call(this);return v(ie).each(function(){var oe=v(this);oe.data(Fe)&&Ge(oe)})},disable:function(ie){var oe=gt.call(this);return v(oe).each(function(){var ue=v(this);ue.data(Fe)&&(ue.data(Fe),J.call(this,"remove"),q.call(this),ie&&N.call(this),re.call(this,!0),ue.addClass(ut[3]))})},destroy:function(){var ie=gt.call(this);return v(ie).each(function(){var oe=v(this);if(oe.data(Fe)){var ue=oe.data(Fe),ge=ue.opt,_e=v("#mCSB_"+ue.idx),Oe=v("#mCSB_"+ue.idx+"_container"),Ae=v(".mCSB_"+ue.idx+"_scrollbar");ge.live&&rt(ge.liveSelector||v(ie).selector),J.call(this,"remove"),q.call(this),N.call(this),oe.removeData(Fe),wt(this,"mcs"),Ae.remove(),Oe.find("img."+ut[2]).removeClass(ut[2]),_e.replaceWith(Oe.contents()),oe.removeClass(Le+" _"+"mCS_"+ue.idx+" "+ut[6]+" "+ut[7]+" "+ut[5]+" "+ut[3]).addClass(ut[4])}})}},gt=function(){return"object"!=typeof v(this)||v(this).length<1?at:this},Ke=function(ie){ie.autoDraggerLength=!(v.inArray(ie.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&ie.autoDraggerLength,ie.autoExpandScrollbar=!(v.inArray(ie.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&ie.autoExpandScrollbar,ie.scrollButtons.enable=!(v.inArray(ie.theme,["minimal","minimal-dark"])>-1)&&ie.scrollButtons.enable,ie.autoHideScrollbar=v.inArray(ie.theme,["minimal","minimal-dark"])>-1||ie.autoHideScrollbar,ie.scrollbarPosition=v.inArray(ie.theme,["minimal","minimal-dark"])>-1?"outside":ie.scrollbarPosition},rt=function(ie){At[ie]&&(clearTimeout(At[ie]),wt(At,ie))},T=function(ie){return"yx"===ie||"xy"===ie||"auto"===ie?"yx":"x"===ie||"horizontal"===ie?"x":"y"},j=function(ie){return"stepped"===ie||"pixels"===ie||"step"===ie||"click"===ie?"stepped":"stepless"},M=function(){var ie=v(this),oe=ie.data(Fe),ue=oe.opt,ge=ue.autoExpandScrollbar?" "+ut[1]+"_expand":"",_e=["<div id='mCSB_"+oe.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+oe.idx+"_scrollbar mCS-"+ue.theme+" mCSB_scrollTools_vertical"+ge+"'><div class='"+ut[12]+"'><div id='mCSB_"+oe.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+oe.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+oe.idx+"_scrollbar mCS-"+ue.theme+" mCSB_scrollTools_horizontal"+ge+"'><div class='"+ut[12]+"'><div id='mCSB_"+oe.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],Oe="yx"===ue.axis?"mCSB_vertical_horizontal":"x"===ue.axis?"mCSB_horizontal":"mCSB_vertical",Ae="yx"===ue.axis?_e[0]+_e[1]:"x"===ue.axis?_e[1]:_e[0],ce="yx"===ue.axis?"<div id='mCSB_"+oe.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",K=ue.autoHideScrollbar?" "+ut[6]:"",se="x"!==ue.axis&&"rtl"===oe.langDir?" "+ut[7]:"";ue.setWidth&&ie.css("width",ue.setWidth),ue.setHeight&&ie.css("height",ue.setHeight),ue.setLeft="y"!==ue.axis&&"rtl"===oe.langDir?"989999px":ue.setLeft,ie.addClass(Le+" _"+"mCS_"+oe.idx+K+se).wrapInner("<div id='mCSB_"+oe.idx+"' class='mCustomScrollBox mCS-"+ue.theme+" "+Oe+"'><div id='mCSB_"+oe.idx+"_container' class='mCSB_container' style='position:relative; top:"+ue.setTop+"; left:"+ue.setLeft+";' dir='"+oe.langDir+"' /></div>");var Me=v("#mCSB_"+oe.idx),xe=v("#mCSB_"+oe.idx+"_container");"y"===ue.axis||ue.advanced.autoExpandHorizontalScroll||xe.css("width",R(xe)),"outside"===ue.scrollbarPosition?("static"===ie.css("position")&&ie.css("position","relative"),ie.css("overflow","visible"),Me.addClass("mCSB_outside").after(Ae)):(Me.addClass("mCSB_inside").append(Ae),xe.wrap(ce)),g.call(this);var He=[v("#mCSB_"+oe.idx+"_dragger_vertical"),v("#mCSB_"+oe.idx+"_dragger_horizontal")];He[0].css("min-height",He[0].height()),He[1].css("min-width",He[1].width())},R=function(ie){var oe=[ie[0].scrollWidth,Math.max.apply(Math,ie.children().map(function(){return v(this).outerWidth(!0)}).get())],ue=ie.parent().width();return oe[0]>ue?oe[0]:oe[1]>ue?oe[1]:"100%"},u=function(){var oe=v(this).data(Fe),ue=oe.opt,ge=v("#mCSB_"+oe.idx+"_container");if(ue.advanced.autoExpandHorizontalScroll&&"y"!==ue.axis){ge.css({width:"auto","min-width":0,"overflow-x":"scroll"});var _e=Math.ceil(ge[0].scrollWidth);3===ue.advanced.autoExpandHorizontalScroll||2!==ue.advanced.autoExpandHorizontalScroll&&_e>ge.parent().width()?ge.css({width:_e,"min-width":"100%","overflow-x":"inherit"}):ge.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(ge[0].getBoundingClientRect().right+.4)-Math.floor(ge[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},g=function(){var oe=v(this).data(Fe),ue=oe.opt,ge=v(".mCSB_"+oe.idx+"_scrollbar:first"),_e=Ht(ue.scrollButtons.tabindex)?"tabindex='"+ue.scrollButtons.tabindex+"'":"",Oe=["<a href='#' class='"+ut[13]+"' "+_e+" />","<a href='#' class='"+ut[14]+"' "+_e+" />","<a href='#' class='"+ut[15]+"' "+_e+" />","<a href='#' class='"+ut[16]+"' "+_e+" />"],Ae=["x"===ue.axis?Oe[2]:Oe[0],"x"===ue.axis?Oe[3]:Oe[1],Oe[2],Oe[3]];ue.scrollButtons.enable&&ge.prepend(Ae[0]).append(Ae[1]).next(".mCSB_scrollTools").prepend(Ae[2]).append(Ae[3])},f=function(){var oe=v(this).data(Fe),ue=v("#mCSB_"+oe.idx),ge=v("#mCSB_"+oe.idx+"_container"),_e=[v("#mCSB_"+oe.idx+"_dragger_vertical"),v("#mCSB_"+oe.idx+"_dragger_horizontal")],Oe=[ue.height()/ge.outerHeight(!1),ue.width()/ge.outerWidth(!1)],Ae=[parseInt(_e[0].css("min-height")),Math.round(Oe[0]*_e[0].parent().height()),parseInt(_e[1].css("min-width")),Math.round(Oe[1]*_e[1].parent().width())],K=Ct&&Ae[3]<Ae[2]?Ae[2]:Ae[3];_e[0].css({height:Ct&&Ae[1]<Ae[0]?Ae[0]:Ae[1],"max-height":_e[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":Ae[0]+"px"}),_e[1].css({width:K,"max-width":_e[1].parent().width()-10})},w=function(){var oe=v(this).data(Fe),ue=v("#mCSB_"+oe.idx),ge=v("#mCSB_"+oe.idx+"_container"),_e=[v("#mCSB_"+oe.idx+"_dragger_vertical"),v("#mCSB_"+oe.idx+"_dragger_horizontal")],Oe=[ge.outerHeight(!1)-ue.height(),ge.outerWidth(!1)-ue.width()],Ae=[Oe[0]/(_e[0].parent().height()-_e[0].height()),Oe[1]/(_e[1].parent().width()-_e[1].width())];oe.scrollRatio={y:Ae[0],x:Ae[1]}},k=function(ie,oe,ue){var ge=ue?ut[0]+"_expanded":"",_e=ie.closest(".mCSB_scrollTools");"active"===oe?(ie.toggleClass(ut[0]+" "+ge),_e.toggleClass(ut[1]),ie[0]._draggable=ie[0]._draggable?0:1):ie[0]._draggable||("hide"===oe?(ie.removeClass(ut[0]),_e.removeClass(ut[1])):(ie.addClass(ut[0]),_e.addClass(ut[1])))},L=function(){var oe=v(this).data(Fe),ue=v("#mCSB_"+oe.idx),ge=v("#mCSB_"+oe.idx+"_container"),_e=null==oe.overflowed?ge.height():ge.outerHeight(!1),Oe=null==oe.overflowed?ge.width():ge.outerWidth(!1),Ae=ge[0].scrollHeight,ce=ge[0].scrollWidth;return Ae>_e&&(_e=Ae),ce>Oe&&(Oe=ce),[_e>ue.height(),Oe>ue.width()]},N=function(){var ie=v(this),oe=ie.data(Fe),ue=oe.opt,ge=v("#mCSB_"+oe.idx),_e=v("#mCSB_"+oe.idx+"_container"),Oe=[v("#mCSB_"+oe.idx+"_dragger_vertical"),v("#mCSB_"+oe.idx+"_dragger_horizontal")];if(Ge(ie),("x"!==ue.axis&&!oe.overflowed[0]||"y"===ue.axis&&oe.overflowed[0])&&(Oe[0].add(_e).css("top",0),Pe(ie,"_resetY")),"y"!==ue.axis&&!oe.overflowed[1]||"x"===ue.axis&&oe.overflowed[1]){var Ae=dx=0;"rtl"===oe.langDir&&(Ae=ge.width()-_e.outerWidth(!1),dx=Math.abs(Ae/oe.scrollRatio.x)),_e.css("left",Ae),Oe[1].css("left",dx),Pe(ie,"_resetX")}},H=function(){var _e,oe=v(this),ue=oe.data(Fe),ge=ue.opt;ue.bindEvents||(de.call(this),ge.contentTouchScroll&&pe.call(this),ve.call(this),ge.mouseWheel.enable&&function ie(){_e=setTimeout(function(){v.event.special.mousewheel?(clearTimeout(_e),We.call(oe[0])):ie()},100)}(),ht.call(this),zt.call(this),ge.advanced.autoScrollOnFocus&&tt.call(this),ge.scrollButtons.enable&&ft.call(this),ge.keyboard.enable&&De.call(this),ue.bindEvents=!0)},q=function(){var ie=v(this),oe=ie.data(Fe),ue=oe.opt,ge="mCS_"+oe.idx,_e=".mCSB_"+oe.idx+"_scrollbar",Oe=v("#mCSB_"+oe.idx+",#mCSB_"+oe.idx+"_container,#mCSB_"+oe.idx+"_container_wrapper,"+_e+" ."+ut[12]+",#mCSB_"+oe.idx+"_dragger_vertical,#mCSB_"+oe.idx+"_dragger_horizontal,"+_e+">a"),Ae=v("#mCSB_"+oe.idx+"_container");ue.advanced.releaseDraggableSelectors&&Oe.add(v(ue.advanced.releaseDraggableSelectors)),ue.advanced.extraDraggableSelectors&&Oe.add(v(ue.advanced.extraDraggableSelectors)),oe.bindEvents&&(v(document).add(v(!Ne()||top.document)).unbind("."+ge),Oe.each(function(){v(this).unbind("."+ge)}),clearTimeout(ie[0]._focusTimeout),wt(ie[0],"_focusTimeout"),clearTimeout(oe.sequential.step),wt(oe.sequential,"step"),clearTimeout(Ae[0].onCompleteTimeout),wt(Ae[0],"onCompleteTimeout"),oe.bindEvents=!1)},re=function(ie){var oe=v(this),ue=oe.data(Fe),ge=ue.opt,_e=v("#mCSB_"+ue.idx+"_container_wrapper"),Oe=_e.length?_e:v("#mCSB_"+ue.idx+"_container"),Ae=[v("#mCSB_"+ue.idx+"_scrollbar_vertical"),v("#mCSB_"+ue.idx+"_scrollbar_horizontal")],ce=[Ae[0].find(".mCSB_dragger"),Ae[1].find(".mCSB_dragger")];"x"!==ge.axis&&(ue.overflowed[0]&&!ie?(Ae[0].add(ce[0]).add(Ae[0].children("a")).css("display","block"),Oe.removeClass(ut[8]+" "+ut[10])):(ge.alwaysShowScrollbar?(2!==ge.alwaysShowScrollbar&&ce[0].css("display","none"),Oe.removeClass(ut[10])):(Ae[0].css("display","none"),Oe.addClass(ut[10])),Oe.addClass(ut[8]))),"y"!==ge.axis&&(ue.overflowed[1]&&!ie?(Ae[1].add(ce[1]).add(Ae[1].children("a")).css("display","block"),Oe.removeClass(ut[9]+" "+ut[11])):(ge.alwaysShowScrollbar?(2!==ge.alwaysShowScrollbar&&ce[1].css("display","none"),Oe.removeClass(ut[11])):(Ae[1].css("display","none"),Oe.addClass(ut[11])),Oe.addClass(ut[9]))),ue.overflowed[0]||ue.overflowed[1]?oe.removeClass(ut[5]):oe.addClass(ut[5])},Z=function(ie){var oe=ie.type,ue=ie.target.ownerDocument!==document&&null!==frameElement?[v(frameElement).offset().top,v(frameElement).offset().left]:null,ge=Ne()&&ie.target.ownerDocument!==top.document&&null!==frameElement?[v(ie.view.frameElement).offset().top,v(ie.view.frameElement).offset().left]:[0,0];switch(oe){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return ue?[ie.originalEvent.pageY-ue[0]+ge[0],ie.originalEvent.pageX-ue[1]+ge[1],!1]:[ie.originalEvent.pageY,ie.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var _e=ie.originalEvent.touches[0]||ie.originalEvent.changedTouches[0],Oe=ie.originalEvent.touches.length||ie.originalEvent.changedTouches.length;return ie.target.ownerDocument!==document?[_e.screenY,_e.screenX,Oe>1]:[_e.pageY,_e.pageX,Oe>1];default:return ue?[ie.pageY-ue[0]+ge[0],ie.pageX-ue[1]+ge[1],!1]:[ie.pageY,ie.pageX,!1]}},de=function(){function ie(Xe,$e,Be,Ze){if(se[0].idleTimer=Ae.scrollInertia<233?250:0,oe.attr("id")===K[1])var _t="x",It=(oe[0].offsetLeft-$e+Ze)*Oe.scrollRatio.x;else _t="y",It=(oe[0].offsetTop-Xe+Be)*Oe.scrollRatio.y;Pe(_e,It.toString(),{dir:_t,drag:!0})}var oe,ue,ge,_e=v(this),Oe=_e.data(Fe),Ae=Oe.opt,ce="mCS_"+Oe.idx,K=["mCSB_"+Oe.idx+"_dragger_vertical","mCSB_"+Oe.idx+"_dragger_horizontal"],se=v("#mCSB_"+Oe.idx+"_container"),Me=v("#"+K[0]+",#"+K[1]),xe=Ae.advanced.releaseDraggableSelectors?Me.add(v(Ae.advanced.releaseDraggableSelectors)):Me,He=Ae.advanced.extraDraggableSelectors?v(!Ne()||top.document).add(v(Ae.advanced.extraDraggableSelectors)):v(!Ne()||top.document);Me.bind("contextmenu."+ce,function(Xe){Xe.preventDefault()}).bind("mousedown."+ce+" touchstart."+ce+" pointerdown."+ce+" MSPointerDown."+ce,function(Xe){if(Xe.stopImmediatePropagation(),Xe.preventDefault(),Yt(Xe)){Qt=!0,Ct&&(document.onselectstart=function(){return!1}),F.call(se,!1),Ge(_e);var $e=(oe=v(this)).offset(),Be=Z(Xe)[0]-$e.top,Ze=Z(Xe)[1]-$e.left,_t=oe.height()+$e.top,It=oe.width()+$e.left;_t>Be&&Be>0&&It>Ze&&Ze>0&&(ue=Be,ge=Ze),k(oe,"active",Ae.autoExpandScrollbar)}}).bind("touchmove."+ce,function(Xe){Xe.stopImmediatePropagation(),Xe.preventDefault();var $e=oe.offset(),Be=Z(Xe)[0]-$e.top,Ze=Z(Xe)[1]-$e.left;ie(ue,ge,Be,Ze)}),v(document).add(He).bind("mousemove."+ce+" pointermove."+ce+" MSPointerMove."+ce,function(Xe){if(oe){var $e=oe.offset(),Be=Z(Xe)[0]-$e.top,Ze=Z(Xe)[1]-$e.left;if(ue===Be&&ge===Ze)return;ie(ue,ge,Be,Ze)}}).add(xe).bind("mouseup."+ce+" touchend."+ce+" pointerup."+ce+" MSPointerUp."+ce,function(){oe&&(k(oe,"active",Ae.autoExpandScrollbar),oe=null),Qt=!1,Ct&&(document.onselectstart=null),F.call(se,!0)})},pe=function(){function ie(ii){if(!Xt(ii)||Qt||Z(ii)[2])ke=0;else{ke=1,It=0,Vt=0,Ae=1,Wt.removeClass("mCS_touch_action");var ji=Pi.offset();ce=Z(ii)[0]-ji.top,K=Z(ii)[1]-ji.left,wn=[Z(ii)[0],Z(ii)[1]]}}function oe(ii){if(Xt(ii)&&!Qt&&!Z(ii)[2]&&(Zt.documentTouchScroll||ii.preventDefault(),ii.stopImmediatePropagation(),(!Vt||It)&&Ae)){He=kt();var ji=ei.offset(),bi=Z(ii)[0]-ji.top,pn=Z(ii)[1]-ji.left,Ln="mcsLinearOut";if(rn.push(bi),Dn.push(pn),wn[2]=Math.abs(Z(ii)[0]-wn[0]),wn[3]=Math.abs(Z(ii)[1]-wn[1]),$t.overflowed[0])var Fr=Ti[0].parent().height()-Ti[0].height(),_r=ce-bi>0&&bi-ce>-Fr*$t.scrollRatio.y&&(2*wn[3]<wn[2]||"yx"===Zt.axis);if($t.overflowed[1])var xr=Ti[1].parent().width()-Ti[1].width(),Sn=K-pn>0&&pn-K>-xr*$t.scrollRatio.x&&(2*wn[2]<wn[3]||"yx"===Zt.axis);_r||Sn?(as||ii.preventDefault(),It=1):(Vt=1,Wt.addClass("mCS_touch_action")),as&&ii.preventDefault(),Ze="yx"===Zt.axis?[ce-bi,K-pn]:"x"===Zt.axis?[null,K-pn]:[ce-bi,null],Pi[0].idleTimer=250,$t.overflowed[0]&&Oe(Ze[0],Zn,Ln,"y","all",!0),$t.overflowed[1]&&Oe(Ze[1],Zn,Ln,"x",Qn,!0)}}function ue(ii){if(!Xt(ii)||Qt||Z(ii)[2])ke=0;else{ke=1,ii.stopImmediatePropagation(),Ge(Wt),xe=kt();var ji=ei.offset();se=Z(ii)[0]-ji.top,Me=Z(ii)[1]-ji.left,rn=[],Dn=[]}}function ge(ii){if(Xt(ii)&&!Qt&&!Z(ii)[2]){Ae=0,ii.stopImmediatePropagation(),It=0,Vt=0,Xe=kt();var ji=ei.offset(),bi=Z(ii)[0]-ji.top,pn=Z(ii)[1]-ji.left;if(!(Xe-He>30)){var Ln="mcsEaseOut",Fr=2.5>(Be=1e3/(Xe-xe)),_r=Fr?[rn[rn.length-2],Dn[Dn.length-2]]:[0,0];$e=Fr?[bi-_r[0],pn-_r[1]]:[bi-se,pn-Me];var xr=[Math.abs($e[0]),Math.abs($e[1])];Be=Fr?[Math.abs($e[0]/4),Math.abs($e[1]/4)]:[Be,Be];var Sn=[Math.abs(Pi[0].offsetTop)-$e[0]*_e(xr[0]/Be[0],Be[0]),Math.abs(Pi[0].offsetLeft)-$e[1]*_e(xr[1]/Be[1],Be[1])];Ze="yx"===Zt.axis?[Sn[0],Sn[1]]:"x"===Zt.axis?[null,Sn[1]]:[Sn[0],null],_t=[4*xr[0]+Zt.scrollInertia,4*xr[1]+Zt.scrollInertia];var gl=parseInt(Zt.contentTouchScroll)||0;Ze[0]=xr[0]>gl?Ze[0]:0,Ze[1]=xr[1]>gl?Ze[1]:0,$t.overflowed[0]&&Oe(Ze[0],_t[0],Ln,"y",Qn,!1),$t.overflowed[1]&&Oe(Ze[1],_t[1],Ln,"x",Qn,!1)}}}function _e(ii,ji){var bi=[1.5*ji,2*ji,ji/1.5,ji/2];return ii>90?ji>4?bi[0]:bi[3]:ii>60?ji>3?bi[3]:bi[2]:ii>30?ji>8?bi[1]:ji>6?bi[0]:ji>4?ji:bi[2]:ji>8?ji:bi[3]}function Oe(ii,ji,bi,pn,Ln,Fr){ii&&Pe(Wt,ii.toString(),{dur:ji,scrollEasing:bi,dir:pn,overwrite:Ln,drag:Fr})}var Ae,ce,K,se,Me,xe,He,Xe,$e,Be,Ze,_t,It,Vt,Wt=v(this),$t=Wt.data(Fe),Zt=$t.opt,ki="mCS_"+$t.idx,ei=v("#mCSB_"+$t.idx),Pi=v("#mCSB_"+$t.idx+"_container"),Ti=[v("#mCSB_"+$t.idx+"_dragger_vertical"),v("#mCSB_"+$t.idx+"_dragger_horizontal")],rn=[],Dn=[],Zn=0,Qn="yx"===Zt.axis?"none":"all",wn=[],Vr=Pi.find("iframe"),An=["touchstart."+ki+" pointerdown."+ki+" MSPointerDown."+ki,"touchmove."+ki+" pointermove."+ki+" MSPointerMove."+ki,"touchend."+ki+" pointerup."+ki+" MSPointerUp."+ki],as=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;Pi.bind(An[0],function(ii){ie(ii)}).bind(An[1],function(ii){oe(ii)}),ei.bind(An[0],function(ii){ue(ii)}).bind(An[2],function(ii){ge(ii)}),Vr.length&&Vr.each(function(){v(this).bind("load",function(){Ne(this)&&v(this.contentDocument||this.contentWindow.document).bind(An[0],function(ii){ie(ii),ue(ii)}).bind(An[1],function(ii){oe(ii)}).bind(An[2],function(ii){ge(ii)})})})},ve=function(){function oe(Me,xe,He){Ae.type=He&&ue?"stepped":"stepless",Ae.scrollAmount=10,Q(ge,Me,xe,"mcsLinearOut",He?60:null)}var ue,ge=v(this),_e=ge.data(Fe),Oe=_e.opt,Ae=_e.sequential,ce="mCS_"+_e.idx,K=v("#mCSB_"+_e.idx+"_container"),se=K.parent();K.bind("mousedown."+ce,function(){ke||ue||(ue=1,Qt=!0)}).add(document).bind("mousemove."+ce,function(Me){if(!ke&&ue&&function ie(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}()){var xe=K.offset(),He=Z(Me)[0]-xe.top+K[0].offsetTop,Xe=Z(Me)[1]-xe.left+K[0].offsetLeft;He>0&&He<se.height()&&Xe>0&&Xe<se.width()?Ae.step&&oe("off",null,"stepped"):("x"!==Oe.axis&&_e.overflowed[0]&&(0>He?oe("on",38):He>se.height()&&oe("on",40)),"y"!==Oe.axis&&_e.overflowed[1]&&(0>Xe?oe("on",37):Xe>se.width()&&oe("on",39)))}}).bind("mouseup."+ce+" dragend."+ce,function(){ke||(ue&&(ue=0,oe("off",null)),Qt=!1)})},We=function(){function ie(K,se){if(Ge(oe),!Te(oe,K.target)){var Me="auto"!==ge.mouseWheel.deltaFactor?parseInt(ge.mouseWheel.deltaFactor):Ct&&K.deltaFactor<100?100:K.deltaFactor||100,xe=ge.scrollInertia;if("x"===ge.axis||"x"===ge.mouseWheel.axis)var He="x",Xe=[Math.round(Me*ue.scrollRatio.x),parseInt(ge.mouseWheel.scrollAmount)],$e="auto"!==ge.mouseWheel.scrollAmount?Xe[1]:Xe[0]>=Oe.width()?.9*Oe.width():Xe[0],Be=Math.abs(v("#mCSB_"+ue.idx+"_container")[0].offsetLeft),Ze=Ae[1][0].offsetLeft,_t=Ae[1].parent().width()-Ae[1].width(),It="y"===ge.mouseWheel.axis?K.deltaY||se:K.deltaX;else He="y",Xe=[Math.round(Me*ue.scrollRatio.y),parseInt(ge.mouseWheel.scrollAmount)],$e="auto"!==ge.mouseWheel.scrollAmount?Xe[1]:Xe[0]>=Oe.height()?.9*Oe.height():Xe[0],Be=Math.abs(v("#mCSB_"+ue.idx+"_container")[0].offsetTop),Ze=Ae[0][0].offsetTop,_t=Ae[0].parent().height()-Ae[0].height(),It=K.deltaY||se;"y"===He&&!ue.overflowed[0]||"x"===He&&!ue.overflowed[1]||((ge.mouseWheel.invert||K.webkitDirectionInvertedFromDevice)&&(It=-It),ge.mouseWheel.normalizeDelta&&(It=0>It?-1:1),(It>0&&0!==Ze||0>It&&Ze!==_t||ge.mouseWheel.preventDefault)&&(K.stopImmediatePropagation(),K.preventDefault()),K.deltaFactor<5&&!ge.mouseWheel.normalizeDelta&&($e=K.deltaFactor,xe=17),Pe(oe,(Be-It*$e).toString(),{dir:He,dur:xe}))}}if(v(this).data(Fe)){var oe=v(this),ue=oe.data(Fe),ge=ue.opt,_e="mCS_"+ue.idx,Oe=v("#mCSB_"+ue.idx),Ae=[v("#mCSB_"+ue.idx+"_dragger_vertical"),v("#mCSB_"+ue.idx+"_dragger_horizontal")],ce=v("#mCSB_"+ue.idx+"_container").find("iframe");ce.length&&ce.each(function(){v(this).bind("load",function(){Ne(this)&&v(this.contentDocument||this.contentWindow.document).bind("mousewheel."+_e,function(K,se){ie(K,se)})})}),Oe.bind("mousewheel."+_e,function(K,se){ie(K,se)})}},Ie=new Object,Ne=function(ie){var oe=!1,ue=!1,ge=null;if(void 0===ie?ue="#empty":void 0!==v(ie).attr("id")&&(ue=v(ie).attr("id")),!1!==ue&&void 0!==Ie[ue])return Ie[ue];if(ie){try{ge=(ie.contentDocument||ie.contentWindow.document).body.innerHTML}catch(Oe){}oe=null!==ge}else{try{ge=top.document.body.innerHTML}catch(Oe){}oe=null!==ge}return!1!==ue&&(Ie[ue]=oe),oe},F=function(ie){var oe=this.find("iframe");oe.length&&oe.css("pointer-events",ie?"auto":"none")},Te=function(ie,oe){var ue=oe.nodeName.toLowerCase(),ge=ie.data(Fe).opt.mouseWheel.disableOver;return v.inArray(ue,ge)>-1&&!(v.inArray(ue,["select","textarea"])>-1&&!v(oe).is(":focus"))},ht=function(){var ie,oe=v(this),ue=oe.data(Fe),ge="mCS_"+ue.idx,_e=v("#mCSB_"+ue.idx+"_container"),Oe=_e.parent();v(".mCSB_"+ue.idx+"_scrollbar ."+ut[12]).bind("mousedown."+ge+" touchstart."+ge+" pointerdown."+ge+" MSPointerDown."+ge,function(ce){Qt=!0,v(ce.target).hasClass("mCSB_dragger")||(ie=1)}).bind("touchend."+ge+" pointerup."+ge+" MSPointerUp."+ge,function(){Qt=!1}).bind("click."+ge,function(ce){if(ie&&(ie=0,v(ce.target).hasClass(ut[12])||v(ce.target).hasClass("mCSB_draggerRail"))){Ge(oe);var K=v(this),se=K.find(".mCSB_dragger");if(K.parent(".mCSB_scrollTools_horizontal").length>0){if(!ue.overflowed[1])return;var Me="x",xe=ce.pageX>se.offset().left?-1:1,He=Math.abs(_e[0].offsetLeft)-xe*(.9*Oe.width())}else{if(!ue.overflowed[0])return;Me="y",xe=ce.pageY>se.offset().top?-1:1,He=Math.abs(_e[0].offsetTop)-xe*(.9*Oe.height())}Pe(oe,He.toString(),{dir:Me,scrollEasing:"mcsEaseInOut"})}})},tt=function(){var ie=v(this),oe=ie.data(Fe),ue=oe.opt,ge="mCS_"+oe.idx,_e=v("#mCSB_"+oe.idx+"_container"),Oe=_e.parent();_e.bind("focusin."+ge,function(){var Ae=v(document.activeElement),ce=_e.find(".mCustomScrollBox").length;Ae.is(ue.advanced.autoScrollOnFocus)&&(Ge(ie),clearTimeout(ie[0]._focusTimeout),ie[0]._focusTimer=ce?17*ce:0,ie[0]._focusTimeout=setTimeout(function(){var se=[Et(Ae)[0],Et(Ae)[1]],Me=[_e[0].offsetTop,_e[0].offsetLeft],xe=[Me[0]+se[0]>=0&&Me[0]+se[0]<Oe.height()-Ae.outerHeight(!1),Me[1]+se[1]>=0&&Me[0]+se[1]<Oe.width()-Ae.outerWidth(!1)],He="yx"!==ue.axis||xe[0]||xe[1]?"all":"none";"x"===ue.axis||xe[0]||Pe(ie,se[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:He,dur:0}),"y"===ue.axis||xe[1]||Pe(ie,se[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:He,dur:0})},ie[0]._focusTimer))})},zt=function(){var oe=v(this).data(Fe),ue="mCS_"+oe.idx,ge=v("#mCSB_"+oe.idx+"_container").parent();ge.bind("scroll."+ue,function(){0===ge.scrollTop()&&0===ge.scrollLeft()||v(".mCSB_"+oe.idx+"_scrollbar").css("visibility","hidden")})},ft=function(){var ie=v(this),oe=ie.data(Fe),ue=oe.opt,ge=oe.sequential,_e="mCS_"+oe.idx;v(".mCSB_"+oe.idx+"_scrollbar>a").bind("contextmenu."+_e,function(ce){ce.preventDefault()}).bind("mousedown."+_e+" touchstart."+_e+" pointerdown."+_e+" MSPointerDown."+_e+" mouseup."+_e+" touchend."+_e+" pointerup."+_e+" MSPointerUp."+_e+" mouseout."+_e+" pointerout."+_e+" MSPointerOut."+_e+" click."+_e,function(ce){function K(Me,xe){ge.scrollAmount=ue.scrollButtons.scrollAmount,Q(ie,Me,xe)}if(ce.preventDefault(),Yt(ce)){var se=v(this).attr("class");switch(ge.type=ue.scrollButtons.scrollType,ce.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===ge.type)return;Qt=!0,oe.tweenRunning=!1,K("on",se);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===ge.type)return;Qt=!1,ge.dir&&K("off",se);break;case"click":if("stepped"!==ge.type||oe.tweenRunning)return;K("on",se)}}})},De=function(){function ie(He){function Xe(Vt,Wt){_e.type=ge.keyboard.scrollType,_e.scrollAmount=ge.keyboard.scrollAmount,"stepped"===_e.type&&ue.tweenRunning||Q(oe,Vt,Wt)}switch(He.type){case"blur":ue.tweenRunning&&_e.dir&&Xe("off",null);break;case"keydown":case"keyup":var $e=He.keyCode?He.keyCode:He.which,Be="on";if("x"!==ge.axis&&(38===$e||40===$e)||"y"!==ge.axis&&(37===$e||39===$e)){if((38===$e||40===$e)&&!ue.overflowed[0]||(37===$e||39===$e)&&!ue.overflowed[1])return;"keyup"===He.type&&(Be="off"),v(document.activeElement).is(se)||(He.preventDefault(),He.stopImmediatePropagation(),Xe(Be,$e))}else if(33===$e||34===$e){if((ue.overflowed[0]||ue.overflowed[1])&&(He.preventDefault(),He.stopImmediatePropagation()),"keyup"===He.type){Ge(oe);var Ze=34===$e?-1:1;if("x"===ge.axis||"yx"===ge.axis&&ue.overflowed[1]&&!ue.overflowed[0])var _t="x",It=Math.abs(ce[0].offsetLeft)-Ze*(.9*K.width());else _t="y",It=Math.abs(ce[0].offsetTop)-Ze*(.9*K.height());Pe(oe,It.toString(),{dir:_t,scrollEasing:"mcsEaseInOut"})}}else 35!==$e&&36!==$e||v(document.activeElement).is(se)||((ue.overflowed[0]||ue.overflowed[1])&&(He.preventDefault(),He.stopImmediatePropagation()),"keyup"!==He.type)||("x"===ge.axis||"yx"===ge.axis&&ue.overflowed[1]&&!ue.overflowed[0]?(_t="x",It=35===$e?Math.abs(K.width()-ce.outerWidth(!1)):0):(_t="y",It=35===$e?Math.abs(K.height()-ce.outerHeight(!1)):0),Pe(oe,It.toString(),{dir:_t,scrollEasing:"mcsEaseInOut"}))}}var oe=v(this),ue=oe.data(Fe),ge=ue.opt,_e=ue.sequential,Oe="mCS_"+ue.idx,Ae=v("#mCSB_"+ue.idx),ce=v("#mCSB_"+ue.idx+"_container"),K=ce.parent(),se="input,textarea,select,datalist,keygen,[contenteditable='true']",Me=ce.find("iframe"),xe=["blur."+Oe+" keydown."+Oe+" keyup."+Oe];Me.length&&Me.each(function(){v(this).bind("load",function(){Ne(this)&&v(this.contentDocument||this.contentWindow.document).bind(xe[0],function(He){ie(He)})})}),Ae.attr("tabindex","0").bind(xe[0],function(He){ie(He)})},Q=function(ie,oe,ue,ge,_e){function Oe($e){K.snapAmount&&(se.scrollAmount=K.snapAmount instanceof Array?"x"===se.dir[0]?K.snapAmount[1]:K.snapAmount[0]:K.snapAmount);var Be="stepped"!==se.type,Ze=_e||($e?Be?He/1.5:Xe:1e3/60),_t=$e?Be?7.5:40:2.5,It=[Math.abs(Me[0].offsetTop),Math.abs(Me[0].offsetLeft)],Vt=[ce.scrollRatio.y>10?10:ce.scrollRatio.y,ce.scrollRatio.x>10?10:ce.scrollRatio.x],Wt="x"===se.dir[0]?It[1]+se.dir[1]*(Vt[1]*_t):It[0]+se.dir[1]*(Vt[0]*_t),$t="x"===se.dir[0]?It[1]+se.dir[1]*parseInt(se.scrollAmount):It[0]+se.dir[1]*parseInt(se.scrollAmount),Zt="auto"!==se.scrollAmount?$t:Wt,ki=ge||($e?Be?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),ei=!!$e;return $e&&17>Ze&&(Zt="x"===se.dir[0]?It[1]:It[0]),Pe(ie,Zt.toString(),{dir:se.dir[0],scrollEasing:ki,dur:Ze,onComplete:ei}),$e?void(se.dir=!1):(clearTimeout(se.step),void(se.step=setTimeout(function(){Oe()},Ze)))}var ce=ie.data(Fe),K=ce.opt,se=ce.sequential,Me=v("#mCSB_"+ce.idx+"_container"),xe="stepped"===se.type,He=K.scrollInertia<26?26:K.scrollInertia,Xe=K.scrollInertia<1?17:K.scrollInertia;switch(oe){case"on":if(se.dir=[ue===ut[16]||ue===ut[15]||39===ue||37===ue?"x":"y",ue===ut[13]||ue===ut[15]||38===ue||37===ue?-1:1],Ge(ie),Ht(ue)&&"stepped"===se.type)return;Oe(xe);break;case"off":(function Ae(){clearTimeout(se.step),wt(se,"step"),Ge(ie)})(),(xe||ce.tweenRunning&&se.dir)&&Oe(!0)}},ne=function(ie){var oe=v(this).data(Fe).opt,ue=[];return"function"==typeof ie&&(ie=ie()),ie instanceof Array?ue=ie.length>1?[ie[0],ie[1]]:"x"===oe.axis?[null,ie[0]]:[ie[0],null]:(ue[0]=ie.y?ie.y:ie.x||"x"===oe.axis?null:ie,ue[1]=ie.x?ie.x:ie.y||"y"===oe.axis?null:ie),"function"==typeof ue[0]&&(ue[0]=ue[0]()),"function"==typeof ue[1]&&(ue[1]=ue[1]()),ue},ee=function(ie,oe){if(null!=ie&&void 0!==ie){var ue=v(this),ge=ue.data(Fe),_e=ge.opt,Oe=v("#mCSB_"+ge.idx+"_container"),Ae=Oe.parent(),ce=typeof ie;oe||(oe="x"===_e.axis?"x":"y");var K="x"===oe?Oe.outerWidth(!1)-Ae.width():Oe.outerHeight(!1)-Ae.height(),se="x"===oe?Oe[0].offsetLeft:Oe[0].offsetTop,Me="x"===oe?"left":"top";switch(ce){case"function":return ie();case"object":return(xe=ie.jquery?ie:v(ie)).length?"x"===oe?Et(xe)[1]:Et(xe)[0]:void 0;case"string":case"number":if(Ht(ie))return Math.abs(ie);if(-1!==ie.indexOf("%"))return Math.abs(K*parseInt(ie)/100);if(-1!==ie.indexOf("-="))return Math.abs(se-parseInt(ie.split("-=")[1]));if(-1!==ie.indexOf("+=")){var He=se+parseInt(ie.split("+=")[1]);return He>=0?0:Math.abs(He)}if(-1!==ie.indexOf("px")&&Ht(ie.split("px")[0]))return Math.abs(ie.split("px")[0]);if("top"===ie||"left"===ie)return 0;if("bottom"===ie)return Math.abs(Ae.height()-Oe.outerHeight(!1));if("right"===ie)return Math.abs(Ae.width()-Oe.outerWidth(!1));if("first"===ie||"last"===ie){var xe=Oe.find(":"+ie);return"x"===oe?Et(xe)[1]:Et(xe)[0]}return v(ie).length?"x"===oe?Et(v(ie))[1]:Et(v(ie))[0]:(Oe.css(Me,ie),void Qe.update.call(null,ue[0]))}}},J=function(ie){function _e(se){clearTimeout(K[0].autoUpdate),Qe.update.call(null,Oe[0],se)}var Oe=v(this),Ae=Oe.data(Fe),ce=Ae.opt,K=v("#mCSB_"+Ae.idx+"_container");return ie?(clearTimeout(K[0].autoUpdate),void wt(K[0],"autoUpdate")):void function oe(){return clearTimeout(K[0].autoUpdate),0===Oe.parents("html").length?void(Oe=null):void(K[0].autoUpdate=setTimeout(function(){return ce.advanced.updateOnSelectorChange&&(Ae.poll.change.n=function ge(){!0===ce.advanced.updateOnSelectorChange&&(ce.advanced.updateOnSelectorChange="*");var se=0,Me=K.find(ce.advanced.updateOnSelectorChange);return ce.advanced.updateOnSelectorChange&&Me.length>0&&Me.each(function(){se+=this.offsetHeight+this.offsetWidth}),se}(),Ae.poll.change.n!==Ae.poll.change.o)?(Ae.poll.change.o=Ae.poll.change.n,void _e(3)):ce.advanced.updateOnContentResize&&(Ae.poll.size.n=Oe[0].scrollHeight+Oe[0].scrollWidth+K[0].offsetHeight+Oe[0].offsetHeight+Oe[0].offsetWidth,Ae.poll.size.n!==Ae.poll.size.o)?(Ae.poll.size.o=Ae.poll.size.n,void _e(1)):!ce.advanced.updateOnImageLoad||"auto"===ce.advanced.updateOnImageLoad&&"y"===ce.axis||(Ae.poll.img.n=K.find("img").length,Ae.poll.img.n===Ae.poll.img.o)?void((ce.advanced.updateOnSelectorChange||ce.advanced.updateOnContentResize||ce.advanced.updateOnImageLoad)&&oe()):(Ae.poll.img.o=Ae.poll.img.n,void K.find("img").each(function(){!function ue(se){function Me(Xe,$e){return function(){return $e.apply(Xe,arguments)}}function xe(){this.onload=null,v(se).addClass(ut[2]),_e(2)}if(v(se).hasClass(ut[2]))_e();else{var He=new Image;He.onload=Me(He,xe),He.src=se.src}}(this)}))},ce.advanced.autoUpdateTimeout))}()},Ge=function(ie){var oe=ie.data(Fe);v("#mCSB_"+oe.idx+"_container,#mCSB_"+oe.idx+"_container_wrapper,#mCSB_"+oe.idx+"_dragger_vertical,#mCSB_"+oe.idx+"_dragger_horizontal").each(function(){Rt.call(this)})},Pe=function(ie,oe,se){function ge(Ti){return Ae&&ce.callbacks[Ti]&&"function"==typeof ce.callbacks[Ti]}function Oe(){var Ti=[He[0].offsetTop,He[0].offsetLeft],rn=[_t[0].offsetTop,_t[0].offsetLeft],Dn=[He.outerHeight(!1),He.outerWidth(!1)],Zn=[xe.height(),xe.width()];ie[0].mcs={content:He,top:Ti[0],left:Ti[1],draggerTop:rn[0],draggerLeft:rn[1],topPct:Math.round(100*Math.abs(Ti[0])/(Math.abs(Dn[0])-Zn[0])),leftPct:Math.round(100*Math.abs(Ti[1])/(Math.abs(Dn[1])-Zn[1])),direction:se.dir}}var Ae=ie.data(Fe),ce=Ae.opt,Me=[(se=v.extend({trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:ce.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},se)).dur,se.drag?0:se.dur],xe=v("#mCSB_"+Ae.idx),He=v("#mCSB_"+Ae.idx+"_container"),Xe=He.parent(),$e=ce.callbacks.onTotalScrollOffset?ne.call(ie,ce.callbacks.onTotalScrollOffset):[0,0],Be=ce.callbacks.onTotalScrollBackOffset?ne.call(ie,ce.callbacks.onTotalScrollBackOffset):[0,0];if(Ae.trigger=se.trigger,0===Xe.scrollTop()&&0===Xe.scrollLeft()||(v(".mCSB_"+Ae.idx+"_scrollbar").css("visibility","visible"),Xe.scrollTop(0).scrollLeft(0)),"_resetY"!==oe||Ae.contentReset.y||(ge("onOverflowYNone")&&ce.callbacks.onOverflowYNone.call(ie[0]),Ae.contentReset.y=1),"_resetX"!==oe||Ae.contentReset.x||(ge("onOverflowXNone")&&ce.callbacks.onOverflowXNone.call(ie[0]),Ae.contentReset.x=1),"_resetY"!==oe&&"_resetX"!==oe){switch(!Ae.contentReset.y&&ie[0].mcs||!Ae.overflowed[0]||(ge("onOverflowY")&&ce.callbacks.onOverflowY.call(ie[0]),Ae.contentReset.x=null),!Ae.contentReset.x&&ie[0].mcs||!Ae.overflowed[1]||(ge("onOverflowX")&&ce.callbacks.onOverflowX.call(ie[0]),Ae.contentReset.x=null),ce.snapAmount&&(oe=function(ie,oe,ue){return Math.round(ie/oe)*oe-ue}(oe,ce.snapAmount instanceof Array?"x"===se.dir?ce.snapAmount[1]:ce.snapAmount[0]:ce.snapAmount,ce.snapOffset)),se.dir){case"x":var _t=v("#mCSB_"+Ae.idx+"_dragger_horizontal"),It="left",Vt=He[0].offsetLeft,Wt=[xe.width()-He.outerWidth(!1),_t.parent().width()-_t.width()],$t=[oe,0===oe?0:oe/Ae.scrollRatio.x],ei=(Zt=$e[1])>0?Zt/Ae.scrollRatio.x:0,Pi=(ki=Be[1])>0?ki/Ae.scrollRatio.x:0;break;case"y":var Zt,ki;_t=v("#mCSB_"+Ae.idx+"_dragger_vertical"),It="top",Vt=He[0].offsetTop,Wt=[xe.height()-He.outerHeight(!1),_t.parent().height()-_t.height()],$t=[oe,0===oe?0:oe/Ae.scrollRatio.y],ei=(Zt=$e[0])>0?Zt/Ae.scrollRatio.y:0,Pi=(ki=Be[0])>0?ki/Ae.scrollRatio.y:0}$t[1]<0||0===$t[0]&&0===$t[1]?$t=[0,0]:$t[1]>=Wt[1]?$t=[Wt[0],Wt[1]]:$t[0]=-$t[0],ie[0].mcs||(Oe(),ge("onInit")&&ce.callbacks.onInit.call(ie[0])),clearTimeout(He[0].onCompleteTimeout),Ve(_t[0],It,Math.round($t[1]),Me[1],se.scrollEasing),!Ae.tweenRunning&&(0===Vt&&$t[0]>=0||Vt===Wt[0]&&$t[0]<=Wt[0])||Ve(He[0],It,Math.round($t[0]),Me[0],se.scrollEasing,se.overwrite,{onStart:function(){se.callbacks&&se.onStart&&!Ae.tweenRunning&&(ge("onScrollStart")&&(Oe(),ce.callbacks.onScrollStart.call(ie[0])),Ae.tweenRunning=!0,k(_t),Ae.cbOffsets=function _e(){return[ce.callbacks.alwaysTriggerOffsets||Vt>=Wt[0]+Zt,ce.callbacks.alwaysTriggerOffsets||-ki>=Vt]}())},onUpdate:function(){se.callbacks&&se.onUpdate&&ge("whileScrolling")&&(Oe(),ce.callbacks.whileScrolling.call(ie[0]))},onComplete:function(){se.callbacks&&se.onComplete&&("yx"===ce.axis&&clearTimeout(He[0].onCompleteTimeout),He[0].onCompleteTimeout=setTimeout(function(){ge("onScroll")&&(Oe(),ce.callbacks.onScroll.call(ie[0])),ge("onTotalScroll")&&$t[1]>=Wt[1]-ei&&Ae.cbOffsets[0]&&(Oe(),ce.callbacks.onTotalScroll.call(ie[0])),ge("onTotalScrollBack")&&$t[1]<=Pi&&Ae.cbOffsets[1]&&(Oe(),ce.callbacks.onTotalScrollBack.call(ie[0])),Ae.tweenRunning=!1,He[0].idleTimer=0,k(_t,"hide")},He[0].idleTimer||0))}})}},Ve=function(ie,oe,ue,ge,_e,Oe,$e){function ce(){Zt.stop||(Vt||Be.call(),Vt=kt()-It,K(),Vt>=Zt.time&&(Zt.time=Vt>Zt.time?Vt+He-(Vt-Zt.time):Vt+He-1,Zt.time<Vt+1&&(Zt.time=Vt+1)),Zt.time<ge?Zt.id=Xe(ce):_t.call())}function K(){ge>0?(Zt.currVal=function xe(ei,Pi,Ti,rn,Dn){switch(Dn){case"linear":case"mcsLinear":return Ti*ei/rn+Pi;case"mcsLinearOut":return ei/=rn,ei--,Ti*Math.sqrt(1-ei*ei)+Pi;case"easeInOutSmooth":return 1>(ei/=rn/2)?Ti/2*ei*ei+Pi:-Ti/2*(--ei*(ei-2)-1)+Pi;case"easeInOutStrong":return 1>(ei/=rn/2)?Ti/2*Math.pow(2,10*(ei-1))+Pi:(ei--,Ti/2*(2-Math.pow(2,-10*ei))+Pi);case"easeInOut":case"mcsEaseInOut":return 1>(ei/=rn/2)?Ti/2*ei*ei*ei+Pi:Ti/2*((ei-=2)*ei*ei+2)+Pi;case"easeOutSmooth":return ei/=rn,-Ti*(--ei*ei*ei*ei-1)+Pi;case"easeOutStrong":return Ti*(1-Math.pow(2,-10*ei/rn))+Pi;default:var Zn=(ei/=rn)*ei,Qn=Zn*ei;return Pi+Ti*(.499999999999997*Qn*Zn+-2.5*Zn*Zn+5.5*Qn+-6.5*Zn+4*ei)}}(Zt.time,Wt,ki,ge,_e),$t[oe]=Math.round(Zt.currVal)+"px"):$t[oe]=ue+"px",Ze.call()}ie._mTween||(ie._mTween={top:{},left:{}});var He,Xe,Be=($e=$e||{}).onStart||function(){},Ze=$e.onUpdate||function(){},_t=$e.onComplete||function(){},It=kt(),Vt=0,Wt=ie.offsetTop,$t=ie.style,Zt=ie._mTween[oe];"left"===oe&&(Wt=ie.offsetLeft);var ki=ue-Wt;Zt.stop=0,"none"!==Oe&&function Me(){null!=Zt.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(Zt.id):clearTimeout(Zt.id),Zt.id=null)}(),function se(){Zt.time=Vt+(He=1e3/60),Xe=window.requestAnimationFrame?window.requestAnimationFrame:function(ei){return K(),setTimeout(ei,.01)},Zt.id=Xe(ce)}()},kt=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Rt=function(){var ie=this;ie._mTween||(ie._mTween={top:{},left:{}});for(var oe=["top","left"],ue=0;ue<oe.length;ue++){var ge=oe[ue];ie._mTween[ge].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(ie._mTween[ge].id):clearTimeout(ie._mTween[ge].id),ie._mTween[ge].id=null,ie._mTween[ge].stop=1)}},wt=function(ie,oe){try{delete ie[oe]}catch(ue){ie[oe]=null}},Yt=function(ie){return!(ie.which&&1!==ie.which)},Xt=function(ie){var oe=ie.originalEvent.pointerType;return!(oe&&"touch"!==oe&&2!==oe)},Ht=function(ie){return!isNaN(parseFloat(ie))&&isFinite(ie)},Et=function(ie){var oe=ie.parents(".mCSB_container");return[ie.offset().top-oe.offset().top,ie.offset().left-oe.offset().left]},nt=function(){var oe=function ie(){var ue=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var ge=0;ge<ue.length;ge++)if(ue[ge]+"Hidden"in document)return ue[ge]+"Hidden";return null}();return!!oe&&document[oe]};v.fn[Le]=function(ie){return Qe[ie]?Qe[ie].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof ie&&ie?void v.error("Method "+ie+" does not exist"):Qe.init.apply(this,arguments)},v[Le]=function(ie){return Qe[ie]?Qe[ie].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof ie&&ie?void v.error("Method "+ie+" does not exist"):Qe.init.apply(this,arguments)},v[Le].defaults=vt,window[Le]=!0,v(window).bind("load",function(){v(at)[Le](),v.extend(v.expr[":"],{mcsInView:v.expr[":"].mcsInView||function(ie){var oe,ue,ge=v(ie),_e=ge.parents(".mCSB_container");if(_e.length)return oe=_e.parent(),(ue=[_e[0].offsetTop,_e[0].offsetLeft])[0]+Et(ge)[0]>=0&&ue[0]+Et(ge)[0]<oe.height()-ge.outerHeight(!1)&&ue[1]+Et(ge)[1]>=0&&ue[1]+Et(ge)[1]<oe.width()-ge.outerWidth(!1)},mcsInSight:v.expr[":"].mcsInSight||function(ie,oe,ue){var ge,_e,Oe,Ae,ce=v(ie),K=ce.parents(".mCSB_container"),se="exact"===ue[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(K.length)return ge=[ce.outerHeight(!1),ce.outerWidth(!1)],Oe=[K[0].offsetTop+Et(ce)[0],K[0].offsetLeft+Et(ce)[1]],_e=[K.parent()[0].offsetHeight,K.parent()[0].offsetWidth],Oe[0]-_e[0]*(Ae=[ge[0]<_e[0]?se[0]:se[1],ge[1]<_e[1]?se[0]:se[1]])[0][0]<0&&Oe[0]+ge[0]-_e[0]*Ae[0][1]>=0&&Oe[1]-_e[1]*Ae[1][0]<0&&Oe[1]+ge[1]-_e[1]*Ae[1][1]>=0},mcsOverflow:v.expr[":"].mcsOverflow||function(ie){var oe=v(ie).data(Fe);if(oe)return oe.overflowed[0]||oe.overflowed[1]}})})}()}),$.fn.pcodedmenu=function(Fe){var ke=this.attr("id"),at=(Fe=$.extend({},{themelayout:"vertical",MenuTrigger:"click",SubMenuTrigger:"click",activeMenuClass:"active",ThemeBackgroundPattern:"pattern6",HeaderBackground:"theme4",LHeaderBackground:"theme4",NavbarBackground:"theme4",ActiveItemBackground:"theme0",SubItemBackground:"theme4",ActiveItemStyle:"style0",ItemBorder:!0,freamtype:"theme1",ItemBorderStyle:"solid",SubItemBorder:!0,DropDownIconStyle:"style1",FixedNavbarPosition:!1,FixedHeaderPosition:!1,horizontalMenuplacement:"top",horizontalMenulayout:"widebox",horizontalBrandItem:!0,horizontalLeftNavItem:!0,horizontalRightItem:!1,horizontalSearchItem:!1,horizontalBrandItemAlign:"left",horizontalLeftNavItemAlign:"right",horizontalRightItemAlign:"right",horizontalsearchItemAlign:"right",horizontalstickynavigation:!1,horizontalNavigationView:"view1",horizontalNavIsCentered:!1,horizontalNavigationMenuIcon:!0,layouttype:"light",verticalMenuplacement:"left",verticalMenulayout:"wide",collapseVerticalLeftHeader:!0,VerticalSubMenuItemIconStyle:"style6",VerticalNavigationView:"view1",verticalMenueffect:{desktop:"shrink",tablet:"push",phone:"overlay"},defaultVerticalMenu:{desktop:"expanded",tablet:"collapsed",phone:"offcanvas"},onToggleVerticalMenu:{desktop:"collapsed",tablet:"expanded",phone:"expanded"}},Fe),{PcodedMenuInit:function(){at.Handlethemelayout(),at.HandleverticalMenuplacement(),at.HandlehorizontalMenuplacement(),at.HandleMenulayout(),at.HandleDeviceType(),at.Handlecomponetheight(),at.HandleMenuOnClick(),at.HandleMenuTrigger(),at.HandleSubMenuTrigger(),at.HandleActiveItem(),at.HandleOffcanvasMenu(),at.HandleVerticalLeftHeader(),at.HandleThemeBackground(),at.HandleActiveItemStyle(),at.HandleItemBorder(),at.HandleBorderStyle(),at.HandleSubItemBorder(),at.HandleDropDownIconStyle(),at.HandleOptionSelectorPanel(),at.HandleNavbarPosition(),at.HandleVerticalSubMenuItemIconStyle(),at.HandleVerticalNavigationView(),at.HandleHorizontalItemIsCentered(),at.HandleHorizontalItemAlignment(),at.HandleSubMenuOffset(),at.HandleHorizontalStickyNavigation(),at.HandleDocumentClickEvent(),at.HandleVerticalScrollbar(),at.HandleHorizontalMobileMenuToggle(),at.horizontalNavigationMenuIcon(),at.verticalNavigationSearchBar(),at.safariBrowsercompatibility(),at.Handlemenutype(),at.Handlelayoutvartype()},safariBrowsercompatibility:function(){is_chrome=navigator.userAgent.indexOf("Chrome")>-1,is_explorer=navigator.userAgent.indexOf("MSIE")>-1,is_firefox=navigator.userAgent.indexOf("Firefox")>-1,is_safari=navigator.userAgent.indexOf("Safari")>-1,is_opera=navigator.userAgent.indexOf("Presto")>-1,is_mac=-1!=navigator.userAgent.indexOf("Mac OS"),is_windows=!is_mac,is_chrome&&is_safari&&(is_safari=!1),is_safari||is_windows},verticalNavigationSearchBar:function(){"vertical"===Fe.themelayout&&$(".searchbar-toggle").on("click",function(){$(this).parent(".pcoded-search").toggleClass("open")})},horizontalNavigationMenuIcon:function(){"horizontal"===Fe.themelayout&&!1===Fe.horizontalNavigationMenuIcon&&($("#"+ke+".pcoded .pcoded-navbar .pcoded-item > li > a .pcoded-micon").hide(),$("#"+ke+".pcoded .pcoded-navbar .pcoded-item.pcoded-search-item > li > a .pcoded-micon").show())},HandleHorizontalMobileMenuToggle:function(){"horizontal"===Fe.themelayout&&$("#mobile-collapse").on("click",function(){$(".pcoded-navbar").toggleClass("show-menu")})},HandleVerticalScrollbar:function(){"vertical"===Fe.themelayout&&(satnt=Fe.defaultVerticalMenu.desktop,("expanded"===satnt||"compact"===satnt)&&(mt=Fe.MenuTrigger,"click"===mt&&$(window).on("load",function(){$(".sidebar_toggle a").click(function(vt){vt.preventDefault();var Pt=$(this);rel=Pt.attr("rel"),el=$(".pcoded-navbar")})})))},HandleDocumentClickEvent:function(){(function vt(){$(document).on("click",function(At){var Ct=$(At.target),Qt=$("#"+ke).attr("pcoded-device-type"),ut=$("#"+ke).attr("vertical-nav-type"),Qe=$("#"+ke+" .pcoded-item li");Ct.parents(".pcoded-item").length||"phone"!=Qt&&"expanded"!=ut&&Qe.removeClass("pcoded-trigger")})})(),function Pt(){$(document).on("click",function(At){var Ct=$(At.target),Qt=$("#"+ke+" .pcoded-search");Ct.parents(".pcoded-search").length||Qt.removeClass("open")})}()},HandleHorizontalStickyNavigation:function(){switch(Fe.horizontalstickynavigation){case!0:$(window).on("scroll",function(){var vt=$(this).scrollTop();vt>=100?($(".pcoded-navbar").addClass("stickybar"),$("stickybar").fadeIn(3e3)):vt<=100&&($(".pcoded-navbar").removeClass("stickybar"),$(".stickybar").fadeOut(3e3))});break;case!1:$(".pcoded-navbar").removeClass("stickybar")}},HandleSubMenuOffset:function(){"horizontal"===Fe.themelayout&&("hover"===Fe.SubMenuTrigger?$("li.pcoded-hasmenu").on("mouseenter mouseleave",function(Pt){if($(".pcoded-submenu",this).length){var At=$(".pcoded-submenu:first",this),Qt=At.offset().left,ut=At.width();$(window).height(),Qt+ut<=$(window).width()?$(this).removeClass("edge"):$(this).addClass("edge")}}):$("li.pcoded-hasmenu").on("click",function(Pt){if(Pt.preventDefault(),$(".pcoded-submenu",this).length){var At=$(".pcoded-submenu:first",this),Qt=At.offset().left,ut=At.width();$(window).height(),Qt+ut<=$(window).width()||$(this).toggleClass("edge")}}))},HandleHorizontalItemIsCentered:function(){if("horizontal"===Fe.themelayout)switch(Fe.horizontalNavIsCentered){case!0:$("#"+ke+" .pcoded-navbar").addClass("isCentered");break;case!1:$("#"+ke+" .pcoded-navbar").removeClass("isCentered")}},HandleHorizontalItemAlignment:function(){if("horizontal"===Fe.themelayout){let ut=function(){var rt=$("#"+ke+".pcoded .pcoded-navbar .pcoded-brand");if(!0===Fe.horizontalBrandItem)switch(Fe.horizontalBrandItemAlign){case"left":rt.removeClass("pcoded-right-align"),rt.addClass("pcoded-left-align");break;case"right":rt.removeClass("pcoded-left-align"),rt.addClass("pcoded-right-align")}else rt.hide()},Qe=function(){var rt=$("#"+ke+".pcoded .pcoded-navbar .pcoded-item.pcoded-left-item");if(!0===Fe.horizontalLeftNavItem)switch(Fe.horizontalLeftNavItemAlign){case"left":rt.removeClass("pcoded-right-align"),rt.addClass("pcoded-left-align");break;case"right":rt.removeClass("pcoded-left-align"),rt.addClass("pcoded-right-align")}else rt.hide()},gt=function(){var rt=$("#"+ke+".pcoded .pcoded-navbar .pcoded-item.pcoded-right-item");if(!0===Fe.horizontalRightItem)switch(Fe.horizontalRightItemAlign){case"left":rt.removeClass("pcoded-right-align"),rt.addClass("pcoded-left-align");break;case"right":rt.removeClass("pcoded-left-align"),rt.addClass("pcoded-right-align")}else rt.hide()},Ke=function(){var rt=$("#"+ke+".pcoded .pcoded-navbar .pcoded-search-item");if(!0===Fe.horizontalSearchItem)switch(Fe.horizontalsearchItemAlign){case"left":rt.removeClass("pcoded-right-align"),rt.addClass("pcoded-left-align");break;case"right":rt.removeClass("pcoded-left-align"),rt.addClass("pcoded-right-align")}else rt.hide()};!1===Fe.horizontalNavIsCentered&&(ut(),Qe(),gt(),Ke())}},HandleVerticalNavigationView:function(){switch(Fe.themelayout){case"vertical":var vt=Fe.VerticalNavigationView;$("#"+ke+".pcoded").attr("vnavigation-view",vt);break;case"horizontal":vt=Fe.horizontalNavigationView,$("#"+ke+".pcoded").attr("hnavigation-view",vt)}},HandleVerticalSubMenuItemIconStyle:function(){switch(Fe.themelayout){case"vertical":var vt=Fe.VerticalSubMenuItemIconStyle;$("#"+ke+" .pcoded-navbar .pcoded-hasmenu").attr("subitem-icon",vt);break;case"horizontal":$("#"+ke+" .pcoded-navbar .pcoded-hasmenu").attr("subitem-icon",vt)}},HandleNavbarPosition:function(){var vt=Fe.FixedNavbarPosition,Pt=Fe.FixedHeaderPosition;switch(Fe.themelayout){case"vertical":case"horizontal":1==vt?($("#"+ke+" .pcoded-navbar").attr("pcoded-navbar-position","fixed"),$("#"+ke+" .pcoded-header .pcoded-left-header").attr("pcoded-lheader-position","fixed")):($("#"+ke+" .pcoded-navbar").attr("pcoded-navbar-position","absolute"),$("#"+ke+" .pcoded-header .pcoded-left-header").attr("pcoded-lheader-position","absolute")),1==Pt?($("#"+ke+" .pcoded-header").attr("pcoded-header-position","fixed"),$("#"+ke+" .pcoded-main-container").css("margin-top",$(".pcoded-header").outerHeight())):($("#"+ke+" .pcoded-header").attr("pcoded-header-position","relative"),$("#"+ke+" .pcoded-main-container").css("margin-top","0px"))}},HandleOptionSelectorPanel:function(){$(".selector-toggle > a").on("click",function(){$("#styleSelector").toggleClass("open")})},HandleDropDownIconStyle:function(){var vt=Fe.DropDownIconStyle;switch(Fe.themelayout){case"vertical":case"horizontal":$("#"+ke+" .pcoded-navbar .pcoded-hasmenu").attr("dropdown-icon",vt)}},HandleSubItemBorder:function(){switch(Fe.SubItemBorder){case!0:$("#"+ke+" .pcoded-navbar .pcoded-item").attr("subitem-border","true");break;case!1:$("#"+ke+" .pcoded-navbar .pcoded-item").attr("subitem-border","false")}},HandleBorderStyle:function(){var vt=Fe.ItemBorderStyle;switch(Fe.ItemBorder){case!0:$("#"+ke+" .pcoded-navbar .pcoded-item").attr("item-border-style",vt);break;case!1:$("#"+ke+" .pcoded-navbar .pcoded-item").attr("item-border-style","")}},HandleItemBorder:function(){switch(Fe.ItemBorder){case!0:$("#"+ke+" .pcoded-navbar .pcoded-item").attr("item-border","true");break;case!1:$("#"+ke+" .pcoded-navbar .pcoded-item").attr("item-border","false")}},HandleActiveItemStyle:function(){var vt=Fe.ActiveItemStyle;null!=vt&&""!=vt?$("#"+ke+" .pcoded-navbar").attr("active-item-style",vt):$("#"+ke+" .pcoded-navbar").attr("active-item-style","style0")},Handlemenutype:function(){var vt=Fe.menutype,Pt=Fe.freamtype,At=Fe.NavbarImage,Ct=Fe.ActiveNavbarImage;null!=vt&&""!=vt?$("#"+ke).attr("nav-type",vt):$("#"+ke).attr("nav-type","st1"),null!=Pt&&""!=Pt?$("#"+ke).attr("fream-type",Pt):$("#"+ke).attr("fream-type","theme1"),null!=At&&""!=At?$("#"+ke).attr("sidebar-img",At):$("#"+ke).attr("sidebar-img","false"),null!=Ct&&""!=Ct?$("#"+ke).attr("sidebar-img-type",Ct):$("#"+ke).attr("sidebar-img-type","img1")},Handlelayoutvartype:function(){var vt=Fe.layouttype;null!=vt&&""!=vt?$("#"+ke).attr("layout-type",vt):$("#"+ke).attr("layout-type","light")},HandleThemeBackground:function(){(function vt(){var Qe=Fe.ThemeBackgroundPattern;null!=Qe&&""!=Qe?$("body").attr("themebg-pattern",Qe):$("body").attr("themebg-pattern","theme1")})(),function Pt(){var Qe=Fe.HeaderBackground;null!=Qe&&""!=Qe?$("#"+ke+" .pcoded-header").attr("header-theme",Qe):$("#"+ke+" .pcoded-header").attr("header-theme","theme1")}(),function At(){var Qe=Fe.LHeaderBackground;null!=Qe&&""!=Qe?$("#"+ke+" .pcoded-navigation-label").attr("menu-title-theme",Qe):$("#"+ke+" .pcoded-navigation-label").attr("menu-title-theme","theme4")}(),function Ct(){var Qe=Fe.NavbarBackground;null!=Qe&&""!=Qe?$("#"+ke+" .pcoded-navbar").attr("navbar-theme",Qe):$("#"+ke+" .pcoded-navbar").attr("navbar-theme","theme1")}(),function Qt(){var Qe=Fe.ActiveItemBackground;null!=Qe&&""!=Qe?$("#"+ke+" .pcoded-navbar").attr("active-item-theme",Qe):$("#"+ke+" .pcoded-navbar").attr("active-item-theme","theme1")}(),function ut(){var Qe=Fe.SubItemBackground;null!=Qe&&""!=Qe?$("#"+ke+" .pcoded-navbar").attr("sub-item-theme",Qe):$("#"+ke+" .pcoded-navbar").attr("sub-item-theme","theme1")}()},HandleVerticalLeftHeader:function(){if("vertical"!==Fe.themelayout)return!1;switch(Fe.collapseVerticalLeftHeader){case!0:$("#"+ke+" .pcoded-header").addClass("iscollapsed"),$("#"+ke+" .pcoded-header").removeClass("nocollapsed"),$("#"+ke+".pcoded").addClass("iscollapsed"),$("#"+ke+".pcoded").removeClass("nocollapsed");break;case!1:$("#"+ke+" .pcoded-header").removeClass("iscollapsed"),$("#"+ke+" .pcoded-header").addClass("nocollapsed"),$("#"+ke+".pcoded").removeClass("iscollapsed"),$("#"+ke+".pcoded").addClass("nocollapsed")}},HandleOffcanvasMenu:function(){"vertical"===Fe.themelayout&&"offcanvas"==$("#"+ke).attr("vertical-nav-type")&&$("#"+ke).attr("vertical-layout","wide")},HandleActiveItem:function(){},HandleSubMenuTrigger:function(){switch(Fe.SubMenuTrigger){case"hover":let ut=function(Qe){"hover"==Qe?(Ct=Qe,Pt.off("click").off("mouseenter mouseleave").hover(function(){$(this).addClass("pcoded-trigger")},function(){$(this).removeClass("pcoded-trigger")})):"click"==Qe&&(Ct=Qe,Pt.off("mouseenter mouseleave").off("click").on("click",function(gt){gt.stopPropagation(),0===$(this).closest(".pcoded-submenu").length?$(this).hasClass("pcoded-trigger")?$(this).removeClass("pcoded-trigger"):($(this).closest(".pcoded-inner-navbar").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger")):$(this).hasClass("pcoded-trigger")?$(this).removeClass("pcoded-trigger"):($(this).closest(".pcoded-submenu").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger"))}))};$("#"+ke+" .pcoded-navbar .pcoded-hasmenu").addClass("is-hover");var vt=$(window),Pt=$(".pcoded-submenu > li"),At=vt.width(),Ct="";ut(At>=767?"hover":"click"),vt.resize(function(){var Qe=vt.width();At!=Qe&&(Qe>=767&&"hover"!=Ct?ut("hover"):Qe<767&&"click"!=Ct&&ut("click"),At=Qe)});break;case"click":$("#"+ke+" .pcoded-navbar .pcoded-hasmenu").removeClass("is-hover"),$(".pcoded-submenu > li").on("click",function(Qe){Qe.stopPropagation(),0===$(this).closest(".pcoded-submenu").length?$(this).hasClass("pcoded-trigger")?($(this).removeClass("pcoded-trigger"),$(this).children(".pcoded-submenu").slideUp()):($(".pcoded-hasmenu li.pcoded-trigger").children(".pcoded-submenu").slideUp(),$(this).closest(".pcoded-inner-navbar").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger"),$(this).children(".pcoded-submenu").slideDown()):$(this).hasClass("pcoded-trigger")?($(this).removeClass("pcoded-trigger"),$(this).children(".pcoded-submenu").slideUp()):($(".pcoded-hasmenu li.pcoded-trigger").children(".pcoded-submenu").slideUp(),$(this).closest(".pcoded-submenu").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger"),$(this).children(".pcoded-submenu").slideDown())})}},HandleMenuTrigger:function(){switch(Fe.MenuTrigger){case"hover":let ut=function(Qe){"hover"==Qe?(Ct=Qe,Pt.off("click").off("mouseenter mouseleave").hover(function(){$(this).addClass("pcoded-trigger")},function(){$(this).removeClass("pcoded-trigger")})):"click"==Qe&&(Ct=Qe,Pt.off("mouseenter mouseleave").off("click").on("click",function(){$(this).hasClass("pcoded-trigger")?$(this).removeClass("pcoded-trigger"):($(this).closest(".pcoded-inner-navbar").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger"))}))};$("#"+ke+" .pcoded-navbar").addClass("is-hover");var vt=$(window),Pt=$(".pcoded-item > li"),At=vt.width(),Ct="";ut(At>=767?"hover":"click"),vt.resize(function(){var Qe=vt.width();At!=Qe&&(Qe>=767&&"hover"!=Ct?ut("hover"):Qe<767&&"click"!=Ct&&ut("click"),At=Qe)});break;case"click":$("#"+ke+" .pcoded-navbar").removeClass("is-hover"),$(".pcoded-item > li ").on("click",function(){$(this).hasClass("pcoded-trigger")?($(this).removeClass("pcoded-trigger"),$(this).children(".pcoded-submenu").slideUp()):($("li.pcoded-trigger").children(".pcoded-submenu").slideUp(),$(this).closest(".pcoded-inner-navbar").find("li.pcoded-trigger").removeClass("pcoded-trigger"),$(this).addClass("pcoded-trigger"),$(this).children(".pcoded-submenu").slideDown())})}},HandleMenuOnClick:function(){var vt=$(window)[0].innerWidth;"vertical"===Fe.themelayout?$("#mobile-collapse,.sidebar_toggle a, .pcoded-overlay-box,.menu-toggle a").on("click",function(){$(this).parent().find(".menu-icon").toggleClass("is-clicked");var Pt=$("#"+ke).attr("pcoded-device-type");if("desktop"==Pt){var At=Fe.onToggleVerticalMenu.desktop,Ct=Fe.defaultVerticalMenu.desktop,Qt=$("#"+ke).attr("vertical-nav-type");if(Qt==Ct)$("#"+ke).attr("vertical-nav-type",At);else{if(Qt!=At)return!1;$("#"+ke).attr("vertical-nav-type",Ct)}}else if("tablet"==Pt){var ut=Fe.onToggleVerticalMenu.tablet,Qe=Fe.defaultVerticalMenu.tablet;$("#"+ke).attr("vertical-nav-type")==Qe?$("#"+ke).attr("vertical-nav-type",ut):Qt==At&&$("#"+ke).attr("vertical-nav-type",Qe)}else if("phone"==Pt){var Ke=Fe.onToggleVerticalMenu.phone,rt=Fe.defaultVerticalMenu.phone;$("#"+ke).attr("vertical-nav-type")==rt?$("#"+ke).attr("vertical-nav-type",Ke):Qt==At&&$("#"+ke).attr("vertical-nav-type",rt)}$(".pcoded").addClass("pcoded-toggle-animate"),setTimeout(function(){$(".pcoded").removeClass("pcoded-toggle-animate")},250)}):"horizontal"===Fe.themelayout&&(vt>=768&&vt<=992?$("#"+ke).attr("pcoded-device-type","tablet"):vt<768?$("#"+ke).attr("pcoded-device-type","phone"):$("#"+ke).attr("pcoded-device-type","desktop"))},Handlecomponetheight:function(){function vt(){$(window).height(),$(".pcoded-header").innerHeight(),$(".pcoded-navbar").innerHeight(),$(".pcoded-footer").innerHeight()}vt(),$(window).resize(function(){vt()})},HandleDeviceType:function(){function vt(){var Pt=$(window)[0].innerWidth;if("vertical"===Fe.themelayout)if(Pt>=768&&Pt<=992)$("#"+ke).attr("pcoded-device-type","tablet"),null!=(At=Fe.defaultVerticalMenu.tablet)&&""!=At?$("#"+ke).attr("vertical-nav-type",At):$("#"+ke).attr("vertical-nav-type","collapsed"),null!=(Ct=Fe.verticalMenueffect.tablet)&&""!=At?$("#"+ke).attr("vertical-effect",Ct):$("#"+ke).attr("vertical-effect","shrink");else if(Pt<768)$("#"+ke).attr("pcoded-device-type","phone"),null!=(At=Fe.defaultVerticalMenu.phone)&&""!=At?$("#"+ke).attr("vertical-nav-type",At):$("#"+ke).attr("vertical-nav-type","offcanvas"),null!=(Ct=Fe.verticalMenueffect.phone)&&""!=At?$("#"+ke).attr("vertical-effect",Ct):$("#"+ke).attr("vertical-effect","push");else{var At,Ct;$("#"+ke).attr("pcoded-device-type","desktop"),null!=(At=Fe.defaultVerticalMenu.desktop)&&""!=At?$("#"+ke).attr("vertical-nav-type",At):$("#"+ke).attr("vertical-nav-type","expanded"),null!=(Ct=Fe.verticalMenueffect.desktop)&&""!=At?$("#"+ke).attr("vertical-effect",Ct):$("#"+ke).attr("vertical-effect","shrink")}else"horizontal"===Fe.themelayout&&(Pt>=768&&Pt<=992?$("#"+ke).attr("pcoded-device-type","tablet"):Pt<768?$("#"+ke).attr("pcoded-device-type","phone"):$("#"+ke).attr("pcoded-device-type","desktop"))}vt(),$(window).resize(function(){tw=$(window)[0].innerWidth,dt=$("#"+ke).attr("pcoded-device-type"),("desktop"==dt&&tw<992||"phone"==dt&&tw>768||"tablet"==dt&&tw<768||"tablet"==dt&&tw>992)&&vt()})},HandleMenulayout:function(){if("vertical"===Fe.themelayout)switch(Fe.verticalMenulayout){case"wide":$("#"+ke).attr("vertical-layout","wide");break;case"box":$("#"+ke).attr("vertical-layout","box");break;case"widebox":$("#"+ke).attr("vertical-layout","widebox")}else{if("horizontal"!==Fe.themelayout)return!1;switch(Fe.horizontalMenulayout){case"wide":$("#"+ke).attr("horizontal-layout","wide");break;case"box":$("#"+ke).attr("horizontal-layout","box");break;case"widebox":$("#"+ke).attr("horizontal-layout","widebox")}}},HandlehorizontalMenuplacement:function(){if("horizontal"===Fe.themelayout)switch(Fe.horizontalMenuplacement){case"bottom":$("#"+ke).attr("horizontal-placement","bottom");break;case"top":$("#"+ke).attr("horizontal-placement","top")}else $("#"+ke).removeAttr("horizontal-placement")},HandleverticalMenuplacement:function(){if("vertical"===Fe.themelayout)switch(Fe.verticalMenuplacement){case"left":$("#"+ke).attr("vertical-placement","left");break;case"right":$("#"+ke).attr("vertical-placement","right")}else $("#"+ke).removeAttr("vertical-placement")},Handlethemelayout:function(){switch(Fe.themelayout){case"horizontal":$("#"+ke).attr("theme-layout","horizontal");break;case"vertical":$("#"+ke).attr("theme-layout","vertical")}}});at.PcodedMenuInit()},$(window).scroll(function(){$(this).scrollTop()>56?($('.pcoded[theme-layout="vertical"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("position","fixed"),$('.pcoded[theme-layout="vertical"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("top",0),$('.pcoded[theme-layout="vertical"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("height","100%")):($('.pcoded[theme-layout="vertical"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("position","absolute"),$('.pcoded[theme-layout="vertical"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("top","auto"))}),$(window).scroll(function(){$(this).scrollTop()>56?($('.pcoded[theme-layout="horizontal"][pcoded-device-type="desktop"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("position","fixed"),$('.pcoded[theme-layout="horizontal"][pcoded-device-type="desktop"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("top",0)):($('.pcoded[theme-layout="horizontal"][pcoded-device-type="desktop"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("position","absolute"),$('.pcoded[theme-layout="horizontal"][pcoded-device-type="desktop"] .pcoded-navbar[pcoded-navbar-position="fixed"][pcoded-header-position="relative"]').css("top","auto"))}),$(window).on("load",function(){$('.pcoded[vertical-nav-type="collapsed"] .pcoded-navbar').hover(function(){$(".pcoded").attr("vertical-nav-type","expanded")},function(){$(".pcoded").attr("vertical-nav-type","collapsed")})}),$(document).ready(initPcodedComp()),handlemenutype("st2"),$(document).ready(initPcodedSearchTopPnls()),$(document).ready(function(){$(".theme-loader").animate({opacity:"0"},1e3),setTimeout(function(){$(".theme-loader").remove()},1e3)}),$("#styleSelector").append('<div class="selector-toggle"><a href="javascript:void(0)" class="waves-effect waves-light"></a></div><ul><li><p class="selector-title main-title st-main-title"><b>Material </b>able Customizer</p><span class="text-muted">Live customizer with tons of options</span></li><li><p class="selector-title">Main layouts</p></li><li><div class="theme-color"><a href="#" data-toggle="tooltip" title="light Navbar" class="navbar-theme waves-effect waves-light" navbar-theme="themelight1"><span class="head"></span><span class="cont"></span></a><a href="#" data-toggle="tooltip" title="Dark Navbar" class="navbar-theme waves-effect waves-light" navbar-theme="theme1"><span class="head"></span><span class="cont"></span></a><a href="#" data-toggle="tooltip" title="Navbar with image" class="Layout-type waves-effect waves-light" layout-type="img"><span class="head"></span><span class="cont"></span></a><a href="#" data-toggle="tooltip" title="light Layout" class="Layout-type waves-effect waves-light" layout-type="light"><span class="head"></span><span class="cont"></span></a><a href="#" data-toggle="tooltip" title="Dark Layout" class="Layout-type waves-effect waves-light" layout-type="dark"><span class="head"></span><span class="cont"></span></a><a href="#" data-toggle="tooltip" title="Reset Default" class="Layout-type waves-effect waves-light" layout-type="reset"><i class="fa fa-power-off"></i></a></div></li></ul><div class="style-cont m-t-10"><ul class="nav nav-tabs  tabs" role="tablist"><li class="nav-item waves-effect waves-light"><a class="custom-nav-link active" data-toggle="tab" href="#sel-layout" role="tab">Layouts</a></li><li class="nav-item waves-effect waves-light"><a class="custom-nav-link" data-toggle="tab" href="#sel-sidebar-setting" role="tab">Sidebar Settings</a></li></ul><div class="tab-content tabs"><div class="tab-pane active" id="sel-layout" role="tabpanel"><ul><li class="theme-option"><div class="checkbox-fade fade-in-primary"><label><input type="checkbox" value="false" id="theme-layout" name="vertical-item-border"><span class="cr"><i class="cr-icon fa fa-check txt-success"></i></span><span>Box Layout - with background color</span></label></div></li><li class="theme-option d-none" id="bg-pattern-visiblity"><div class="theme-color"><a href="#" class="themebg-pattern small waves-effect waves-light" themebg-pattern="theme1">&nbsp;</a><a href="#" class="themebg-pattern small waves-effect waves-light" themebg-pattern="theme2">&nbsp;</a><a href="#" class="themebg-pattern small waves-effect waves-light" themebg-pattern="theme3">&nbsp;</a><a href="#" class="themebg-pattern small waves-effect waves-light" themebg-pattern="theme4">&nbsp;</a><a href="#" class="themebg-pattern small waves-effect waves-light" themebg-pattern="theme5">&nbsp;</a><a href="#" class="themebg-pattern small waves-effect waves-light" themebg-pattern="theme6">&nbsp;</a></div></li><li class="theme-option"><div class="checkbox-fade fade-in-primary"><label><input type="checkbox" value="false" id="sidebar-position" name="sidebar-position" checked><span class="cr"><i class="cr-icon fa fa-check txt-success"></i></span><span>Fixed Sidebar Position</span></label></div></li><li class="theme-option"><div class="checkbox-fade fade-in-primary"><label><input type="checkbox" value="false" id="header-position" name="header-position" checked><span class="cr"><i class="cr-icon fa fa-check txt-success"></i></span><span>Fixed Header Position</span></label></div></li></ul></div><div class="tab-pane" id="sel-sidebar-setting" role="tabpanel"><ul><li class="theme-option"><p class="sub-title drp-title">Menu Type</p><div class="form-radio" id="menu-effect"><div class="radio radiofill radio-primary radio-inline" data-toggle="tooltip" title="Color icon"><label><input type="radio" name="radio" value="st1" onclick="handlemenutype(this.value)"><i class="helper"></i><span class="micon st1"><i class="ti-home"></i></span></label></div><div class="radio radiofill radio-success radio-inline" data-toggle="tooltip" title="simple icon"><label><input type="radio" name="radio" value="st2" onclick="handlemenutype(this.value)" checked="true"><i class="helper"></i><span class="micon st2"><i class="ti-home"></i></span></label></div></div></li><li class="theme-option"><p class="sub-title drp-title">SideBar Effect</p><select id="vertical-menu-effect" class="form-control minimal"><option name="vertical-menu-effect" value="shrink">shrink</option><option name="vertical-menu-effect" value="overlay">overlay</option><option name="vertical-menu-effect" value="push">Push</option></select></li><li class="theme-option"><p class="sub-title drp-title">Hide/Show Border</p><select id="vertical-border-style" class="form-control minimal"><option name="vertical-border-style" value="solid">Style 1</option><option name="vertical-border-style" value="dotted">Style 2</option><option name="vertical-border-style" value="dashed">Style 3</option><option name="vertical-border-style" value="none">No Border</option></select></li><li class="theme-option"><p class="sub-title drp-title">Drop-Down Icon</p><select id="vertical-dropdown-icon" class="form-control minimal"><option name="vertical-dropdown-icon" value="style1">Style 1</option><option name="vertical-dropdown-icon" value="style2">style 2</option><option name="vertical-dropdown-icon" value="style3">style 3</option></select></li><li class="theme-option"><p class="sub-title drp-title">Sub Menu Drop-down Icon</p><select id="vertical-subitem-icon" class="form-control minimal"><option name="vertical-subitem-icon" value="style1">Style 1</option><option name="vertical-subitem-icon" value="style2">style 2</option><option name="vertical-subitem-icon" value="style3">style 3</option><option name="vertical-subitem-icon" value="style4">style 4</option><option name="vertical-subitem-icon" value="style5">style 5</option><option name="vertical-subitem-icon" value="style6">style 6</option><option name="vertical-subitem-icon" value="style7">style 7</option></select></li></ul></div><ul><li><p class="selector-title">Header color</p></li><li class="theme-option"><div class="theme-color"><a href="#" class="header-theme waves-effect waves-light" header-theme="theme1" active-item-color="theme1"><span class="head"></span><span class="cont"></span></a><a href="#" class="header-theme waves-effect waves-light" header-theme="theme2" active-item-color="theme2"><span class="head"></span><span class="cont"></span></a><a href="#" class="header-theme waves-effect waves-light" header-theme="theme3" active-item-color="theme3"><span class="head"></span><span class="cont"></span></a><a href="#" class="header-theme waves-effect waves-light" header-theme="theme4" active-item-color="theme4"><span class="head"></span><span class="cont"></span></a><a href="#" class="header-theme waves-effect waves-light" header-theme="theme5" active-item-color="theme5"><span class="head"></span><span class="cont"></span></a><a href="#" class="header-theme waves-effect waves-light" header-theme="theme6" active-item-color="theme6"><span class="head"></span><span class="cont"></span></a></div></li><li><p class="selector-title">Navbar image</p></li><li class="theme-option"><div class="theme-color"><a href="#" class="navbg-pattern image waves-effect waves-light" navbg-pattern="img1">&nbsp;</a><a href="#" class="navbg-pattern image waves-effect waves-light" navbg-pattern="img2">&nbsp;</a><a href="#" class="navbg-pattern image waves-effect waves-light" navbg-pattern="img3">&nbsp;</a><a href="#" class="navbg-pattern image waves-effect waves-light" navbg-pattern="img4">&nbsp;</a><a href="#" class="navbg-pattern image waves-effect waves-light" navbg-pattern="img5">&nbsp;</a><a href="#" class="navbg-pattern image waves-effect waves-light" navbg-pattern="img6">&nbsp;</a></div></li><li><p class="selector-title">Active link color</p></li><li class="theme-option"><div class="theme-color"><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme1">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme2">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme3">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme4">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme5">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme6">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme7">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme8">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme9">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme10">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme11">&nbsp;</a><a href="#" class="active-item-theme small waves-effect waves-light" active-item-theme="theme12">&nbsp;</a></div></li><li><p class="selector-title">Menu Caption Color</p></li><li class="theme-option"><div class="theme-color"><a href="#" class="leftheader-theme small waves-effect waves-light" lheader-theme="theme1">&nbsp;</a><a href="#" class="leftheader-theme small waves-effect waves-light" lheader-theme="theme2">&nbsp;</a><a href="#" class="leftheader-theme small waves-effect waves-light" lheader-theme="theme3">&nbsp;</a><a href="#" class="leftheader-theme small waves-effect waves-light" lheader-theme="theme4">&nbsp;</a><a href="#" class="leftheader-theme small waves-effect waves-light" lheader-theme="theme5">&nbsp;</a><a href="#" class="leftheader-theme small waves-effect waves-light" lheader-theme="theme6">&nbsp;</a><a href="#" class="leftheader-theme small waves-effect waves-light" lheader-theme="theme7">&nbsp;</a><a href="#" class="leftheader-theme small waves-effect waves-light" lheader-theme="theme8">&nbsp;</a><a href="#" class="leftheader-theme small waves-effect waves-light" lheader-theme="theme9">&nbsp;</a></div></li></ul></div></div><ul><li><a href="#" class="btn btn-success btn-block m-r-15 m-t-10 m-b-10 waves-effect waves-light">Profile</a><a href="http://html.phoenixcoded.net/mega-able/doc" target="_blank" class="btn btn-primary btn-block m-r-15 m-t-5 m-b-10 waves-effect waves-light">Online Documentation</a></li><li class="text-center"><span class="text-center f-18 m-t-15 m-b-15 d-block">Thank you for sharing !</span><a href="https://www.facebook.com/phoenixcoded" target="_blank" class="btn btn-facebook soc-icon m-b-20 waves-effect waves-light"><i class="fa fa-facebook"></i></a><a href="https://twitter.com/phoenixcoded" target="_blank" class="btn btn-twitter soc-icon m-l-20 m-b-20 waves-effect waves-light"><i class="fa fa-twitter"></i></a></li></ul>'),$('<form action="#"><select /></form>').appendTo(".mainav"),$("<option />",{selected:"selected",value:"",text:"MENU"}).appendTo(".mainav select"),$(".mainav a").each(function(){var v=$(this);$(v).parents("ul ul ul").length>=1?$("<option />",{value:v.attr("href"),text:"- - - "+v.text()}).appendTo(".mainav select"):$(v).parents("ul ul").length>=1?$("<option />",{value:v.attr("href"),text:"- - "+v.text()}).appendTo(".mainav select"):$(v).parents("ul").length>=1?$("<option />",{value:v.attr("href"),text:""+v.text()}).appendTo(".mainav select"):$("<option />",{value:v.attr("href"),text:v.text()}).appendTo(".mainav select")}),$(".mainav select").change(function(){"#"!==$(this).find("option:selected").val()&&(window.location=$(this).find("option:selected").val())}),$(document).ready(function(){$("#basicTree").jstree({core:{themes:{responsive:!1}},types:{default:{icon:"icofont icofont-folder"},file:{icon:"icofont icofont-file-alt"}},plugins:["types"]}),$("#checkTree").jstree({core:{themes:{responsive:!1}},types:{default:{icon:"icofont icofont-folder"},file:{icon:"icofont icofont-file-alt"}},plugins:["types","checkbox"]}),$("#dragTree").jstree({core:{check_callback:!0,themes:{responsive:!1}},types:{default:{icon:"icofont icofont-folder"},file:{icon:"icofont icofont-file-alt"}},plugins:["types","dnd"]}),$("#ajaxTree").jstree({core:{check_callback:!0,themes:{responsive:!1},data:{url:function(v){return"#"===v.id?"assets/plugins/jstree/ajax_roots.json":"assets/plugins/jstree/ajax_children.json"},data:function(v){return{id:v.id}}}},types:{default:{icon:"icofont icofont-folder"},file:{icon:"icofont icofont-file-alt"}},plugins:["contextmenu","dnd","search","state","types","wholerow"]})}),function(v){"use strict";"function"==typeof define&&define.amd?define(["jquery"],v):"undefined"!=typeof module&&module.exports?module.exports=v(require("jquery")):v(jQuery)}(function(v,ke){"use strict";if(!v.jstree){var Le=0,Fe=!1,at=!1,vt=!1,Pt=[],At=v("script:last").attr("src"),Ct=window.document;v.jstree={version:"3.3.4",defaults:{plugins:[]},plugins:{},path:At&&-1!==At.indexOf("/")?At.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},v.jstree.create=function(T,j){var M=new v.jstree.core(++Le),R=j;return j=v.extend(!0,{},v.jstree.defaults,j),R&&R.plugins&&(j.plugins=R.plugins),v.each(j.plugins,function(u,g){"core"!==u&&(M=M.plugin(g,j[g]))}),v(T).data("jstree",M),M.init(T,j),M},v.jstree.destroy=function(){v(".jstree:jstree").jstree("destroy"),v(Ct).off(".jstree")},v.jstree.core=function(T){this._id=T,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},v.jstree.reference=function(T){var j=null,M=null;if(!T||!T.id||T.tagName&&T.nodeType||(T=T.id),!M||!M.length)try{M=v(T)}catch(R){}if(!M||!M.length)try{M=v("#"+T.replace(v.jstree.idregex,"\\$&"))}catch(R){}return M&&M.length&&(M=M.closest(".jstree")).length&&(M=M.data("jstree"))?j=M:v(".jstree").each(function(){var R=v(this).data("jstree");return R&&R._model.data[T]?(j=R,!1):void 0}),j},v.fn.jstree=function(T){var j="string"==typeof T,M=Array.prototype.slice.call(arguments,1),R=null;return!(!0===T&&!this.length)&&(this.each(function(){var u=v.jstree.reference(this),g=j&&u?u[T]:null;return R=j&&g?g.apply(u,M):null,u||j||T!==ke&&!v.isPlainObject(T)||v.jstree.create(this,T),(u&&!j||!0===T)&&(R=u||!1),(null===R||R===ke)&&void 0}),null!==R&&R!==ke?R:this)},v.expr.pseudos.jstree=v.expr.createPseudo(function(T){return function(j){return v(j).hasClass("jstree")&&v(j).data("jstree")!==ke}}),v.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:v.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},v.jstree.core.prototype={plugin:function(T,j){var M=v.jstree.plugins[T];return M?(this._data[T]={},M.prototype=this,new M(j,this)):this},init:function(T,j){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[v.jstree.root]={id:v.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=v(T).addClass("jstree jstree-"+this._id),this.settings=j,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(v.jstree.root)},destroy:function(T){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(j){}T||this.element.empty(),this.teardown()},_create_prototype_node:function(){var j,M,T=Ct.createElement("LI");return T.setAttribute("role","treeitem"),(j=Ct.createElement("I")).className="jstree-icon jstree-ocl",j.setAttribute("role","presentation"),T.appendChild(j),(j=Ct.createElement("A")).className="jstree-anchor",j.setAttribute("href","#"),j.setAttribute("tabindex","-1"),(M=Ct.createElement("I")).className="jstree-icon jstree-themeicon",M.setAttribute("role","presentation"),j.appendChild(M),T.appendChild(j),j=M=null,T},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var T="",j=null,M=0;this.element.on("dblclick.jstree",function(R){if(R.target.tagName&&"input"===R.target.tagName.toLowerCase())return!0;if(Ct.selection&&Ct.selection.empty)Ct.selection.empty();else if(window.getSelection){var u=window.getSelection();try{u.removeAllRanges(),u.collapse()}catch(g){}}}).on("mousedown.jstree",v.proxy(function(R){R.target===this.element[0]&&(R.preventDefault(),M=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(R){R.preventDefault()}).on("click.jstree",".jstree-ocl",v.proxy(function(R){this.toggle_node(R.target)},this)).on("dblclick.jstree",".jstree-anchor",v.proxy(function(R){return!(!R.target.tagName||"input"!==R.target.tagName.toLowerCase())||void(this.settings.core.dblclick_toggle&&this.toggle_node(R.target))},this)).on("click.jstree",".jstree-anchor",v.proxy(function(R){R.preventDefault(),R.currentTarget!==Ct.activeElement&&v(R.currentTarget).focus(),this.activate_node(R.currentTarget,R)},this)).on("keydown.jstree",".jstree-anchor",v.proxy(function(R){if(R.target.tagName&&"input"===R.target.tagName.toLowerCase()||32!==R.which&&13!==R.which&&(R.shiftKey||R.ctrlKey||R.altKey||R.metaKey))return!0;var u=null;switch(this._data.core.rtl&&(37===R.which?R.which=39:39===R.which&&(R.which=37)),R.which){case 32:R.ctrlKey&&(R.type="click",v(R.currentTarget).trigger(R));break;case 13:R.type="click",v(R.currentTarget).trigger(R);break;case 37:R.preventDefault(),this.is_open(R.currentTarget)?this.close_node(R.currentTarget):(u=this.get_parent(R.currentTarget))&&u.id!==v.jstree.root&&this.get_node(u,!0).children(".jstree-anchor").focus();break;case 38:R.preventDefault(),(u=this.get_prev_dom(R.currentTarget))&&u.length&&u.children(".jstree-anchor").focus();break;case 39:R.preventDefault(),this.is_closed(R.currentTarget)?this.open_node(R.currentTarget,function(g){this.get_node(g,!0).children(".jstree-anchor").focus()}):this.is_open(R.currentTarget)&&(u=this.get_node(R.currentTarget,!0).children(".jstree-children")[0])&&v(this._firstChild(u)).children(".jstree-anchor").focus();break;case 40:R.preventDefault(),(u=this.get_next_dom(R.currentTarget))&&u.length&&u.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:R.preventDefault(),(u=this._firstChild(this.get_container_ul()[0]))&&v(u).children(".jstree-anchor").filter(":visible").focus();break;case 35:R.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus();break;case 113:R.preventDefault(),this.edit(R.currentTarget)}},this)).on("load_node.jstree",v.proxy(function(R,u){u.status&&(u.node.id!==v.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(v.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var f,w,g=[];for(f=0,w=this._data.core.selected.length;w>f;f++)g=g.concat(this._model.data[this._data.core.selected[f]].parents);for(f=0,w=(g=v.vakata.array_unique(g)).length;w>f;f++)this.open_node(g[f],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",v.proxy(function(R){if(R.target.tagName&&"input"===R.target.tagName.toLowerCase())return!0;j&&clearTimeout(j),j=setTimeout(function(){T=""},500);var u=String.fromCharCode(R.which).toLowerCase(),g=this.element.find(".jstree-anchor").filter(":visible"),f=g.index(Ct.activeElement)||0,w=!1;(T+=u).length>1&&(g.slice(f).each(v.proxy(function(k,L){return 0===v(L).text().toLowerCase().indexOf(T)?(v(L).focus(),w=!0,!1):void 0},this)),w||(g.slice(0,f).each(v.proxy(function(k,L){return 0===v(L).text().toLowerCase().indexOf(T)?(v(L).focus(),w=!0,!1):void 0},this)),w))||new RegExp("^"+u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(T)&&(g.slice(f+1).each(v.proxy(function(k,L){return v(L).text().toLowerCase().charAt(0)===u?(v(L).focus(),w=!0,!1):void 0},this)),w||g.slice(0,f+1).each(v.proxy(function(k,L){return v(L).text().toLowerCase().charAt(0)===u?(v(L).focus(),w=!0,!1):void 0},this)))},this)).on("init.jstree",v.proxy(function(){var R=this.settings.core.themes;this._data.core.themes.dots=R.dots,this._data.core.themes.stripes=R.stripes,this._data.core.themes.icons=R.icons,this._data.core.themes.ellipsis=R.ellipsis,this.set_theme(R.name||"default",R.url),this.set_theme_variant(R.variant)},this)).on("loading.jstree",v.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",v.proxy(function(R){this._data.core.focused=null,v(R.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",v.proxy(function(R){var u=this.get_node(R.currentTarget);u&&u.id&&(this._data.core.focused=u.id),this.element.find(".jstree-hovered").not(R.currentTarget).mouseleave(),v(R.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",v.proxy(function(){if(+new Date-M>500&&!this._data.core.focused){M=0;var R=this.get_node(this.element.attr("aria-activedescendant"),!0);R&&R.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",v.proxy(function(R){this.hover_node(R.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",v.proxy(function(R){this.dehover_node(R.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),v(Ct).off(".jstree-"+this._id)},trigger:function(T,j){j||(j={}),j.instance=this,this.element.triggerHandler(T.replace(".jstree","")+".jstree",j)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(T){var j=this.settings.core.strings;return v.isFunction(j)?j.call(this,T):j&&j[T]?j[T]:T},_firstChild:function(T){for(T=T?T.firstChild:null;null!==T&&1!==T.nodeType;)T=T.nextSibling;return T},_nextSibling:function(T){for(T=T?T.nextSibling:null;null!==T&&1!==T.nodeType;)T=T.nextSibling;return T},_previousSibling:function(T){for(T=T?T.previousSibling:null;null!==T&&1!==T.nodeType;)T=T.previousSibling;return T},get_node:function(T,j){var M;T&&T.id&&(T=T.id);try{if(this._model.data[T])T=this._model.data[T];else if("string"==typeof T&&this._model.data[T.replace(/^#/,"")])T=this._model.data[T.replace(/^#/,"")];else if("string"==typeof T&&(M=v("#"+T.replace(v.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[M.closest(".jstree-node").attr("id")])T=this._model.data[M.closest(".jstree-node").attr("id")];else if((M=v(T,this.element)).length&&this._model.data[M.closest(".jstree-node").attr("id")])T=this._model.data[M.closest(".jstree-node").attr("id")];else{if(!(M=v(T,this.element)).length||!M.hasClass("jstree"))return!1;T=this._model.data[v.jstree.root]}return j&&(T=T.id===v.jstree.root?this.element:v("#"+T.id.replace(v.jstree.idregex,"\\$&"),this.element)),T}catch(R){return!1}},get_path:function(T,j,M){if(!(T=T.parents?T:this.get_node(T))||T.id===v.jstree.root||!T.parents)return!1;var R,u,g=[];for(g.push(M?T.id:T.text),R=0,u=T.parents.length;u>R;R++)g.push(M?T.parents[R]:this.get_text(T.parents[R]));return g=g.reverse().slice(1),j?g.join(j):g},get_next_dom:function(T,j){var M;if((T=this.get_node(T,!0))[0]===this.element[0]){for(M=this._firstChild(this.get_container_ul()[0]);M&&0===M.offsetHeight;)M=this._nextSibling(M);return!!M&&v(M)}if(!T||!T.length)return!1;if(j){M=T[0];do{M=this._nextSibling(M)}while(M&&0===M.offsetHeight);return!!M&&v(M)}if(T.hasClass("jstree-open")){for(M=this._firstChild(T.children(".jstree-children")[0]);M&&0===M.offsetHeight;)M=this._nextSibling(M);if(null!==M)return v(M)}M=T[0];do{M=this._nextSibling(M)}while(M&&0===M.offsetHeight);return null!==M?v(M):T.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(T,j){var M;if((T=this.get_node(T,!0))[0]===this.element[0]){for(M=this.get_container_ul()[0].lastChild;M&&0===M.offsetHeight;)M=this._previousSibling(M);return!!M&&v(M)}if(!T||!T.length)return!1;if(j){M=T[0];do{M=this._previousSibling(M)}while(M&&0===M.offsetHeight);return!!M&&v(M)}M=T[0];do{M=this._previousSibling(M)}while(M&&0===M.offsetHeight);if(null!==M){for(T=v(M);T.hasClass("jstree-open");)T=T.children(".jstree-children").first().children(".jstree-node:visible:last");return T}return!(!(M=T[0].parentNode.parentNode)||!M.className||-1===M.className.indexOf("jstree-node"))&&v(M)},get_parent:function(T){return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&T.parent},get_children_dom:function(T){return(T=this.get_node(T,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!T||!T.length)&&T.children(".jstree-children").children(".jstree-node")},is_parent:function(T){return(T=this.get_node(T))&&(!1===T.state.loaded||T.children.length>0)},is_loaded:function(T){return(T=this.get_node(T))&&T.state.loaded},is_loading:function(T){return(T=this.get_node(T))&&T.state&&T.state.loading},is_open:function(T){return(T=this.get_node(T))&&T.state.opened},is_closed:function(T){return(T=this.get_node(T))&&this.is_parent(T)&&!T.state.opened},is_leaf:function(T){return!this.is_parent(T)},load_node:function(T,j){var M,R,u,g,f;if(v.isArray(T))return this._load_nodes(T.slice(),j),!0;if(!(T=this.get_node(T)))return j&&j.call(this,T,!1),!1;if(T.state.loaded){for(T.state.loaded=!1,u=0,g=T.parents.length;g>u;u++)this._model.data[T.parents[u]].children_d=v.vakata.array_filter(this._model.data[T.parents[u]].children_d,function(w){return-1===v.inArray(w,T.children_d)});for(M=0,R=T.children_d.length;R>M;M++)this._model.data[T.children_d[M]].state.selected&&(f=!0),delete this._model.data[T.children_d[M]];f&&(this._data.core.selected=v.vakata.array_filter(this._data.core.selected,function(w){return-1===v.inArray(w,T.children_d)})),T.children=[],T.children_d=[],f&&this.trigger("changed",{action:"load_node",node:T,selected:this._data.core.selected})}return T.state.failed=!1,T.state.loading=!0,this.get_node(T,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(T,v.proxy(function(w){(T=this._model.data[T.id]).state.loading=!1,T.state.loaded=w,T.state.failed=!T.state.loaded;var N,k=this.get_node(T,!0),L=0,H=this._model.data,q=!1;for(L=0,N=T.children.length;N>L;L++)if(H[T.children[L]]&&!H[T.children[L]].state.hidden){q=!0;break}T.state.loaded&&k&&k.length&&(k.removeClass("jstree-closed jstree-open jstree-leaf"),q?"#"!==T.id&&k.addClass(T.state.opened?"jstree-open":"jstree-closed"):k.addClass("jstree-leaf")),k.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:T,status:w}),j&&j.call(this,T,w)},this)),!0},_load_nodes:function(T,j,M,R){var w,k,u=!0,g=function(){this._load_nodes(T,j,!0)},f=this._model.data,L=[];for(w=0,k=T.length;k>w;w++)f[T[w]]&&(!f[T[w]].state.loaded&&!f[T[w]].state.failed||!M&&R)&&(this.is_loading(T[w])||this.load_node(T[w],g),u=!1);if(u){for(w=0,k=T.length;k>w;w++)f[T[w]]&&f[T[w]].state.loaded&&L.push(T[w]);j&&!j.done&&(j.call(this,L),j.done=!0)}},load_all:function(T,j){if(T||(T=v.jstree.root),!(T=this.get_node(T)))return!1;var g,f,M=[],R=this._model.data,u=R[T.id].children_d;for(T.state&&!T.state.loaded&&M.push(T.id),g=0,f=u.length;f>g;g++)R[u[g]]&&R[u[g]].state&&!R[u[g]].state.loaded&&M.push(u[g]);M.length?this._load_nodes(M,function(){this.load_all(T,j)}):(j&&j.call(this,T),this.trigger("load_all",{node:T}))},_load_node:function(T,j){var R,M=this.settings.core.data,u=function(){return 3!==this.nodeType&&8!==this.nodeType};return M?v.isFunction(M)?M.call(this,T,v.proxy(function(g){!1===g?j.call(this,!1):this["string"==typeof g?"_append_html_data":"_append_json_data"](T,"string"==typeof g?v(v.parseHTML(g)).filter(u):g,function(f){j.call(this,f)})},this)):"object"==typeof M?M.url?(M=v.extend(!0,{},M),v.isFunction(M.url)&&(M.url=M.url.call(this,T)),v.isFunction(M.data)&&(M.data=M.data.call(this,T)),v.ajax(M).done(v.proxy(function(g,f,w){var k=w.getResponseHeader("Content-Type");return k&&-1!==k.indexOf("json")||"object"==typeof g?this._append_json_data(T,g,function(L){j.call(this,L)}):k&&-1!==k.indexOf("html")||"string"==typeof g?this._append_html_data(T,v(v.parseHTML(g)).filter(u),function(L){j.call(this,L)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:T.id,xhr:w})},this.settings.core.error.call(this,this._data.core.last_error),j.call(this,!1))},this)).fail(v.proxy(function(g){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:T.id,xhr:g})},j.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(R=v.isArray(M)?v.extend(!0,[],M):v.isPlainObject(M)?v.extend(!0,{},M):M,T.id===v.jstree.root?this._append_json_data(T,R,function(g){j.call(this,g)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:T.id})},this.settings.core.error.call(this,this._data.core.last_error),j.call(this,!1))):"string"==typeof M?T.id===v.jstree.root?this._append_html_data(T,v(v.parseHTML(M)).filter(u),function(g){j.call(this,g)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:T.id})},this.settings.core.error.call(this,this._data.core.last_error),j.call(this,!1)):j.call(this,!1):T.id===v.jstree.root?this._append_html_data(T,this._data.core.original_container_html.clone(!0),function(g){j.call(this,g)}):j.call(this,!1)},_node_changed:function(T){(T=this.get_node(T))&&this._model.changed.push(T.id)},_append_html_data:function(T,j,M){(T=this.get_node(T)).children=[],T.children_d=[];var N,H,q,R=j.is("ul")?j.children():j,u=T.id,g=[],f=[],w=this._model.data,k=w[u],L=this._data.core.selected.length;for(R.each(v.proxy(function(re,Z){(N=this._parse_model_from_html(v(Z),u,k.parents.concat()))&&(g.push(N),f.push(N),w[N].children_d.length&&(f=f.concat(w[N].children_d)))},this)),k.children=g,k.children_d=f,H=0,q=k.parents.length;q>H;H++)w[k.parents[H]].children_d=w[k.parents[H]].children_d.concat(f);this.trigger("model",{nodes:f,parent:u}),u!==v.jstree.root?(this._node_changed(u),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==L&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),M.call(this,!0)},_append_json_data:function(T,j,M,R){if(null!==this.element){(T=this.get_node(T)).children=[],T.children_d=[],j.d&&"string"==typeof(j=j.d)&&(j=JSON.parse(j)),v.isArray(j)||(j=[j]);var u=null,g={df:this._model.default_state,dat:j,par:T.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},f=function(k,L){k.data&&(k=k.data);var F,Te,ht,tt,N=k.dat,H=k.par,q=[],re=[],Z=[],de=k.df,pe=k.t_id,ve=k.t_cnt,We=k.m,Ie=We[H],Ne=k.sel,zt=function(De,Q,ne){ne=ne?ne.concat():[],Q&&ne.unshift(Q);var J,we,Ge,Pe,ee=De.id.toString(),Ve={id:ee,text:De.text||"",icon:De.icon===L||De.icon,parent:Q,parents:ne,children:De.children||[],children_d:De.children_d||[],data:De.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(J in de)de.hasOwnProperty(J)&&(Ve.state[J]=de[J]);if(De&&De.data&&De.data.jstree&&De.data.jstree.icon&&(Ve.icon=De.data.jstree.icon),(Ve.icon===L||null===Ve.icon||""===Ve.icon)&&(Ve.icon=!0),De&&De.data&&(Ve.data=De.data,De.data.jstree))for(J in De.data.jstree)De.data.jstree.hasOwnProperty(J)&&(Ve.state[J]=De.data.jstree[J]);if(De&&"object"==typeof De.state)for(J in De.state)De.state.hasOwnProperty(J)&&(Ve.state[J]=De.state[J]);if(De&&"object"==typeof De.li_attr)for(J in De.li_attr)De.li_attr.hasOwnProperty(J)&&(Ve.li_attr[J]=De.li_attr[J]);if(Ve.li_attr.id||(Ve.li_attr.id=ee),De&&"object"==typeof De.a_attr)for(J in De.a_attr)De.a_attr.hasOwnProperty(J)&&(Ve.a_attr[J]=De.a_attr[J]);for(De&&De.children&&!0===De.children&&(Ve.state.loaded=!1,Ve.children=[],Ve.children_d=[]),We[Ve.id]=Ve,J=0,we=Ve.children.length;we>J;J++)Ge=zt(We[Ve.children[J]],Ve.id,ne),Pe=We[Ge],Ve.children_d.push(Ge),Pe.children_d.length&&(Ve.children_d=Ve.children_d.concat(Pe.children_d));return delete De.data,delete De.children,We[Ve.id].original=De,Ve.state.selected&&Z.push(Ve.id),Ve.id},ft=function(De,Q,ne){ne=ne?ne.concat():[],Q&&ne.unshift(Q);var J,we,Ge,Pe,Ve,ee=!1;do{ee="j"+pe+"_"+ ++ve}while(We[ee]);for(J in Ve={id:!1,text:"string"==typeof De?De:"",icon:"object"!=typeof De||De.icon===L||De.icon,parent:Q,parents:ne,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},de)de.hasOwnProperty(J)&&(Ve.state[J]=de[J]);if(De&&De.id&&(Ve.id=De.id.toString()),De&&De.text&&(Ve.text=De.text),De&&De.data&&De.data.jstree&&De.data.jstree.icon&&(Ve.icon=De.data.jstree.icon),(Ve.icon===L||null===Ve.icon||""===Ve.icon)&&(Ve.icon=!0),De&&De.data&&(Ve.data=De.data,De.data.jstree))for(J in De.data.jstree)De.data.jstree.hasOwnProperty(J)&&(Ve.state[J]=De.data.jstree[J]);if(De&&"object"==typeof De.state)for(J in De.state)De.state.hasOwnProperty(J)&&(Ve.state[J]=De.state[J]);if(De&&"object"==typeof De.li_attr)for(J in De.li_attr)De.li_attr.hasOwnProperty(J)&&(Ve.li_attr[J]=De.li_attr[J]);if(Ve.li_attr.id&&!Ve.id&&(Ve.id=Ve.li_attr.id.toString()),Ve.id||(Ve.id=ee),Ve.li_attr.id||(Ve.li_attr.id=Ve.id),De&&"object"==typeof De.a_attr)for(J in De.a_attr)De.a_attr.hasOwnProperty(J)&&(Ve.a_attr[J]=De.a_attr[J]);if(De&&De.children&&De.children.length){for(J=0,we=De.children.length;we>J;J++)Ge=ft(De.children[J],Ve.id,ne),Pe=We[Ge],Ve.children.push(Ge),Pe.children_d.length&&(Ve.children_d=Ve.children_d.concat(Pe.children_d));Ve.children_d=Ve.children_d.concat(Ve.children)}return De&&De.children&&!0===De.children&&(Ve.state.loaded=!1,Ve.children=[],Ve.children_d=[]),delete De.data,delete De.children,Ve.original=De,We[Ve.id]=Ve,Ve.state.selected&&Z.push(Ve.id),Ve.id};if(N.length&&N[0].id!==L&&N[0].parent!==L){for(Te=0,ht=N.length;ht>Te;Te++)N[Te].children||(N[Te].children=[]),We[N[Te].id.toString()]=N[Te];for(Te=0,ht=N.length;ht>Te;Te++)We[N[Te].parent.toString()].children.push(N[Te].id.toString()),Ie.children_d.push(N[Te].id.toString());for(Te=0,ht=Ie.children.length;ht>Te;Te++)F=zt(We[Ie.children[Te]],H,Ie.parents.concat()),re.push(F),We[F].children_d.length&&(re=re.concat(We[F].children_d));for(Te=0,ht=Ie.parents.length;ht>Te;Te++)We[Ie.parents[Te]].children_d=We[Ie.parents[Te]].children_d.concat(re);tt={cnt:ve,mod:We,sel:Ne,par:H,dpc:re,add:Z}}else{for(Te=0,ht=N.length;ht>Te;Te++)(F=ft(N[Te],H,Ie.parents.concat()))&&(q.push(F),re.push(F),We[F].children_d.length&&(re=re.concat(We[F].children_d)));for(Ie.children=q,Ie.children_d=re,Te=0,ht=Ie.parents.length;ht>Te;Te++)We[Ie.parents[Te]].children_d=We[Ie.parents[Te]].children_d.concat(re);tt={cnt:ve,mod:We,sel:Ne,par:H,dpc:re,add:Z}}return"undefined"!=typeof window&&void 0!==window.document?tt:void postMessage(tt)},w=function(k,L){if(null!==this.element){this._cnt=k.cnt;var N,H=this._model.data;for(N in H)H.hasOwnProperty(N)&&H[N].state&&H[N].state.loading&&k.mod[N]&&(k.mod[N].state.loading=!0);if(this._model.data=k.mod,L){var q,re=k.add,Z=k.sel,de=this._data.core.selected.slice();if(H=this._model.data,Z.length!==de.length||v.vakata.array_unique(Z.concat(de)).length!==Z.length){for(N=0,q=Z.length;q>N;N++)-1===v.inArray(Z[N],re)&&-1===v.inArray(Z[N],de)&&(H[Z[N]].state.selected=!1);for(N=0,q=de.length;q>N;N++)-1===v.inArray(de[N],Z)&&(H[de[N]].state.selected=!0)}}k.add.length&&(this._data.core.selected=this._data.core.selected.concat(k.add)),this.trigger("model",{nodes:k.dpc,parent:k.par}),k.par!==v.jstree.root?(this._node_changed(k.par),this.redraw()):this.redraw(!0),k.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),M.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+f.toString()],{type:"text/javascript"}))),!this._data.core.working||R?(this._data.core.working=!0,(u=new window.Worker(this._wrk)).onmessage=v.proxy(function(k){w.call(this,k.data,!0);try{u.terminate(),u=null}catch(L){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),g.par?u.postMessage(g):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([T,j,M,!0])}catch(k){w.call(this,f(g),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else w.call(this,f(g),!1)}},_parse_model_from_html:function(T,j,M){M=M?[].concat(M):[],j&&M.unshift(j);var R,u,w,k,L,g=this._model.data,f={id:!1,text:!1,icon:!0,parent:j,parents:M,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(w in this._model.default_state)this._model.default_state.hasOwnProperty(w)&&(f.state[w]=this._model.default_state[w]);if(k=v.vakata.attributes(T,!0),v.each(k,function(N,H){return!(H=v.trim(H)).length||(f.li_attr[N]=H,void("id"===N&&(f.id=H.toString())))}),(k=T.children("a").first()).length&&(k=v.vakata.attributes(k,!0),v.each(k,function(N,H){(H=v.trim(H)).length&&(f.a_attr[N]=H)})),(k=T.children("a").first().length?T.children("a").first().clone():T.clone()).children("ins, i, ul").remove(),k=k.html(),k=v("<div />").html(k),f.text=this.settings.core.force_text?k.text():k.html(),k=T.data(),f.data=k?v.extend(!0,{},k):null,f.state.opened=T.hasClass("jstree-open"),f.state.selected=T.children("a").hasClass("jstree-clicked"),f.state.disabled=T.children("a").hasClass("jstree-disabled"),f.data&&f.data.jstree)for(w in f.data.jstree)f.data.jstree.hasOwnProperty(w)&&(f.state[w]=f.data.jstree[w]);(k=T.children("a").children(".jstree-themeicon")).length&&(f.icon=!k.hasClass("jstree-themeicon-hidden")&&k.attr("rel")),f.state.icon!==ke&&(f.icon=f.state.icon),(f.icon===ke||null===f.icon||""===f.icon)&&(f.icon=!0),k=T.children("ul").children("li");do{L="j"+this._id+"_"+ ++this._cnt}while(g[L]);return f.id=f.li_attr.id?f.li_attr.id.toString():L,k.length?(k.each(v.proxy(function(N,H){R=this._parse_model_from_html(v(H),f.id,M),u=this._model.data[R],f.children.push(R),u.children_d.length&&(f.children_d=f.children_d.concat(u.children_d))},this)),f.children_d=f.children_d.concat(f.children)):T.hasClass("jstree-closed")&&(f.state.loaded=!1),f.li_attr.class&&(f.li_attr.class=f.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),f.a_attr.class&&(f.a_attr.class=f.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),g[f.id]=f,f.state.selected&&this._data.core.selected.push(f.id),f.id},_parse_model_from_flat_json:function(T,j,M){M=M?M.concat():[],j&&M.unshift(j);var f,w,k,L,R=T.id.toString(),u=this._model.data,g=this._model.default_state,N={id:R,text:T.text||"",icon:T.icon===ke||T.icon,parent:j,parents:M,children:T.children||[],children_d:T.children_d||[],data:T.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in g)g.hasOwnProperty(f)&&(N.state[f]=g[f]);if(T&&T.data&&T.data.jstree&&T.data.jstree.icon&&(N.icon=T.data.jstree.icon),(N.icon===ke||null===N.icon||""===N.icon)&&(N.icon=!0),T&&T.data&&(N.data=T.data,T.data.jstree))for(f in T.data.jstree)T.data.jstree.hasOwnProperty(f)&&(N.state[f]=T.data.jstree[f]);if(T&&"object"==typeof T.state)for(f in T.state)T.state.hasOwnProperty(f)&&(N.state[f]=T.state[f]);if(T&&"object"==typeof T.li_attr)for(f in T.li_attr)T.li_attr.hasOwnProperty(f)&&(N.li_attr[f]=T.li_attr[f]);if(N.li_attr.id||(N.li_attr.id=R),T&&"object"==typeof T.a_attr)for(f in T.a_attr)T.a_attr.hasOwnProperty(f)&&(N.a_attr[f]=T.a_attr[f]);for(T&&T.children&&!0===T.children&&(N.state.loaded=!1,N.children=[],N.children_d=[]),u[N.id]=N,f=0,w=N.children.length;w>f;f++)L=u[k=this._parse_model_from_flat_json(u[N.children[f]],N.id,M)],N.children_d.push(k),L.children_d.length&&(N.children_d=N.children_d.concat(L.children_d));return delete T.data,delete T.children,u[N.id].original=T,N.state.selected&&this._data.core.selected.push(N.id),N.id},_parse_model_from_json:function(T,j,M){M=M?M.concat():[],j&&M.unshift(j);var u,g,f,w,N,R=!1,k=this._model.data,L=this._model.default_state;do{R="j"+this._id+"_"+ ++this._cnt}while(k[R]);for(u in N={id:!1,text:"string"==typeof T?T:"",icon:"object"!=typeof T||T.icon===ke||T.icon,parent:j,parents:M,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},L)L.hasOwnProperty(u)&&(N.state[u]=L[u]);if(T&&T.id&&(N.id=T.id.toString()),T&&T.text&&(N.text=T.text),T&&T.data&&T.data.jstree&&T.data.jstree.icon&&(N.icon=T.data.jstree.icon),(N.icon===ke||null===N.icon||""===N.icon)&&(N.icon=!0),T&&T.data&&(N.data=T.data,T.data.jstree))for(u in T.data.jstree)T.data.jstree.hasOwnProperty(u)&&(N.state[u]=T.data.jstree[u]);if(T&&"object"==typeof T.state)for(u in T.state)T.state.hasOwnProperty(u)&&(N.state[u]=T.state[u]);if(T&&"object"==typeof T.li_attr)for(u in T.li_attr)T.li_attr.hasOwnProperty(u)&&(N.li_attr[u]=T.li_attr[u]);if(N.li_attr.id&&!N.id&&(N.id=N.li_attr.id.toString()),N.id||(N.id=R),N.li_attr.id||(N.li_attr.id=N.id),T&&"object"==typeof T.a_attr)for(u in T.a_attr)T.a_attr.hasOwnProperty(u)&&(N.a_attr[u]=T.a_attr[u]);if(T&&T.children&&T.children.length){for(u=0,g=T.children.length;g>u;u++)w=k[f=this._parse_model_from_json(T.children[u],N.id,M)],N.children.push(f),w.children_d.length&&(N.children_d=N.children_d.concat(w.children_d));N.children_d=N.children_d.concat(N.children)}return T&&T.children&&!0===T.children&&(N.state.loaded=!1,N.children=[],N.children_d=[]),delete T.data,delete T.children,N.original=T,k[N.id]=N,N.state.selected&&this._data.core.selected.push(N.id),N.id},_redraw:function(){var M,R,u,T=this._model.force_full_redraw?this._model.data[v.jstree.root].children.concat([]):this._model.changed.concat([]),j=Ct.createElement("UL"),g=this._data.core.focused;for(R=0,u=T.length;u>R;R++)(M=this.redraw_node(T[R],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&j.appendChild(M);this._model.force_full_redraw&&(j.className=this.get_container_ul()[0].className,j.setAttribute("role","group"),this.element.empty().append(j)),null!==g&&((M=this.get_node(g,!0))&&M.length&&M.children(".jstree-anchor")[0]!==Ct.activeElement?M.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:T})},redraw:function(T){T&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(T){var j=this.get_node(T),M=!1,R=!1,u=!1,g=Ct;if(!j)return!1;if(j.id===v.jstree.root)return this.redraw(!0);if(!(T=this.get_node(T,!0))||!T.length)return!1;if(T.children(".jstree-children").remove(),T=T[0],j.children.length&&j.state.loaded){for((u=g.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",M=0,R=j.children.length;R>M;M++)u.appendChild(this.redraw_node(j.children[M],!0,!0));T.appendChild(u)}},redraw_node:function(T,j,M,R){var u=this.get_node(T),g=!1,f=!1,w=!1,k=!1,L=!1,N=!1,H="",q=Ct,re=this._model.data,Z=!1,pe=null,ve=0,We=0,Ie=!1,Ne=!1;if(!u)return!1;if(u.id===v.jstree.root)return this.redraw(!0);if(j=j||0===u.children.length,T=Ct.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(u.id[0])?"\\3"+u.id[0]+" "+u.id.substr(1).replace(v.jstree.idregex,"\\$&"):u.id.replace(v.jstree.idregex,"\\$&"))):Ct.getElementById(u.id))T=v(T),M||((g=T.parent().parent()[0])===this.element[0]&&(g=null),f=T.index()),j||!u.children.length||T.children(".jstree-children").length||(j=!0),j||(w=T.children(".jstree-children")[0]),Z=T.children(".jstree-anchor")[0]===Ct.activeElement,T.remove();else if(j=!0,!M){if(!(null===(g=u.parent!==v.jstree.root?v("#"+u.parent.replace(v.jstree.idregex,"\\$&"),this.element)[0]:null)||g&&re[u.parent].state.opened))return!1;f=v.inArray(u.id,null===g?re[v.jstree.root].children:re[u.parent].children)}for(k in T=this._data.core.node.cloneNode(!0),H="jstree-node ",u.li_attr)if(u.li_attr.hasOwnProperty(k)){if("id"===k)continue;"class"!==k?T.setAttribute(k,u.li_attr[k]):H+=u.li_attr[k]}for(u.a_attr.id||(u.a_attr.id=u.id+"_anchor"),T.setAttribute("aria-selected",!!u.state.selected),T.setAttribute("aria-level",u.parents.length),T.setAttribute("aria-labelledby",u.a_attr.id),u.state.disabled&&T.setAttribute("aria-disabled",!0),k=0,L=u.children.length;L>k;k++)if(!re[u.children[k]].state.hidden){Ie=!0;break}if(null!==u.parent&&re[u.parent]&&!u.state.hidden&&(k=v.inArray(u.id,re[u.parent].children),Ne=u.id,-1!==k))for(k++,L=re[u.parent].children.length;L>k&&(re[re[u.parent].children[k]].state.hidden||(Ne=re[u.parent].children[k]),Ne===u.id);k++);for(L in u.state.hidden&&(H+=" jstree-hidden"),u.state.loaded&&!Ie?H+=" jstree-leaf":(H+=u.state.opened&&u.state.loaded?" jstree-open":" jstree-closed",T.setAttribute("aria-expanded",u.state.opened&&u.state.loaded)),Ne===u.id&&(H+=" jstree-last"),T.id=u.id,T.className=H,H=(u.state.selected?" jstree-clicked":"")+(u.state.disabled?" jstree-disabled":""),u.a_attr)if(u.a_attr.hasOwnProperty(L)){if("href"===L&&"#"===u.a_attr[L])continue;"class"!==L?T.childNodes[1].setAttribute(L,u.a_attr[L]):H+=" "+u.a_attr[L]}if(H.length&&(T.childNodes[1].className="jstree-anchor "+H),(u.icon&&!0!==u.icon||!1===u.icon)&&(!1===u.icon?T.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===u.icon.indexOf("/")&&-1===u.icon.indexOf(".")?T.childNodes[1].childNodes[0].className+=" "+u.icon+" jstree-themeicon-custom":(T.childNodes[1].childNodes[0].style.backgroundImage='url("'+u.icon+'")',T.childNodes[1].childNodes[0].style.backgroundPosition="center center",T.childNodes[1].childNodes[0].style.backgroundSize="auto",T.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?T.childNodes[1].appendChild(q.createTextNode(u.text)):T.childNodes[1].innerHTML+=u.text,j&&u.children.length&&(u.state.opened||R)&&u.state.loaded){for((N=q.createElement("UL")).setAttribute("role","group"),N.className="jstree-children",k=0,L=u.children.length;L>k;k++)N.appendChild(this.redraw_node(u.children[k],j,!0));T.appendChild(N)}if(w&&T.appendChild(w),!M){for(g||(g=this.element[0]),k=0,L=g.childNodes.length;L>k;k++)if(g.childNodes[k]&&g.childNodes[k].className&&-1!==g.childNodes[k].className.indexOf("jstree-children")){pe=g.childNodes[k];break}pe||((pe=q.createElement("UL")).setAttribute("role","group"),pe.className="jstree-children",g.appendChild(pe)),f<(g=pe).childNodes.length?g.insertBefore(T,g.childNodes[f]):g.appendChild(T),Z&&(ve=this.element[0].scrollTop,We=this.element[0].scrollLeft,T.childNodes[1].focus(),this.element[0].scrollTop=ve,this.element[0].scrollLeft=We)}return u.state.opened&&!u.state.loaded&&(u.state.opened=!1,setTimeout(v.proxy(function(){this.open_node(u.id,!1,0)},this),0)),T},open_node:function(T,j,M){var R,u,g,f;if(v.isArray(T)){for(R=0,u=(T=T.slice()).length;u>R;R++)this.open_node(T[R],j,M);return!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&(M=M===ke?this.settings.core.animation:M,this.is_closed(T)?this.is_loaded(T)?(g=this.get_node(T,!0),f=this,g.length&&(M&&g.children(".jstree-children").length&&g.children(".jstree-children").stop(!0,!0),T.children.length&&!this._firstChild(g.children(".jstree-children")[0])&&this.draw_children(T),M?(this.trigger("before_open",{node:T}),g.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(M,function(){this.style.display="",f.element&&f.trigger("after_open",{node:T})})):(this.trigger("before_open",{node:T}),g[0].className=g[0].className.replace("jstree-closed","jstree-open"),g[0].setAttribute("aria-expanded",!0))),T.state.opened=!0,j&&j.call(this,T,!0),g.length||this.trigger("before_open",{node:T}),this.trigger("open_node",{node:T}),M&&g.length||this.trigger("after_open",{node:T}),!0):this.is_loading(T)?setTimeout(v.proxy(function(){this.open_node(T,j,M)},this),500):void this.load_node(T,function(w,k){return k?this.open_node(w,j,M):!!j&&j.call(this,w,!1)}):(j&&j.call(this,T,!1),!1))},_open_to:function(T){if(!(T=this.get_node(T))||T.id===v.jstree.root)return!1;var j,M,R=T.parents;for(j=0,M=R.length;M>j;j+=1)j!==v.jstree.root&&this.open_node(R[j],!1,0);return v("#"+T.id.replace(v.jstree.idregex,"\\$&"),this.element)},close_node:function(T,j){var M,R,u,g;if(v.isArray(T)){for(M=0,R=(T=T.slice()).length;R>M;M++)this.close_node(T[M],j);return!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&!this.is_closed(T)&&(j=j===ke?this.settings.core.animation:j,u=this,g=this.get_node(T,!0),T.state.opened=!1,this.trigger("close_node",{node:T}),void(g.length?j?g.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(j,function(){this.style.display="",g.children(".jstree-children").remove(),u.element&&u.trigger("after_close",{node:T})}):(g[0].className=g[0].className.replace("jstree-open","jstree-closed"),g.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:T})):this.trigger("after_close",{node:T})))},toggle_node:function(T){var j,M;if(v.isArray(T)){for(j=0,M=(T=T.slice()).length;M>j;j++)this.toggle_node(T[j]);return!0}return this.is_closed(T)?this.open_node(T):this.is_open(T)?this.close_node(T):void 0},open_all:function(T,j,M){if(T||(T=v.jstree.root),!(T=this.get_node(T)))return!1;var u,g,f,R=T.id===v.jstree.root?this.get_container_ul():this.get_node(T,!0);if(!R.length){for(u=0,g=T.children_d.length;g>u;u++)this.is_closed(this._model.data[T.children_d[u]])&&(this._model.data[T.children_d[u]].state.opened=!0);return this.trigger("open_all",{node:T})}M=M||R,f=this,(R=this.is_closed(T)?R.find(".jstree-closed").addBack():R.find(".jstree-closed")).each(function(){f.open_node(this,function(w,k){k&&this.is_parent(w)&&this.open_all(w,j,M)},j||0)}),0===M.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(M)})},close_all:function(T,j){if(T||(T=v.jstree.root),!(T=this.get_node(T)))return!1;var u,g,M=T.id===v.jstree.root?this.get_container_ul():this.get_node(T,!0),R=this;for(M.length&&(M=this.is_open(T)?M.find(".jstree-open").addBack():M.find(".jstree-open"),v(M.get().reverse()).each(function(){R.close_node(this,j||0)})),u=0,g=T.children_d.length;g>u;u++)this._model.data[T.children_d[u]].state.opened=!1;this.trigger("close_all",{node:T})},is_disabled:function(T){return(T=this.get_node(T))&&T.state&&T.state.disabled},enable_node:function(T){var j,M;if(v.isArray(T)){for(j=0,M=(T=T.slice()).length;M>j;j++)this.enable_node(T[j]);return!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&(T.state.disabled=!1,this.get_node(T,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:T}))},disable_node:function(T){var j,M;if(v.isArray(T)){for(j=0,M=(T=T.slice()).length;M>j;j++)this.disable_node(T[j]);return!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&(T.state.disabled=!0,this.get_node(T,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:T}))},is_hidden:function(T){return!0===(T=this.get_node(T)).state.hidden},hide_node:function(T,j){var M,R;if(v.isArray(T)){for(M=0,R=(T=T.slice()).length;R>M;M++)this.hide_node(T[M],!0);return j||this.redraw(),!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&void(T.state.hidden||(T.state.hidden=!0,this._node_changed(T.parent),j||this.redraw(),this.trigger("hide_node",{node:T})))},show_node:function(T,j){var M,R;if(v.isArray(T)){for(M=0,R=(T=T.slice()).length;R>M;M++)this.show_node(T[M],!0);return j||this.redraw(),!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&void(T.state.hidden&&(T.state.hidden=!1,this._node_changed(T.parent),j||this.redraw(),this.trigger("show_node",{node:T})))},hide_all:function(T){var j,M=this._model.data,R=[];for(j in M)M.hasOwnProperty(j)&&j!==v.jstree.root&&!M[j].state.hidden&&(M[j].state.hidden=!0,R.push(j));return this._model.force_full_redraw=!0,T||this.redraw(),this.trigger("hide_all",{nodes:R}),R},show_all:function(T){var j,M=this._model.data,R=[];for(j in M)M.hasOwnProperty(j)&&j!==v.jstree.root&&M[j].state.hidden&&(M[j].state.hidden=!1,R.push(j));return this._model.force_full_redraw=!0,T||this.redraw(),this.trigger("show_all",{nodes:R}),R},activate_node:function(T,j){if(this.is_disabled(T))return!1;if(j&&"object"==typeof j||(j={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==ke?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(j.metaKey||j.ctrlKey||j.shiftKey)&&(!j.shiftKey||this._data.core.last_clicked&&this.get_parent(T)&&this.get_parent(T)===this._data.core.last_clicked.parent))if(j.shiftKey){var f,w,M=this.get_node(T).id,R=this._data.core.last_clicked.id,u=this.get_node(this._data.core.last_clicked.parent).children,g=!1;for(f=0,w=u.length;w>f;f+=1)u[f]===M&&(g=!g),u[f]===R&&(g=!g),this.is_disabled(u[f])||!g&&u[f]!==M&&u[f]!==R?this.deselect_node(u[f],!0,j):this.is_hidden(u[f])||this.select_node(u[f],!0,!1,j);this.trigger("changed",{action:"select_node",node:this.get_node(T),selected:this._data.core.selected,event:j})}else this.is_selected(T)?this.deselect_node(T,!1,j):this.select_node(T,!1,!1,j);else!this.settings.core.multiple&&(j.metaKey||j.ctrlKey||j.shiftKey)&&this.is_selected(T)?this.deselect_node(T,!1,j):(this.deselect_all(!0),this.select_node(T,!1,!1,j),this._data.core.last_clicked=this.get_node(T));this.trigger("activate_node",{node:this.get_node(T),event:j})},hover_node:function(T){if(!(T=this.get_node(T,!0))||!T.length||T.children(".jstree-hovered").length)return!1;var j=this.element.find(".jstree-hovered"),M=this.element;j&&j.length&&this.dehover_node(j),T.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(T)}),setTimeout(function(){M.attr("aria-activedescendant",T[0].id)},0)},dehover_node:function(T){return!!((T=this.get_node(T,!0))&&T.length&&T.children(".jstree-hovered").length)&&(T.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(T)}))},select_node:function(T,j,M,R){var u,g,f;if(v.isArray(T)){for(g=0,f=(T=T.slice()).length;f>g;g++)this.select_node(T[g],j,M,R);return!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&(u=this.get_node(T,!0),void(T.state.selected||(T.state.selected=!0,this._data.core.selected.push(T.id),M||(u=this._open_to(T)),u&&u.length&&u.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:T,selected:this._data.core.selected,event:R}),j||this.trigger("changed",{action:"select_node",node:T,selected:this._data.core.selected,event:R}))))},deselect_node:function(T,j,M){var R,u,g;if(v.isArray(T)){for(R=0,u=(T=T.slice()).length;u>R;R++)this.deselect_node(T[R],j,M);return!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&(g=this.get_node(T,!0),void(T.state.selected&&(T.state.selected=!1,this._data.core.selected=v.vakata.array_remove_item(this._data.core.selected,T.id),g.length&&g.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:T,selected:this._data.core.selected,event:M}),j||this.trigger("changed",{action:"deselect_node",node:T,selected:this._data.core.selected,event:M}))))},select_all:function(T){var M,R,j=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[v.jstree.root].children_d.concat(),M=0,R=this._data.core.selected.length;R>M;M++)this._model.data[this._data.core.selected[M]]&&(this._model.data[this._data.core.selected[M]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),T||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:j})},deselect_all:function(T){var M,R,j=this._data.core.selected.concat([]);for(M=0,R=this._data.core.selected.length;R>M;M++)this._model.data[this._data.core.selected[M]]&&(this._model.data[this._data.core.selected[M]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:j}),T||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:j})},is_selected:function(T){return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&T.state.selected},get_selected:function(T){return T?v.map(this._data.core.selected,v.proxy(function(j){return this.get_node(j)},this)):this._data.core.selected.slice()},get_top_selected:function(T){var R,u,g,f,j=this.get_selected(!0),M={};for(R=0,u=j.length;u>R;R++)M[j[R].id]=j[R];for(R=0,u=j.length;u>R;R++)for(g=0,f=j[R].children_d.length;f>g;g++)M[j[R].children_d[g]]&&delete M[j[R].children_d[g]];for(R in j=[],M)M.hasOwnProperty(R)&&j.push(R);return T?v.map(j,v.proxy(function(w){return this.get_node(w)},this)):j},get_bottom_selected:function(T){var R,u,j=this.get_selected(!0),M=[];for(R=0,u=j.length;u>R;R++)j[R].children.length||M.push(j[R].id);return T?v.map(M,v.proxy(function(g){return this.get_node(g)},this)):M},get_state:function(){var j,T={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(j in this._model.data)this._model.data.hasOwnProperty(j)&&j!==v.jstree.root&&(this._model.data[j].state.opened&&T.core.open.push(j),this._model.data[j].state.selected&&T.core.selected.push(j));return T},set_state:function(T,j){if(T){if(T.core&&T.core.selected&&T.core.initial_selection===ke&&(T.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),T.core){var g,f;if(T.core.open)return v.isArray(T.core.open)&&T.core.open.length?this._load_nodes(T.core.open,function(w){this.open_node(w,!1,0),delete T.core.open,this.set_state(T,j)}):(delete T.core.open,this.set_state(T,j)),!1;if(T.core.scroll)return T.core.scroll&&T.core.scroll.left!==ke&&this.element.scrollLeft(T.core.scroll.left),T.core.scroll&&T.core.scroll.top!==ke&&this.element.scrollTop(T.core.scroll.top),delete T.core.scroll,this.set_state(T,j),!1;if(T.core.selected)return g=this,(T.core.initial_selection===ke||T.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),v.each(T.core.selected,function(w,k){g.select_node(k,!1,!0)})),delete T.core.initial_selection,delete T.core.selected,this.set_state(T,j),!1;for(f in T)T.hasOwnProperty(f)&&"core"!==f&&-1===v.inArray(f,this.settings.plugins)&&delete T[f];if(v.isEmptyObject(T.core))return delete T.core,this.set_state(T,j),!1}return!v.isEmptyObject(T)||(T=null,j&&j.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(T,j){this._data.core.state=!0===j?{}:this.get_state(),j&&v.isFunction(j)&&(this._data.core.state=j.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[v.jstree.root]={id:v.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var M=this.get_container_ul()[0].className;T||(this.element.html("<ul class='"+M+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(v.jstree.root,function(R,u){u&&(this.get_container_ul()[0].className=M,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(v.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(T){if(!(T=this.get_node(T))||T.id===v.jstree.root)return!1;var j=[],M=[],R=this._data.core.selected.concat([]);M.push(T.id),!0===T.state.opened&&j.push(T.id),this.get_node(T,!0).find(".jstree-open").each(function(){M.push(this.id),j.push(this.id)}),this._load_nodes(M,v.proxy(function(u){this.open_node(j,!1,0),this.select_node(R),this.trigger("refresh_node",{node:T,nodes:u})},this),!1,!0)},set_id:function(T,j){if(!(T=this.get_node(T))||T.id===v.jstree.root)return!1;var M,R,u=this._model.data,g=T.id;for(j=j.toString(),u[T.parent].children[v.inArray(T.id,u[T.parent].children)]=j,M=0,R=T.parents.length;R>M;M++)u[T.parents[M]].children_d[v.inArray(T.id,u[T.parents[M]].children_d)]=j;for(M=0,R=T.children.length;R>M;M++)u[T.children[M]].parent=j;for(M=0,R=T.children_d.length;R>M;M++)u[T.children_d[M]].parents[v.inArray(T.id,u[T.children_d[M]].parents)]=j;return-1!==(M=v.inArray(T.id,this._data.core.selected))&&(this._data.core.selected[M]=j),(M=this.get_node(T.id,!0))&&(M.attr("id",j),this.element.attr("aria-activedescendant")===T.id&&this.element.attr("aria-activedescendant",j)),delete u[T.id],T.id=j,T.li_attr.id=j,u[j]=T,this.trigger("set_id",{node:T,new:T.id,old:g}),!0},get_text:function(T){return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&T.text},set_text:function(T,j){var M,R;if(v.isArray(T)){for(M=0,R=(T=T.slice()).length;R>M;M++)this.set_text(T[M],j);return!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root||(T.text=j,this.get_node(T,!0).length&&this.redraw_node(T.id),this.trigger("set_text",{obj:T,text:j}),0))},get_json:function(T,j,M){if(!(T=this.get_node(T||v.jstree.root)))return!1;j&&j.flat&&!M&&(M=[]);var u,g,R={id:T.id,text:T.text,icon:this.get_icon(T),li_attr:v.extend(!0,{},T.li_attr),a_attr:v.extend(!0,{},T.a_attr),state:{},data:(!j||!j.no_data)&&v.extend(!0,v.isArray(T.data)?[]:{},T.data)};if(j&&j.flat?R.parent=T.parent:R.children=[],j&&j.no_state)delete R.state;else for(u in T.state)T.state.hasOwnProperty(u)&&(R.state[u]=T.state[u]);if(j&&j.no_li_attr&&delete R.li_attr,j&&j.no_a_attr&&delete R.a_attr,j&&j.no_id&&(delete R.id,R.li_attr&&R.li_attr.id&&delete R.li_attr.id,R.a_attr&&R.a_attr.id&&delete R.a_attr.id),j&&j.flat&&T.id!==v.jstree.root&&M.push(R),!j||!j.no_children)for(u=0,g=T.children.length;g>u;u++)j&&j.flat?this.get_json(T.children[u],j,M):R.children.push(this.get_json(T.children[u],j));return j&&j.flat?M:T.id===v.jstree.root?R.children:R},create_node:function(T,j,M,R,u){if(null===T&&(T=v.jstree.root),!(T=this.get_node(T)))return!1;if(!(M=M===ke?"last":M).toString().match(/^(before|after)$/)&&!u&&!this.is_loaded(T))return this.load_node(T,function(){this.create_node(T,j,M,R,!0)});var g,f,w,k;switch(j||(j={text:this.get_string("New node")}),(j="string"==typeof j?{text:j}:v.extend(!0,{},j)).text===ke&&(j.text=this.get_string("New node")),T.id===v.jstree.root&&("before"===M&&(M="first"),"after"===M&&(M="last")),M){case"before":g=this.get_node(T.parent),M=v.inArray(T.id,g.children),T=g;break;case"after":g=this.get_node(T.parent),M=v.inArray(T.id,g.children)+1,T=g;break;case"inside":case"first":M=0;break;case"last":M=T.children.length;break;default:M||(M=0)}if(M>T.children.length&&(M=T.children.length),j.id||(j.id=!0),!this.check("create_node",j,T,M))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===j.id&&delete j.id,!(j=this._parse_model_from_json(j,T.id,T.parents.concat())))return!1;for(g=this.get_node(j),(f=[]).push(j),f=f.concat(g.children_d),this.trigger("model",{nodes:f,parent:T.id}),T.children_d=T.children_d.concat(f),w=0,k=T.parents.length;k>w;w++)this._model.data[T.parents[w]].children_d=this._model.data[T.parents[w]].children_d.concat(f);for(j=g,g=[],w=0,k=T.children.length;k>w;w++)g[w>=M?w+1:w]=T.children[w];return g[M]=j.id,T.children=g,this.redraw_node(T,!0),this.trigger("create_node",{node:this.get_node(j),parent:T.id,position:M}),R&&R.call(this,this.get_node(j)),j.id},rename_node:function(T,j){var M,R,u;if(v.isArray(T)){for(M=0,R=(T=T.slice()).length;R>M;M++)this.rename_node(T[M],j);return!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root||(u=T.text,this.check("rename_node",T,this.get_parent(T),j)?(this.set_text(T,j),this.trigger("rename_node",{node:T,text:j,old:u}),0):(this.settings.core.error.call(this,this._data.core.last_error),1)))},delete_node:function(T){var j,M,R,u,g,f,w,k,L,N,H,q;if(v.isArray(T)){for(j=0,M=(T=T.slice()).length;M>j;j++)this.delete_node(T[j]);return!0}if(!(T=this.get_node(T))||T.id===v.jstree.root)return!1;if(R=this.get_node(T.parent),u=v.inArray(T.id,R.children),N=!1,!this.check("delete_node",T,R,u))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==u&&(R.children=v.vakata.array_remove(R.children,u)),(g=T.children_d.concat([])).push(T.id),f=0,w=T.parents.length;w>f;f++)this._model.data[T.parents[f]].children_d=v.vakata.array_filter(this._model.data[T.parents[f]].children_d,function(re){return-1===v.inArray(re,g)});for(k=0,L=g.length;L>k;k++)if(this._model.data[g[k]].state.selected){N=!0;break}for(N&&(this._data.core.selected=v.vakata.array_filter(this._data.core.selected,function(re){return-1===v.inArray(re,g)})),this.trigger("delete_node",{node:T,parent:R.id}),N&&this.trigger("changed",{action:"delete_node",node:T,selected:this._data.core.selected,parent:R.id}),k=0,L=g.length;L>k;k++)delete this._model.data[g[k]];return-1!==v.inArray(this._data.core.focused,g)&&(this._data.core.focused=null,H=this.element[0].scrollTop,q=this.element[0].scrollLeft,R.id===v.jstree.root?this._model.data[v.jstree.root].children[0]&&this.get_node(this._model.data[v.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(R,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=H,this.element[0].scrollLeft=q),this.redraw_node(R,!0),!0},check:function(T,j,M,R,u){j=j&&j.id?j:this.get_node(j),M=M&&M.id?M:this.get_node(M);var g=T.match(/^move_node|copy_node|create_node$/i)?M:j,f=this.settings.core.check_callback;return"move_node"!==T&&"copy_node"!==T||u&&u.is_multi||j.id!==M.id&&("move_node"!==T||v.inArray(j.id,M.children)!==R)&&-1===v.inArray(M.id,j.children_d)?(g&&g.data&&(g=g.data),g&&g.functions&&(!1===g.functions[T]||!0===g.functions[T])?(!1===g.functions[T]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+T,data:JSON.stringify({chk:T,pos:R,obj:!(!j||!j.id)&&j.id,par:!(!M||!M.id)&&M.id})}),g.functions[T]):!(!1===f||v.isFunction(f)&&!1===f.call(this,T,j,M,R,u)||f&&!1===f[T])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+T,data:JSON.stringify({chk:T,pos:R,obj:!(!j||!j.id)&&j.id,par:!(!M||!M.id)&&M.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:T,pos:R,obj:!(!j||!j.id)&&j.id,par:!(!M||!M.id)&&M.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(T,j,M,R,u,g,f){var w,k,L,N,H,q,re,Z,de,pe,ve,We,Ie,Ne;if(j=this.get_node(j),M=M===ke?0:M,!j)return!1;if(!M.toString().match(/^(before|after)$/)&&!u&&!this.is_loaded(j))return this.load_node(j,function(){this.move_node(T,j,M,R,!0,!1,f)});if(v.isArray(T)){if(1!==T.length){for(w=0,k=T.length;k>w;w++)(de=this.move_node(T[w],j,M,R,u,!1,f))&&(j=de,M="after");return this.redraw(),!0}T=T[0]}if(!(T=T&&T.id?T:this.get_node(T))||T.id===v.jstree.root)return!1;if(L=(T.parent||v.jstree.root).toString(),H=M.toString().match(/^(before|after)$/)&&j.id!==v.jstree.root?this.get_node(j.parent):j,re=!(q=f||(this._model.data[T.id]?this:v.jstree.reference(T.id)))||!q._id||this._id!==q._id,N=q&&q._id&&L&&q._model.data[L]&&q._model.data[L].children?v.inArray(T.id,q._model.data[L].children):-1,q&&q._id&&(T=q._model.data[T.id]),re)return!!(de=this.copy_node(T,j,M,R,u,!1,f))&&(q&&q.delete_node(T),de);switch(j.id===v.jstree.root&&("before"===M&&(M="first"),"after"===M&&(M="last")),M){case"before":M=v.inArray(j.id,H.children);break;case"after":M=v.inArray(j.id,H.children)+1;break;case"inside":case"first":M=0;break;case"last":M=H.children.length;break;default:M||(M=0)}if(M>H.children.length&&(M=H.children.length),!this.check("move_node",T,H,M,{core:!0,origin:f,is_multi:q&&q._id&&q._id!==this._id,is_foreign:!q||!q._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(T.parent===H.id){for(Z=H.children.concat(),-1!==(de=v.inArray(T.id,Z))&&(Z=v.vakata.array_remove(Z,de),M>de&&M--),de=[],pe=0,ve=Z.length;ve>pe;pe++)de[pe>=M?pe+1:pe]=Z[pe];de[M]=T.id,H.children=de,this._node_changed(H.id),this.redraw(H.id===v.jstree.root)}else{for((de=T.children_d.concat()).push(T.id),pe=0,ve=T.parents.length;ve>pe;pe++){for(Z=[],We=0,Ie=(Ne=q._model.data[T.parents[pe]].children_d).length;Ie>We;We++)-1===v.inArray(Ne[We],de)&&Z.push(Ne[We]);q._model.data[T.parents[pe]].children_d=Z}for(q._model.data[L].children=v.vakata.array_remove_item(q._model.data[L].children,T.id),pe=0,ve=H.parents.length;ve>pe;pe++)this._model.data[H.parents[pe]].children_d=this._model.data[H.parents[pe]].children_d.concat(de);for(Z=[],pe=0,ve=H.children.length;ve>pe;pe++)Z[pe>=M?pe+1:pe]=H.children[pe];for(Z[M]=T.id,H.children=Z,H.children_d.push(T.id),H.children_d=H.children_d.concat(T.children_d),T.parent=H.id,(de=H.parents.concat()).unshift(H.id),Ne=T.parents.length,T.parents=de,de=de.concat(),pe=0,ve=T.children_d.length;ve>pe;pe++)this._model.data[T.children_d[pe]].parents=this._model.data[T.children_d[pe]].parents.slice(0,-1*Ne),Array.prototype.push.apply(this._model.data[T.children_d[pe]].parents,de);(L===v.jstree.root||H.id===v.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(L),this._node_changed(H.id)),g||this.redraw()}return R&&R.call(this,T,H,M),this.trigger("move_node",{node:T,parent:H.id,position:M,old_parent:L,old_position:N,is_multi:q&&q._id&&q._id!==this._id,is_foreign:!q||!q._id,old_instance:q,new_instance:this}),T.id},copy_node:function(T,j,M,R,u,g,f){var w,k,L,N,H,q,re,Z,de,pe;if(j=this.get_node(j),M=M===ke?0:M,!j)return!1;if(!M.toString().match(/^(before|after)$/)&&!u&&!this.is_loaded(j))return this.load_node(j,function(){this.copy_node(T,j,M,R,!0,!1,f)});if(v.isArray(T)){if(1!==T.length){for(w=0,k=T.length;k>w;w++)(N=this.copy_node(T[w],j,M,R,u,!0,f))&&(j=N,M="after");return this.redraw(),!0}T=T[0]}if(!(T=T&&T.id?T:this.get_node(T))||T.id===v.jstree.root)return!1;switch(Z=(T.parent||v.jstree.root).toString(),de=M.toString().match(/^(before|after)$/)&&j.id!==v.jstree.root?this.get_node(j.parent):j,(pe=f||(this._model.data[T.id]?this:v.jstree.reference(T.id)))&&pe._id&&(T=pe._model.data[T.id]),j.id===v.jstree.root&&("before"===M&&(M="first"),"after"===M&&(M="last")),M){case"before":M=v.inArray(j.id,de.children);break;case"after":M=v.inArray(j.id,de.children)+1;break;case"inside":case"first":M=0;break;case"last":M=de.children.length;break;default:M||(M=0)}if(M>de.children.length&&(M=de.children.length),!this.check("copy_node",T,de,M,{core:!0,origin:f,is_multi:pe&&pe._id&&pe._id!==this._id,is_foreign:!pe||!pe._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!((re=pe?pe.get_json(T,{no_id:!0,no_data:!0,no_state:!0}):T)&&(!0===re.id&&delete re.id,re=this._parse_model_from_json(re,de.id,de.parents.concat()))))return!1;for(N=this.get_node(re),T&&T.state&&!1===T.state.loaded&&(N.state.loaded=!1),(L=[]).push(re),L=L.concat(N.children_d),this.trigger("model",{nodes:L,parent:de.id}),H=0,q=de.parents.length;q>H;H++)this._model.data[de.parents[H]].children_d=this._model.data[de.parents[H]].children_d.concat(L);for(L=[],H=0,q=de.children.length;q>H;H++)L[H>=M?H+1:H]=de.children[H];return L[M]=N.id,de.children=L,de.children_d.push(N.id),de.children_d=de.children_d.concat(N.children_d),de.id===v.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(de.id),g||this.redraw(de.id===v.jstree.root),R&&R.call(this,N,de,M),this.trigger("copy_node",{node:N,original:T,parent:de.id,position:M,old_parent:Z,old_position:pe&&pe._id&&Z&&pe._model.data[Z]&&pe._model.data[Z].children?v.inArray(T.id,pe._model.data[Z].children):-1,is_multi:pe&&pe._id&&pe._id!==this._id,is_foreign:!pe||!pe._id,old_instance:pe,new_instance:this}),N.id},cut:function(T){if(T||(T=this._data.core.selected.concat()),v.isArray(T)||(T=[T]),!T.length)return!1;var M,R,u,j=[];for(R=0,u=T.length;u>R;R++)(M=this.get_node(T[R]))&&M.id&&M.id!==v.jstree.root&&j.push(M);return!!j.length&&(Fe=j,vt=this,at="move_node",void this.trigger("cut",{node:T}))},copy:function(T){if(T||(T=this._data.core.selected.concat()),v.isArray(T)||(T=[T]),!T.length)return!1;var M,R,u,j=[];for(R=0,u=T.length;u>R;R++)(M=this.get_node(T[R]))&&M.id&&M.id!==v.jstree.root&&j.push(M);return!!j.length&&(Fe=j,vt=this,at="copy_node",void this.trigger("copy",{node:T}))},get_buffer:function(){return{mode:at,node:Fe,inst:vt}},can_paste:function(){return!1!==at&&!1!==Fe},paste:function(T,j){return!!((T=this.get_node(T))&&at&&at.match(/^(copy_node|move_node)$/)&&Fe)&&(this[at](Fe,T,j,!1,!1,!1,vt)&&this.trigger("paste",{parent:T.id,node:Fe,mode:at}),Fe=!1,at=!1,void(vt=!1))},clear_buffer:function(){Fe=!1,at=!1,vt=!1,this.trigger("clear_buffer")},edit:function(T,j,M){var R,u,g,f,w,k,L,N,H,q=!1;return!!(T=this.get_node(T))&&(this.check("edit",T,this.get_parent(T))?(H=T,j="string"==typeof j?j:T.text,this.set_text(T,""),T=this._open_to(T),H.text=j,R=this._data.core.rtl,u=this.element.width(),this._data.core.focused=H.id,g=T.children(".jstree-anchor").focus(),f=v("<span>"),w=j,k=v("<div />",{css:{position:"absolute",top:"-200px",left:R?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),L=v("<input />",{value:w,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:v.proxy(function(re){re.stopImmediatePropagation(),re.preventDefault();var ve,de=f.children(".jstree-rename-input").val(),pe=this.settings.core.force_text;""===de&&(de=w),k.remove(),f.replaceWith(g),f.remove(),w=pe?w:v("<div></div>").append(v.parseHTML(w)).html(),this.set_text(T,w),(ve=!!this.rename_node(T,pe?v("<div></div>").text(de).text():v("<div></div>").append(v.parseHTML(de)).html()))||this.set_text(T,w),this._data.core.focused=H.id,setTimeout(v.proxy(function(){var We=this.get_node(H.id,!0);We.length&&(this._data.core.focused=H.id,We.children(".jstree-anchor").focus())},this),0),M&&M.call(this,H,ve,q),L=null},this),keydown:function(re){var Z=re.which;27===Z&&(q=!0,this.value=w),(27===Z||13===Z||37===Z||38===Z||39===Z||40===Z||32===Z)&&re.stopImmediatePropagation(),(27===Z||13===Z)&&(re.preventDefault(),this.blur())},click:function(re){re.stopImmediatePropagation()},mousedown:function(re){re.stopImmediatePropagation()},keyup:function(re){L.width(Math.min(k.text("pW"+this.value).width(),u))},keypress:function(re){return 13!==re.which&&void 0}}),N={fontFamily:g.css("fontFamily")||"",fontSize:g.css("fontSize")||"",fontWeight:g.css("fontWeight")||"",fontStyle:g.css("fontStyle")||"",fontStretch:g.css("fontStretch")||"",fontVariant:g.css("fontVariant")||"",letterSpacing:g.css("letterSpacing")||"",wordSpacing:g.css("wordSpacing")||""},f.attr("class",g.attr("class")).append(g.contents().clone()).append(L),g.replaceWith(f),k.css(N),L.css(N).width(Math.min(k.text("pW"+L[0].value).width(),u))[0].select(),void v(Ct).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(re){L&&re.target!==L&&v(L).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(T,j){if(!T)return!1;if(!0===j){var M=this.settings.core.themes.dir;M||(M=v.jstree.path+"/themes"),j=M+"/"+T+"/style.css"}j&&-1===v.inArray(j,Pt)&&(v("head").append('<link rel="stylesheet" href="'+j+'" type="text/css" />'),Pt.push(j)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=T,this.element.addClass("jstree-"+T),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+T+"-responsive"),this.trigger("set_theme",{theme:T})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(T){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=T,T&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(T,j){var M,R,u,g;if(v.isArray(T)){for(M=0,R=(T=T.slice()).length;R>M;M++)this.set_icon(T[M],j);return!0}return!(!(T=this.get_node(T))||T.id===v.jstree.root||(g=T.icon,T.icon=!0===j||null===j||j===ke||""===j||j,u=this.get_node(T,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===j?this.hide_icon(T):!0===j||null===j||j===ke||""===j?(u.removeClass("jstree-themeicon-custom "+g).css("background","").removeAttr("rel"),!1===g&&this.show_icon(T)):-1===j.indexOf("/")&&-1===j.indexOf(".")?(u.removeClass(g).css("background",""),u.addClass(j+" jstree-themeicon-custom").attr("rel",j),!1===g&&this.show_icon(T)):(u.removeClass(g).css("background",""),u.addClass("jstree-themeicon-custom").css("background","url('"+j+"') center center no-repeat").attr("rel",j),!1===g&&this.show_icon(T)),0))},get_icon:function(T){return!(!(T=this.get_node(T))||T.id===v.jstree.root)&&T.icon},hide_icon:function(T){var j,M;if(v.isArray(T)){for(j=0,M=(T=T.slice()).length;M>j;j++)this.hide_icon(T[j]);return!0}return!(!(T=this.get_node(T))||T===v.jstree.root||(T.icon=!1,this.get_node(T,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),0))},show_icon:function(T){var j,M,R;if(v.isArray(T)){for(j=0,M=(T=T.slice()).length;M>j;j++)this.show_icon(T[j]);return!0}return!(!(T=this.get_node(T))||T===v.jstree.root||(R=this.get_node(T,!0),T.icon=!R.length||R.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),T.icon||(T.icon=!0),R.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),0))}},v.vakata={},v.vakata.attributes=function(T,j){T=v(T)[0];var M=j?{}:[];return T&&T.attributes&&v.each(T.attributes,function(R,u){-1===v.inArray(u.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==u.value&&""!==v.trim(u.value)&&(j?M[u.name]=u.value:M.push(u.name))}),M},v.vakata.array_unique=function(T){var M,u,j=[],g={};for(M=0,u=T.length;u>M;M++)g[T[M]]===ke&&(j.push(T[M]),g[T[M]]=!0);return j},v.vakata.array_remove=function(T,j){return T.splice(j,1),T},v.vakata.array_remove_item=function(T,j){var M=v.inArray(j,T);return-1!==M?v.vakata.array_remove(T,M):T},v.vakata.array_filter=function(T,j,M,R,u){if(T.filter)return T.filter(j,M);for(u in R=[],T)~~u+""==u+""&&u>=0&&j.call(M,T[u],+u,T)&&R.push(T[u]);return R},v.jstree.plugins.changed=function(T,j){var M=[];this.trigger=function(R,u){var g,f;if(u||(u={}),"changed"===R.replace(".jstree","")){u.changed={selected:[],deselected:[]};var w={};for(g=0,f=M.length;f>g;g++)w[M[g]]=1;for(g=0,f=u.selected.length;f>g;g++)w[u.selected[g]]?w[u.selected[g]]=2:u.changed.selected.push(u.selected[g]);for(g=0,f=M.length;f>g;g++)1===w[M[g]]&&u.changed.deselected.push(M[g]);M=u.selected.slice()}j.trigger.call(this,R,u)},this.refresh=function(R,u){return M=[],j.refresh.apply(this,arguments)}};var ut,Qe,Qt=Ct.createElement("I");Qt.className="jstree-icon jstree-checkbox",Qt.setAttribute("role","presentation"),v.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},v.jstree.plugins.checkbox=function(T,j){this.bind=function(){j.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",v.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",v.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",v.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(v.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",v.proxy(function(M,R){var w,k,u=this._model.data,f=R.nodes;for(w=0,k=f.length;k>w;w++)u[f[w]].state.checked=u[f[w]].state.checked||u[f[w]].original&&u[f[w]].original.state&&u[f[w]].original.state.checked,u[f[w]].state.checked&&this._data.checkbox.selected.push(f[w])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",v.proxy(function(M,R){var k,L,N,H,q,re,u=this._model.data,g=u[R.parent],f=R.nodes,w=[],Z=this.settings.checkbox.cascade,de=this.settings.checkbox.tie_selection;if(-1!==Z.indexOf("down"))if(g.state[de?"selected":"checked"]){for(L=0,N=f.length;N>L;L++)u[f[L]].state[de?"selected":"checked"]=!0;this._data[de?"core":"checkbox"].selected=this._data[de?"core":"checkbox"].selected.concat(f)}else for(L=0,N=f.length;N>L;L++)if(u[f[L]].state[de?"selected":"checked"]){for(H=0,q=u[f[L]].children_d.length;q>H;H++)u[u[f[L]].children_d[H]].state[de?"selected":"checked"]=!0;this._data[de?"core":"checkbox"].selected=this._data[de?"core":"checkbox"].selected.concat(u[f[L]].children_d)}if(-1!==Z.indexOf("up")){for(L=0,N=g.children_d.length;N>L;L++)u[g.children_d[L]].children.length||w.push(u[g.children_d[L]].parent);for(H=0,q=(w=v.vakata.array_unique(w)).length;q>H;H++)for(g=u[w[H]];g&&g.id!==v.jstree.root;){for(k=0,L=0,N=g.children.length;N>L;L++)k+=u[g.children[L]].state[de?"selected":"checked"];if(k!==N)break;g.state[de?"selected":"checked"]=!0,this._data[de?"core":"checkbox"].selected.push(g.id),(re=this.get_node(g,!0))&&re.length&&re.attr("aria-selected",!0).children(".jstree-anchor").addClass(de?"jstree-clicked":"jstree-checked"),g=this.get_node(g.parent)}}this._data[de?"core":"checkbox"].selected=v.vakata.array_unique(this._data[de?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",v.proxy(function(M,R){var k,L,N,H,g=R.node,f=this._model.data,w=this.get_node(g.parent),q=this.settings.checkbox.cascade,re=this.settings.checkbox.tie_selection,Z={},de=this._data[re?"core":"checkbox"].selected;for(k=0,L=de.length;L>k;k++)Z[de[k]]=!0;if(-1!==q.indexOf("down")){var pe=this._cascade_new_checked_state(g.id,!0);g.children_d.concat(g.id).forEach(function(ve){pe.indexOf(ve)>-1?Z[ve]=!0:delete Z[ve]})}if(-1!==q.indexOf("up"))for(;w&&w.id!==v.jstree.root;){for(N=0,k=0,L=w.children.length;L>k;k++)N+=f[w.children[k]].state[re?"selected":"checked"];if(N!==L)break;w.state[re?"selected":"checked"]=!0,Z[w.id]=!0,(H=this.get_node(w,!0))&&H.length&&H.attr("aria-selected",!0).children(".jstree-anchor").addClass(re?"jstree-clicked":"jstree-checked"),w=this.get_node(w.parent)}for(k in de=[],Z)Z.hasOwnProperty(k)&&de.push(k);this._data[re?"core":"checkbox"].selected=de},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",v.proxy(function(M,R){var f,w,k,u=this.get_node(v.jstree.root),g=this._model.data;for(f=0,w=u.children_d.length;w>f;f++)(k=g[u.children_d[f]])&&k.original&&k.original.state&&k.original.state.undetermined&&(k.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",v.proxy(function(M,R){var w,k,L,g=R.node,N=(this.get_node(g,!0),this.settings.checkbox.cascade),H=this.settings.checkbox.tie_selection,q=this._data[H?"core":"checkbox"].selected,de=g.children_d.concat(g.id);if(-1!==N.indexOf("down")){var pe=this._cascade_new_checked_state(g.id,!1);q=q.filter(function(ve){return-1===de.indexOf(ve)||pe.indexOf(ve)>-1})}if(-1!==N.indexOf("up")&&-1===q.indexOf(g.id)){for(w=0,k=g.parents.length;k>w;w++)(L=this._model.data[g.parents[w]]).state[H?"selected":"checked"]=!1,L&&L.original&&L.original.state&&L.original.state.undetermined&&(L.original.state.undetermined=!1),(L=this.get_node(g.parents[w],!0))&&L.length&&L.attr("aria-selected",!1).children(".jstree-anchor").removeClass(H?"jstree-clicked":"jstree-checked");q=q.filter(function(ve){return-1===g.parents.indexOf(ve)})}this._data[H?"core":"checkbox"].selected=q},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",v.proxy(function(M,R){for(var f,w,k,L,u=this.get_node(R.parent),g=this._model.data,N=this.settings.checkbox.tie_selection;u&&u.id!==v.jstree.root&&!u.state[N?"selected":"checked"];){for(k=0,f=0,w=u.children.length;w>f;f++)k+=g[u.children[f]].state[N?"selected":"checked"];if(!(w>0&&k===w))break;u.state[N?"selected":"checked"]=!0,this._data[N?"core":"checkbox"].selected.push(u.id),(L=this.get_node(u,!0))&&L.length&&L.attr("aria-selected",!0).children(".jstree-anchor").addClass(N?"jstree-clicked":"jstree-checked"),u=this.get_node(u.parent)}},this)).on("move_node.jstree",v.proxy(function(M,R){var k,L,N,H,q,u=R.is_multi,g=R.old_parent,f=this.get_node(R.parent),w=this._model.data,re=this.settings.checkbox.tie_selection;if(!u)for(k=this.get_node(g);k&&k.id!==v.jstree.root&&!k.state[re?"selected":"checked"];){for(L=0,N=0,H=k.children.length;H>N;N++)L+=w[k.children[N]].state[re?"selected":"checked"];if(!(H>0&&L===H))break;k.state[re?"selected":"checked"]=!0,this._data[re?"core":"checkbox"].selected.push(k.id),(q=this.get_node(k,!0))&&q.length&&q.attr("aria-selected",!0).children(".jstree-anchor").addClass(re?"jstree-clicked":"jstree-checked"),k=this.get_node(k.parent)}for(k=f;k&&k.id!==v.jstree.root;){for(L=0,N=0,H=k.children.length;H>N;N++)L+=w[k.children[N]].state[re?"selected":"checked"];if(L===H)k.state[re?"selected":"checked"]||(k.state[re?"selected":"checked"]=!0,this._data[re?"core":"checkbox"].selected.push(k.id),(q=this.get_node(k,!0))&&q.length&&q.attr("aria-selected",!0).children(".jstree-anchor").addClass(re?"jstree-clicked":"jstree-checked"));else{if(!k.state[re?"selected":"checked"])break;k.state[re?"selected":"checked"]=!1,this._data[re?"core":"checkbox"].selected=v.vakata.array_remove_item(this._data[re?"core":"checkbox"].selected,k.id),(q=this.get_node(k,!0))&&q.length&&q.attr("aria-selected",!1).children(".jstree-anchor").removeClass(re?"jstree-clicked":"jstree-checked")}k=this.get_node(k.parent)}},this))},this._undetermined=function(){if(null!==this.element){var M,R,u,g,f={},w=this._model.data,k=this.settings.checkbox.tie_selection,L=this._data[k?"core":"checkbox"].selected,N=[],H=this;for(M=0,R=L.length;R>M;M++)if(w[L[M]]&&w[L[M]].parents)for(u=0,g=w[L[M]].parents.length;g>u&&f[w[L[M]].parents[u]]===ke;u++)w[L[M]].parents[u]!==v.jstree.root&&(f[w[L[M]].parents[u]]=!0,N.push(w[L[M]].parents[u]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var re,q=H.get_node(this);if(q)if(q.state.loaded){for(M=0,R=q.children_d.length;R>M;M++)if(!(re=w[q.children_d[M]]).state.loaded&&re.original&&re.original.state&&re.original.state.undetermined&&!0===re.original.state.undetermined)for(f[re.id]===ke&&re.id!==v.jstree.root&&(f[re.id]=!0,N.push(re.id)),u=0,g=re.parents.length;g>u;u++)f[re.parents[u]]===ke&&re.parents[u]!==v.jstree.root&&(f[re.parents[u]]=!0,N.push(re.parents[u]))}else if(q.original&&q.original.state&&q.original.state.undetermined&&!0===q.original.state.undetermined)for(f[q.id]===ke&&q.id!==v.jstree.root&&(f[q.id]=!0,N.push(q.id)),u=0,g=q.parents.length;g>u;u++)f[q.parents[u]]===ke&&q.parents[u]!==v.jstree.root&&(f[q.parents[u]]=!0,N.push(q.parents[u]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),M=0,R=N.length;R>M;M++)w[N[M]].state[k?"selected":"checked"]||(L=this.get_node(N[M],!0))&&L.length&&L.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(M,R,u,g){if(M=j.redraw_node.apply(this,arguments)){var f,w,k=null,L=null;for(f=0,w=M.childNodes.length;w>f;f++)if(M.childNodes[f]&&M.childNodes[f].className&&-1!==M.childNodes[f].className.indexOf("jstree-anchor")){k=M.childNodes[f];break}k&&(!this.settings.checkbox.tie_selection&&this._model.data[M.id].state.checked&&(k.className+=" jstree-checked"),L=Qt.cloneNode(!1),this._model.data[M.id].state.checkbox_disabled&&(L.className+=" jstree-checkbox-disabled"),k.insertBefore(L,k.childNodes[0]))}return u||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(v.proxy(this._undetermined,this),50)),M},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(M){M=this.get_node(M);var u,g,R=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection,w=this._data[f?"core":"checkbox"].selected,k=this._model.data;if(!M||!0===M.state[f?"selected":"checked"]||-1===R.indexOf("undetermined")||-1===R.indexOf("down")&&-1===R.indexOf("up"))return!1;if(!M.state.loaded&&!0===M.original.state.undetermined)return!0;for(u=0,g=M.children_d.length;g>u;u++)if(-1!==v.inArray(M.children_d[u],w)||!k[M.children_d[u]].state.loaded&&k[M.children_d[u]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(M){var R,u,g;if(v.isArray(M)){for(R=0,u=(M=M.slice()).length;u>R;R++)this.disable_checkbox(M[R]);return!0}return!(!(M=this.get_node(M))||M.id===v.jstree.root)&&(g=this.get_node(M,!0),void(M.state.checkbox_disabled||(M.state.checkbox_disabled=!0,g&&g.length&&g.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:M}))))},this.enable_checkbox=function(M){var R,u,g;if(v.isArray(M)){for(R=0,u=(M=M.slice()).length;u>R;R++)this.enable_checkbox(M[R]);return!0}return!(!(M=this.get_node(M))||M.id===v.jstree.root)&&(g=this.get_node(M,!0),void(M.state.checkbox_disabled&&(M.state.checkbox_disabled=!1,g&&g.length&&g.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:M}))))},this.activate_node=function(M,R){return!v(R.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||v(R.target).hasClass("jstree-checkbox"))&&(R.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!v(R.target).hasClass("jstree-checkbox")?j.activate_node.call(this,M,R):!this.is_disabled(M)&&(this.is_checked(M)?this.uncheck_node(M,R):this.check_node(M,R),void this.trigger("activate_node",{node:this.get_node(M)})))},this._cascade_new_checked_state=function(M,R){var u=this,g=this.settings.checkbox.tie_selection,f=this._model.data[M],w=[],k=[];if(!this.settings.checkbox.cascade_to_disabled&&f.state.disabled||!this.settings.checkbox.cascade_to_hidden&&f.state.hidden){var L=this.get_checked_descendants(M);f.state[g?"selected":"checked"]&&L.push(f.id),w=w.concat(L)}else{f.children&&f.children.forEach(function(q){var re=u._cascade_new_checked_state(q,R);w=w.concat(re),re.indexOf(q)>-1&&k.push(q)});var N=u.get_node(f,!0),H=k.length>0&&k.length<f.children.length;f.original&&f.original.state&&f.original.state.undetermined&&(f.original.state.undetermined=H),H?(f.state[g?"selected":"checked"]=!1,N.attr("aria-selected",!1).children(".jstree-anchor").removeClass(g?"jstree-clicked":"jstree-checked")):R&&k.length===f.children.length?(f.state[g?"selected":"checked"]=R,w.push(f.id),N.attr("aria-selected",!0).children(".jstree-anchor").addClass(g?"jstree-clicked":"jstree-checked")):(f.state[g?"selected":"checked"]=!1,N.attr("aria-selected",!1).children(".jstree-anchor").removeClass(g?"jstree-clicked":"jstree-checked"))}return w},this.get_checked_descendants=function(M){var R=this,u=R.settings.checkbox.tie_selection;return R._model.data[M].children_d.filter(function(f){return R._model.data[f].state[u?"selected":"checked"]})},this.check_node=function(M,R){if(this.settings.checkbox.tie_selection)return this.select_node(M,!1,!0,R);var u,g,f;if(v.isArray(M)){for(g=0,f=(M=M.slice()).length;f>g;g++)this.check_node(M[g],R);return!0}return!(!(M=this.get_node(M))||M.id===v.jstree.root)&&(u=this.get_node(M,!0),void(M.state.checked||(M.state.checked=!0,this._data.checkbox.selected.push(M.id),u&&u.length&&u.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:M,selected:this._data.checkbox.selected,event:R}))))},this.uncheck_node=function(M,R){if(this.settings.checkbox.tie_selection)return this.deselect_node(M,!1,R);var u,g,f;if(v.isArray(M)){for(u=0,g=(M=M.slice()).length;g>u;u++)this.uncheck_node(M[u],R);return!0}return!(!(M=this.get_node(M))||M.id===v.jstree.root)&&(f=this.get_node(M,!0),void(M.state.checked&&(M.state.checked=!1,this._data.checkbox.selected=v.vakata.array_remove_item(this._data.checkbox.selected,M.id),f.length&&f.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:M,selected:this._data.checkbox.selected,event:R}))))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var R,u;for(this._data.checkbox.selected.concat([]),this._data.checkbox.selected=this._model.data[v.jstree.root].children_d.concat(),R=0,u=this._data.checkbox.selected.length;u>R;R++)this._model.data[this._data.checkbox.selected[R]]&&(this._model.data[this._data.checkbox.selected[R]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var R,u,M=this._data.checkbox.selected.concat([]);for(R=0,u=this._data.checkbox.selected.length;u>R;R++)this._model.data[this._data.checkbox.selected[R]]&&(this._model.data[this._data.checkbox.selected[R]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:M})},this.is_checked=function(M){return this.settings.checkbox.tie_selection?this.is_selected(M):!(!(M=this.get_node(M))||M.id===v.jstree.root)&&M.state.checked},this.get_checked=function(M){return this.settings.checkbox.tie_selection?this.get_selected(M):M?v.map(this._data.checkbox.selected,v.proxy(function(R){return this.get_node(R)},this)):this._data.checkbox.selected},this.get_top_checked=function(M){if(this.settings.checkbox.tie_selection)return this.get_top_selected(M);var g,f,w,k,R=this.get_checked(!0),u={};for(g=0,f=R.length;f>g;g++)u[R[g].id]=R[g];for(g=0,f=R.length;f>g;g++)for(w=0,k=R[g].children_d.length;k>w;w++)u[R[g].children_d[w]]&&delete u[R[g].children_d[w]];for(g in R=[],u)u.hasOwnProperty(g)&&R.push(g);return M?v.map(R,v.proxy(function(L){return this.get_node(L)},this)):R},this.get_bottom_checked=function(M){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(M);var g,f,R=this.get_checked(!0),u=[];for(g=0,f=R.length;f>g;g++)R[g].children.length||u.push(R[g].id);return M?v.map(u,v.proxy(function(w){return this.get_node(w)},this)):u},this.load_node=function(M,R){var u,g,L;if(!v.isArray(M)&&!this.settings.checkbox.tie_selection&&(L=this.get_node(M))&&L.state.loaded)for(u=0,g=L.children_d.length;g>u;u++)this._model.data[L.children_d[u]].state.checked&&(this._data.checkbox.selected=v.vakata.array_remove_item(this._data.checkbox.selected,L.children_d[u]));return j.load_node.apply(this,arguments)},this.get_state=function(){var M=j.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(M.checkbox=this._data.checkbox.selected.slice()),M},this.set_state=function(M,R){var u=j.set_state.apply(this,arguments);if(u&&M.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var g=this;v.each(M.checkbox,function(f,w){g.check_node(w)})}return delete M.checkbox,this.set_state(M,R),!1}return u},this.refresh=function(M,R){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),j.refresh.apply(this,arguments)}},v.jstree.defaults.conditionalselect=function(){return!0},v.jstree.plugins.conditionalselect=function(T,j){this.activate_node=function(M,R){this.settings.conditionalselect.call(this,this.get_node(M),R)&&j.activate_node.call(this,M,R)}},v.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(T,j){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(M){var R=v.jstree.reference(M.reference),u=R.get_node(M.reference);R.create_node(u,{},"last",function(g){try{R.edit(g)}catch(f){setTimeout(function(){R.edit(g)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(M){var R=v.jstree.reference(M.reference),u=R.get_node(M.reference);R.edit(u)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(M){var R=v.jstree.reference(M.reference),u=R.get_node(M.reference);R.is_selected(u)?R.delete_node(R.get_selected()):R.delete_node(u)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(M){var R=v.jstree.reference(M.reference),u=R.get_node(M.reference);R.is_selected(u)?R.cut(R.get_top_selected()):R.cut(u)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(M){var R=v.jstree.reference(M.reference),u=R.get_node(M.reference);R.is_selected(u)?R.copy(R.get_top_selected()):R.copy(u)}},paste:{separator_before:!1,icon:!1,_disabled:function(M){return!v.jstree.reference(M.reference).can_paste()},separator_after:!1,label:"Paste",action:function(M){var R=v.jstree.reference(M.reference),u=R.get_node(M.reference);R.paste(u)}}}}}}},v.jstree.plugins.contextmenu=function(T,j){this.bind=function(){j.bind.call(this);var u,g,M=0,R=null;this.element.on("init.jstree loading.jstree ready.jstree",v.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",v.proxy(function(f,w){"input"!==f.target.tagName.toLowerCase()&&(f.preventDefault(),M=f.ctrlKey?+new Date:0,(w||R)&&(M=+new Date+1e4),R&&clearTimeout(R),this.is_loading(f.currentTarget)||this.show_contextmenu(f.currentTarget,f.pageX,f.pageY,f))},this)).on("click.jstree",".jstree-anchor",v.proxy(function(f){this._data.contextmenu.visible&&(!M||+new Date-M>250)&&v.vakata.context.hide(),M=0},this)).on("touchstart.jstree",".jstree-anchor",function(f){f.originalEvent&&f.originalEvent.changedTouches&&f.originalEvent.changedTouches[0]&&(u=f.originalEvent.changedTouches[0].clientX,g=f.originalEvent.changedTouches[0].clientY,R=setTimeout(function(){v(f.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(f){R&&f.originalEvent&&f.originalEvent.changedTouches&&f.originalEvent.changedTouches[0]&&(Math.abs(u-f.originalEvent.changedTouches[0].clientX)>50||Math.abs(g-f.originalEvent.changedTouches[0].clientY)>50)&&clearTimeout(R)}).on("touchend.vakata.jstree",function(f){R&&clearTimeout(R)}),v(Ct).on("context_hide.vakata.jstree",v.proxy(function(f,w){this._data.contextmenu.visible=!1,v(w.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&v.vakata.context.hide(),j.teardown.call(this)},this.show_contextmenu=function(M,R,u,g){if(!(M=this.get_node(M))||M.id===v.jstree.root)return!1;var f=this.settings.contextmenu,k=this.get_node(M,!0).children(".jstree-anchor"),L=!1,N=!1;(f.show_at_node||R===ke||u===ke)&&(L=k.offset(),R=L.left,u=L.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(M)&&this.activate_node(M,g),v.isFunction(N=f.items)&&(N=N.call(this,M,v.proxy(function(H){this._show_contextmenu(M,R,u,H)},this))),v.isPlainObject(N)&&this._show_contextmenu(M,R,u,N)},this._show_contextmenu=function(M,R,u,g){var w=this.get_node(M,!0).children(".jstree-anchor");v(Ct).one("context_show.vakata.jstree",v.proxy(function(k,L){var N="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";v(L.element).addClass(N),w.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,v.vakata.context.show(w,{x:R,y:u},g),this.trigger("show_contextmenu",{node:M,x:R,y:u})}},j=!1,M={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1},(T=v).vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(R){T(Ct).triggerHandler("context_"+R+".vakata",{reference:M.reference,element:M.element,position:{x:M.position_x,y:M.position_y}})},_execute:function(R){return!(!(R=M.items[R])||R._disabled&&(!T.isFunction(R._disabled)||R._disabled({item:R,reference:M.reference,element:M.element}))||!R.action)&&R.action.call(null,{item:R,reference:M.reference,element:M.element,position:{x:M.position_x,y:M.position_y}})},_parse:function(R,u){if(!R)return!1;u||(M.html="",M.items=[]);var w,g="",f=!1;return u&&(g+="<ul>"),T.each(R,function(k,L){return!L||(M.items.push(L),!f&&L.separator_before&&(g+="<li class='vakata-context-separator'><a href='#' "+(T.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),f=!1,g+="<li class='"+(L._class||"")+(!0===L._disabled||T.isFunction(L._disabled)&&L._disabled({item:L,reference:M.reference,element:M.element})?" vakata-contextmenu-disabled ":"")+"' "+(L.shortcut?" data-shortcut='"+L.shortcut+"' ":"")+">",g+="<a href='#' rel='"+(M.items.length-1)+"' "+(L.title?"title='"+L.title+"'":"")+">",T.vakata.context.settings.icons&&(g+="<i ",L.icon&&(g+=-1!==L.icon.indexOf("/")||-1!==L.icon.indexOf(".")?" style='background:url(\""+L.icon+"\") center center no-repeat' ":" class='"+L.icon+"' "),g+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),g+=(T.isFunction(L.label)?L.label({item:k,reference:M.reference,element:M.element}):L.label)+(L.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+L.shortcut+'">'+(L.shortcut_label||"")+"</span>":"")+"</a>",L.submenu&&(w=T.vakata.context._parse(L.submenu,!0))&&(g+=w),g+="</li>",void(L.separator_after&&(g+="<li class='vakata-context-separator'><a href='#' "+(T.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",f=!0)))}),g=g.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),u&&(g+="</ul>"),u||(M.html=g,T.vakata.context._trigger("parse")),g.length>10&&g},_show_submenu:function(R){if((R=T(R)).length&&R.children("ul").length){var u=R.children("ul"),g=R.offset().left,f=g+R.outerWidth(),w=R.offset().top,k=u.width(),L=u.height(),N=T(window).width()+T(window).scrollLeft(),H=T(window).height()+T(window).scrollTop();j?R[f-(k+10+R.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):R[f+k>N&&g>N-f?"addClass":"removeClass"]("vakata-context-right"),w+L+10>H&&u.css("bottom","-1px"),R.hasClass("vakata-context-right")?k>g&&u.css("margin-right",g-k):k>N-f&&u.css("margin-left",N-f-k),u.show()}},show:function(R,u,g){var f,w,k,L,N,H,q,re;switch(M.element&&M.element.length&&M.element.width(""),!0){case!u&&!R:return!1;case!!u&&!!R:M.reference=R,M.position_x=u.x,M.position_y=u.y;break;case!u&&!!R:M.reference=R,f=R.offset(),M.position_x=f.left+R.outerHeight(),M.position_y=f.top;break;case!!u&&!R:M.position_x=u.x,M.position_y=u.y}R&&!g&&T(R).data("vakata_contextmenu")&&(g=T(R).data("vakata_contextmenu")),T.vakata.context._parse(g)&&M.element.html(M.html),M.items.length&&(M.element.appendTo("body"),k=M.position_x,L=M.position_y,N=(w=M.element).width(),H=w.height(),q=T(window).width()+T(window).scrollLeft(),re=T(window).height()+T(window).scrollTop(),j&&(k-=w.outerWidth()-T(R).outerWidth())<T(window).scrollLeft()+20&&(k=T(window).scrollLeft()+20),k+N+20>q&&(k=q-(N+20)),L+H+20>re&&(L=re-(H+20)),M.element.css({left:k,top:L}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),M.is_visible=!0,T.vakata.context._trigger("show"))},hide:function(){M.is_visible&&(M.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),M.is_visible=!1,T.vakata.context._trigger("hide"))}},T(function(){j="rtl"===T("body").css("direction");var R=!1;M.element=T("<ul class='vakata-context'></ul>"),M.element.on("mouseenter","li",function(u){u.stopImmediatePropagation(),T.contains(this,u.relatedTarget)||(R&&clearTimeout(R),M.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),T(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),T.vakata.context._show_submenu(this))}).on("mouseleave","li",function(u){T.contains(this,u.relatedTarget)||T(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(u){T(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),T.vakata.context.settings.hide_onmouseleave&&(R=setTimeout(function(){T.vakata.context.hide()},T.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(u){u.preventDefault(),T(this).blur().parent().hasClass("vakata-context-disabled")||!1===T.vakata.context._execute(T(this).attr("rel"))||T.vakata.context.hide()}).on("keydown","a",function(u){var g=null;switch(u.which){case 13:case 32:u.type="click",u.preventDefault(),T(u.currentTarget).trigger(u);break;case 37:M.is_visible&&(M.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),u.stopImmediatePropagation(),u.preventDefault());break;case 38:M.is_visible&&((g=M.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(g=M.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),g.addClass("vakata-context-hover").children("a").focus(),u.stopImmediatePropagation(),u.preventDefault());break;case 39:M.is_visible&&(M.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),u.stopImmediatePropagation(),u.preventDefault());break;case 40:M.is_visible&&((g=M.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(g=M.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),g.addClass("vakata-context-hover").children("a").focus(),u.stopImmediatePropagation(),u.preventDefault());break;case 27:T.vakata.context.hide(),u.preventDefault()}}).on("keydown",function(u){u.preventDefault();var g=M.element.find(".vakata-contextmenu-shortcut-"+u.which).parent();g.parent().not(".vakata-context-disabled")&&g.click()}),T(Ct).on("mousedown.vakata.jstree",function(u){M.is_visible&&M.element[0]!==u.target&&!T.contains(M.element[0],u.target)&&T.vakata.context.hide()}).on("context_show.vakata.jstree",function(u,g){M.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),j&&M.element.addClass("vakata-context-rtl").css("direction","rtl"),M.element.find("ul").hide().end()})}),v.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},v.jstree.plugins.dnd=function(T,j){this.init=function(M,R){j.init.call(this,M,R),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in Ct.createElement("span")},this.bind=function(){j.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",v.proxy(function(M){if(this.settings.dnd.large_drag_target&&v(M.target).closest(".jstree-node")[0]!==M.currentTarget||"touchstart"===M.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!v(M.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var R=this.get_node(M.target),u=this.is_selected(R)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,g=u>1?u+" "+this.get_string("nodes"):this.get_text(M.currentTarget);if(this.settings.core.force_text&&(g=v.vakata.html.escape(g)),R&&R.id&&R.id!==v.jstree.root&&(1===M.which||"touchstart"===M.type||"dragstart"===M.type)&&(!0===this.settings.dnd.is_draggable||v.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,u>1?this.get_top_selected(!0):[R],M))){if(ut={jstree:!0,origin:this,obj:this.get_node(R,!0),nodes:u>1?this.get_top_selected():[R.id]},Qe=M.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),v.vakata.dnd.start(M,ut,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+g+'<ins class="jstree-copy" style="display:none;">+</ins></div>');v.vakata.dnd._trigger("start",M,{helper:v(),element:Qe,data:ut})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(M){return M.preventDefault(),v.vakata.dnd._trigger("move",M,{helper:v(),element:Qe,data:ut}),!1}).on("drop.jstree",v.proxy(function(M){return M.preventDefault(),v.vakata.dnd._trigger("stop",M,{helper:v(),element:Qe,data:ut}),!1},this))},this.redraw_node=function(M,R,u,g){if((M=j.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)M.setAttribute("draggable",!0);else{var f,w,k=null;for(f=0,w=M.childNodes.length;w>f;f++)if(M.childNodes[f]&&M.childNodes[f].className&&-1!==M.childNodes[f].className.indexOf("jstree-anchor")){k=M.childNodes[f];break}k&&k.setAttribute("draggable",!0)}return M}},v(function(){var T=!1,j=!1,M=!1,R=!1,u=v('<div id="jstree-marker">&#160;</div>').hide();v(Ct).on("dnd_start.vakata.jstree",function(g,f){T=!1,M=!1,f&&f.data&&f.data.jstree&&u.appendTo("body")}).on("dnd_move.vakata.jstree",function(g,f){var w=f.event.target!==M.target;if(R&&(!f.event||"dragover"!==f.event.type||w)&&clearTimeout(R),f&&f.data&&f.data.jstree&&(!f.event.target.id||"jstree-marker"!==f.event.target.id)){M=f.event;var re,Z,de,pe,ve,We,Ie,Ne,F,Te,ht,tt,zt,ft,De,Q,k=v.jstree.reference(f.event.target),L=!1,N=!1,H=!1;if(k&&k._data&&k._data.dnd)if(u.attr("class","jstree-"+k.get_theme()+(k.settings.core.themes.responsive?" jstree-dnd-responsive":"")),De=f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(f.event.metaKey||f.event.ctrlKey)),f.helper.children().attr("class","jstree-"+k.get_theme()+" jstree-"+k.get_theme()+"-"+k.get_theme_variant()+" "+(k.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[De?"show":"hide"](),f.event.target!==k.element[0]&&f.event.target!==k.get_container_ul()[0]||0!==k.get_container_ul().children().length){if((L=k.settings.dnd.large_drop_target?v(f.event.target).closest(".jstree-node").children(".jstree-anchor"):v(f.event.target).closest(".jstree-anchor"))&&L.length&&L.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(N=L.offset(),H=(f.event.pageY!==ke?f.event.pageY:f.event.originalEvent.pageY)-N.top,de=L.outerHeight(),v.each(We=de/3>H?["b","i","a"]:H>de-de/3?["a","i","b"]:H>de/2?["i","a","b"]:["i","b","a"],function(ne,ee){switch(ee){case"b":re=N.left-6,Z=N.top,pe=k.get_parent(L),ve=L.parent().index();break;case"i":zt=k.settings.dnd.inside_pos,ft=k.get_node(L.parent()),re=N.left-2,Z=N.top+de/2+1,pe=ft.id,ve="first"===zt?0:"last"===zt?ft.children.length:Math.min(zt,ft.children.length);break;case"a":re=N.left-6,Z=N.top+de,pe=k.get_parent(L),ve=L.parent().index()+1}for(Ie=!0,Ne=0,F=f.data.nodes.length;F>Ne;Ne++)if(ht=ve,"move_node"==(Te=f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(f.event.metaKey||f.event.ctrlKey))?"copy_node":"move_node")&&"a"===ee&&f.data.origin&&f.data.origin===k&&pe===k.get_parent(f.data.nodes[Ne])&&(tt=k.get_node(pe),ht>v.inArray(f.data.nodes[Ne],tt.children)&&(ht-=1)),!(Ie=Ie&&(k&&k.settings&&k.settings.dnd&&!1===k.settings.dnd.check_while_dragging||k.check(Te,f.data.origin&&f.data.origin!==k?f.data.origin.get_node(f.data.nodes[Ne]):f.data.nodes[Ne],pe,ht,{dnd:!0,ref:k.get_node(L.parent()),pos:ee,origin:f.data.origin,is_multi:f.data.origin&&f.data.origin!==k,is_foreign:!f.data.origin})))){k&&k.last_error&&(j=k.last_error());break}return"i"===ee&&L.parent().is(".jstree-closed")&&k.settings.dnd.open_timeout&&(!f.event||"dragover"!==f.event.type||w)&&(R&&clearTimeout(R),R=setTimeout((J=k,we=L,function(){J.open_node(we)}),k.settings.dnd.open_timeout)),Ie?((Q=k.get_node(pe,!0)).hasClass(".jstree-dnd-parent")||(v(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),Q.addClass("jstree-dnd-parent")),T={ins:k,par:pe,pos:"i"!==ee||"last"!==zt||0!==ve||k.is_loaded(ft)?ve:"last"},u.css({left:re+"px",top:Z+"px"}).show(),f.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),f.event.originalEvent&&f.event.originalEvent.dataTransfer&&(f.event.originalEvent.dataTransfer.dropEffect=De?"copy":"move"),j={},We=!0,!1):void 0;var J,we}),!0===We))return}else{for(Ie=!0,Ne=0,F=f.data.nodes.length;F>Ne&&(Ie=Ie&&k.check(f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(f.event.metaKey||f.event.ctrlKey))?"copy_node":"move_node",f.data.origin&&f.data.origin!==k?f.data.origin.get_node(f.data.nodes[Ne]):f.data.nodes[Ne],v.jstree.root,"last",{dnd:!0,ref:k.get_node(v.jstree.root),pos:"i",origin:f.data.origin,is_multi:f.data.origin&&f.data.origin!==k,is_foreign:!f.data.origin}));Ne++);if(Ie)return T={ins:k,par:v.jstree.root,pos:"last"},u.hide(),f.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(f.event.originalEvent&&f.event.originalEvent.dataTransfer&&(f.event.originalEvent.dataTransfer.dropEffect=De?"copy":"move"))}v(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),T=!1,f.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),f.event.originalEvent&&f.event.originalEvent.dataTransfer&&(f.event.originalEvent.dataTransfer.dropEffect="none"),u.hide()}}).on("dnd_scroll.vakata.jstree",function(g,f){f&&f.data&&f.data.jstree&&(u.hide(),T=!1,M=!1,f.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(g,f){if(v(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),R&&clearTimeout(R),f&&f.data&&f.data.jstree){u.hide().detach();var w,k,L=[];if(T){for(w=0,k=f.data.nodes.length;k>w;w++)L[w]=f.data.origin?f.data.origin.get_node(f.data.nodes[w]):f.data.nodes[w];T.ins[f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(f.event.metaKey||f.event.ctrlKey))?"copy_node":"move_node"](L,T.par,T.pos,!1,!1,!1,f.data.origin)}else(w=v(f.event.target).closest(".jstree")).length&&j&&j.error&&"check"===j.error&&(w=w.jstree(!0))&&w.settings.core.error.call(this,j);M=!1,T=!1}}).on("keyup.jstree keydown.jstree",function(g,f){(f=v.vakata.dnd._get())&&f.data&&f.data.jstree&&("keyup"===g.type&&27===g.which?(R&&clearTimeout(R),T=!1,j=!1,M=!1,R=!1,u.hide().detach(),v.vakata.dnd._clean()):(f.helper.find(".jstree-copy").first()[f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(g.metaKey||g.ctrlKey))?"show":"hide"](),M&&(M.metaKey=g.metaKey,M.ctrlKey=g.ctrlKey,v.vakata.dnd._trigger("move",M))))})}),function(T){T.vakata.html={div:T("<div />"),escape:function(M){return T.vakata.html.div.text(M).html()},strip:function(M){return T.vakata.html.div.empty().append(T.parseHTML(M)).text()}};var j={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};T.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(M,R,u){u===ke&&(u=T.vakata.dnd._get()),u.event=R,T(Ct).triggerHandler("dnd_"+M+".vakata",u)},_get:function(){return{data:j.data,element:j.element,helper:j.helper}},_clean:function(){j.helper&&j.helper.remove(),j.scroll_i&&(clearInterval(j.scroll_i),j.scroll_i=!1),j={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},T(Ct).off("mousemove.vakata.jstree touchmove.vakata.jstree",T.vakata.dnd.drag),T(Ct).off("mouseup.vakata.jstree touchend.vakata.jstree",T.vakata.dnd.stop)},_scroll:function(M){if(!j.scroll_e||!j.scroll_l&&!j.scroll_t)return j.scroll_i&&(clearInterval(j.scroll_i),j.scroll_i=!1),!1;if(!j.scroll_i)return j.scroll_i=setInterval(T.vakata.dnd._scroll,100),!1;if(!0===M)return!1;var R=j.scroll_e.scrollTop(),u=j.scroll_e.scrollLeft();j.scroll_e.scrollTop(R+j.scroll_t*T.vakata.dnd.settings.scroll_speed),j.scroll_e.scrollLeft(u+j.scroll_l*T.vakata.dnd.settings.scroll_speed),(R!==j.scroll_e.scrollTop()||u!==j.scroll_e.scrollLeft())&&T.vakata.dnd._trigger("scroll",j.scroll_e)},start:function(M,R,u){"touchstart"===M.type&&M.originalEvent&&M.originalEvent.changedTouches&&M.originalEvent.changedTouches[0]&&(M.pageX=M.originalEvent.changedTouches[0].pageX,M.pageY=M.originalEvent.changedTouches[0].pageY,M.target=Ct.elementFromPoint(M.originalEvent.changedTouches[0].pageX-window.pageXOffset,M.originalEvent.changedTouches[0].pageY-window.pageYOffset)),j.is_drag&&T.vakata.dnd.stop({});try{M.currentTarget.unselectable="on",M.currentTarget.onselectstart=function(){return!1},M.currentTarget.style&&(M.currentTarget.style.touchAction="none",M.currentTarget.style.msTouchAction="none",M.currentTarget.style.MozUserSelect="none")}catch(g){}return j.init_x=M.pageX,j.init_y=M.pageY,j.data=R,j.is_down=!0,j.element=M.currentTarget,j.target=M.target,j.is_touch="touchstart"===M.type,!1!==u&&(j.helper=T("<div id='vakata-dnd'></div>").html(u).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),T(Ct).on("mousemove.vakata.jstree touchmove.vakata.jstree",T.vakata.dnd.drag),T(Ct).on("mouseup.vakata.jstree touchend.vakata.jstree",T.vakata.dnd.stop),!1},drag:function(M){if("touchmove"===M.type&&M.originalEvent&&M.originalEvent.changedTouches&&M.originalEvent.changedTouches[0]&&(M.pageX=M.originalEvent.changedTouches[0].pageX,M.pageY=M.originalEvent.changedTouches[0].pageY,M.target=Ct.elementFromPoint(M.originalEvent.changedTouches[0].pageX-window.pageXOffset,M.originalEvent.changedTouches[0].pageY-window.pageYOffset)),j.is_down){if(!j.is_drag){if(!(Math.abs(M.pageX-j.init_x)>(j.is_touch?T.vakata.dnd.settings.threshold_touch:T.vakata.dnd.settings.threshold)||Math.abs(M.pageY-j.init_y)>(j.is_touch?T.vakata.dnd.settings.threshold_touch:T.vakata.dnd.settings.threshold)))return;j.helper&&(j.helper.appendTo("body"),j.helper_w=j.helper.outerWidth()),j.is_drag=!0,T(j.target).one("click.vakata",!1),T.vakata.dnd._trigger("start",M)}var R=!1,u=!1,g=!1,f=!1,w=!1,k=!1,L=!1,N=!1,H=!1,q=!1;return j.scroll_t=0,j.scroll_l=0,j.scroll_e=!1,T(T(M.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(T(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var re=T(this),Z=re.offset();return this.scrollHeight>this.offsetHeight&&(Z.top+re.height()-M.pageY<T.vakata.dnd.settings.scroll_proximity&&(j.scroll_t=1),M.pageY-Z.top<T.vakata.dnd.settings.scroll_proximity&&(j.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(Z.left+re.width()-M.pageX<T.vakata.dnd.settings.scroll_proximity&&(j.scroll_l=1),M.pageX-Z.left<T.vakata.dnd.settings.scroll_proximity&&(j.scroll_l=-1)),j.scroll_t||j.scroll_l?(j.scroll_e=T(this),!1):void 0}),j.scroll_e||(R=T(Ct),u=T(window),g=R.height(),f=u.height(),w=R.width(),k=u.width(),L=R.scrollTop(),N=R.scrollLeft(),g>f&&M.pageY-L<T.vakata.dnd.settings.scroll_proximity&&(j.scroll_t=-1),g>f&&f-(M.pageY-L)<T.vakata.dnd.settings.scroll_proximity&&(j.scroll_t=1),w>k&&M.pageX-N<T.vakata.dnd.settings.scroll_proximity&&(j.scroll_l=-1),w>k&&k-(M.pageX-N)<T.vakata.dnd.settings.scroll_proximity&&(j.scroll_l=1),(j.scroll_t||j.scroll_l)&&(j.scroll_e=R)),j.scroll_e&&T.vakata.dnd._scroll(!0),j.helper&&(H=parseInt(M.pageY+T.vakata.dnd.settings.helper_top,10),q=parseInt(M.pageX+T.vakata.dnd.settings.helper_left,10),g&&H+25>g&&(H=g-50),w&&q+j.helper_w>w&&(q=w-(j.helper_w+2)),j.helper.css({left:q+"px",top:H+"px"})),T.vakata.dnd._trigger("move",M),!1}},stop:function(M){if("touchend"===M.type&&M.originalEvent&&M.originalEvent.changedTouches&&M.originalEvent.changedTouches[0]&&(M.pageX=M.originalEvent.changedTouches[0].pageX,M.pageY=M.originalEvent.changedTouches[0].pageY,M.target=Ct.elementFromPoint(M.originalEvent.changedTouches[0].pageX-window.pageXOffset,M.originalEvent.changedTouches[0].pageY-window.pageYOffset)),j.is_drag)M.target!==j.target&&T(j.target).off("click.vakata"),T.vakata.dnd._trigger("stop",M);else if("touchend"===M.type&&M.target===j.target){var R=setTimeout(function(){T(M.target).click()},100);T(M.target).one("click",function(){R&&clearTimeout(R)})}return T.vakata.dnd._clean(),!1}}}(v),v.jstree.defaults.massload=null,v.jstree.plugins.massload=function(T,j){this.init=function(M,R){this._data.massload={},j.init.call(this,M,R)},this._load_nodes=function(M,R,u,g){var N,H,q,f=this.settings.massload,k=(JSON.stringify(M),[]),L=this._model.data;if(!u){for(N=0,H=M.length;H>N;N++)(!L[M[N]]||!L[M[N]].state.loaded&&!L[M[N]].state.failed||g)&&(k.push(M[N]),(q=this.get_node(M[N],!0))&&q.length&&q.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},k.length){if(v.isFunction(f))return f.call(this,k,v.proxy(function(re){var Z,de;if(re)for(Z in re)re.hasOwnProperty(Z)&&(this._data.massload[Z]=re[Z]);for(Z=0,de=M.length;de>Z;Z++)(q=this.get_node(M[Z],!0))&&q.length&&q.removeClass("jstree-loading").attr("aria-busy",!1);j._load_nodes.call(this,M,R,u,g)},this));if("object"==typeof f&&f&&f.url)return f=v.extend(!0,{},f),v.isFunction(f.url)&&(f.url=f.url.call(this,k)),v.isFunction(f.data)&&(f.data=f.data.call(this,k)),v.ajax(f).done(v.proxy(function(re,Z,de){var pe,ve;if(re)for(pe in re)re.hasOwnProperty(pe)&&(this._data.massload[pe]=re[pe]);for(pe=0,ve=M.length;ve>pe;pe++)(q=this.get_node(M[pe],!0))&&q.length&&q.removeClass("jstree-loading").attr("aria-busy",!1);j._load_nodes.call(this,M,R,u,g)},this)).fail(v.proxy(function(re){j._load_nodes.call(this,M,R,u,g)},this))}}return j._load_nodes.call(this,M,R,u,g)},this._load_node=function(M,R){var f,u=this._data.massload[M.id],g=null;return u?(g=this["string"==typeof u?"_append_html_data":"_append_json_data"](M,"string"==typeof u?v(v.parseHTML(u)).filter(function(){return 3!==this.nodeType}):u,function(w){R.call(this,w)}),(f=this.get_node(M.id,!0))&&f.length&&f.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[M.id],g):j._load_node.call(this,M,R)}},v.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},v.jstree.plugins.search=function(T,j){this.bind=function(){j.bind.call(this),this._data.search.str="",this._data.search.dom=v(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",v.proxy(function(M,R){if(this._data.search.som&&R.res.length){var g,f,k,L,u=this._model.data,w=[];for(g=0,f=R.res.length;f>g;g++)if(u[R.res[g]]&&!u[R.res[g]].state.hidden&&(w.push(R.res[g]),w=w.concat(u[R.res[g]].parents),this._data.search.smc))for(k=0,L=u[R.res[g]].children_d.length;L>k;k++)u[u[R.res[g]].children_d[k]]&&!u[u[R.res[g]].children_d[k]].state.hidden&&w.push(u[R.res[g]].children_d[k]);w=v.vakata.array_remove_item(v.vakata.array_unique(w),v.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(w,!0),this.redraw(!0)}},this)).on("clear_search.jstree",v.proxy(function(M,R){this._data.search.som&&R.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(M,R,u,g,f,w){if(!1===M||""===v.trim(M.toString()))return this.clear_search();g=(g=this.get_node(g))&&g.id?g.id:null,M=M.toString();var Z,de,k=this.settings.search,L=!!k.ajax&&k.ajax,N=this._model.data,H=null,q=[],re=[];if(this._data.search.res.length&&!f&&this.clear_search(),u===ke&&(u=k.show_only_matches),w===ke&&(w=k.show_only_matches_children),!R&&!1!==L)return v.isFunction(L)?L.call(this,M,v.proxy(function(pe){pe&&pe.d&&(pe=pe.d),this._load_nodes(v.isArray(pe)?v.vakata.array_unique(pe):[],function(){this.search(M,!0,u,g,f,w)})},this),g):((L=v.extend({},L)).data||(L.data={}),L.data.str=M,g&&(L.data.inside=g),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=v.ajax(L).fail(v.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(L)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(v.proxy(function(pe){pe&&pe.d&&(pe=pe.d),this._load_nodes(v.isArray(pe)?v.vakata.array_unique(pe):[],function(){this.search(M,!0,u,g,f,w)})},this)),this._data.search.lastRequest);if(f||(this._data.search.str=M,this._data.search.dom=v(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=u,this._data.search.smc=w),H=new v.vakata.search(M,!0,{caseSensitive:k.case_sensitive,fuzzy:k.fuzzy}),v.each(N[g||v.jstree.root].children_d,function(pe,ve){var We=N[ve];We.text&&!We.state.hidden&&(!k.search_leaves_only||We.state.loaded&&0===We.children.length)&&(k.search_callback&&k.search_callback.call(this,M,We)||!k.search_callback&&H.search(We.text).isMatch)&&(q.push(ve),re=re.concat(We.parents))}),q.length){for(Z=0,de=(re=v.vakata.array_unique(re)).length;de>Z;Z++)re[Z]!==v.jstree.root&&N[re[Z]]&&!0===this.open_node(re[Z],null,0)&&this._data.search.opn.push(re[Z]);f?(this._data.search.dom=this._data.search.dom.add(v(this.element[0].querySelectorAll("#"+v.map(q,function(pe){return-1!=="0123456789".indexOf(pe[0])?"\\3"+pe[0]+" "+pe.substr(1).replace(v.jstree.idregex,"\\$&"):pe.replace(v.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=v.vakata.array_unique(this._data.search.res.concat(q))):(this._data.search.dom=v(this.element[0].querySelectorAll("#"+v.map(q,function(pe){return-1!=="0123456789".indexOf(pe[0])?"\\3"+pe[0]+" "+pe.substr(1).replace(v.jstree.idregex,"\\$&"):pe.replace(v.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=q),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:M,res:this._data.search.res,show_only_matches:u})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=v(this.element[0].querySelectorAll("#"+v.map(this._data.search.res,function(M){return-1!=="0123456789".indexOf(M[0])?"\\3"+M[0]+" "+M.substr(1).replace(v.jstree.idregex,"\\$&"):M.replace(v.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=v()},this.redraw_node=function(M,R,u,g){if((M=j.redraw_node.apply(this,arguments))&&-1!==v.inArray(M.id,this._data.search.res)){var f,w,k=null;for(f=0,w=M.childNodes.length;w>f;f++)if(M.childNodes[f]&&M.childNodes[f].className&&-1!==M.childNodes[f].className.indexOf("jstree-anchor")){k=M.childNodes[f];break}k&&(k.className+=" jstree-search")}return M}},function(T){T.vakata.search=function(j,M,R){!1!==(R=T.extend({},T.vakata.search.defaults,R=R||{})).fuzzy&&(R.fuzzy=!0),j=R.caseSensitive?j:j.toLowerCase();var k,L,N,H,u=R.location,g=R.distance,f=R.threshold,w=j.length;return w>32&&(R.fuzzy=!1),R.fuzzy&&(k=1<<w-1,L=function(){var q={},re=0;for(re=0;w>re;re++)q[j.charAt(re)]=0;for(re=0;w>re;re++)q[j.charAt(re)]|=1<<w-re-1;return q}(),N=function(q,re){var Z=q/w,de=Math.abs(u-re);return g?Z+de/g:de?1:Z}),H=function(q){if(q=R.caseSensitive?q:q.toLowerCase(),j===q||-1!==q.indexOf(j))return{isMatch:!0,score:0};if(!R.fuzzy)return{isMatch:!1,score:1};var re,Z,We,Ie,F,Te,ht,tt,zt,de=q.length,pe=f,ve=q.indexOf(j,u),Ne=w+de,ft=1,De=[];for(-1!==ve&&(pe=Math.min(N(0,ve),pe),-1!==(ve=q.lastIndexOf(j,u+w))&&(pe=Math.min(N(0,ve),pe))),ve=-1,re=0;w>re;re++){for(We=0,Ie=Ne;Ie>We;)N(re,u+Ie)<=pe?We=Ie:Ne=Ie,Ie=Math.floor((Ne-We)/2+We);for(Ne=Ie,Te=Math.max(1,u-Ie+1),ht=Math.min(u+Ie,de)+w,(tt=new Array(ht+2))[ht+1]=(1<<re)-1,Z=ht;Z>=Te;Z--)if(zt=L[q.charAt(Z-1)],tt[Z]=0===re?(tt[Z+1]<<1|1)&zt:(tt[Z+1]<<1|1)&zt|(F[Z+1]|F[Z])<<1|1|F[Z+1],tt[Z]&k&&pe>=(ft=N(re,Z-1))){if(pe=ft,De.push(ve=Z-1),!(ve>u))break;Te=Math.max(1,2*u-ve)}if(N(re+1,u)>pe)break;F=tt}return{isMatch:ve>=0,score:ft}},!0===M?{search:H}:H(M)},T.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(v),v.jstree.defaults.sort=function(T,j){return this.get_text(T)>this.get_text(j)?1:-1},v.jstree.plugins.sort=function(T,j){this.bind=function(){j.bind.call(this),this.element.on("model.jstree",v.proxy(function(M,R){this.sort(R.parent,!0)},this)).on("rename_node.jstree create_node.jstree",v.proxy(function(M,R){this.sort(R.parent||R.node.parent,!1),this.redraw_node(R.parent||R.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",v.proxy(function(M,R){this.sort(R.parent,!1),this.redraw_node(R.parent,!0)},this))},this.sort=function(M,R){var u,g;if((M=this.get_node(M))&&M.children&&M.children.length&&(M.children.sort(v.proxy(this.settings.sort,this)),R))for(u=0,g=M.children_d.length;g>u;u++)this.sort(M.children_d[u],!1)}};var gt=!1;v.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},v.jstree.plugins.state=function(T,j){this.bind=function(){j.bind.call(this);var M=v.proxy(function(){this.element.on(this.settings.state.events,v.proxy(function(){gt&&clearTimeout(gt),gt=setTimeout(v.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",v.proxy(function(R,u){this.element.one("restore_state.jstree",M),this.restore_state()||M()},this))},this.save_state=function(){var M={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};v.vakata.storage.set(this.settings.state.key,JSON.stringify(M))},this.restore_state=function(){var M=v.vakata.storage.get(this.settings.state.key);if(M)try{M=JSON.parse(M)}catch(R){return!1}return!(M&&M.ttl&&M.sec&&+new Date-M.sec>M.ttl||(M&&M.state&&(M=M.state),M&&v.isFunction(this.settings.state.filter)&&(M=this.settings.state.filter.call(this,M)),!M||(this.element.one("set_state.jstree",function(R,u){u.instance.trigger("restore_state",{state:v.extend(!0,{},M)})}),this.set_state(M),0)))},this.clear_state=function(){return v.vakata.storage.del(this.settings.state.key)}},function(T,j){T.vakata.storage={set:function(M,R){return window.localStorage.setItem(M,R)},get:function(M){return window.localStorage.getItem(M)},del:function(M){return window.localStorage.removeItem(M)}}}(v),v.jstree.defaults.types={default:{}},v.jstree.defaults.types[v.jstree.root]={},v.jstree.plugins.types=function(T,j){this.init=function(M,R){var u,g;if(R&&R.types&&R.types.default)for(u in R.types)if("default"!==u&&u!==v.jstree.root&&R.types.hasOwnProperty(u))for(g in R.types.default)R.types.default.hasOwnProperty(g)&&R.types[u][g]===ke&&(R.types[u][g]=R.types.default[g]);j.init.call(this,M,R),this._model.data[v.jstree.root].type=v.jstree.root},this.refresh=function(M,R){j.refresh.call(this,M,R),this._model.data[v.jstree.root].type=v.jstree.root},this.bind=function(){this.element.on("model.jstree",v.proxy(function(M,R){var w,k,N,u=this._model.data,g=R.nodes,f=this.settings.types,L="default";for(w=0,k=g.length;k>w;w++){if(L="default",u[g[w]].original&&u[g[w]].original.type&&f[u[g[w]].original.type]&&(L=u[g[w]].original.type),u[g[w]].data&&u[g[w]].data.jstree&&u[g[w]].data.jstree.type&&f[u[g[w]].data.jstree.type]&&(L=u[g[w]].data.jstree.type),u[g[w]].type=L,!0===u[g[w]].icon&&f[L].icon!==ke&&(u[g[w]].icon=f[L].icon),f[L].li_attr!==ke&&"object"==typeof f[L].li_attr)for(N in f[L].li_attr)if(f[L].li_attr.hasOwnProperty(N)){if("id"===N)continue;u[g[w]].li_attr[N]===ke?u[g[w]].li_attr[N]=f[L].li_attr[N]:"class"===N&&(u[g[w]].li_attr.class=f[L].li_attr.class+" "+u[g[w]].li_attr.class)}if(f[L].a_attr!==ke&&"object"==typeof f[L].a_attr)for(N in f[L].a_attr)if(f[L].a_attr.hasOwnProperty(N)){if("id"===N)continue;u[g[w]].a_attr[N]===ke?u[g[w]].a_attr[N]=f[L].a_attr[N]:"href"===N&&"#"===u[g[w]].a_attr[N]?u[g[w]].a_attr.href=f[L].a_attr.href:"class"===N&&(u[g[w]].a_attr.class=f[L].a_attr.class+" "+u[g[w]].a_attr.class)}}u[v.jstree.root].type=v.jstree.root},this)),j.bind.call(this)},this.get_json=function(M,R,u){var g,f,w=this._model.data,k=R?v.extend(!0,{},R,{no_id:!1}):{},L=j.get_json.call(this,M,k,u);if(!1===L)return!1;if(v.isArray(L))for(g=0,f=L.length;f>g;g++)L[g].type=L[g].id&&w[L[g].id]&&w[L[g].id].type?w[L[g].id].type:"default",R&&R.no_id&&(delete L[g].id,L[g].li_attr&&L[g].li_attr.id&&delete L[g].li_attr.id,L[g].a_attr&&L[g].a_attr.id&&delete L[g].a_attr.id);else L.type=L.id&&w[L.id]&&w[L.id].type?w[L.id].type:"default",R&&R.no_id&&(L=this._delete_ids(L));return L},this._delete_ids=function(M){if(v.isArray(M)){for(var R=0,u=M.length;u>R;R++)M[R]=this._delete_ids(M[R]);return M}return delete M.id,M.li_attr&&M.li_attr.id&&delete M.li_attr.id,M.a_attr&&M.a_attr.id&&delete M.a_attr.id,M.children&&v.isArray(M.children)&&(M.children=this._delete_ids(M.children)),M},this.check=function(M,R,u,g,f){if(!1===j.check.call(this,M,R,u,g,f))return!1;R=R&&R.id?R:this.get_node(R),u=u&&u.id?u:this.get_node(u);var k,L,N,H,w=R&&R.id?f&&f.origin?f.origin:v.jstree.reference(R.id):null;switch(w=w&&w._model&&w._model.data?w._model.data:null,M){case"create_node":case"move_node":case"copy_node":if("move_node"!==M||-1===v.inArray(R.id,u.children)){if((k=this.get_rules(u)).max_children!==ke&&-1!==k.max_children&&k.max_children===u.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+M,data:JSON.stringify({chk:M,pos:g,obj:!(!R||!R.id)&&R.id,par:!(!u||!u.id)&&u.id})},!1;if(k.valid_children!==ke&&-1!==k.valid_children&&-1===v.inArray(R.type||"default",k.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+M,data:JSON.stringify({chk:M,pos:g,obj:!(!R||!R.id)&&R.id,par:!(!u||!u.id)&&u.id})},!1;if(w&&R.children_d&&R.parents){for(L=0,N=0,H=R.children_d.length;H>N;N++)L=Math.max(L,w[R.children_d[N]].parents.length);L=L-R.parents.length+1}(0>=L||L===ke)&&(L=1);do{if(k.max_depth!==ke&&-1!==k.max_depth&&k.max_depth<L)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+M,data:JSON.stringify({chk:M,pos:g,obj:!(!R||!R.id)&&R.id,par:!(!u||!u.id)&&u.id})},!1;u=this.get_node(u.parent),k=this.get_rules(u),L++}while(u)}}return!0},this.get_rules=function(M){if(!(M=this.get_node(M)))return!1;var R=this.get_type(M,!0);return R.max_depth===ke&&(R.max_depth=-1),R.max_children===ke&&(R.max_children=-1),R.valid_children===ke&&(R.valid_children=-1),R},this.get_type=function(M,R){return!!(M=this.get_node(M))&&(R?v.extend({type:M.type},this.settings.types[M.type]):M.type)},this.set_type=function(M,R){var g,f,w,k,L,N,H,q,u=this._model.data;if(v.isArray(M)){for(f=0,w=(M=M.slice()).length;w>f;f++)this.set_type(M[f],R);return!0}if(g=this.settings.types,M=this.get_node(M),!g[R]||!M)return!1;if((H=this.get_node(M,!0))&&H.length&&(q=H.children(".jstree-anchor")),k=M.type,L=this.get_icon(M),M.type=R,(!0===L||!g[k]||g[k].icon!==ke&&L===g[k].icon)&&this.set_icon(M,g[R].icon===ke||g[R].icon),g[k]&&g[k].li_attr!==ke&&"object"==typeof g[k].li_attr)for(N in g[k].li_attr)if(g[k].li_attr.hasOwnProperty(N)){if("id"===N)continue;"class"===N?(u[M.id].li_attr.class=(u[M.id].li_attr.class||"").replace(g[k].li_attr[N],""),H&&H.removeClass(g[k].li_attr[N])):u[M.id].li_attr[N]===g[k].li_attr[N]&&(u[M.id].li_attr[N]=null,H&&H.removeAttr(N))}if(g[k]&&g[k].a_attr!==ke&&"object"==typeof g[k].a_attr)for(N in g[k].a_attr)if(g[k].a_attr.hasOwnProperty(N)){if("id"===N)continue;"class"===N?(u[M.id].a_attr.class=(u[M.id].a_attr.class||"").replace(g[k].a_attr[N],""),q&&q.removeClass(g[k].a_attr[N])):u[M.id].a_attr[N]===g[k].a_attr[N]&&("href"===N?(u[M.id].a_attr[N]="#",q&&q.attr("href","#")):(delete u[M.id].a_attr[N],q&&q.removeAttr(N)))}if(g[R].li_attr!==ke&&"object"==typeof g[R].li_attr)for(N in g[R].li_attr)if(g[R].li_attr.hasOwnProperty(N)){if("id"===N)continue;u[M.id].li_attr[N]===ke?(u[M.id].li_attr[N]=g[R].li_attr[N],H&&("class"===N?H.addClass(g[R].li_attr[N]):H.attr(N,g[R].li_attr[N]))):"class"===N&&(u[M.id].li_attr.class=g[R].li_attr[N]+" "+u[M.id].li_attr.class,H&&H.addClass(g[R].li_attr[N]))}if(g[R].a_attr!==ke&&"object"==typeof g[R].a_attr)for(N in g[R].a_attr)if(g[R].a_attr.hasOwnProperty(N)){if("id"===N)continue;u[M.id].a_attr[N]===ke?(u[M.id].a_attr[N]=g[R].a_attr[N],q&&("class"===N?q.addClass(g[R].a_attr[N]):q.attr(N,g[R].a_attr[N]))):"href"===N&&"#"===u[M.id].a_attr[N]?(u[M.id].a_attr.href=g[R].a_attr.href,q&&q.attr("href",g[R].a_attr.href)):"class"===N&&(u[M.id].a_attr.class=g[R].a_attr.class+" "+u[M.id].a_attr.class,q&&q.addClass(g[R].a_attr[N]))}return!0}},v.jstree.defaults.unique={case_sensitive:!1,duplicate:function(T,j){return T+" ("+j+")"}},v.jstree.plugins.unique=function(T,j){this.check=function(M,R,u,g,f){if(!1===j.check.call(this,M,R,u,g,f))return!1;if(R=R&&R.id?R:this.get_node(R),!(u=u&&u.id?u:this.get_node(u))||!u.children)return!0;var H,q,w="rename_node"===M?g:R.text,k=[],L=this.settings.unique.case_sensitive,N=this._model.data;for(H=0,q=u.children.length;q>H;H++)k.push(L?N[u.children[H]].text:N[u.children[H]].text.toLowerCase());switch(L||(w=w.toLowerCase()),M){case"delete_node":return!0;case"rename_node":return(H=-1===v.inArray(w,k)||R.text&&R.text[L?"toString":"toLowerCase"]()===w)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+w+" already exists. Preventing: "+M,data:JSON.stringify({chk:M,pos:g,obj:!(!R||!R.id)&&R.id,par:!(!u||!u.id)&&u.id})}),H;case"create_node":return(H=-1===v.inArray(w,k))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+w+" already exists. Preventing: "+M,data:JSON.stringify({chk:M,pos:g,obj:!(!R||!R.id)&&R.id,par:!(!u||!u.id)&&u.id})}),H;case"copy_node":return(H=-1===v.inArray(w,k))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+w+" already exists. Preventing: "+M,data:JSON.stringify({chk:M,pos:g,obj:!(!R||!R.id)&&R.id,par:!(!u||!u.id)&&u.id})}),H;case"move_node":return(H=R.parent===u.id&&(!f||!f.is_multi)||-1===v.inArray(w,k))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+w+" already exists. Preventing: "+M,data:JSON.stringify({chk:M,pos:g,obj:!(!R||!R.id)&&R.id,par:!(!u||!u.id)&&u.id})}),H}return!0},this.create_node=function(M,R,u,g,f){if(!R||R.text===ke){if(null===M&&(M=v.jstree.root),!(M=this.get_node(M)))return j.create_node.call(this,M,R,u,g,f);if(!(u=u===ke?"last":u).toString().match(/^(before|after)$/)&&!f&&!this.is_loaded(M))return j.create_node.call(this,M,R,u,g,f);R||(R={});var w,k,L,N,H,q=this._model.data,re=this.settings.unique.case_sensitive,Z=this.settings.unique.duplicate;for(k=w=this.get_string("New node"),L=[],N=0,H=M.children.length;H>N;N++)L.push(re?q[M.children[N]].text:q[M.children[N]].text.toLowerCase());for(N=1;-1!==v.inArray(re?k:k.toLowerCase(),L);)k=Z.call(this,w,++N).toString();R.text=k}return j.create_node.call(this,M,R,u,g,f)}};var Ke=Ct.createElement("DIV");if(Ke.setAttribute("unselectable","on"),Ke.setAttribute("role","presentation"),Ke.className="jstree-wholerow",Ke.innerHTML="&#160;",v.jstree.plugins.wholerow=function(T,j){this.bind=function(){j.bind.call(this),this.element.on("ready.jstree set_state.jstree",v.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",v.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",v.proxy(function(M,R){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",v.proxy(function(M,R){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var g,f,u=!1;for(g=0,f=R.selected.length;f>g;g++)(u=this.get_node(R.selected[g],!0))&&u.length&&u.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",v.proxy(function(M,R){this.get_node(R.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",v.proxy(function(M,R){"hover_node"===M.type&&this.is_disabled(R.node)||this.get_node(R.node,!0).children(".jstree-wholerow")["hover_node"===M.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",v.proxy(function(M){if(this._data.contextmenu){M.preventDefault();var R=v.Event("contextmenu",{metaKey:M.metaKey,ctrlKey:M.ctrlKey,altKey:M.altKey,shiftKey:M.shiftKey,pageX:M.pageX,pageY:M.pageY});v(M.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(R)}},this)).on("click.jstree",".jstree-wholerow",function(M){M.stopImmediatePropagation();var R=v.Event("click",{metaKey:M.metaKey,ctrlKey:M.ctrlKey,altKey:M.altKey,shiftKey:M.shiftKey});v(M.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(R).focus()}).on("dblclick.jstree",".jstree-wholerow",function(M){M.stopImmediatePropagation();var R=v.Event("dblclick",{metaKey:M.metaKey,ctrlKey:M.ctrlKey,altKey:M.altKey,shiftKey:M.shiftKey});v(M.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(R).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",v.proxy(function(M){M.stopImmediatePropagation();var R=v.Event("click",{metaKey:M.metaKey,ctrlKey:M.ctrlKey,altKey:M.altKey,shiftKey:M.shiftKey});v(M.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(R).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",v.proxy(function(M){return M.stopImmediatePropagation(),this.is_disabled(M.currentTarget)||this.hover_node(M.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",v.proxy(function(M){this.dehover_node(M.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),j.teardown.call(this)},this.redraw_node=function(M,R,u,g){if(M=j.redraw_node.apply(this,arguments)){var f=Ke.cloneNode(!0);-1!==v.inArray(M.id,this._data.core.selected)&&(f.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===M.id&&(f.className+=" jstree-wholerow-hovered"),M.insertBefore(f,M.childNodes[0])}return M}},Ct.registerElement&&Object&&Object.create){var rt=Object.create(HTMLElement.prototype);rt.createdCallback=function(){var j,T={core:{},plugins:[]};for(j in v.jstree.plugins)v.jstree.plugins.hasOwnProperty(j)&&this.attributes[j]&&(T.plugins.push(j),this.getAttribute(j)&&JSON.parse(this.getAttribute(j))&&(T[j]=JSON.parse(this.getAttribute(j))));for(j in v.jstree.defaults.core)v.jstree.defaults.core.hasOwnProperty(j)&&this.attributes[j]&&(T.core[j]=JSON.parse(this.getAttribute(j))||this.getAttribute(j));v(this).jstree(T)};try{Ct.registerElement("vakata-jstree",{prototype:rt})}catch(T){}}}var T,j,M}),function(v){var Pt,ke=new Array,Le=new Array,Fe=new Array,at=new Array,vt=new Array,At={init:function(Qe,gt){Pt=v.extend({bind:"keyup change",changeBackground:!0,backgrounds:[["#cc0000","#FFF"],["#cc3333","#FFF"],["#cc6666","#FFF"],["#ff9999","#FFF"],["#e0941c","#FFF"],["#e8a53a","#FFF"],["#eab259","#FFF"],["#efd09e","#FFF"],["#ccffcc","#FFF"],["#66cc66","#FFF"],["#339933","#FFF"],["#006600","#FFF"],["#105610","#FFF"]],onValidatePassword:function(rt){},onPasswordStrengthChanged:function(rt,T){}},Qe);for(var Ke=48;Ke<58;Ke++)ke.push(Ke);for(Ke=65;Ke<91;Ke++)Le.push(Ke);for(Ke=97;Ke<123;Ke++)Fe.push(Ke);for(Ke=32;Ke<48;Ke++)at.push(Ke);for(Ke=58;Ke<65;Ke++)at.push(Ke);for(Ke=91;Ke<97;Ke++)at.push(Ke);for(Ke=123;Ke<127;Ke++)at.push(Ke);return this.each(v.proxy(function(rt,T){vt[v(T)]={background:v(T).css("background"),color:v(T).css("color")},Qt.call(T),v(T).bind(Pt.bind,function(){Qt.call(T)})},this))},changeBackground:function(Qe,gt){void 0===gt&&(gt=Qe,Qe=v(this)),gt=gt>12?12:gt,v(Qe).css({"background-color":Pt.backgrounds[gt][0],color:Pt.backgrounds[gt][1]})},resetStyle:function(Qe){v(Qe).css(vt[v(Qe)])}},Ct=function(Qe){var gt=Qe+"",Ke=gt.charCodeAt(0);return 55296<=Ke&&Ke<=56319?1===gt.length?Ke:1024*(Ke-55296)+(gt.charCodeAt(1)-56320)+65536:Ke},Qt=function(){var Qe=0,gt=0,Ke=0,rt=0,T=0,j=v(this).val();Qe+=2*Math.floor(j.length/8);for(var M=0;M<j.length;M++)-1!=v.inArray(Ct(j.charAt(M)),ke)&&gt<2?(Qe++,gt++):-1!=v.inArray(Ct(j.charAt(M)),Le)&&Ke<2?(Qe++,Ke++):-1!=v.inArray(Ct(j.charAt(M)),Fe)&&rt<2?(Qe++,rt++):-1!=v.inArray(Ct(j.charAt(M)),at)&&T<2&&(Qe++,T++);return ut.call(v(this),Qe),Qe},ut=function(Qe){var gt=Math.ceil(100*Qe/12);gt=gt>100?100:gt,Pt.onPasswordStrengthChanged.call(v(this),Qe,gt),gt>=Pt.passwordValidFrom&&Pt.onValidatePassword.call(v(this),gt),Pt.changeBackground&&At.changeBackground.call(v(this),Qe)};v.fn.pStrength=function(Qe){return At[Qe]?At[Qe].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof Qe&&Qe?void v.error("Method "+Qe+" does not exists on jQuery.pStrength"):At.init.apply(this,arguments)}}(jQuery);